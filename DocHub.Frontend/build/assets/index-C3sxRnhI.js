function Yy(_,d){for(var e=0;e<d.length;e++){const h=d[e];if(typeof h!="string"&&!Array.isArray(h)){for(const m in h)if(m!=="default"&&!(m in _)){const c=Object.getOwnPropertyDescriptor(h,m);c&&Object.defineProperty(_,m,c.get?c:{enumerable:!0,get:()=>h[m]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const c of m)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&h(s)}).observe(document,{childList:!0,subtree:!0});function e(m){const c={};return m.integrity&&(c.integrity=m.integrity),m.referrerPolicy&&(c.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?c.credentials="include":m.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(m){if(m.ep)return;m.ep=!0;const c=e(m);fetch(m.href,c)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qm(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var id={exports:{}},ca={},od={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function Zy(){if(zp)return Kt;zp=1;var _=Symbol.for("react.element"),d=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),s=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),r=Symbol.for("react.suspense"),t=Symbol.for("react.memo"),n=Symbol.for("react.lazy"),l=Symbol.iterator;function o(P){return P===null||typeof P!="object"?null:(P=l&&P[l]||P["@@iterator"],typeof P=="function"?P:null)}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function f(P,L,X){this.props=P,this.context=L,this.refs=b,this.updater=X||a}f.prototype.isReactComponent={},f.prototype.setState=function(P,L){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,L,"setState")},f.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function v(){}v.prototype=f.prototype;function x(P,L,X){this.props=P,this.context=L,this.refs=b,this.updater=X||a}var j=x.prototype=new v;j.constructor=x,g(j,f.prototype),j.isPureReactComponent=!0;var C=Array.isArray,M=Object.prototype.hasOwnProperty,$={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function B(P,L,X){var K,te={},z=null,Q=null;if(L!=null)for(K in L.ref!==void 0&&(Q=L.ref),L.key!==void 0&&(z=""+L.key),L)M.call(L,K)&&!V.hasOwnProperty(K)&&(te[K]=L[K]);var O=arguments.length-2;if(O===1)te.children=X;else if(1<O){for(var I=Array(O),H=0;H<O;H++)I[H]=arguments[H+2];te.children=I}if(P&&P.defaultProps)for(K in O=P.defaultProps,O)te[K]===void 0&&(te[K]=O[K]);return{$$typeof:_,type:P,key:z,ref:Q,props:te,_owner:$.current}}function U(P,L){return{$$typeof:_,type:P.type,key:L,ref:P.ref,props:P.props,_owner:P._owner}}function q(P){return typeof P=="object"&&P!==null&&P.$$typeof===_}function Y(P){var L={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(X){return L[X]})}var W=/\/+/g;function R(P,L){return typeof P=="object"&&P!==null&&P.key!=null?Y(""+P.key):L.toString(36)}function D(P,L,X,K,te){var z=typeof P;(z==="undefined"||z==="boolean")&&(P=null);var Q=!1;if(P===null)Q=!0;else switch(z){case"string":case"number":Q=!0;break;case"object":switch(P.$$typeof){case _:case d:Q=!0}}if(Q)return Q=P,te=te(Q),P=K===""?"."+R(Q,0):K,C(te)?(X="",P!=null&&(X=P.replace(W,"$&/")+"/"),D(te,L,X,"",function(H){return H})):te!=null&&(q(te)&&(te=U(te,X+(!te.key||Q&&Q.key===te.key?"":(""+te.key).replace(W,"$&/")+"/")+P)),L.push(te)),1;if(Q=0,K=K===""?".":K+":",C(P))for(var O=0;O<P.length;O++){z=P[O];var I=K+R(z,O);Q+=D(z,L,X,I,te)}else if(I=o(P),typeof I=="function")for(P=I.call(P),O=0;!(z=P.next()).done;)z=z.value,I=K+R(z,O++),Q+=D(z,L,X,I,te);else if(z==="object")throw L=String(P),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Q}function E(P,L,X){if(P==null)return P;var K=[],te=0;return D(P,K,"","",function(z){return L.call(X,z,te++)}),K}function w(P){if(P._status===-1){var L=P._result;L=L(),L.then(function(X){(P._status===0||P._status===-1)&&(P._status=1,P._result=X)},function(X){(P._status===0||P._status===-1)&&(P._status=2,P._result=X)}),P._status===-1&&(P._status=0,P._result=L)}if(P._status===1)return P._result.default;throw P._result}var k={current:null},S={transition:null},N={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:S,ReactCurrentOwner:$};function A(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:E,forEach:function(P,L,X){E(P,function(){L.apply(this,arguments)},X)},count:function(P){var L=0;return E(P,function(){L++}),L},toArray:function(P){return E(P,function(L){return L})||[]},only:function(P){if(!q(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Kt.Component=f,Kt.Fragment=e,Kt.Profiler=m,Kt.PureComponent=x,Kt.StrictMode=h,Kt.Suspense=r,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Kt.act=A,Kt.cloneElement=function(P,L,X){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var K=g({},P.props),te=P.key,z=P.ref,Q=P._owner;if(L!=null){if(L.ref!==void 0&&(z=L.ref,Q=$.current),L.key!==void 0&&(te=""+L.key),P.type&&P.type.defaultProps)var O=P.type.defaultProps;for(I in L)M.call(L,I)&&!V.hasOwnProperty(I)&&(K[I]=L[I]===void 0&&O!==void 0?O[I]:L[I])}var I=arguments.length-2;if(I===1)K.children=X;else if(1<I){O=Array(I);for(var H=0;H<I;H++)O[H]=arguments[H+2];K.children=O}return{$$typeof:_,type:P.type,key:te,ref:z,props:K,_owner:Q}},Kt.createContext=function(P){return P={$$typeof:s,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:c,_context:P},P.Consumer=P},Kt.createElement=B,Kt.createFactory=function(P){var L=B.bind(null,P);return L.type=P,L},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(P){return{$$typeof:i,render:P}},Kt.isValidElement=q,Kt.lazy=function(P){return{$$typeof:n,_payload:{_status:-1,_result:P},_init:w}},Kt.memo=function(P,L){return{$$typeof:t,type:P,compare:L===void 0?null:L}},Kt.startTransition=function(P){var L=S.transition;S.transition={};try{P()}finally{S.transition=L}},Kt.unstable_act=A,Kt.useCallback=function(P,L){return k.current.useCallback(P,L)},Kt.useContext=function(P){return k.current.useContext(P)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(P){return k.current.useDeferredValue(P)},Kt.useEffect=function(P,L){return k.current.useEffect(P,L)},Kt.useId=function(){return k.current.useId()},Kt.useImperativeHandle=function(P,L,X){return k.current.useImperativeHandle(P,L,X)},Kt.useInsertionEffect=function(P,L){return k.current.useInsertionEffect(P,L)},Kt.useLayoutEffect=function(P,L){return k.current.useLayoutEffect(P,L)},Kt.useMemo=function(P,L){return k.current.useMemo(P,L)},Kt.useReducer=function(P,L,X){return k.current.useReducer(P,L,X)},Kt.useRef=function(P){return k.current.useRef(P)},Kt.useState=function(P){return k.current.useState(P)},Kt.useSyncExternalStore=function(P,L,X){return k.current.useSyncExternalStore(P,L,X)},Kt.useTransition=function(){return k.current.useTransition()},Kt.version="18.3.1",Kt}var $p;function zd(){return $p||($p=1,od.exports=Zy()),od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Jy(){if(Up)return ca;Up=1;var _=zd(),d=Symbol.for("react.element"),e=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,m=_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function s(i,r,t){var n,l={},o=null,a=null;t!==void 0&&(o=""+t),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(a=r.ref);for(n in r)h.call(r,n)&&!c.hasOwnProperty(n)&&(l[n]=r[n]);if(i&&i.defaultProps)for(n in r=i.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:d,type:i,key:o,ref:a,props:l,_owner:m.current}}return ca.Fragment=e,ca.jsx=s,ca.jsxs=s,ca}var Hp;function Qy(){return Hp||(Hp=1,id.exports=Jy()),id.exports}var p=Qy(),Tl={},ad={exports:{}},hn={},ld={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function ev(){return Vp||(Vp=1,(function(_){function d(S,N){var A=S.length;S.push(N);e:for(;0<A;){var P=A-1>>>1,L=S[P];if(0<m(L,N))S[P]=N,S[A]=L,A=P;else break e}}function e(S){return S.length===0?null:S[0]}function h(S){if(S.length===0)return null;var N=S[0],A=S.pop();if(A!==N){S[0]=A;e:for(var P=0,L=S.length,X=L>>>1;P<X;){var K=2*(P+1)-1,te=S[K],z=K+1,Q=S[z];if(0>m(te,A))z<L&&0>m(Q,te)?(S[P]=Q,S[z]=A,P=z):(S[P]=te,S[K]=A,P=K);else if(z<L&&0>m(Q,A))S[P]=Q,S[z]=A,P=z;else break e}}return N}function m(S,N){var A=S.sortIndex-N.sortIndex;return A!==0?A:S.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;_.unstable_now=function(){return c.now()}}else{var s=Date,i=s.now();_.unstable_now=function(){return s.now()-i}}var r=[],t=[],n=1,l=null,o=3,a=!1,g=!1,b=!1,f=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(S){for(var N=e(t);N!==null;){if(N.callback===null)h(t);else if(N.startTime<=S)h(t),N.sortIndex=N.expirationTime,d(r,N);else break;N=e(t)}}function C(S){if(b=!1,j(S),!g)if(e(r)!==null)g=!0,w(M);else{var N=e(t);N!==null&&k(C,N.startTime-S)}}function M(S,N){g=!1,b&&(b=!1,v(B),B=-1),a=!0;var A=o;try{for(j(N),l=e(r);l!==null&&(!(l.expirationTime>N)||S&&!Y());){var P=l.callback;if(typeof P=="function"){l.callback=null,o=l.priorityLevel;var L=P(l.expirationTime<=N);N=_.unstable_now(),typeof L=="function"?l.callback=L:l===e(r)&&h(r),j(N)}else h(r);l=e(r)}if(l!==null)var X=!0;else{var K=e(t);K!==null&&k(C,K.startTime-N),X=!1}return X}finally{l=null,o=A,a=!1}}var $=!1,V=null,B=-1,U=5,q=-1;function Y(){return!(_.unstable_now()-q<U)}function W(){if(V!==null){var S=_.unstable_now();q=S;var N=!0;try{N=V(!0,S)}finally{N?R():($=!1,V=null)}}else $=!1}var R;if(typeof x=="function")R=function(){x(W)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,E=D.port2;D.port1.onmessage=W,R=function(){E.postMessage(null)}}else R=function(){f(W,0)};function w(S){V=S,$||($=!0,R())}function k(S,N){B=f(function(){S(_.unstable_now())},N)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(S){S.callback=null},_.unstable_continueExecution=function(){g||a||(g=!0,w(M))},_.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<S?Math.floor(1e3/S):5},_.unstable_getCurrentPriorityLevel=function(){return o},_.unstable_getFirstCallbackNode=function(){return e(r)},_.unstable_next=function(S){switch(o){case 1:case 2:case 3:var N=3;break;default:N=o}var A=o;o=N;try{return S()}finally{o=A}},_.unstable_pauseExecution=function(){},_.unstable_requestPaint=function(){},_.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=o;o=S;try{return N()}finally{o=A}},_.unstable_scheduleCallback=function(S,N,A){var P=_.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?P+A:P):A=P,S){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,S={id:n++,callback:N,priorityLevel:S,startTime:A,expirationTime:L,sortIndex:-1},A>P?(S.sortIndex=A,d(t,S),e(r)===null&&S===e(t)&&(b?(v(B),B=-1):b=!0,k(C,A-P))):(S.sortIndex=L,d(r,S),g||a||(g=!0,w(M))),S},_.unstable_shouldYield=Y,_.unstable_wrapCallback=function(S){var N=o;return function(){var A=o;o=N;try{return S.apply(this,arguments)}finally{o=A}}}})(cd)),cd}var Wp;function tv(){return Wp||(Wp=1,ld.exports=ev()),ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function rv(){if(qp)return hn;qp=1;var _=zd(),d=tv();function e(u){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+u,T=1;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+u+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,m={};function c(u,y){s(u,y),s(u+"Capture",y)}function s(u,y){for(m[u]=y,u=0;u<y.length;u++)h.add(y[u])}var i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r=Object.prototype.hasOwnProperty,t=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n={},l={};function o(u){return r.call(l,u)?!0:r.call(n,u)?!1:t.test(u)?l[u]=!0:(n[u]=!0,!1)}function a(u,y,T,F){if(T!==null&&T.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return F?!1:T!==null?!T.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function g(u,y,T,F){if(y===null||typeof y>"u"||a(u,y,T,F))return!0;if(F)return!1;if(T!==null)switch(T.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function b(u,y,T,F,G,J,se){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=F,this.attributeNamespace=G,this.mustUseProperty=T,this.propertyName=u,this.type=y,this.sanitizeURL=J,this.removeEmptyString=se}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){f[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var y=u[0];f[y]=new b(y,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){f[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){f[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){f[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){f[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){f[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){f[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){f[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var y=u.replace(v,x);f[y]=new b(y,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var y=u.replace(v,x);f[y]=new b(y,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var y=u.replace(v,x);f[y]=new b(y,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){f[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),f.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){f[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function j(u,y,T,F){var G=f.hasOwnProperty(y)?f[y]:null;(G!==null?G.type!==0:F||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(g(y,T,G,F)&&(T=null),F||G===null?o(y)&&(T===null?u.removeAttribute(y):u.setAttribute(y,""+T)):G.mustUseProperty?u[G.propertyName]=T===null?G.type===3?!1:"":T:(y=G.attributeName,F=G.attributeNamespace,T===null?u.removeAttribute(y):(G=G.type,T=G===3||G===4&&T===!0?"":""+T,F?u.setAttributeNS(F,y,T):u.setAttribute(y,T))))}var C=_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),S=Symbol.iterator;function N(u){return u===null||typeof u!="object"?null:(u=S&&u[S]||u["@@iterator"],typeof u=="function"?u:null)}var A=Object.assign,P;function L(u){if(P===void 0)try{throw Error()}catch(T){var y=T.stack.trim().match(/\n( *(at )?)/);P=y&&y[1]||""}return`
`+P+u}var X=!1;function K(u,y){if(!u||X)return"";X=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Ee){var F=Ee}Reflect.construct(u,[],y)}else{try{y.call()}catch(Ee){F=Ee}u.call(y.prototype)}else{try{throw Error()}catch(Ee){F=Ee}u()}}catch(Ee){if(Ee&&F&&typeof Ee.stack=="string"){for(var G=Ee.stack.split(`
`),J=F.stack.split(`
`),se=G.length-1,fe=J.length-1;1<=se&&0<=fe&&G[se]!==J[fe];)fe--;for(;1<=se&&0<=fe;se--,fe--)if(G[se]!==J[fe]){if(se!==1||fe!==1)do if(se--,fe--,0>fe||G[se]!==J[fe]){var be=`
`+G[se].replace(" at new "," at ");return u.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",u.displayName)),be}while(1<=se&&0<=fe);break}}}finally{X=!1,Error.prepareStackTrace=T}return(u=u?u.displayName||u.name:"")?L(u):""}function te(u){switch(u.tag){case 5:return L(u.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return u=K(u.type,!1),u;case 11:return u=K(u.type.render,!1),u;case 1:return u=K(u.type,!0),u;default:return""}}function z(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case V:return"Fragment";case $:return"Portal";case U:return"Profiler";case B:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Y:return(u.displayName||"Context")+".Consumer";case q:return(u._context.displayName||"Context")+".Provider";case W:var y=u.render;return u=u.displayName,u||(u=y.displayName||y.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case E:return y=u.displayName||null,y!==null?y:z(u.type)||"Memo";case w:y=u._payload,u=u._init;try{return z(u(y))}catch{}}return null}function Q(u){var y=u.type;switch(u.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=y.render,u=u.displayName||u.name||"",y.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(y);case 8:return y===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function O(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function I(u){var y=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function H(u){var y=I(u)?"checked":"value",T=Object.getOwnPropertyDescriptor(u.constructor.prototype,y),F=""+u[y];if(!u.hasOwnProperty(y)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var G=T.get,J=T.set;return Object.defineProperty(u,y,{configurable:!0,get:function(){return G.call(this)},set:function(se){F=""+se,J.call(this,se)}}),Object.defineProperty(u,y,{enumerable:T.enumerable}),{getValue:function(){return F},setValue:function(se){F=""+se},stopTracking:function(){u._valueTracker=null,delete u[y]}}}}function ee(u){u._valueTracker||(u._valueTracker=H(u))}function ne(u){if(!u)return!1;var y=u._valueTracker;if(!y)return!0;var T=y.getValue(),F="";return u&&(F=I(u)?u.checked?"true":"false":u.value),u=F,u!==T?(y.setValue(u),!0):!1}function re(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function oe(u,y){var T=y.checked;return A({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??u._wrapperState.initialChecked})}function he(u,y){var T=y.defaultValue==null?"":y.defaultValue,F=y.checked!=null?y.checked:y.defaultChecked;T=O(y.value!=null?y.value:T),u._wrapperState={initialChecked:F,initialValue:T,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function pe(u,y){y=y.checked,y!=null&&j(u,"checked",y,!1)}function ie(u,y){pe(u,y);var T=O(y.value),F=y.type;if(T!=null)F==="number"?(T===0&&u.value===""||u.value!=T)&&(u.value=""+T):u.value!==""+T&&(u.value=""+T);else if(F==="submit"||F==="reset"){u.removeAttribute("value");return}y.hasOwnProperty("value")?de(u,y.type,T):y.hasOwnProperty("defaultValue")&&de(u,y.type,O(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(u.defaultChecked=!!y.defaultChecked)}function ue(u,y,T){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var F=y.type;if(!(F!=="submit"&&F!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+u._wrapperState.initialValue,T||y===u.value||(u.value=y),u.defaultValue=y}T=u.name,T!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,T!==""&&(u.name=T)}function de(u,y,T){(y!=="number"||re(u.ownerDocument)!==u)&&(T==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+T&&(u.defaultValue=""+T))}var ve=Array.isArray;function le(u,y,T,F){if(u=u.options,y){y={};for(var G=0;G<T.length;G++)y["$"+T[G]]=!0;for(T=0;T<u.length;T++)G=y.hasOwnProperty("$"+u[T].value),u[T].selected!==G&&(u[T].selected=G),G&&F&&(u[T].defaultSelected=!0)}else{for(T=""+O(T),y=null,G=0;G<u.length;G++){if(u[G].value===T){u[G].selected=!0,F&&(u[G].defaultSelected=!0);return}y!==null||u[G].disabled||(y=u[G])}y!==null&&(y.selected=!0)}}function ge(u,y){if(y.dangerouslySetInnerHTML!=null)throw Error(e(91));return A({},y,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Ne(u,y){var T=y.value;if(T==null){if(T=y.children,y=y.defaultValue,T!=null){if(y!=null)throw Error(e(92));if(ve(T)){if(1<T.length)throw Error(e(93));T=T[0]}y=T}y==null&&(y=""),T=y}u._wrapperState={initialValue:O(T)}}function je(u,y){var T=O(y.value),F=O(y.defaultValue);T!=null&&(T=""+T,T!==u.value&&(u.value=T),y.defaultValue==null&&u.defaultValue!==T&&(u.defaultValue=T)),F!=null&&(u.defaultValue=""+F)}function Re(u){var y=u.textContent;y===u._wrapperState.initialValue&&y!==""&&y!==null&&(u.value=y)}function $e(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(u,y){return u==null||u==="http://www.w3.org/1999/xhtml"?$e(y):u==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Le,ot=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,T,F,G){MSApp.execUnsafeLocalFunction(function(){return u(y,T,F,G)})}:u})(function(u,y){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=y;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=Le.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;y.firstChild;)u.appendChild(y.firstChild)}});function Ze(u,y){if(y){var T=u.firstChild;if(T&&T===u.lastChild&&T.nodeType===3){T.nodeValue=y;return}}u.textContent=y}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(u){rt.forEach(function(y){y=y+u.charAt(0).toUpperCase()+u.substring(1),Je[y]=Je[u]})});function qe(u,y,T){return y==null||typeof y=="boolean"||y===""?"":T||typeof y!="number"||y===0||Je.hasOwnProperty(u)&&Je[u]?(""+y).trim():y+"px"}function Fe(u,y){u=u.style;for(var T in y)if(y.hasOwnProperty(T)){var F=T.indexOf("--")===0,G=qe(T,y[T],F);T==="float"&&(T="cssFloat"),F?u.setProperty(T,G):u[T]=G}}var Xe=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(u,y){if(y){if(Xe[u]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(e(137,u));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(e(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(e(61))}if(y.style!=null&&typeof y.style!="object")throw Error(e(62))}}function Ke(u,y){if(u.indexOf("-")===-1)return typeof y.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function Rt(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var ht=null,Lt=null,Mt=null;function yt(u){if(u=Go(u)){if(typeof ht!="function")throw Error(e(280));var y=u.stateNode;y&&(y=Va(y),ht(u.stateNode,u.type,y))}}function Ge(u){Lt?Mt?Mt.push(u):Mt=[u]:Lt=u}function gt(){if(Lt){var u=Lt,y=Mt;if(Mt=Lt=null,yt(u),y)for(u=0;u<y.length;u++)yt(y[u])}}function Ye(u,y){return u(y)}function xt(){}var Vt=!1;function Qe(u,y,T){if(Vt)return u(y,T);Vt=!0;try{return Ye(u,y,T)}finally{Vt=!1,(Lt!==null||Mt!==null)&&(xt(),gt())}}function wt(u,y){var T=u.stateNode;if(T===null)return null;var F=Va(T);if(F===null)return null;T=F[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(u=u.type,F=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!F;break e;default:u=!1}if(u)return null;if(T&&typeof T!="function")throw Error(e(231,y,typeof T));return T}var Wt=!1;if(i)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Wt=!1}function me(u,y,T,F,G,J,se,fe,be){var Ee=Array.prototype.slice.call(arguments,3);try{y.apply(T,Ee)}catch(De){this.onError(De)}}var ae=!1,ye=null,we=!1,Me=null,Ae={onError:function(u){ae=!0,ye=u}};function lt(u,y,T,F,G,J,se,fe,be){ae=!1,ye=null,me.apply(Ae,arguments)}function bt(u,y,T,F,G,J,se,fe,be){if(lt.apply(this,arguments),ae){if(ae){var Ee=ye;ae=!1,ye=null}else throw Error(e(198));we||(we=!0,Me=Ee)}}function it(u){var y=u,T=u;if(u.alternate)for(;y.return;)y=y.return;else{u=y;do y=u,(y.flags&4098)!==0&&(T=y.return),u=y.return;while(u)}return y.tag===3?T:null}function jt(u){if(u.tag===13){var y=u.memoizedState;if(y===null&&(u=u.alternate,u!==null&&(y=u.memoizedState)),y!==null)return y.dehydrated}return null}function Ct(u){if(it(u)!==u)throw Error(e(188))}function $t(u){var y=u.alternate;if(!y){if(y=it(u),y===null)throw Error(e(188));return y!==u?null:u}for(var T=u,F=y;;){var G=T.return;if(G===null)break;var J=G.alternate;if(J===null){if(F=G.return,F!==null){T=F;continue}break}if(G.child===J.child){for(J=G.child;J;){if(J===T)return Ct(G),u;if(J===F)return Ct(G),y;J=J.sibling}throw Error(e(188))}if(T.return!==F.return)T=G,F=J;else{for(var se=!1,fe=G.child;fe;){if(fe===T){se=!0,T=G,F=J;break}if(fe===F){se=!0,F=G,T=J;break}fe=fe.sibling}if(!se){for(fe=J.child;fe;){if(fe===T){se=!0,T=J,F=G;break}if(fe===F){se=!0,F=J,T=G;break}fe=fe.sibling}if(!se)throw Error(e(189))}}if(T.alternate!==F)throw Error(e(190))}if(T.tag!==3)throw Error(e(188));return T.stateNode.current===T?u:y}function dr(u){return u=$t(u),u!==null?ar(u):null}function ar(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var y=ar(u);if(y!==null)return y;u=u.sibling}return null}var _r=d.unstable_scheduleCallback,Sr=d.unstable_cancelCallback,qr=d.unstable_shouldYield,ce=d.unstable_requestPaint,_e=d.unstable_now,Te=d.unstable_getCurrentPriorityLevel,Ie=d.unstable_ImmediatePriority,dt=d.unstable_UserBlockingPriority,ze=d.unstable_NormalPriority,We=d.unstable_LowPriority,Xt=d.unstable_IdlePriority,Dt=null,Tt=null;function vt(u){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dt,u,void 0,(u.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:fr,nr=Math.log,ir=Math.LN2;function fr(u){return u>>>=0,u===0?32:31-(nr(u)/ir|0)|0}var yr=64,jr=4194304;function Fr(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function An(u,y){var T=u.pendingLanes;if(T===0)return 0;var F=0,G=u.suspendedLanes,J=u.pingedLanes,se=T&268435455;if(se!==0){var fe=se&~G;fe!==0?F=Fr(fe):(J&=se,J!==0&&(F=Fr(J)))}else se=T&~G,se!==0?F=Fr(se):J!==0&&(F=Fr(J));if(F===0)return 0;if(y!==0&&y!==F&&(y&G)===0&&(G=F&-F,J=y&-y,G>=J||G===16&&(J&4194240)!==0))return y;if((F&4)!==0&&(F|=T&16),y=u.entangledLanes,y!==0)for(u=u.entanglements,y&=F;0<y;)T=31-Ut(y),G=1<<T,F|=u[T],y&=~G;return F}function Us(u,y){switch(u){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(u,y){for(var T=u.suspendedLanes,F=u.pingedLanes,G=u.expirationTimes,J=u.pendingLanes;0<J;){var se=31-Ut(J),fe=1<<se,be=G[se];be===-1?((fe&T)===0||(fe&F)!==0)&&(G[se]=Us(fe,y)):be<=y&&(u.expiredLanes|=fe),J&=~fe}}function us(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function tr(){var u=yr;return yr<<=1,(yr&4194240)===0&&(yr=64),u}function Gt(u){for(var y=[],T=0;31>T;T++)y.push(u);return y}function an(u,y,T){u.pendingLanes|=y,y!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,y=31-Ut(y),u[y]=T}function Es(u,y){var T=u.pendingLanes&~y;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=y,u.mutableReadLanes&=y,u.entangledLanes&=y,y=u.entanglements;var F=u.eventTimes;for(u=u.expirationTimes;0<T;){var G=31-Ut(T),J=1<<G;y[G]=0,F[G]=-1,u[G]=-1,T&=~J}}function Vs(u,y){var T=u.entangledLanes|=y;for(u=u.entanglements;T;){var F=31-Ut(T),G=1<<F;G&y|u[F]&y&&(u[F]|=y),T&=~G}}var Bt=0;function Rn(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Wn,js,gi,Cs,qn,Vi=!1,Ts=[],Mn=null,bn=null,yn=null,Ws=new Map,ds=new Map,vn=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sf(u,y){switch(u){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Ws.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(y.pointerId)}}function Po(u,y,T,F,G,J){return u===null||u.nativeEvent!==J?(u={blockedOn:y,domEventName:T,eventSystemFlags:F,nativeEvent:J,targetContainers:[G]},y!==null&&(y=Go(y),y!==null&&js(y)),u):(u.eventSystemFlags|=F,y=u.targetContainers,G!==null&&y.indexOf(G)===-1&&y.push(G),u)}function vb(u,y,T,F,G){switch(y){case"focusin":return Mn=Po(Mn,u,y,T,F,G),!0;case"dragenter":return bn=Po(bn,u,y,T,F,G),!0;case"mouseover":return yn=Po(yn,u,y,T,F,G),!0;case"pointerover":var J=G.pointerId;return Ws.set(J,Po(Ws.get(J)||null,u,y,T,F,G)),!0;case"gotpointercapture":return J=G.pointerId,ds.set(J,Po(ds.get(J)||null,u,y,T,F,G)),!0}return!1}function kf(u){var y=bi(u.target);if(y!==null){var T=it(y);if(T!==null){if(y=T.tag,y===13){if(y=jt(T),y!==null){u.blockedOn=y,qn(u.priority,function(){gi(T)});return}}else if(y===3&&T.stateNode.current.memoizedState.isDehydrated){u.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Aa(u){if(u.blockedOn!==null)return!1;for(var y=u.targetContainers;0<y.length;){var T=Mc(u.domEventName,u.eventSystemFlags,y[0],u.nativeEvent);if(T===null){T=u.nativeEvent;var F=new T.constructor(T.type,T);_t=F,T.target.dispatchEvent(F),_t=null}else return y=Go(T),y!==null&&js(y),u.blockedOn=T,!1;y.shift()}return!0}function Nf(u,y,T){Aa(u)&&T.delete(y)}function xb(){Vi=!1,Mn!==null&&Aa(Mn)&&(Mn=null),bn!==null&&Aa(bn)&&(bn=null),yn!==null&&Aa(yn)&&(yn=null),Ws.forEach(Nf),ds.forEach(Nf)}function Do(u,y){u.blockedOn===y&&(u.blockedOn=null,Vi||(Vi=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,xb)))}function Oo(u){function y(G){return Do(G,u)}if(0<Ts.length){Do(Ts[0],u);for(var T=1;T<Ts.length;T++){var F=Ts[T];F.blockedOn===u&&(F.blockedOn=null)}}for(Mn!==null&&Do(Mn,u),bn!==null&&Do(bn,u),yn!==null&&Do(yn,u),Ws.forEach(y),ds.forEach(y),T=0;T<vn.length;T++)F=vn[T],F.blockedOn===u&&(F.blockedOn=null);for(;0<vn.length&&(T=vn[0],T.blockedOn===null);)kf(T),T.blockedOn===null&&vn.shift()}var Wi=C.ReactCurrentBatchConfig,Ra=!0;function wb(u,y,T,F){var G=Bt,J=Wi.transition;Wi.transition=null;try{Bt=1,Rc(u,y,T,F)}finally{Bt=G,Wi.transition=J}}function _b(u,y,T,F){var G=Bt,J=Wi.transition;Wi.transition=null;try{Bt=4,Rc(u,y,T,F)}finally{Bt=G,Wi.transition=J}}function Rc(u,y,T,F){if(Ra){var G=Mc(u,y,T,F);if(G===null)Kc(u,y,F,Ma,T),Sf(u,F);else if(vb(G,u,y,T,F))F.stopPropagation();else if(Sf(u,F),y&4&&-1<yb.indexOf(u)){for(;G!==null;){var J=Go(G);if(J!==null&&Wn(J),J=Mc(u,y,T,F),J===null&&Kc(u,y,F,Ma,T),J===G)break;G=J}G!==null&&F.stopPropagation()}else Kc(u,y,F,null,T)}}var Ma=null;function Mc(u,y,T,F){if(Ma=null,u=Rt(F),u=bi(u),u!==null)if(y=it(u),y===null)u=null;else if(T=y.tag,T===13){if(u=jt(y),u!==null)return u;u=null}else if(T===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;u=null}else y!==u&&(u=null);return Ma=u,null}function Ef(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Te()){case Ie:return 1;case dt:return 4;case ze:case We:return 16;case Xt:return 536870912;default:return 16}default:return 16}}var qs=null,Ic=null,Ia=null;function jf(){if(Ia)return Ia;var u,y=Ic,T=y.length,F,G="value"in qs?qs.value:qs.textContent,J=G.length;for(u=0;u<T&&y[u]===G[u];u++);var se=T-u;for(F=1;F<=se&&y[T-F]===G[J-F];F++);return Ia=G.slice(u,1<F?1-F:void 0)}function Pa(u){var y=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&y===13&&(u=13)):u=y,u===10&&(u=13),32<=u||u===13?u:0}function Da(){return!0}function Cf(){return!1}function xn(u){function y(T,F,G,J,se){this._reactName=T,this._targetInst=G,this.type=F,this.nativeEvent=J,this.target=se,this.currentTarget=null;for(var fe in u)u.hasOwnProperty(fe)&&(T=u[fe],this[fe]=T?T(J):J[fe]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Da:Cf,this.isPropagationStopped=Cf,this}return A(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),y}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=xn(qi),Lo=A({},qi,{view:0,detail:0}),Sb=xn(Lo),Dc,Oc,Fo,Oa=A({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Fo&&(Fo&&u.type==="mousemove"?(Dc=u.screenX-Fo.screenX,Oc=u.screenY-Fo.screenY):Oc=Dc=0,Fo=u),Dc)},movementY:function(u){return"movementY"in u?u.movementY:Oc}}),Tf=xn(Oa),kb=A({},Oa,{dataTransfer:0}),Nb=xn(kb),Eb=A({},Lo,{relatedTarget:0}),Lc=xn(Eb),jb=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=xn(jb),Tb=A({},qi,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ab=xn(Tb),Rb=A({},qi,{data:0}),Af=xn(Rb),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Db(u){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(u):(u=Pb[u])?!!y[u]:!1}function Fc(){return Db}var Ob=A({},Lo,{key:function(u){if(u.key){var y=Mb[u.key]||u.key;if(y!=="Unidentified")return y}return u.type==="keypress"?(u=Pa(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ib[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(u){return u.type==="keypress"?Pa(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Pa(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Lb=xn(Ob),Fb=A({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=xn(Fb),Bb=A({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),zb=xn(Bb),$b=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=xn($b),Hb=A({},Oa,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=xn(Hb),Wb=[9,13,27,32],Bc=i&&"CompositionEvent"in window,Bo=null;i&&"documentMode"in document&&(Bo=document.documentMode);var qb=i&&"TextEvent"in window&&!Bo,Mf=i&&(!Bc||Bo&&8<Bo&&11>=Bo),If=" ",Pf=!1;function Df(u,y){switch(u){case"keyup":return Wb.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Xi=!1;function Xb(u,y){switch(u){case"compositionend":return Of(y);case"keypress":return y.which!==32?null:(Pf=!0,If);case"textInput":return u=y.data,u===If&&Pf?null:u;default:return null}}function Gb(u,y){if(Xi)return u==="compositionend"||!Bc&&Df(u,y)?(u=jf(),Ia=Ic=qs=null,Xi=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Mf&&y.locale!=="ko"?null:y.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(u){var y=u&&u.nodeName&&u.nodeName.toLowerCase();return y==="input"?!!Kb[u.type]:y==="textarea"}function Ff(u,y,T,F){Ge(F),y=$a(y,"onChange"),0<y.length&&(T=new Pc("onChange","change",null,T,F),u.push({event:T,listeners:y}))}var zo=null,$o=null;function Yb(u){rh(u,0)}function La(u){var y=Ji(u);if(ne(y))return u}function Zb(u,y){if(u==="change")return y}var Bf=!1;if(i){var zc;if(i){var $c="oninput"in document;if(!$c){var zf=document.createElement("div");zf.setAttribute("oninput","return;"),$c=typeof zf.oninput=="function"}zc=$c}else zc=!1;Bf=zc&&(!document.documentMode||9<document.documentMode)}function $f(){zo&&(zo.detachEvent("onpropertychange",Uf),$o=zo=null)}function Uf(u){if(u.propertyName==="value"&&La($o)){var y=[];Ff(y,$o,u,Rt(u)),Qe(Yb,y)}}function Jb(u,y,T){u==="focusin"?($f(),zo=y,$o=T,zo.attachEvent("onpropertychange",Uf)):u==="focusout"&&$f()}function Qb(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return La($o)}function ey(u,y){if(u==="click")return La(y)}function ty(u,y){if(u==="input"||u==="change")return La(y)}function ry(u,y){return u===y&&(u!==0||1/u===1/y)||u!==u&&y!==y}var Xn=typeof Object.is=="function"?Object.is:ry;function Uo(u,y){if(Xn(u,y))return!0;if(typeof u!="object"||u===null||typeof y!="object"||y===null)return!1;var T=Object.keys(u),F=Object.keys(y);if(T.length!==F.length)return!1;for(F=0;F<T.length;F++){var G=T[F];if(!r.call(y,G)||!Xn(u[G],y[G]))return!1}return!0}function Hf(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Vf(u,y){var T=Hf(u);u=0;for(var F;T;){if(T.nodeType===3){if(F=u+T.textContent.length,u<=y&&F>=y)return{node:T,offset:y-u};u=F}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Hf(T)}}function Wf(u,y){return u&&y?u===y?!0:u&&u.nodeType===3?!1:y&&y.nodeType===3?Wf(u,y.parentNode):"contains"in u?u.contains(y):u.compareDocumentPosition?!!(u.compareDocumentPosition(y)&16):!1:!1}function qf(){for(var u=window,y=re();y instanceof u.HTMLIFrameElement;){try{var T=typeof y.contentWindow.location.href=="string"}catch{T=!1}if(T)u=y.contentWindow;else break;y=re(u.document)}return y}function Uc(u){var y=u&&u.nodeName&&u.nodeName.toLowerCase();return y&&(y==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||y==="textarea"||u.contentEditable==="true")}function ny(u){var y=qf(),T=u.focusedElem,F=u.selectionRange;if(y!==T&&T&&T.ownerDocument&&Wf(T.ownerDocument.documentElement,T)){if(F!==null&&Uc(T)){if(y=F.start,u=F.end,u===void 0&&(u=y),"selectionStart"in T)T.selectionStart=y,T.selectionEnd=Math.min(u,T.value.length);else if(u=(y=T.ownerDocument||document)&&y.defaultView||window,u.getSelection){u=u.getSelection();var G=T.textContent.length,J=Math.min(F.start,G);F=F.end===void 0?J:Math.min(F.end,G),!u.extend&&J>F&&(G=F,F=J,J=G),G=Vf(T,J);var se=Vf(T,F);G&&se&&(u.rangeCount!==1||u.anchorNode!==G.node||u.anchorOffset!==G.offset||u.focusNode!==se.node||u.focusOffset!==se.offset)&&(y=y.createRange(),y.setStart(G.node,G.offset),u.removeAllRanges(),J>F?(u.addRange(y),u.extend(se.node,se.offset)):(y.setEnd(se.node,se.offset),u.addRange(y)))}}for(y=[],u=T;u=u.parentNode;)u.nodeType===1&&y.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<y.length;T++)u=y[T],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var sy=i&&"documentMode"in document&&11>=document.documentMode,Gi=null,Hc=null,Ho=null,Vc=!1;function Xf(u,y,T){var F=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;Vc||Gi==null||Gi!==re(F)||(F=Gi,"selectionStart"in F&&Uc(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),Ho&&Uo(Ho,F)||(Ho=F,F=$a(Hc,"onSelect"),0<F.length&&(y=new Pc("onSelect","select",null,y,T),u.push({event:y,listeners:F}),y.target=Gi)))}function Fa(u,y){var T={};return T[u.toLowerCase()]=y.toLowerCase(),T["Webkit"+u]="webkit"+y,T["Moz"+u]="moz"+y,T}var Ki={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},Wc={},Gf={};i&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Ba(u){if(Wc[u])return Wc[u];if(!Ki[u])return u;var y=Ki[u],T;for(T in y)if(y.hasOwnProperty(T)&&T in Gf)return Wc[u]=y[T];return u}var Kf=Ba("animationend"),Yf=Ba("animationiteration"),Zf=Ba("animationstart"),Jf=Ba("transitionend"),Qf=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(u,y){Qf.set(u,y),c(y,[u])}for(var qc=0;qc<eh.length;qc++){var Xc=eh[qc],iy=Xc.toLowerCase(),oy=Xc[0].toUpperCase()+Xc.slice(1);Xs(iy,"on"+oy)}Xs(Kf,"onAnimationEnd"),Xs(Yf,"onAnimationIteration"),Xs(Zf,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(Jf,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function th(u,y,T){var F=u.type||"unknown-event";u.currentTarget=T,bt(F,y,void 0,u),u.currentTarget=null}function rh(u,y){y=(y&4)!==0;for(var T=0;T<u.length;T++){var F=u[T],G=F.event;F=F.listeners;e:{var J=void 0;if(y)for(var se=F.length-1;0<=se;se--){var fe=F[se],be=fe.instance,Ee=fe.currentTarget;if(fe=fe.listener,be!==J&&G.isPropagationStopped())break e;th(G,fe,Ee),J=be}else for(se=0;se<F.length;se++){if(fe=F[se],be=fe.instance,Ee=fe.currentTarget,fe=fe.listener,be!==J&&G.isPropagationStopped())break e;th(G,fe,Ee),J=be}}}if(we)throw u=Me,we=!1,Me=null,u}function hr(u,y){var T=y[tu];T===void 0&&(T=y[tu]=new Set);var F=u+"__bubble";T.has(F)||(nh(y,u,2,!1),T.add(F))}function Gc(u,y,T){var F=0;y&&(F|=4),nh(T,u,F,y)}var za="_reactListening"+Math.random().toString(36).slice(2);function Wo(u){if(!u[za]){u[za]=!0,h.forEach(function(T){T!=="selectionchange"&&(ay.has(T)||Gc(T,!1,u),Gc(T,!0,u))});var y=u.nodeType===9?u:u.ownerDocument;y===null||y[za]||(y[za]=!0,Gc("selectionchange",!1,y))}}function nh(u,y,T,F){switch(Ef(y)){case 1:var G=wb;break;case 4:G=_b;break;default:G=Rc}T=G.bind(null,y,T,u),G=void 0,!Wt||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(G=!0),F?G!==void 0?u.addEventListener(y,T,{capture:!0,passive:G}):u.addEventListener(y,T,!0):G!==void 0?u.addEventListener(y,T,{passive:G}):u.addEventListener(y,T,!1)}function Kc(u,y,T,F,G){var J=F;if((y&1)===0&&(y&2)===0&&F!==null)e:for(;;){if(F===null)return;var se=F.tag;if(se===3||se===4){var fe=F.stateNode.containerInfo;if(fe===G||fe.nodeType===8&&fe.parentNode===G)break;if(se===4)for(se=F.return;se!==null;){var be=se.tag;if((be===3||be===4)&&(be=se.stateNode.containerInfo,be===G||be.nodeType===8&&be.parentNode===G))return;se=se.return}for(;fe!==null;){if(se=bi(fe),se===null)return;if(be=se.tag,be===5||be===6){F=J=se;continue e}fe=fe.parentNode}}F=F.return}Qe(function(){var Ee=J,De=Rt(T),Oe=[];e:{var Pe=Qf.get(u);if(Pe!==void 0){var st=Pc,ft=u;switch(u){case"keypress":if(Pa(T)===0)break e;case"keydown":case"keyup":st=Lb;break;case"focusin":ft="focus",st=Lc;break;case"focusout":ft="blur",st=Lc;break;case"beforeblur":case"afterblur":st=Lc;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Nb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=zb;break;case Kf:case Yf:case Zf:st=Cb;break;case Jf:st=Ub;break;case"scroll":st=Sb;break;case"wheel":st=Vb;break;case"copy":case"cut":case"paste":st=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Rf}var pt=(y&4)!==0,Er=!pt&&u==="scroll",Se=pt?Pe!==null?Pe+"Capture":null:Pe;pt=[];for(var xe=Ee,ke;xe!==null;){ke=xe;var Ue=ke.stateNode;if(ke.tag===5&&Ue!==null&&(ke=Ue,Se!==null&&(Ue=wt(xe,Se),Ue!=null&&pt.push(qo(xe,Ue,ke)))),Er)break;xe=xe.return}0<pt.length&&(Pe=new st(Pe,ft,null,T,De),Oe.push({event:Pe,listeners:pt}))}}if((y&7)===0){e:{if(Pe=u==="mouseover"||u==="pointerover",st=u==="mouseout"||u==="pointerout",Pe&&T!==_t&&(ft=T.relatedTarget||T.fromElement)&&(bi(ft)||ft[As]))break e;if((st||Pe)&&(Pe=De.window===De?De:(Pe=De.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,st?(ft=T.relatedTarget||T.toElement,st=Ee,ft=ft?bi(ft):null,ft!==null&&(Er=it(ft),ft!==Er||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(st=null,ft=Ee),st!==ft)){if(pt=Tf,Ue="onMouseLeave",Se="onMouseEnter",xe="mouse",(u==="pointerout"||u==="pointerover")&&(pt=Rf,Ue="onPointerLeave",Se="onPointerEnter",xe="pointer"),Er=st==null?Pe:Ji(st),ke=ft==null?Pe:Ji(ft),Pe=new pt(Ue,xe+"leave",st,T,De),Pe.target=Er,Pe.relatedTarget=ke,Ue=null,bi(De)===Ee&&(pt=new pt(Se,xe+"enter",ft,T,De),pt.target=ke,pt.relatedTarget=Er,Ue=pt),Er=Ue,st&&ft)t:{for(pt=st,Se=ft,xe=0,ke=pt;ke;ke=Yi(ke))xe++;for(ke=0,Ue=Se;Ue;Ue=Yi(Ue))ke++;for(;0<xe-ke;)pt=Yi(pt),xe--;for(;0<ke-xe;)Se=Yi(Se),ke--;for(;xe--;){if(pt===Se||Se!==null&&pt===Se.alternate)break t;pt=Yi(pt),Se=Yi(Se)}pt=null}else pt=null;st!==null&&sh(Oe,Pe,st,pt,!1),ft!==null&&Er!==null&&sh(Oe,Er,ft,pt,!0)}}e:{if(Pe=Ee?Ji(Ee):window,st=Pe.nodeName&&Pe.nodeName.toLowerCase(),st==="select"||st==="input"&&Pe.type==="file")var mt=Zb;else if(Lf(Pe))if(Bf)mt=ty;else{mt=Qb;var St=Jb}else(st=Pe.nodeName)&&st.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(mt=ey);if(mt&&(mt=mt(u,Ee))){Ff(Oe,mt,T,De);break e}St&&St(u,Pe,Ee),u==="focusout"&&(St=Pe._wrapperState)&&St.controlled&&Pe.type==="number"&&de(Pe,"number",Pe.value)}switch(St=Ee?Ji(Ee):window,u){case"focusin":(Lf(St)||St.contentEditable==="true")&&(Gi=St,Hc=Ee,Ho=null);break;case"focusout":Ho=Hc=Gi=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Xf(Oe,T,De);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":Xf(Oe,T,De)}var kt;if(Bc)e:{switch(u){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Xi?Df(u,T)&&(Ot="onCompositionEnd"):u==="keydown"&&T.keyCode===229&&(Ot="onCompositionStart");Ot&&(Mf&&T.locale!=="ko"&&(Xi||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Xi&&(kt=jf()):(qs=De,Ic="value"in qs?qs.value:qs.textContent,Xi=!0)),St=$a(Ee,Ot),0<St.length&&(Ot=new Af(Ot,u,null,T,De),Oe.push({event:Ot,listeners:St}),kt?Ot.data=kt:(kt=Of(T),kt!==null&&(Ot.data=kt)))),(kt=qb?Xb(u,T):Gb(u,T))&&(Ee=$a(Ee,"onBeforeInput"),0<Ee.length&&(De=new Af("onBeforeInput","beforeinput",null,T,De),Oe.push({event:De,listeners:Ee}),De.data=kt))}rh(Oe,y)})}function qo(u,y,T){return{instance:u,listener:y,currentTarget:T}}function $a(u,y){for(var T=y+"Capture",F=[];u!==null;){var G=u,J=G.stateNode;G.tag===5&&J!==null&&(G=J,J=wt(u,T),J!=null&&F.unshift(qo(u,J,G)),J=wt(u,y),J!=null&&F.push(qo(u,J,G))),u=u.return}return F}function Yi(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function sh(u,y,T,F,G){for(var J=y._reactName,se=[];T!==null&&T!==F;){var fe=T,be=fe.alternate,Ee=fe.stateNode;if(be!==null&&be===F)break;fe.tag===5&&Ee!==null&&(fe=Ee,G?(be=wt(T,J),be!=null&&se.unshift(qo(T,be,fe))):G||(be=wt(T,J),be!=null&&se.push(qo(T,be,fe)))),T=T.return}se.length!==0&&u.push({event:y,listeners:se})}var ly=/\r\n?/g,cy=/\u0000|\uFFFD/g;function ih(u){return(typeof u=="string"?u:""+u).replace(ly,`
`).replace(cy,"")}function Ua(u,y,T){if(y=ih(y),ih(u)!==y&&T)throw Error(e(425))}function Ha(){}var Yc=null,Zc=null;function Jc(u,y){return u==="textarea"||u==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,uy=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(u){return oh.resolve(null).then(u).catch(fy)}:Qc;function fy(u){setTimeout(function(){throw u})}function eu(u,y){var T=y,F=0;do{var G=T.nextSibling;if(u.removeChild(T),G&&G.nodeType===8)if(T=G.data,T==="/$"){if(F===0){u.removeChild(G),Oo(y);return}F--}else T!=="$"&&T!=="$?"&&T!=="$!"||F++;T=G}while(T);Oo(y)}function Gs(u){for(;u!=null;u=u.nextSibling){var y=u.nodeType;if(y===1||y===3)break;if(y===8){if(y=u.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return u}function ah(u){u=u.previousSibling;for(var y=0;u;){if(u.nodeType===8){var T=u.data;if(T==="$"||T==="$!"||T==="$?"){if(y===0)return u;y--}else T==="/$"&&y++}u=u.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),fs="__reactFiber$"+Zi,Xo="__reactProps$"+Zi,As="__reactContainer$"+Zi,tu="__reactEvents$"+Zi,hy="__reactListeners$"+Zi,py="__reactHandles$"+Zi;function bi(u){var y=u[fs];if(y)return y;for(var T=u.parentNode;T;){if(y=T[As]||T[fs]){if(T=y.alternate,y.child!==null||T!==null&&T.child!==null)for(u=ah(u);u!==null;){if(T=u[fs])return T;u=ah(u)}return y}u=T,T=u.parentNode}return null}function Go(u){return u=u[fs]||u[As],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ji(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(e(33))}function Va(u){return u[Xo]||null}var ru=[],Qi=-1;function Ks(u){return{current:u}}function pr(u){0>Qi||(u.current=ru[Qi],ru[Qi]=null,Qi--)}function cr(u,y){Qi++,ru[Qi]=u.current,u.current=y}var Ys={},Xr=Ks(Ys),ln=Ks(!1),yi=Ys;function eo(u,y){var T=u.type.contextTypes;if(!T)return Ys;var F=u.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===y)return F.__reactInternalMemoizedMaskedChildContext;var G={},J;for(J in T)G[J]=y[J];return F&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=y,u.__reactInternalMemoizedMaskedChildContext=G),G}function cn(u){return u=u.childContextTypes,u!=null}function Wa(){pr(ln),pr(Xr)}function lh(u,y,T){if(Xr.current!==Ys)throw Error(e(168));cr(Xr,y),cr(ln,T)}function ch(u,y,T){var F=u.stateNode;if(y=y.childContextTypes,typeof F.getChildContext!="function")return T;F=F.getChildContext();for(var G in F)if(!(G in y))throw Error(e(108,Q(u)||"Unknown",G));return A({},T,F)}function qa(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ys,yi=Xr.current,cr(Xr,u),cr(ln,ln.current),!0}function uh(u,y,T){var F=u.stateNode;if(!F)throw Error(e(169));T?(u=ch(u,y,yi),F.__reactInternalMemoizedMergedChildContext=u,pr(ln),pr(Xr),cr(Xr,u)):pr(ln),cr(ln,T)}var Rs=null,Xa=!1,nu=!1;function dh(u){Rs===null?Rs=[u]:Rs.push(u)}function my(u){Xa=!0,dh(u)}function Zs(){if(!nu&&Rs!==null){nu=!0;var u=0,y=Bt;try{var T=Rs;for(Bt=1;u<T.length;u++){var F=T[u];do F=F(!0);while(F!==null)}Rs=null,Xa=!1}catch(G){throw Rs!==null&&(Rs=Rs.slice(u+1)),_r(Ie,Zs),G}finally{Bt=y,nu=!1}}return null}var to=[],ro=0,Ga=null,Ka=0,In=[],Pn=0,vi=null,Ms=1,Is="";function xi(u,y){to[ro++]=Ka,to[ro++]=Ga,Ga=u,Ka=y}function fh(u,y,T){In[Pn++]=Ms,In[Pn++]=Is,In[Pn++]=vi,vi=u;var F=Ms;u=Is;var G=32-Ut(F)-1;F&=~(1<<G),T+=1;var J=32-Ut(y)+G;if(30<J){var se=G-G%5;J=(F&(1<<se)-1).toString(32),F>>=se,G-=se,Ms=1<<32-Ut(y)+G|T<<G|F,Is=J+u}else Ms=1<<J|T<<G|F,Is=u}function su(u){u.return!==null&&(xi(u,1),fh(u,1,0))}function iu(u){for(;u===Ga;)Ga=to[--ro],to[ro]=null,Ka=to[--ro],to[ro]=null;for(;u===vi;)vi=In[--Pn],In[Pn]=null,Is=In[--Pn],In[Pn]=null,Ms=In[--Pn],In[Pn]=null}var wn=null,_n=null,gr=!1,Gn=null;function hh(u,y){var T=Fn(5,null,null,0);T.elementType="DELETED",T.stateNode=y,T.return=u,y=u.deletions,y===null?(u.deletions=[T],u.flags|=16):y.push(T)}function ph(u,y){switch(u.tag){case 5:var T=u.type;return y=y.nodeType!==1||T.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(u.stateNode=y,wn=u,_n=Gs(y.firstChild),!0):!1;case 6:return y=u.pendingProps===""||y.nodeType!==3?null:y,y!==null?(u.stateNode=y,wn=u,_n=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(T=vi!==null?{id:Ms,overflow:Is}:null,u.memoizedState={dehydrated:y,treeContext:T,retryLane:1073741824},T=Fn(18,null,null,0),T.stateNode=y,T.return=u,u.child=T,wn=u,_n=null,!0):!1;default:return!1}}function ou(u){return(u.mode&1)!==0&&(u.flags&128)===0}function au(u){if(gr){var y=_n;if(y){var T=y;if(!ph(u,y)){if(ou(u))throw Error(e(418));y=Gs(T.nextSibling);var F=wn;y&&ph(u,y)?hh(F,T):(u.flags=u.flags&-4097|2,gr=!1,wn=u)}}else{if(ou(u))throw Error(e(418));u.flags=u.flags&-4097|2,gr=!1,wn=u}}}function mh(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;wn=u}function Ya(u){if(u!==wn)return!1;if(!gr)return mh(u),gr=!0,!1;var y;if((y=u.tag!==3)&&!(y=u.tag!==5)&&(y=u.type,y=y!=="head"&&y!=="body"&&!Jc(u.type,u.memoizedProps)),y&&(y=_n)){if(ou(u))throw gh(),Error(e(418));for(;y;)hh(u,y),y=Gs(y.nextSibling)}if(mh(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(e(317));e:{for(u=u.nextSibling,y=0;u;){if(u.nodeType===8){var T=u.data;if(T==="/$"){if(y===0){_n=Gs(u.nextSibling);break e}y--}else T!=="$"&&T!=="$!"&&T!=="$?"||y++}u=u.nextSibling}_n=null}}else _n=wn?Gs(u.stateNode.nextSibling):null;return!0}function gh(){for(var u=_n;u;)u=Gs(u.nextSibling)}function no(){_n=wn=null,gr=!1}function lu(u){Gn===null?Gn=[u]:Gn.push(u)}var gy=C.ReactCurrentBatchConfig;function Ko(u,y,T){if(u=T.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(e(309));var F=T.stateNode}if(!F)throw Error(e(147,u));var G=F,J=""+u;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===J?y.ref:(y=function(se){var fe=G.refs;se===null?delete fe[J]:fe[J]=se},y._stringRef=J,y)}if(typeof u!="string")throw Error(e(284));if(!T._owner)throw Error(e(290,u))}return u}function Za(u,y){throw u=Object.prototype.toString.call(y),Error(e(31,u==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":u))}function bh(u){var y=u._init;return y(u._payload)}function yh(u){function y(Se,xe){if(u){var ke=Se.deletions;ke===null?(Se.deletions=[xe],Se.flags|=16):ke.push(xe)}}function T(Se,xe){if(!u)return null;for(;xe!==null;)y(Se,xe),xe=xe.sibling;return null}function F(Se,xe){for(Se=new Map;xe!==null;)xe.key!==null?Se.set(xe.key,xe):Se.set(xe.index,xe),xe=xe.sibling;return Se}function G(Se,xe){return Se=ii(Se,xe),Se.index=0,Se.sibling=null,Se}function J(Se,xe,ke){return Se.index=ke,u?(ke=Se.alternate,ke!==null?(ke=ke.index,ke<xe?(Se.flags|=2,xe):ke):(Se.flags|=2,xe)):(Se.flags|=1048576,xe)}function se(Se){return u&&Se.alternate===null&&(Se.flags|=2),Se}function fe(Se,xe,ke,Ue){return xe===null||xe.tag!==6?(xe=Qu(ke,Se.mode,Ue),xe.return=Se,xe):(xe=G(xe,ke),xe.return=Se,xe)}function be(Se,xe,ke,Ue){var mt=ke.type;return mt===V?De(Se,xe,ke.props.children,Ue,ke.key):xe!==null&&(xe.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&bh(mt)===xe.type)?(Ue=G(xe,ke.props),Ue.ref=Ko(Se,xe,ke),Ue.return=Se,Ue):(Ue=wl(ke.type,ke.key,ke.props,null,Se.mode,Ue),Ue.ref=Ko(Se,xe,ke),Ue.return=Se,Ue)}function Ee(Se,xe,ke,Ue){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==ke.containerInfo||xe.stateNode.implementation!==ke.implementation?(xe=ed(ke,Se.mode,Ue),xe.return=Se,xe):(xe=G(xe,ke.children||[]),xe.return=Se,xe)}function De(Se,xe,ke,Ue,mt){return xe===null||xe.tag!==7?(xe=Ci(ke,Se.mode,Ue,mt),xe.return=Se,xe):(xe=G(xe,ke),xe.return=Se,xe)}function Oe(Se,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=Qu(""+xe,Se.mode,ke),xe.return=Se,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case M:return ke=wl(xe.type,xe.key,xe.props,null,Se.mode,ke),ke.ref=Ko(Se,null,xe),ke.return=Se,ke;case $:return xe=ed(xe,Se.mode,ke),xe.return=Se,xe;case w:var Ue=xe._init;return Oe(Se,Ue(xe._payload),ke)}if(ve(xe)||N(xe))return xe=Ci(xe,Se.mode,ke,null),xe.return=Se,xe;Za(Se,xe)}return null}function Pe(Se,xe,ke,Ue){var mt=xe!==null?xe.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return mt!==null?null:fe(Se,xe,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case M:return ke.key===mt?be(Se,xe,ke,Ue):null;case $:return ke.key===mt?Ee(Se,xe,ke,Ue):null;case w:return mt=ke._init,Pe(Se,xe,mt(ke._payload),Ue)}if(ve(ke)||N(ke))return mt!==null?null:De(Se,xe,ke,Ue,null);Za(Se,ke)}return null}function st(Se,xe,ke,Ue,mt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Se=Se.get(ke)||null,fe(xe,Se,""+Ue,mt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case M:return Se=Se.get(Ue.key===null?ke:Ue.key)||null,be(xe,Se,Ue,mt);case $:return Se=Se.get(Ue.key===null?ke:Ue.key)||null,Ee(xe,Se,Ue,mt);case w:var St=Ue._init;return st(Se,xe,ke,St(Ue._payload),mt)}if(ve(Ue)||N(Ue))return Se=Se.get(ke)||null,De(xe,Se,Ue,mt,null);Za(xe,Ue)}return null}function ft(Se,xe,ke,Ue){for(var mt=null,St=null,kt=xe,Ot=xe=0,Lr=null;kt!==null&&Ot<ke.length;Ot++){kt.index>Ot?(Lr=kt,kt=null):Lr=kt.sibling;var sr=Pe(Se,kt,ke[Ot],Ue);if(sr===null){kt===null&&(kt=Lr);break}u&&kt&&sr.alternate===null&&y(Se,kt),xe=J(sr,xe,Ot),St===null?mt=sr:St.sibling=sr,St=sr,kt=Lr}if(Ot===ke.length)return T(Se,kt),gr&&xi(Se,Ot),mt;if(kt===null){for(;Ot<ke.length;Ot++)kt=Oe(Se,ke[Ot],Ue),kt!==null&&(xe=J(kt,xe,Ot),St===null?mt=kt:St.sibling=kt,St=kt);return gr&&xi(Se,Ot),mt}for(kt=F(Se,kt);Ot<ke.length;Ot++)Lr=st(kt,Se,Ot,ke[Ot],Ue),Lr!==null&&(u&&Lr.alternate!==null&&kt.delete(Lr.key===null?Ot:Lr.key),xe=J(Lr,xe,Ot),St===null?mt=Lr:St.sibling=Lr,St=Lr);return u&&kt.forEach(function(oi){return y(Se,oi)}),gr&&xi(Se,Ot),mt}function pt(Se,xe,ke,Ue){var mt=N(ke);if(typeof mt!="function")throw Error(e(150));if(ke=mt.call(ke),ke==null)throw Error(e(151));for(var St=mt=null,kt=xe,Ot=xe=0,Lr=null,sr=ke.next();kt!==null&&!sr.done;Ot++,sr=ke.next()){kt.index>Ot?(Lr=kt,kt=null):Lr=kt.sibling;var oi=Pe(Se,kt,sr.value,Ue);if(oi===null){kt===null&&(kt=Lr);break}u&&kt&&oi.alternate===null&&y(Se,kt),xe=J(oi,xe,Ot),St===null?mt=oi:St.sibling=oi,St=oi,kt=Lr}if(sr.done)return T(Se,kt),gr&&xi(Se,Ot),mt;if(kt===null){for(;!sr.done;Ot++,sr=ke.next())sr=Oe(Se,sr.value,Ue),sr!==null&&(xe=J(sr,xe,Ot),St===null?mt=sr:St.sibling=sr,St=sr);return gr&&xi(Se,Ot),mt}for(kt=F(Se,kt);!sr.done;Ot++,sr=ke.next())sr=st(kt,Se,Ot,sr.value,Ue),sr!==null&&(u&&sr.alternate!==null&&kt.delete(sr.key===null?Ot:sr.key),xe=J(sr,xe,Ot),St===null?mt=sr:St.sibling=sr,St=sr);return u&&kt.forEach(function(Ky){return y(Se,Ky)}),gr&&xi(Se,Ot),mt}function Er(Se,xe,ke,Ue){if(typeof ke=="object"&&ke!==null&&ke.type===V&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case M:e:{for(var mt=ke.key,St=xe;St!==null;){if(St.key===mt){if(mt=ke.type,mt===V){if(St.tag===7){T(Se,St.sibling),xe=G(St,ke.props.children),xe.return=Se,Se=xe;break e}}else if(St.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&bh(mt)===St.type){T(Se,St.sibling),xe=G(St,ke.props),xe.ref=Ko(Se,St,ke),xe.return=Se,Se=xe;break e}T(Se,St);break}else y(Se,St);St=St.sibling}ke.type===V?(xe=Ci(ke.props.children,Se.mode,Ue,ke.key),xe.return=Se,Se=xe):(Ue=wl(ke.type,ke.key,ke.props,null,Se.mode,Ue),Ue.ref=Ko(Se,xe,ke),Ue.return=Se,Se=Ue)}return se(Se);case $:e:{for(St=ke.key;xe!==null;){if(xe.key===St)if(xe.tag===4&&xe.stateNode.containerInfo===ke.containerInfo&&xe.stateNode.implementation===ke.implementation){T(Se,xe.sibling),xe=G(xe,ke.children||[]),xe.return=Se,Se=xe;break e}else{T(Se,xe);break}else y(Se,xe);xe=xe.sibling}xe=ed(ke,Se.mode,Ue),xe.return=Se,Se=xe}return se(Se);case w:return St=ke._init,Er(Se,xe,St(ke._payload),Ue)}if(ve(ke))return ft(Se,xe,ke,Ue);if(N(ke))return pt(Se,xe,ke,Ue);Za(Se,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,xe!==null&&xe.tag===6?(T(Se,xe.sibling),xe=G(xe,ke),xe.return=Se,Se=xe):(T(Se,xe),xe=Qu(ke,Se.mode,Ue),xe.return=Se,Se=xe),se(Se)):T(Se,xe)}return Er}var so=yh(!0),vh=yh(!1),Ja=Ks(null),Qa=null,io=null,cu=null;function uu(){cu=io=Qa=null}function du(u){var y=Ja.current;pr(Ja),u._currentValue=y}function fu(u,y,T){for(;u!==null;){var F=u.alternate;if((u.childLanes&y)!==y?(u.childLanes|=y,F!==null&&(F.childLanes|=y)):F!==null&&(F.childLanes&y)!==y&&(F.childLanes|=y),u===T)break;u=u.return}}function oo(u,y){Qa=u,cu=io=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&y)!==0&&(un=!0),u.firstContext=null)}function Dn(u){var y=u._currentValue;if(cu!==u)if(u={context:u,memoizedValue:y,next:null},io===null){if(Qa===null)throw Error(e(308));io=u,Qa.dependencies={lanes:0,firstContext:u}}else io=io.next=u;return y}var wi=null;function hu(u){wi===null?wi=[u]:wi.push(u)}function xh(u,y,T,F){var G=y.interleaved;return G===null?(T.next=T,hu(y)):(T.next=G.next,G.next=T),y.interleaved=T,Ps(u,F)}function Ps(u,y){u.lanes|=y;var T=u.alternate;for(T!==null&&(T.lanes|=y),T=u,u=u.return;u!==null;)u.childLanes|=y,T=u.alternate,T!==null&&(T.childLanes|=y),T=u,u=u.return;return T.tag===3?T.stateNode:null}var Js=!1;function pu(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(u,y){u=u.updateQueue,y.updateQueue===u&&(y.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ds(u,y){return{eventTime:u,lane:y,tag:0,payload:null,callback:null,next:null}}function Qs(u,y,T){var F=u.updateQueue;if(F===null)return null;if(F=F.shared,(rr&2)!==0){var G=F.pending;return G===null?y.next=y:(y.next=G.next,G.next=y),F.pending=y,Ps(u,T)}return G=F.interleaved,G===null?(y.next=y,hu(F)):(y.next=G.next,G.next=y),F.interleaved=y,Ps(u,T)}function el(u,y,T){if(y=y.updateQueue,y!==null&&(y=y.shared,(T&4194240)!==0)){var F=y.lanes;F&=u.pendingLanes,T|=F,y.lanes=T,Vs(u,T)}}function _h(u,y){var T=u.updateQueue,F=u.alternate;if(F!==null&&(F=F.updateQueue,T===F)){var G=null,J=null;if(T=T.firstBaseUpdate,T!==null){do{var se={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};J===null?G=J=se:J=J.next=se,T=T.next}while(T!==null);J===null?G=J=y:J=J.next=y}else G=J=y;T={baseState:F.baseState,firstBaseUpdate:G,lastBaseUpdate:J,shared:F.shared,effects:F.effects},u.updateQueue=T;return}u=T.lastBaseUpdate,u===null?T.firstBaseUpdate=y:u.next=y,T.lastBaseUpdate=y}function tl(u,y,T,F){var G=u.updateQueue;Js=!1;var J=G.firstBaseUpdate,se=G.lastBaseUpdate,fe=G.shared.pending;if(fe!==null){G.shared.pending=null;var be=fe,Ee=be.next;be.next=null,se===null?J=Ee:se.next=Ee,se=be;var De=u.alternate;De!==null&&(De=De.updateQueue,fe=De.lastBaseUpdate,fe!==se&&(fe===null?De.firstBaseUpdate=Ee:fe.next=Ee,De.lastBaseUpdate=be))}if(J!==null){var Oe=G.baseState;se=0,De=Ee=be=null,fe=J;do{var Pe=fe.lane,st=fe.eventTime;if((F&Pe)===Pe){De!==null&&(De=De.next={eventTime:st,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var ft=u,pt=fe;switch(Pe=y,st=T,pt.tag){case 1:if(ft=pt.payload,typeof ft=="function"){Oe=ft.call(st,Oe,Pe);break e}Oe=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=pt.payload,Pe=typeof ft=="function"?ft.call(st,Oe,Pe):ft,Pe==null)break e;Oe=A({},Oe,Pe);break e;case 2:Js=!0}}fe.callback!==null&&fe.lane!==0&&(u.flags|=64,Pe=G.effects,Pe===null?G.effects=[fe]:Pe.push(fe))}else st={eventTime:st,lane:Pe,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},De===null?(Ee=De=st,be=Oe):De=De.next=st,se|=Pe;if(fe=fe.next,fe===null){if(fe=G.shared.pending,fe===null)break;Pe=fe,fe=Pe.next,Pe.next=null,G.lastBaseUpdate=Pe,G.shared.pending=null}}while(!0);if(De===null&&(be=Oe),G.baseState=be,G.firstBaseUpdate=Ee,G.lastBaseUpdate=De,y=G.shared.interleaved,y!==null){G=y;do se|=G.lane,G=G.next;while(G!==y)}else J===null&&(G.shared.lanes=0);ki|=se,u.lanes=se,u.memoizedState=Oe}}function Sh(u,y,T){if(u=y.effects,y.effects=null,u!==null)for(y=0;y<u.length;y++){var F=u[y],G=F.callback;if(G!==null){if(F.callback=null,F=T,typeof G!="function")throw Error(e(191,G));G.call(F)}}}var Yo={},hs=Ks(Yo),Zo=Ks(Yo),Jo=Ks(Yo);function _i(u){if(u===Yo)throw Error(e(174));return u}function mu(u,y){switch(cr(Jo,y),cr(Zo,u),cr(hs,Yo),u=y.nodeType,u){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:He(null,"");break;default:u=u===8?y.parentNode:y,y=u.namespaceURI||null,u=u.tagName,y=He(y,u)}pr(hs),cr(hs,y)}function ao(){pr(hs),pr(Zo),pr(Jo)}function kh(u){_i(Jo.current);var y=_i(hs.current),T=He(y,u.type);y!==T&&(cr(Zo,u),cr(hs,T))}function gu(u){Zo.current===u&&(pr(hs),pr(Zo))}var vr=Ks(0);function rl(u){for(var y=u;y!==null;){if(y.tag===13){var T=y.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var bu=[];function yu(){for(var u=0;u<bu.length;u++)bu[u]._workInProgressVersionPrimary=null;bu.length=0}var nl=C.ReactCurrentDispatcher,vu=C.ReactCurrentBatchConfig,Si=0,xr=null,Rr=null,Dr=null,sl=!1,Qo=!1,ea=0,by=0;function Gr(){throw Error(e(321))}function xu(u,y){if(y===null)return!1;for(var T=0;T<y.length&&T<u.length;T++)if(!Xn(u[T],y[T]))return!1;return!0}function wu(u,y,T,F,G,J){if(Si=J,xr=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,nl.current=u===null||u.memoizedState===null?wy:_y,u=T(F,G),Qo){J=0;do{if(Qo=!1,ea=0,25<=J)throw Error(e(301));J+=1,Dr=Rr=null,y.updateQueue=null,nl.current=Sy,u=T(F,G)}while(Qo)}if(nl.current=al,y=Rr!==null&&Rr.next!==null,Si=0,Dr=Rr=xr=null,sl=!1,y)throw Error(e(300));return u}function _u(){var u=ea!==0;return ea=0,u}function ps(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?xr.memoizedState=Dr=u:Dr=Dr.next=u,Dr}function On(){if(Rr===null){var u=xr.alternate;u=u!==null?u.memoizedState:null}else u=Rr.next;var y=Dr===null?xr.memoizedState:Dr.next;if(y!==null)Dr=y,Rr=u;else{if(u===null)throw Error(e(310));Rr=u,u={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Dr===null?xr.memoizedState=Dr=u:Dr=Dr.next=u}return Dr}function ta(u,y){return typeof y=="function"?y(u):y}function Su(u){var y=On(),T=y.queue;if(T===null)throw Error(e(311));T.lastRenderedReducer=u;var F=Rr,G=F.baseQueue,J=T.pending;if(J!==null){if(G!==null){var se=G.next;G.next=J.next,J.next=se}F.baseQueue=G=J,T.pending=null}if(G!==null){J=G.next,F=F.baseState;var fe=se=null,be=null,Ee=J;do{var De=Ee.lane;if((Si&De)===De)be!==null&&(be=be.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),F=Ee.hasEagerState?Ee.eagerState:u(F,Ee.action);else{var Oe={lane:De,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};be===null?(fe=be=Oe,se=F):be=be.next=Oe,xr.lanes|=De,ki|=De}Ee=Ee.next}while(Ee!==null&&Ee!==J);be===null?se=F:be.next=fe,Xn(F,y.memoizedState)||(un=!0),y.memoizedState=F,y.baseState=se,y.baseQueue=be,T.lastRenderedState=F}if(u=T.interleaved,u!==null){G=u;do J=G.lane,xr.lanes|=J,ki|=J,G=G.next;while(G!==u)}else G===null&&(T.lanes=0);return[y.memoizedState,T.dispatch]}function ku(u){var y=On(),T=y.queue;if(T===null)throw Error(e(311));T.lastRenderedReducer=u;var F=T.dispatch,G=T.pending,J=y.memoizedState;if(G!==null){T.pending=null;var se=G=G.next;do J=u(J,se.action),se=se.next;while(se!==G);Xn(J,y.memoizedState)||(un=!0),y.memoizedState=J,y.baseQueue===null&&(y.baseState=J),T.lastRenderedState=J}return[J,F]}function Nh(){}function Eh(u,y){var T=xr,F=On(),G=y(),J=!Xn(F.memoizedState,G);if(J&&(F.memoizedState=G,un=!0),F=F.queue,Nu(Th.bind(null,T,F,u),[u]),F.getSnapshot!==y||J||Dr!==null&&Dr.memoizedState.tag&1){if(T.flags|=2048,ra(9,Ch.bind(null,T,F,G,y),void 0,null),Or===null)throw Error(e(349));(Si&30)!==0||jh(T,y,G)}return G}function jh(u,y,T){u.flags|=16384,u={getSnapshot:y,value:T},y=xr.updateQueue,y===null?(y={lastEffect:null,stores:null},xr.updateQueue=y,y.stores=[u]):(T=y.stores,T===null?y.stores=[u]:T.push(u))}function Ch(u,y,T,F){y.value=T,y.getSnapshot=F,Ah(y)&&Rh(u)}function Th(u,y,T){return T(function(){Ah(y)&&Rh(u)})}function Ah(u){var y=u.getSnapshot;u=u.value;try{var T=y();return!Xn(u,T)}catch{return!0}}function Rh(u){var y=Ps(u,1);y!==null&&Jn(y,u,1,-1)}function Mh(u){var y=ps();return typeof u=="function"&&(u=u()),y.memoizedState=y.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:u},y.queue=u,u=u.dispatch=xy.bind(null,xr,u),[y.memoizedState,u]}function ra(u,y,T,F){return u={tag:u,create:y,destroy:T,deps:F,next:null},y=xr.updateQueue,y===null?(y={lastEffect:null,stores:null},xr.updateQueue=y,y.lastEffect=u.next=u):(T=y.lastEffect,T===null?y.lastEffect=u.next=u:(F=T.next,T.next=u,u.next=F,y.lastEffect=u)),u}function Ih(){return On().memoizedState}function il(u,y,T,F){var G=ps();xr.flags|=u,G.memoizedState=ra(1|y,T,void 0,F===void 0?null:F)}function ol(u,y,T,F){var G=On();F=F===void 0?null:F;var J=void 0;if(Rr!==null){var se=Rr.memoizedState;if(J=se.destroy,F!==null&&xu(F,se.deps)){G.memoizedState=ra(y,T,J,F);return}}xr.flags|=u,G.memoizedState=ra(1|y,T,J,F)}function Ph(u,y){return il(8390656,8,u,y)}function Nu(u,y){return ol(2048,8,u,y)}function Dh(u,y){return ol(4,2,u,y)}function Oh(u,y){return ol(4,4,u,y)}function Lh(u,y){if(typeof y=="function")return u=u(),y(u),function(){y(null)};if(y!=null)return u=u(),y.current=u,function(){y.current=null}}function Fh(u,y,T){return T=T!=null?T.concat([u]):null,ol(4,4,Lh.bind(null,y,u),T)}function Eu(){}function Bh(u,y){var T=On();y=y===void 0?null:y;var F=T.memoizedState;return F!==null&&y!==null&&xu(y,F[1])?F[0]:(T.memoizedState=[u,y],u)}function zh(u,y){var T=On();y=y===void 0?null:y;var F=T.memoizedState;return F!==null&&y!==null&&xu(y,F[1])?F[0]:(u=u(),T.memoizedState=[u,y],u)}function $h(u,y,T){return(Si&21)===0?(u.baseState&&(u.baseState=!1,un=!0),u.memoizedState=T):(Xn(T,y)||(T=tr(),xr.lanes|=T,ki|=T,u.baseState=!0),y)}function yy(u,y){var T=Bt;Bt=T!==0&&4>T?T:4,u(!0);var F=vu.transition;vu.transition={};try{u(!1),y()}finally{Bt=T,vu.transition=F}}function Uh(){return On().memoizedState}function vy(u,y,T){var F=ni(u);if(T={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null},Hh(u))Vh(y,T);else if(T=xh(u,y,T,F),T!==null){var G=rn();Jn(T,u,F,G),Wh(T,y,F)}}function xy(u,y,T){var F=ni(u),G={lane:F,action:T,hasEagerState:!1,eagerState:null,next:null};if(Hh(u))Vh(y,G);else{var J=u.alternate;if(u.lanes===0&&(J===null||J.lanes===0)&&(J=y.lastRenderedReducer,J!==null))try{var se=y.lastRenderedState,fe=J(se,T);if(G.hasEagerState=!0,G.eagerState=fe,Xn(fe,se)){var be=y.interleaved;be===null?(G.next=G,hu(y)):(G.next=be.next,be.next=G),y.interleaved=G;return}}catch{}finally{}T=xh(u,y,G,F),T!==null&&(G=rn(),Jn(T,u,F,G),Wh(T,y,F))}}function Hh(u){var y=u.alternate;return u===xr||y!==null&&y===xr}function Vh(u,y){Qo=sl=!0;var T=u.pending;T===null?y.next=y:(y.next=T.next,T.next=y),u.pending=y}function Wh(u,y,T){if((T&4194240)!==0){var F=y.lanes;F&=u.pendingLanes,T|=F,y.lanes=T,Vs(u,T)}}var al={readContext:Dn,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},wy={readContext:Dn,useCallback:function(u,y){return ps().memoizedState=[u,y===void 0?null:y],u},useContext:Dn,useEffect:Ph,useImperativeHandle:function(u,y,T){return T=T!=null?T.concat([u]):null,il(4194308,4,Lh.bind(null,y,u),T)},useLayoutEffect:function(u,y){return il(4194308,4,u,y)},useInsertionEffect:function(u,y){return il(4,2,u,y)},useMemo:function(u,y){var T=ps();return y=y===void 0?null:y,u=u(),T.memoizedState=[u,y],u},useReducer:function(u,y,T){var F=ps();return y=T!==void 0?T(y):y,F.memoizedState=F.baseState=y,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:y},F.queue=u,u=u.dispatch=vy.bind(null,xr,u),[F.memoizedState,u]},useRef:function(u){var y=ps();return u={current:u},y.memoizedState=u},useState:Mh,useDebugValue:Eu,useDeferredValue:function(u){return ps().memoizedState=u},useTransition:function(){var u=Mh(!1),y=u[0];return u=yy.bind(null,u[1]),ps().memoizedState=u,[y,u]},useMutableSource:function(){},useSyncExternalStore:function(u,y,T){var F=xr,G=ps();if(gr){if(T===void 0)throw Error(e(407));T=T()}else{if(T=y(),Or===null)throw Error(e(349));(Si&30)!==0||jh(F,y,T)}G.memoizedState=T;var J={value:T,getSnapshot:y};return G.queue=J,Ph(Th.bind(null,F,J,u),[u]),F.flags|=2048,ra(9,Ch.bind(null,F,J,T,y),void 0,null),T},useId:function(){var u=ps(),y=Or.identifierPrefix;if(gr){var T=Is,F=Ms;T=(F&~(1<<32-Ut(F)-1)).toString(32)+T,y=":"+y+"R"+T,T=ea++,0<T&&(y+="H"+T.toString(32)),y+=":"}else T=by++,y=":"+y+"r"+T.toString(32)+":";return u.memoizedState=y},unstable_isNewReconciler:!1},_y={readContext:Dn,useCallback:Bh,useContext:Dn,useEffect:Nu,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:Oh,useMemo:zh,useReducer:Su,useRef:Ih,useState:function(){return Su(ta)},useDebugValue:Eu,useDeferredValue:function(u){var y=On();return $h(y,Rr.memoizedState,u)},useTransition:function(){var u=Su(ta)[0],y=On().memoizedState;return[u,y]},useMutableSource:Nh,useSyncExternalStore:Eh,useId:Uh,unstable_isNewReconciler:!1},Sy={readContext:Dn,useCallback:Bh,useContext:Dn,useEffect:Nu,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:Oh,useMemo:zh,useReducer:ku,useRef:Ih,useState:function(){return ku(ta)},useDebugValue:Eu,useDeferredValue:function(u){var y=On();return Rr===null?y.memoizedState=u:$h(y,Rr.memoizedState,u)},useTransition:function(){var u=ku(ta)[0],y=On().memoizedState;return[u,y]},useMutableSource:Nh,useSyncExternalStore:Eh,useId:Uh,unstable_isNewReconciler:!1};function Kn(u,y){if(u&&u.defaultProps){y=A({},y),u=u.defaultProps;for(var T in u)y[T]===void 0&&(y[T]=u[T]);return y}return y}function ju(u,y,T,F){y=u.memoizedState,T=T(F,y),T=T==null?y:A({},y,T),u.memoizedState=T,u.lanes===0&&(u.updateQueue.baseState=T)}var ll={isMounted:function(u){return(u=u._reactInternals)?it(u)===u:!1},enqueueSetState:function(u,y,T){u=u._reactInternals;var F=rn(),G=ni(u),J=Ds(F,G);J.payload=y,T!=null&&(J.callback=T),y=Qs(u,J,G),y!==null&&(Jn(y,u,G,F),el(y,u,G))},enqueueReplaceState:function(u,y,T){u=u._reactInternals;var F=rn(),G=ni(u),J=Ds(F,G);J.tag=1,J.payload=y,T!=null&&(J.callback=T),y=Qs(u,J,G),y!==null&&(Jn(y,u,G,F),el(y,u,G))},enqueueForceUpdate:function(u,y){u=u._reactInternals;var T=rn(),F=ni(u),G=Ds(T,F);G.tag=2,y!=null&&(G.callback=y),y=Qs(u,G,F),y!==null&&(Jn(y,u,F,T),el(y,u,F))}};function qh(u,y,T,F,G,J,se){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(F,J,se):y.prototype&&y.prototype.isPureReactComponent?!Uo(T,F)||!Uo(G,J):!0}function Xh(u,y,T){var F=!1,G=Ys,J=y.contextType;return typeof J=="object"&&J!==null?J=Dn(J):(G=cn(y)?yi:Xr.current,F=y.contextTypes,J=(F=F!=null)?eo(u,G):Ys),y=new y(T,J),u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ll,u.stateNode=y,y._reactInternals=u,F&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=G,u.__reactInternalMemoizedMaskedChildContext=J),y}function Gh(u,y,T,F){u=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(T,F),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(T,F),y.state!==u&&ll.enqueueReplaceState(y,y.state,null)}function Cu(u,y,T,F){var G=u.stateNode;G.props=T,G.state=u.memoizedState,G.refs={},pu(u);var J=y.contextType;typeof J=="object"&&J!==null?G.context=Dn(J):(J=cn(y)?yi:Xr.current,G.context=eo(u,J)),G.state=u.memoizedState,J=y.getDerivedStateFromProps,typeof J=="function"&&(ju(u,y,J,T),G.state=u.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(y=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),y!==G.state&&ll.enqueueReplaceState(G,G.state,null),tl(u,T,G,F),G.state=u.memoizedState),typeof G.componentDidMount=="function"&&(u.flags|=4194308)}function lo(u,y){try{var T="",F=y;do T+=te(F),F=F.return;while(F);var G=T}catch(J){G=`
Error generating stack: `+J.message+`
`+J.stack}return{value:u,source:y,stack:G,digest:null}}function Tu(u,y,T){return{value:u,source:null,stack:T??null,digest:y??null}}function Au(u,y){try{console.error(y.value)}catch(T){setTimeout(function(){throw T})}}var ky=typeof WeakMap=="function"?WeakMap:Map;function Kh(u,y,T){T=Ds(-1,T),T.tag=3,T.payload={element:null};var F=y.value;return T.callback=function(){ml||(ml=!0,Wu=F),Au(u,y)},T}function Yh(u,y,T){T=Ds(-1,T),T.tag=3;var F=u.type.getDerivedStateFromError;if(typeof F=="function"){var G=y.value;T.payload=function(){return F(G)},T.callback=function(){Au(u,y)}}var J=u.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(T.callback=function(){Au(u,y),typeof F!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var se=y.stack;this.componentDidCatch(y.value,{componentStack:se!==null?se:""})}),T}function Zh(u,y,T){var F=u.pingCache;if(F===null){F=u.pingCache=new ky;var G=new Set;F.set(y,G)}else G=F.get(y),G===void 0&&(G=new Set,F.set(y,G));G.has(T)||(G.add(T),u=Fy.bind(null,u,y,T),y.then(u,u))}function Jh(u){do{var y;if((y=u.tag===13)&&(y=u.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return u;u=u.return}while(u!==null);return null}function Qh(u,y,T,F,G){return(u.mode&1)===0?(u===y?u.flags|=65536:(u.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(y=Ds(-1,1),y.tag=2,Qs(T,y,1))),T.lanes|=1),u):(u.flags|=65536,u.lanes=G,u)}var Ny=C.ReactCurrentOwner,un=!1;function tn(u,y,T,F){y.child=u===null?vh(y,null,T,F):so(y,u.child,T,F)}function ep(u,y,T,F,G){T=T.render;var J=y.ref;return oo(y,G),F=wu(u,y,T,F,J,G),T=_u(),u!==null&&!un?(y.updateQueue=u.updateQueue,y.flags&=-2053,u.lanes&=~G,Os(u,y,G)):(gr&&T&&su(y),y.flags|=1,tn(u,y,F,G),y.child)}function tp(u,y,T,F,G){if(u===null){var J=T.type;return typeof J=="function"&&!Ju(J)&&J.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(y.tag=15,y.type=J,rp(u,y,J,F,G)):(u=wl(T.type,null,F,y,y.mode,G),u.ref=y.ref,u.return=y,y.child=u)}if(J=u.child,(u.lanes&G)===0){var se=J.memoizedProps;if(T=T.compare,T=T!==null?T:Uo,T(se,F)&&u.ref===y.ref)return Os(u,y,G)}return y.flags|=1,u=ii(J,F),u.ref=y.ref,u.return=y,y.child=u}function rp(u,y,T,F,G){if(u!==null){var J=u.memoizedProps;if(Uo(J,F)&&u.ref===y.ref)if(un=!1,y.pendingProps=F=J,(u.lanes&G)!==0)(u.flags&131072)!==0&&(un=!0);else return y.lanes=u.lanes,Os(u,y,G)}return Ru(u,y,T,F,G)}function np(u,y,T){var F=y.pendingProps,G=F.children,J=u!==null?u.memoizedState:null;if(F.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(uo,Sn),Sn|=T;else{if((T&1073741824)===0)return u=J!==null?J.baseLanes|T:T,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:u,cachePool:null,transitions:null},y.updateQueue=null,cr(uo,Sn),Sn|=u,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=J!==null?J.baseLanes:T,cr(uo,Sn),Sn|=F}else J!==null?(F=J.baseLanes|T,y.memoizedState=null):F=T,cr(uo,Sn),Sn|=F;return tn(u,y,G,T),y.child}function sp(u,y){var T=y.ref;(u===null&&T!==null||u!==null&&u.ref!==T)&&(y.flags|=512,y.flags|=2097152)}function Ru(u,y,T,F,G){var J=cn(T)?yi:Xr.current;return J=eo(y,J),oo(y,G),T=wu(u,y,T,F,J,G),F=_u(),u!==null&&!un?(y.updateQueue=u.updateQueue,y.flags&=-2053,u.lanes&=~G,Os(u,y,G)):(gr&&F&&su(y),y.flags|=1,tn(u,y,T,G),y.child)}function ip(u,y,T,F,G){if(cn(T)){var J=!0;qa(y)}else J=!1;if(oo(y,G),y.stateNode===null)ul(u,y),Xh(y,T,F),Cu(y,T,F,G),F=!0;else if(u===null){var se=y.stateNode,fe=y.memoizedProps;se.props=fe;var be=se.context,Ee=T.contextType;typeof Ee=="object"&&Ee!==null?Ee=Dn(Ee):(Ee=cn(T)?yi:Xr.current,Ee=eo(y,Ee));var De=T.getDerivedStateFromProps,Oe=typeof De=="function"||typeof se.getSnapshotBeforeUpdate=="function";Oe||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(fe!==F||be!==Ee)&&Gh(y,se,F,Ee),Js=!1;var Pe=y.memoizedState;se.state=Pe,tl(y,F,se,G),be=y.memoizedState,fe!==F||Pe!==be||ln.current||Js?(typeof De=="function"&&(ju(y,T,De,F),be=y.memoizedState),(fe=Js||qh(y,T,fe,F,Pe,be,Ee))?(Oe||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(y.flags|=4194308)):(typeof se.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=F,y.memoizedState=be),se.props=F,se.state=be,se.context=Ee,F=fe):(typeof se.componentDidMount=="function"&&(y.flags|=4194308),F=!1)}else{se=y.stateNode,wh(u,y),fe=y.memoizedProps,Ee=y.type===y.elementType?fe:Kn(y.type,fe),se.props=Ee,Oe=y.pendingProps,Pe=se.context,be=T.contextType,typeof be=="object"&&be!==null?be=Dn(be):(be=cn(T)?yi:Xr.current,be=eo(y,be));var st=T.getDerivedStateFromProps;(De=typeof st=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(fe!==Oe||Pe!==be)&&Gh(y,se,F,be),Js=!1,Pe=y.memoizedState,se.state=Pe,tl(y,F,se,G);var ft=y.memoizedState;fe!==Oe||Pe!==ft||ln.current||Js?(typeof st=="function"&&(ju(y,T,st,F),ft=y.memoizedState),(Ee=Js||qh(y,T,Ee,F,Pe,ft,be)||!1)?(De||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(F,ft,be),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(F,ft,be)),typeof se.componentDidUpdate=="function"&&(y.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof se.componentDidUpdate!="function"||fe===u.memoizedProps&&Pe===u.memoizedState||(y.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&Pe===u.memoizedState||(y.flags|=1024),y.memoizedProps=F,y.memoizedState=ft),se.props=F,se.state=ft,se.context=be,F=Ee):(typeof se.componentDidUpdate!="function"||fe===u.memoizedProps&&Pe===u.memoizedState||(y.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&Pe===u.memoizedState||(y.flags|=1024),F=!1)}return Mu(u,y,T,F,J,G)}function Mu(u,y,T,F,G,J){sp(u,y);var se=(y.flags&128)!==0;if(!F&&!se)return G&&uh(y,T,!1),Os(u,y,J);F=y.stateNode,Ny.current=y;var fe=se&&typeof T.getDerivedStateFromError!="function"?null:F.render();return y.flags|=1,u!==null&&se?(y.child=so(y,u.child,null,J),y.child=so(y,null,fe,J)):tn(u,y,fe,J),y.memoizedState=F.state,G&&uh(y,T,!0),y.child}function op(u){var y=u.stateNode;y.pendingContext?lh(u,y.pendingContext,y.pendingContext!==y.context):y.context&&lh(u,y.context,!1),mu(u,y.containerInfo)}function ap(u,y,T,F,G){return no(),lu(G),y.flags|=256,tn(u,y,T,F),y.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Pu(u){return{baseLanes:u,cachePool:null,transitions:null}}function lp(u,y,T){var F=y.pendingProps,G=vr.current,J=!1,se=(y.flags&128)!==0,fe;if((fe=se)||(fe=u!==null&&u.memoizedState===null?!1:(G&2)!==0),fe?(J=!0,y.flags&=-129):(u===null||u.memoizedState!==null)&&(G|=1),cr(vr,G&1),u===null)return au(y),u=y.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((y.mode&1)===0?y.lanes=1:u.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(se=F.children,u=F.fallback,J?(F=y.mode,J=y.child,se={mode:"hidden",children:se},(F&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=se):J=_l(se,F,0,null),u=Ci(u,F,T,null),J.return=y,u.return=y,J.sibling=u,y.child=J,y.child.memoizedState=Pu(T),y.memoizedState=Iu,u):Du(y,se));if(G=u.memoizedState,G!==null&&(fe=G.dehydrated,fe!==null))return Ey(u,y,se,F,fe,G,T);if(J){J=F.fallback,se=y.mode,G=u.child,fe=G.sibling;var be={mode:"hidden",children:F.children};return(se&1)===0&&y.child!==G?(F=y.child,F.childLanes=0,F.pendingProps=be,y.deletions=null):(F=ii(G,be),F.subtreeFlags=G.subtreeFlags&14680064),fe!==null?J=ii(fe,J):(J=Ci(J,se,T,null),J.flags|=2),J.return=y,F.return=y,F.sibling=J,y.child=F,F=J,J=y.child,se=u.child.memoizedState,se=se===null?Pu(T):{baseLanes:se.baseLanes|T,cachePool:null,transitions:se.transitions},J.memoizedState=se,J.childLanes=u.childLanes&~T,y.memoizedState=Iu,F}return J=u.child,u=J.sibling,F=ii(J,{mode:"visible",children:F.children}),(y.mode&1)===0&&(F.lanes=T),F.return=y,F.sibling=null,u!==null&&(T=y.deletions,T===null?(y.deletions=[u],y.flags|=16):T.push(u)),y.child=F,y.memoizedState=null,F}function Du(u,y){return y=_l({mode:"visible",children:y},u.mode,0,null),y.return=u,u.child=y}function cl(u,y,T,F){return F!==null&&lu(F),so(y,u.child,null,T),u=Du(y,y.pendingProps.children),u.flags|=2,y.memoizedState=null,u}function Ey(u,y,T,F,G,J,se){if(T)return y.flags&256?(y.flags&=-257,F=Tu(Error(e(422))),cl(u,y,se,F)):y.memoizedState!==null?(y.child=u.child,y.flags|=128,null):(J=F.fallback,G=y.mode,F=_l({mode:"visible",children:F.children},G,0,null),J=Ci(J,G,se,null),J.flags|=2,F.return=y,J.return=y,F.sibling=J,y.child=F,(y.mode&1)!==0&&so(y,u.child,null,se),y.child.memoizedState=Pu(se),y.memoizedState=Iu,J);if((y.mode&1)===0)return cl(u,y,se,null);if(G.data==="$!"){if(F=G.nextSibling&&G.nextSibling.dataset,F)var fe=F.dgst;return F=fe,J=Error(e(419)),F=Tu(J,F,void 0),cl(u,y,se,F)}if(fe=(se&u.childLanes)!==0,un||fe){if(F=Or,F!==null){switch(se&-se){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(F.suspendedLanes|se))!==0?0:G,G!==0&&G!==J.retryLane&&(J.retryLane=G,Ps(u,G),Jn(F,u,G,-1))}return Zu(),F=Tu(Error(e(421))),cl(u,y,se,F)}return G.data==="$?"?(y.flags|=128,y.child=u.child,y=By.bind(null,u),G._reactRetry=y,null):(u=J.treeContext,_n=Gs(G.nextSibling),wn=y,gr=!0,Gn=null,u!==null&&(In[Pn++]=Ms,In[Pn++]=Is,In[Pn++]=vi,Ms=u.id,Is=u.overflow,vi=y),y=Du(y,F.children),y.flags|=4096,y)}function cp(u,y,T){u.lanes|=y;var F=u.alternate;F!==null&&(F.lanes|=y),fu(u.return,y,T)}function Ou(u,y,T,F,G){var J=u.memoizedState;J===null?u.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:F,tail:T,tailMode:G}:(J.isBackwards=y,J.rendering=null,J.renderingStartTime=0,J.last=F,J.tail=T,J.tailMode=G)}function up(u,y,T){var F=y.pendingProps,G=F.revealOrder,J=F.tail;if(tn(u,y,F.children,T),F=vr.current,(F&2)!==0)F=F&1|2,y.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=y.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&cp(u,T,y);else if(u.tag===19)cp(u,T,y);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===y)break e;for(;u.sibling===null;){if(u.return===null||u.return===y)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}F&=1}if(cr(vr,F),(y.mode&1)===0)y.memoizedState=null;else switch(G){case"forwards":for(T=y.child,G=null;T!==null;)u=T.alternate,u!==null&&rl(u)===null&&(G=T),T=T.sibling;T=G,T===null?(G=y.child,y.child=null):(G=T.sibling,T.sibling=null),Ou(y,!1,G,T,J);break;case"backwards":for(T=null,G=y.child,y.child=null;G!==null;){if(u=G.alternate,u!==null&&rl(u)===null){y.child=G;break}u=G.sibling,G.sibling=T,T=G,G=u}Ou(y,!0,T,null,J);break;case"together":Ou(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function ul(u,y){(y.mode&1)===0&&u!==null&&(u.alternate=null,y.alternate=null,y.flags|=2)}function Os(u,y,T){if(u!==null&&(y.dependencies=u.dependencies),ki|=y.lanes,(T&y.childLanes)===0)return null;if(u!==null&&y.child!==u.child)throw Error(e(153));if(y.child!==null){for(u=y.child,T=ii(u,u.pendingProps),y.child=T,T.return=y;u.sibling!==null;)u=u.sibling,T=T.sibling=ii(u,u.pendingProps),T.return=y;T.sibling=null}return y.child}function jy(u,y,T){switch(y.tag){case 3:op(y),no();break;case 5:kh(y);break;case 1:cn(y.type)&&qa(y);break;case 4:mu(y,y.stateNode.containerInfo);break;case 10:var F=y.type._context,G=y.memoizedProps.value;cr(Ja,F._currentValue),F._currentValue=G;break;case 13:if(F=y.memoizedState,F!==null)return F.dehydrated!==null?(cr(vr,vr.current&1),y.flags|=128,null):(T&y.child.childLanes)!==0?lp(u,y,T):(cr(vr,vr.current&1),u=Os(u,y,T),u!==null?u.sibling:null);cr(vr,vr.current&1);break;case 19:if(F=(T&y.childLanes)!==0,(u.flags&128)!==0){if(F)return up(u,y,T);y.flags|=128}if(G=y.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),cr(vr,vr.current),F)break;return null;case 22:case 23:return y.lanes=0,np(u,y,T)}return Os(u,y,T)}var dp,Lu,fp,hp;dp=function(u,y){for(var T=y.child;T!==null;){if(T.tag===5||T.tag===6)u.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===y)break;for(;T.sibling===null;){if(T.return===null||T.return===y)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Lu=function(){},fp=function(u,y,T,F){var G=u.memoizedProps;if(G!==F){u=y.stateNode,_i(hs.current);var J=null;switch(T){case"input":G=oe(u,G),F=oe(u,F),J=[];break;case"select":G=A({},G,{value:void 0}),F=A({},F,{value:void 0}),J=[];break;case"textarea":G=ge(u,G),F=ge(u,F),J=[];break;default:typeof G.onClick!="function"&&typeof F.onClick=="function"&&(u.onclick=Ha)}nt(T,F);var se;T=null;for(Ee in G)if(!F.hasOwnProperty(Ee)&&G.hasOwnProperty(Ee)&&G[Ee]!=null)if(Ee==="style"){var fe=G[Ee];for(se in fe)fe.hasOwnProperty(se)&&(T||(T={}),T[se]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(m.hasOwnProperty(Ee)?J||(J=[]):(J=J||[]).push(Ee,null));for(Ee in F){var be=F[Ee];if(fe=G?.[Ee],F.hasOwnProperty(Ee)&&be!==fe&&(be!=null||fe!=null))if(Ee==="style")if(fe){for(se in fe)!fe.hasOwnProperty(se)||be&&be.hasOwnProperty(se)||(T||(T={}),T[se]="");for(se in be)be.hasOwnProperty(se)&&fe[se]!==be[se]&&(T||(T={}),T[se]=be[se])}else T||(J||(J=[]),J.push(Ee,T)),T=be;else Ee==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,fe=fe?fe.__html:void 0,be!=null&&fe!==be&&(J=J||[]).push(Ee,be)):Ee==="children"?typeof be!="string"&&typeof be!="number"||(J=J||[]).push(Ee,""+be):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(m.hasOwnProperty(Ee)?(be!=null&&Ee==="onScroll"&&hr("scroll",u),J||fe===be||(J=[])):(J=J||[]).push(Ee,be))}T&&(J=J||[]).push("style",T);var Ee=J;(y.updateQueue=Ee)&&(y.flags|=4)}},hp=function(u,y,T,F){T!==F&&(y.flags|=4)};function na(u,y){if(!gr)switch(u.tailMode){case"hidden":y=u.tail;for(var T=null;y!==null;)y.alternate!==null&&(T=y),y=y.sibling;T===null?u.tail=null:T.sibling=null;break;case"collapsed":T=u.tail;for(var F=null;T!==null;)T.alternate!==null&&(F=T),T=T.sibling;F===null?y||u.tail===null?u.tail=null:u.tail.sibling=null:F.sibling=null}}function Kr(u){var y=u.alternate!==null&&u.alternate.child===u.child,T=0,F=0;if(y)for(var G=u.child;G!==null;)T|=G.lanes|G.childLanes,F|=G.subtreeFlags&14680064,F|=G.flags&14680064,G.return=u,G=G.sibling;else for(G=u.child;G!==null;)T|=G.lanes|G.childLanes,F|=G.subtreeFlags,F|=G.flags,G.return=u,G=G.sibling;return u.subtreeFlags|=F,u.childLanes=T,y}function Cy(u,y,T){var F=y.pendingProps;switch(iu(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(y),null;case 1:return cn(y.type)&&Wa(),Kr(y),null;case 3:return F=y.stateNode,ao(),pr(ln),pr(Xr),yu(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(u===null||u.child===null)&&(Ya(y)?y.flags|=4:u===null||u.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Gn!==null&&(Gu(Gn),Gn=null))),Lu(u,y),Kr(y),null;case 5:gu(y);var G=_i(Jo.current);if(T=y.type,u!==null&&y.stateNode!=null)fp(u,y,T,F,G),u.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!F){if(y.stateNode===null)throw Error(e(166));return Kr(y),null}if(u=_i(hs.current),Ya(y)){F=y.stateNode,T=y.type;var J=y.memoizedProps;switch(F[fs]=y,F[Xo]=J,u=(y.mode&1)!==0,T){case"dialog":hr("cancel",F),hr("close",F);break;case"iframe":case"object":case"embed":hr("load",F);break;case"video":case"audio":for(G=0;G<Vo.length;G++)hr(Vo[G],F);break;case"source":hr("error",F);break;case"img":case"image":case"link":hr("error",F),hr("load",F);break;case"details":hr("toggle",F);break;case"input":he(F,J),hr("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!J.multiple},hr("invalid",F);break;case"textarea":Ne(F,J),hr("invalid",F)}nt(T,J),G=null;for(var se in J)if(J.hasOwnProperty(se)){var fe=J[se];se==="children"?typeof fe=="string"?F.textContent!==fe&&(J.suppressHydrationWarning!==!0&&Ua(F.textContent,fe,u),G=["children",fe]):typeof fe=="number"&&F.textContent!==""+fe&&(J.suppressHydrationWarning!==!0&&Ua(F.textContent,fe,u),G=["children",""+fe]):m.hasOwnProperty(se)&&fe!=null&&se==="onScroll"&&hr("scroll",F)}switch(T){case"input":ee(F),ue(F,J,!0);break;case"textarea":ee(F),Re(F);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(F.onclick=Ha)}F=G,y.updateQueue=F,F!==null&&(y.flags|=4)}else{se=G.nodeType===9?G:G.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=$e(T)),u==="http://www.w3.org/1999/xhtml"?T==="script"?(u=se.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof F.is=="string"?u=se.createElement(T,{is:F.is}):(u=se.createElement(T),T==="select"&&(se=u,F.multiple?se.multiple=!0:F.size&&(se.size=F.size))):u=se.createElementNS(u,T),u[fs]=y,u[Xo]=F,dp(u,y,!1,!1),y.stateNode=u;e:{switch(se=Ke(T,F),T){case"dialog":hr("cancel",u),hr("close",u),G=F;break;case"iframe":case"object":case"embed":hr("load",u),G=F;break;case"video":case"audio":for(G=0;G<Vo.length;G++)hr(Vo[G],u);G=F;break;case"source":hr("error",u),G=F;break;case"img":case"image":case"link":hr("error",u),hr("load",u),G=F;break;case"details":hr("toggle",u),G=F;break;case"input":he(u,F),G=oe(u,F),hr("invalid",u);break;case"option":G=F;break;case"select":u._wrapperState={wasMultiple:!!F.multiple},G=A({},F,{value:void 0}),hr("invalid",u);break;case"textarea":Ne(u,F),G=ge(u,F),hr("invalid",u);break;default:G=F}nt(T,G),fe=G;for(J in fe)if(fe.hasOwnProperty(J)){var be=fe[J];J==="style"?Fe(u,be):J==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&ot(u,be)):J==="children"?typeof be=="string"?(T!=="textarea"||be!=="")&&Ze(u,be):typeof be=="number"&&Ze(u,""+be):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(m.hasOwnProperty(J)?be!=null&&J==="onScroll"&&hr("scroll",u):be!=null&&j(u,J,be,se))}switch(T){case"input":ee(u),ue(u,F,!1);break;case"textarea":ee(u),Re(u);break;case"option":F.value!=null&&u.setAttribute("value",""+O(F.value));break;case"select":u.multiple=!!F.multiple,J=F.value,J!=null?le(u,!!F.multiple,J,!1):F.defaultValue!=null&&le(u,!!F.multiple,F.defaultValue,!0);break;default:typeof G.onClick=="function"&&(u.onclick=Ha)}switch(T){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return Kr(y),null;case 6:if(u&&y.stateNode!=null)hp(u,y,u.memoizedProps,F);else{if(typeof F!="string"&&y.stateNode===null)throw Error(e(166));if(T=_i(Jo.current),_i(hs.current),Ya(y)){if(F=y.stateNode,T=y.memoizedProps,F[fs]=y,(J=F.nodeValue!==T)&&(u=wn,u!==null))switch(u.tag){case 3:Ua(F.nodeValue,T,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Ua(F.nodeValue,T,(u.mode&1)!==0)}J&&(y.flags|=4)}else F=(T.nodeType===9?T:T.ownerDocument).createTextNode(F),F[fs]=y,y.stateNode=F}return Kr(y),null;case 13:if(pr(vr),F=y.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(gr&&_n!==null&&(y.mode&1)!==0&&(y.flags&128)===0)gh(),no(),y.flags|=98560,J=!1;else if(J=Ya(y),F!==null&&F.dehydrated!==null){if(u===null){if(!J)throw Error(e(318));if(J=y.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(e(317));J[fs]=y}else no(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Kr(y),J=!1}else Gn!==null&&(Gu(Gn),Gn=null),J=!0;if(!J)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=T,y):(F=F!==null,F!==(u!==null&&u.memoizedState!==null)&&F&&(y.child.flags|=8192,(y.mode&1)!==0&&(u===null||(vr.current&1)!==0?Mr===0&&(Mr=3):Zu())),y.updateQueue!==null&&(y.flags|=4),Kr(y),null);case 4:return ao(),Lu(u,y),u===null&&Wo(y.stateNode.containerInfo),Kr(y),null;case 10:return du(y.type._context),Kr(y),null;case 17:return cn(y.type)&&Wa(),Kr(y),null;case 19:if(pr(vr),J=y.memoizedState,J===null)return Kr(y),null;if(F=(y.flags&128)!==0,se=J.rendering,se===null)if(F)na(J,!1);else{if(Mr!==0||u!==null&&(u.flags&128)!==0)for(u=y.child;u!==null;){if(se=rl(u),se!==null){for(y.flags|=128,na(J,!1),F=se.updateQueue,F!==null&&(y.updateQueue=F,y.flags|=4),y.subtreeFlags=0,F=T,T=y.child;T!==null;)J=T,u=F,J.flags&=14680066,se=J.alternate,se===null?(J.childLanes=0,J.lanes=u,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=se.childLanes,J.lanes=se.lanes,J.child=se.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=se.memoizedProps,J.memoizedState=se.memoizedState,J.updateQueue=se.updateQueue,J.type=se.type,u=se.dependencies,J.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),T=T.sibling;return cr(vr,vr.current&1|2),y.child}u=u.sibling}J.tail!==null&&_e()>fo&&(y.flags|=128,F=!0,na(J,!1),y.lanes=4194304)}else{if(!F)if(u=rl(se),u!==null){if(y.flags|=128,F=!0,T=u.updateQueue,T!==null&&(y.updateQueue=T,y.flags|=4),na(J,!0),J.tail===null&&J.tailMode==="hidden"&&!se.alternate&&!gr)return Kr(y),null}else 2*_e()-J.renderingStartTime>fo&&T!==1073741824&&(y.flags|=128,F=!0,na(J,!1),y.lanes=4194304);J.isBackwards?(se.sibling=y.child,y.child=se):(T=J.last,T!==null?T.sibling=se:y.child=se,J.last=se)}return J.tail!==null?(y=J.tail,J.rendering=y,J.tail=y.sibling,J.renderingStartTime=_e(),y.sibling=null,T=vr.current,cr(vr,F?T&1|2:T&1),y):(Kr(y),null);case 22:case 23:return Yu(),F=y.memoizedState!==null,u!==null&&u.memoizedState!==null!==F&&(y.flags|=8192),F&&(y.mode&1)!==0?(Sn&1073741824)!==0&&(Kr(y),y.subtreeFlags&6&&(y.flags|=8192)):Kr(y),null;case 24:return null;case 25:return null}throw Error(e(156,y.tag))}function Ty(u,y){switch(iu(y),y.tag){case 1:return cn(y.type)&&Wa(),u=y.flags,u&65536?(y.flags=u&-65537|128,y):null;case 3:return ao(),pr(ln),pr(Xr),yu(),u=y.flags,(u&65536)!==0&&(u&128)===0?(y.flags=u&-65537|128,y):null;case 5:return gu(y),null;case 13:if(pr(vr),u=y.memoizedState,u!==null&&u.dehydrated!==null){if(y.alternate===null)throw Error(e(340));no()}return u=y.flags,u&65536?(y.flags=u&-65537|128,y):null;case 19:return pr(vr),null;case 4:return ao(),null;case 10:return du(y.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var dl=!1,Yr=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,ct=null;function co(u,y){var T=u.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(F){kr(u,y,F)}else T.current=null}function Fu(u,y,T){try{T()}catch(F){kr(u,y,F)}}var pp=!1;function Ry(u,y){if(Yc=Ra,u=qf(),Uc(u)){if("selectionStart"in u)var T={start:u.selectionStart,end:u.selectionEnd};else e:{T=(T=u.ownerDocument)&&T.defaultView||window;var F=T.getSelection&&T.getSelection();if(F&&F.rangeCount!==0){T=F.anchorNode;var G=F.anchorOffset,J=F.focusNode;F=F.focusOffset;try{T.nodeType,J.nodeType}catch{T=null;break e}var se=0,fe=-1,be=-1,Ee=0,De=0,Oe=u,Pe=null;t:for(;;){for(var st;Oe!==T||G!==0&&Oe.nodeType!==3||(fe=se+G),Oe!==J||F!==0&&Oe.nodeType!==3||(be=se+F),Oe.nodeType===3&&(se+=Oe.nodeValue.length),(st=Oe.firstChild)!==null;)Pe=Oe,Oe=st;for(;;){if(Oe===u)break t;if(Pe===T&&++Ee===G&&(fe=se),Pe===J&&++De===F&&(be=se),(st=Oe.nextSibling)!==null)break;Oe=Pe,Pe=Oe.parentNode}Oe=st}T=fe===-1||be===-1?null:{start:fe,end:be}}else T=null}T=T||{start:0,end:0}}else T=null;for(Zc={focusedElem:u,selectionRange:T},Ra=!1,ct=y;ct!==null;)if(y=ct,u=y.child,(y.subtreeFlags&1028)!==0&&u!==null)u.return=y,ct=u;else for(;ct!==null;){y=ct;try{var ft=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var pt=ft.memoizedProps,Er=ft.memoizedState,Se=y.stateNode,xe=Se.getSnapshotBeforeUpdate(y.elementType===y.type?pt:Kn(y.type,pt),Er);Se.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var ke=y.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Ue){kr(y,y.return,Ue)}if(u=y.sibling,u!==null){u.return=y.return,ct=u;break}ct=y.return}return ft=pp,pp=!1,ft}function sa(u,y,T){var F=y.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var G=F=F.next;do{if((G.tag&u)===u){var J=G.destroy;G.destroy=void 0,J!==void 0&&Fu(y,T,J)}G=G.next}while(G!==F)}}function fl(u,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&u)===u){var F=T.create;T.destroy=F()}T=T.next}while(T!==y)}}function Bu(u){var y=u.ref;if(y!==null){var T=u.stateNode;switch(u.tag){case 5:u=T;break;default:u=T}typeof y=="function"?y(u):y.current=u}}function mp(u){var y=u.alternate;y!==null&&(u.alternate=null,mp(y)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(y=u.stateNode,y!==null&&(delete y[fs],delete y[Xo],delete y[tu],delete y[hy],delete y[py])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function gp(u){return u.tag===5||u.tag===3||u.tag===4}function bp(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||gp(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function zu(u,y,T){var F=u.tag;if(F===5||F===6)u=u.stateNode,y?T.nodeType===8?T.parentNode.insertBefore(u,y):T.insertBefore(u,y):(T.nodeType===8?(y=T.parentNode,y.insertBefore(u,T)):(y=T,y.appendChild(u)),T=T._reactRootContainer,T!=null||y.onclick!==null||(y.onclick=Ha));else if(F!==4&&(u=u.child,u!==null))for(zu(u,y,T),u=u.sibling;u!==null;)zu(u,y,T),u=u.sibling}function $u(u,y,T){var F=u.tag;if(F===5||F===6)u=u.stateNode,y?T.insertBefore(u,y):T.appendChild(u);else if(F!==4&&(u=u.child,u!==null))for($u(u,y,T),u=u.sibling;u!==null;)$u(u,y,T),u=u.sibling}var Br=null,Yn=!1;function ei(u,y,T){for(T=T.child;T!==null;)yp(u,y,T),T=T.sibling}function yp(u,y,T){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dt,T)}catch{}switch(T.tag){case 5:Yr||co(T,y);case 6:var F=Br,G=Yn;Br=null,ei(u,y,T),Br=F,Yn=G,Br!==null&&(Yn?(u=Br,T=T.stateNode,u.nodeType===8?u.parentNode.removeChild(T):u.removeChild(T)):Br.removeChild(T.stateNode));break;case 18:Br!==null&&(Yn?(u=Br,T=T.stateNode,u.nodeType===8?eu(u.parentNode,T):u.nodeType===1&&eu(u,T),Oo(u)):eu(Br,T.stateNode));break;case 4:F=Br,G=Yn,Br=T.stateNode.containerInfo,Yn=!0,ei(u,y,T),Br=F,Yn=G;break;case 0:case 11:case 14:case 15:if(!Yr&&(F=T.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){G=F=F.next;do{var J=G,se=J.destroy;J=J.tag,se!==void 0&&((J&2)!==0||(J&4)!==0)&&Fu(T,y,se),G=G.next}while(G!==F)}ei(u,y,T);break;case 1:if(!Yr&&(co(T,y),F=T.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=T.memoizedProps,F.state=T.memoizedState,F.componentWillUnmount()}catch(fe){kr(T,y,fe)}ei(u,y,T);break;case 21:ei(u,y,T);break;case 22:T.mode&1?(Yr=(F=Yr)||T.memoizedState!==null,ei(u,y,T),Yr=F):ei(u,y,T);break;default:ei(u,y,T)}}function vp(u){var y=u.updateQueue;if(y!==null){u.updateQueue=null;var T=u.stateNode;T===null&&(T=u.stateNode=new Ay),y.forEach(function(F){var G=zy.bind(null,u,F);T.has(F)||(T.add(F),F.then(G,G))})}}function Zn(u,y){var T=y.deletions;if(T!==null)for(var F=0;F<T.length;F++){var G=T[F];try{var J=u,se=y,fe=se;e:for(;fe!==null;){switch(fe.tag){case 5:Br=fe.stateNode,Yn=!1;break e;case 3:Br=fe.stateNode.containerInfo,Yn=!0;break e;case 4:Br=fe.stateNode.containerInfo,Yn=!0;break e}fe=fe.return}if(Br===null)throw Error(e(160));yp(J,se,G),Br=null,Yn=!1;var be=G.alternate;be!==null&&(be.return=null),G.return=null}catch(Ee){kr(G,y,Ee)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)xp(y,u),y=y.sibling}function xp(u,y){var T=u.alternate,F=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Zn(y,u),ms(u),F&4){try{sa(3,u,u.return),fl(3,u)}catch(pt){kr(u,u.return,pt)}try{sa(5,u,u.return)}catch(pt){kr(u,u.return,pt)}}break;case 1:Zn(y,u),ms(u),F&512&&T!==null&&co(T,T.return);break;case 5:if(Zn(y,u),ms(u),F&512&&T!==null&&co(T,T.return),u.flags&32){var G=u.stateNode;try{Ze(G,"")}catch(pt){kr(u,u.return,pt)}}if(F&4&&(G=u.stateNode,G!=null)){var J=u.memoizedProps,se=T!==null?T.memoizedProps:J,fe=u.type,be=u.updateQueue;if(u.updateQueue=null,be!==null)try{fe==="input"&&J.type==="radio"&&J.name!=null&&pe(G,J),Ke(fe,se);var Ee=Ke(fe,J);for(se=0;se<be.length;se+=2){var De=be[se],Oe=be[se+1];De==="style"?Fe(G,Oe):De==="dangerouslySetInnerHTML"?ot(G,Oe):De==="children"?Ze(G,Oe):j(G,De,Oe,Ee)}switch(fe){case"input":ie(G,J);break;case"textarea":je(G,J);break;case"select":var Pe=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!J.multiple;var st=J.value;st!=null?le(G,!!J.multiple,st,!1):Pe!==!!J.multiple&&(J.defaultValue!=null?le(G,!!J.multiple,J.defaultValue,!0):le(G,!!J.multiple,J.multiple?[]:"",!1))}G[Xo]=J}catch(pt){kr(u,u.return,pt)}}break;case 6:if(Zn(y,u),ms(u),F&4){if(u.stateNode===null)throw Error(e(162));G=u.stateNode,J=u.memoizedProps;try{G.nodeValue=J}catch(pt){kr(u,u.return,pt)}}break;case 3:if(Zn(y,u),ms(u),F&4&&T!==null&&T.memoizedState.isDehydrated)try{Oo(y.containerInfo)}catch(pt){kr(u,u.return,pt)}break;case 4:Zn(y,u),ms(u);break;case 13:Zn(y,u),ms(u),G=u.child,G.flags&8192&&(J=G.memoizedState!==null,G.stateNode.isHidden=J,!J||G.alternate!==null&&G.alternate.memoizedState!==null||(Vu=_e())),F&4&&vp(u);break;case 22:if(De=T!==null&&T.memoizedState!==null,u.mode&1?(Yr=(Ee=Yr)||De,Zn(y,u),Yr=Ee):Zn(y,u),ms(u),F&8192){if(Ee=u.memoizedState!==null,(u.stateNode.isHidden=Ee)&&!De&&(u.mode&1)!==0)for(ct=u,De=u.child;De!==null;){for(Oe=ct=De;ct!==null;){switch(Pe=ct,st=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:sa(4,Pe,Pe.return);break;case 1:co(Pe,Pe.return);var ft=Pe.stateNode;if(typeof ft.componentWillUnmount=="function"){F=Pe,T=Pe.return;try{y=F,ft.props=y.memoizedProps,ft.state=y.memoizedState,ft.componentWillUnmount()}catch(pt){kr(F,T,pt)}}break;case 5:co(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){Sp(Oe);continue}}st!==null?(st.return=Pe,ct=st):Sp(Oe)}De=De.sibling}e:for(De=null,Oe=u;;){if(Oe.tag===5){if(De===null){De=Oe;try{G=Oe.stateNode,Ee?(J=G.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(fe=Oe.stateNode,be=Oe.memoizedProps.style,se=be!=null&&be.hasOwnProperty("display")?be.display:null,fe.style.display=qe("display",se))}catch(pt){kr(u,u.return,pt)}}}else if(Oe.tag===6){if(De===null)try{Oe.stateNode.nodeValue=Ee?"":Oe.memoizedProps}catch(pt){kr(u,u.return,pt)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===u)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===u)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===u)break e;De===Oe&&(De=null),Oe=Oe.return}De===Oe&&(De=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:Zn(y,u),ms(u),F&4&&vp(u);break;case 21:break;default:Zn(y,u),ms(u)}}function ms(u){var y=u.flags;if(y&2){try{e:{for(var T=u.return;T!==null;){if(gp(T)){var F=T;break e}T=T.return}throw Error(e(160))}switch(F.tag){case 5:var G=F.stateNode;F.flags&32&&(Ze(G,""),F.flags&=-33);var J=bp(u);$u(u,J,G);break;case 3:case 4:var se=F.stateNode.containerInfo,fe=bp(u);zu(u,fe,se);break;default:throw Error(e(161))}}catch(be){kr(u,u.return,be)}u.flags&=-3}y&4096&&(u.flags&=-4097)}function My(u,y,T){ct=u,wp(u)}function wp(u,y,T){for(var F=(u.mode&1)!==0;ct!==null;){var G=ct,J=G.child;if(G.tag===22&&F){var se=G.memoizedState!==null||dl;if(!se){var fe=G.alternate,be=fe!==null&&fe.memoizedState!==null||Yr;fe=dl;var Ee=Yr;if(dl=se,(Yr=be)&&!Ee)for(ct=G;ct!==null;)se=ct,be=se.child,se.tag===22&&se.memoizedState!==null?kp(G):be!==null?(be.return=se,ct=be):kp(G);for(;J!==null;)ct=J,wp(J),J=J.sibling;ct=G,dl=fe,Yr=Ee}_p(u)}else(G.subtreeFlags&8772)!==0&&J!==null?(J.return=G,ct=J):_p(u)}}function _p(u){for(;ct!==null;){var y=ct;if((y.flags&8772)!==0){var T=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:Yr||fl(5,y);break;case 1:var F=y.stateNode;if(y.flags&4&&!Yr)if(T===null)F.componentDidMount();else{var G=y.elementType===y.type?T.memoizedProps:Kn(y.type,T.memoizedProps);F.componentDidUpdate(G,T.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var J=y.updateQueue;J!==null&&Sh(y,J,F);break;case 3:var se=y.updateQueue;if(se!==null){if(T=null,y.child!==null)switch(y.child.tag){case 5:T=y.child.stateNode;break;case 1:T=y.child.stateNode}Sh(y,se,T)}break;case 5:var fe=y.stateNode;if(T===null&&y.flags&4){T=fe;var be=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&T.focus();break;case"img":be.src&&(T.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Ee=y.alternate;if(Ee!==null){var De=Ee.memoizedState;if(De!==null){var Oe=De.dehydrated;Oe!==null&&Oo(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Yr||y.flags&512&&Bu(y)}catch(Pe){kr(y,y.return,Pe)}}if(y===u){ct=null;break}if(T=y.sibling,T!==null){T.return=y.return,ct=T;break}ct=y.return}}function Sp(u){for(;ct!==null;){var y=ct;if(y===u){ct=null;break}var T=y.sibling;if(T!==null){T.return=y.return,ct=T;break}ct=y.return}}function kp(u){for(;ct!==null;){var y=ct;try{switch(y.tag){case 0:case 11:case 15:var T=y.return;try{fl(4,y)}catch(be){kr(y,T,be)}break;case 1:var F=y.stateNode;if(typeof F.componentDidMount=="function"){var G=y.return;try{F.componentDidMount()}catch(be){kr(y,G,be)}}var J=y.return;try{Bu(y)}catch(be){kr(y,J,be)}break;case 5:var se=y.return;try{Bu(y)}catch(be){kr(y,se,be)}}}catch(be){kr(y,y.return,be)}if(y===u){ct=null;break}var fe=y.sibling;if(fe!==null){fe.return=y.return,ct=fe;break}ct=y.return}}var Iy=Math.ceil,hl=C.ReactCurrentDispatcher,Uu=C.ReactCurrentOwner,Ln=C.ReactCurrentBatchConfig,rr=0,Or=null,Cr=null,zr=0,Sn=0,uo=Ks(0),Mr=0,ia=null,ki=0,pl=0,Hu=0,oa=null,dn=null,Vu=0,fo=1/0,Ls=null,ml=!1,Wu=null,ti=null,gl=!1,ri=null,bl=0,aa=0,qu=null,yl=-1,vl=0;function rn(){return(rr&6)!==0?_e():yl!==-1?yl:yl=_e()}function ni(u){return(u.mode&1)===0?1:(rr&2)!==0&&zr!==0?zr&-zr:gy.transition!==null?(vl===0&&(vl=tr()),vl):(u=Bt,u!==0||(u=window.event,u=u===void 0?16:Ef(u.type)),u)}function Jn(u,y,T,F){if(50<aa)throw aa=0,qu=null,Error(e(185));an(u,T,F),((rr&2)===0||u!==Or)&&(u===Or&&((rr&2)===0&&(pl|=T),Mr===4&&si(u,zr)),fn(u,F),T===1&&rr===0&&(y.mode&1)===0&&(fo=_e()+500,Xa&&Zs()))}function fn(u,y){var T=u.callbackNode;Hs(u,y);var F=An(u,u===Or?zr:0);if(F===0)T!==null&&Sr(T),u.callbackNode=null,u.callbackPriority=0;else if(y=F&-F,u.callbackPriority!==y){if(T!=null&&Sr(T),y===1)u.tag===0?my(Ep.bind(null,u)):dh(Ep.bind(null,u)),dy(function(){(rr&6)===0&&Zs()}),T=null;else{switch(Rn(F)){case 1:T=Ie;break;case 4:T=dt;break;case 16:T=ze;break;case 536870912:T=Xt;break;default:T=ze}T=Pp(T,Np.bind(null,u))}u.callbackPriority=y,u.callbackNode=T}}function Np(u,y){if(yl=-1,vl=0,(rr&6)!==0)throw Error(e(327));var T=u.callbackNode;if(ho()&&u.callbackNode!==T)return null;var F=An(u,u===Or?zr:0);if(F===0)return null;if((F&30)!==0||(F&u.expiredLanes)!==0||y)y=xl(u,F);else{y=F;var G=rr;rr|=2;var J=Cp();(Or!==u||zr!==y)&&(Ls=null,fo=_e()+500,Ei(u,y));do try{Oy();break}catch(fe){jp(u,fe)}while(!0);uu(),hl.current=J,rr=G,Cr!==null?y=0:(Or=null,zr=0,y=Mr)}if(y!==0){if(y===2&&(G=us(u),G!==0&&(F=G,y=Xu(u,G))),y===1)throw T=ia,Ei(u,0),si(u,F),fn(u,_e()),T;if(y===6)si(u,F);else{if(G=u.current.alternate,(F&30)===0&&!Py(G)&&(y=xl(u,F),y===2&&(J=us(u),J!==0&&(F=J,y=Xu(u,J))),y===1))throw T=ia,Ei(u,0),si(u,F),fn(u,_e()),T;switch(u.finishedWork=G,u.finishedLanes=F,y){case 0:case 1:throw Error(e(345));case 2:ji(u,dn,Ls);break;case 3:if(si(u,F),(F&130023424)===F&&(y=Vu+500-_e(),10<y)){if(An(u,0)!==0)break;if(G=u.suspendedLanes,(G&F)!==F){rn(),u.pingedLanes|=u.suspendedLanes&G;break}u.timeoutHandle=Qc(ji.bind(null,u,dn,Ls),y);break}ji(u,dn,Ls);break;case 4:if(si(u,F),(F&4194240)===F)break;for(y=u.eventTimes,G=-1;0<F;){var se=31-Ut(F);J=1<<se,se=y[se],se>G&&(G=se),F&=~J}if(F=G,F=_e()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Iy(F/1960))-F,10<F){u.timeoutHandle=Qc(ji.bind(null,u,dn,Ls),F);break}ji(u,dn,Ls);break;case 5:ji(u,dn,Ls);break;default:throw Error(e(329))}}}return fn(u,_e()),u.callbackNode===T?Np.bind(null,u):null}function Xu(u,y){var T=oa;return u.current.memoizedState.isDehydrated&&(Ei(u,y).flags|=256),u=xl(u,y),u!==2&&(y=dn,dn=T,y!==null&&Gu(y)),u}function Gu(u){dn===null?dn=u:dn.push.apply(dn,u)}function Py(u){for(var y=u;;){if(y.flags&16384){var T=y.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var F=0;F<T.length;F++){var G=T[F],J=G.getSnapshot;G=G.value;try{if(!Xn(J(),G))return!1}catch{return!1}}}if(T=y.child,y.subtreeFlags&16384&&T!==null)T.return=y,y=T;else{if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function si(u,y){for(y&=~Hu,y&=~pl,u.suspendedLanes|=y,u.pingedLanes&=~y,u=u.expirationTimes;0<y;){var T=31-Ut(y),F=1<<T;u[T]=-1,y&=~F}}function Ep(u){if((rr&6)!==0)throw Error(e(327));ho();var y=An(u,0);if((y&1)===0)return fn(u,_e()),null;var T=xl(u,y);if(u.tag!==0&&T===2){var F=us(u);F!==0&&(y=F,T=Xu(u,F))}if(T===1)throw T=ia,Ei(u,0),si(u,y),fn(u,_e()),T;if(T===6)throw Error(e(345));return u.finishedWork=u.current.alternate,u.finishedLanes=y,ji(u,dn,Ls),fn(u,_e()),null}function Ku(u,y){var T=rr;rr|=1;try{return u(y)}finally{rr=T,rr===0&&(fo=_e()+500,Xa&&Zs())}}function Ni(u){ri!==null&&ri.tag===0&&(rr&6)===0&&ho();var y=rr;rr|=1;var T=Ln.transition,F=Bt;try{if(Ln.transition=null,Bt=1,u)return u()}finally{Bt=F,Ln.transition=T,rr=y,(rr&6)===0&&Zs()}}function Yu(){Sn=uo.current,pr(uo)}function Ei(u,y){u.finishedWork=null,u.finishedLanes=0;var T=u.timeoutHandle;if(T!==-1&&(u.timeoutHandle=-1,uy(T)),Cr!==null)for(T=Cr.return;T!==null;){var F=T;switch(iu(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Wa();break;case 3:ao(),pr(ln),pr(Xr),yu();break;case 5:gu(F);break;case 4:ao();break;case 13:pr(vr);break;case 19:pr(vr);break;case 10:du(F.type._context);break;case 22:case 23:Yu()}T=T.return}if(Or=u,Cr=u=ii(u.current,null),zr=Sn=y,Mr=0,ia=null,Hu=pl=ki=0,dn=oa=null,wi!==null){for(y=0;y<wi.length;y++)if(T=wi[y],F=T.interleaved,F!==null){T.interleaved=null;var G=F.next,J=T.pending;if(J!==null){var se=J.next;J.next=G,F.next=se}T.pending=F}wi=null}return u}function jp(u,y){do{var T=Cr;try{if(uu(),nl.current=al,sl){for(var F=xr.memoizedState;F!==null;){var G=F.queue;G!==null&&(G.pending=null),F=F.next}sl=!1}if(Si=0,Dr=Rr=xr=null,Qo=!1,ea=0,Uu.current=null,T===null||T.return===null){Mr=1,ia=y,Cr=null;break}e:{var J=u,se=T.return,fe=T,be=y;if(y=zr,fe.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ee=be,De=fe,Oe=De.tag;if((De.mode&1)===0&&(Oe===0||Oe===11||Oe===15)){var Pe=De.alternate;Pe?(De.updateQueue=Pe.updateQueue,De.memoizedState=Pe.memoizedState,De.lanes=Pe.lanes):(De.updateQueue=null,De.memoizedState=null)}var st=Jh(se);if(st!==null){st.flags&=-257,Qh(st,se,fe,J,y),st.mode&1&&Zh(J,Ee,y),y=st,be=Ee;var ft=y.updateQueue;if(ft===null){var pt=new Set;pt.add(be),y.updateQueue=pt}else ft.add(be);break e}else{if((y&1)===0){Zh(J,Ee,y),Zu();break e}be=Error(e(426))}}else if(gr&&fe.mode&1){var Er=Jh(se);if(Er!==null){(Er.flags&65536)===0&&(Er.flags|=256),Qh(Er,se,fe,J,y),lu(lo(be,fe));break e}}J=be=lo(be,fe),Mr!==4&&(Mr=2),oa===null?oa=[J]:oa.push(J),J=se;do{switch(J.tag){case 3:J.flags|=65536,y&=-y,J.lanes|=y;var Se=Kh(J,be,y);_h(J,Se);break e;case 1:fe=be;var xe=J.type,ke=J.stateNode;if((J.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(ti===null||!ti.has(ke)))){J.flags|=65536,y&=-y,J.lanes|=y;var Ue=Yh(J,fe,y);_h(J,Ue);break e}}J=J.return}while(J!==null)}Ap(T)}catch(mt){y=mt,Cr===T&&T!==null&&(Cr=T=T.return);continue}break}while(!0)}function Cp(){var u=hl.current;return hl.current=al,u===null?al:u}function Zu(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Or===null||(ki&268435455)===0&&(pl&268435455)===0||si(Or,zr)}function xl(u,y){var T=rr;rr|=2;var F=Cp();(Or!==u||zr!==y)&&(Ls=null,Ei(u,y));do try{Dy();break}catch(G){jp(u,G)}while(!0);if(uu(),rr=T,hl.current=F,Cr!==null)throw Error(e(261));return Or=null,zr=0,Mr}function Dy(){for(;Cr!==null;)Tp(Cr)}function Oy(){for(;Cr!==null&&!qr();)Tp(Cr)}function Tp(u){var y=Ip(u.alternate,u,Sn);u.memoizedProps=u.pendingProps,y===null?Ap(u):Cr=y,Uu.current=null}function Ap(u){var y=u;do{var T=y.alternate;if(u=y.return,(y.flags&32768)===0){if(T=Cy(T,y,Sn),T!==null){Cr=T;return}}else{if(T=Ty(T,y),T!==null){T.flags&=32767,Cr=T;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Mr=6,Cr=null;return}}if(y=y.sibling,y!==null){Cr=y;return}Cr=y=u}while(y!==null);Mr===0&&(Mr=5)}function ji(u,y,T){var F=Bt,G=Ln.transition;try{Ln.transition=null,Bt=1,Ly(u,y,T,F)}finally{Ln.transition=G,Bt=F}return null}function Ly(u,y,T,F){do ho();while(ri!==null);if((rr&6)!==0)throw Error(e(327));T=u.finishedWork;var G=u.finishedLanes;if(T===null)return null;if(u.finishedWork=null,u.finishedLanes=0,T===u.current)throw Error(e(177));u.callbackNode=null,u.callbackPriority=0;var J=T.lanes|T.childLanes;if(Es(u,J),u===Or&&(Cr=Or=null,zr=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||gl||(gl=!0,Pp(ze,function(){return ho(),null})),J=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||J){J=Ln.transition,Ln.transition=null;var se=Bt;Bt=1;var fe=rr;rr|=4,Uu.current=null,Ry(u,T),xp(T,u),ny(Zc),Ra=!!Yc,Zc=Yc=null,u.current=T,My(T),ce(),rr=fe,Bt=se,Ln.transition=J}else u.current=T;if(gl&&(gl=!1,ri=u,bl=G),J=u.pendingLanes,J===0&&(ti=null),vt(T.stateNode),fn(u,_e()),y!==null)for(F=u.onRecoverableError,T=0;T<y.length;T++)G=y[T],F(G.value,{componentStack:G.stack,digest:G.digest});if(ml)throw ml=!1,u=Wu,Wu=null,u;return(bl&1)!==0&&u.tag!==0&&ho(),J=u.pendingLanes,(J&1)!==0?u===qu?aa++:(aa=0,qu=u):aa=0,Zs(),null}function ho(){if(ri!==null){var u=Rn(bl),y=Ln.transition,T=Bt;try{if(Ln.transition=null,Bt=16>u?16:u,ri===null)var F=!1;else{if(u=ri,ri=null,bl=0,(rr&6)!==0)throw Error(e(331));var G=rr;for(rr|=4,ct=u.current;ct!==null;){var J=ct,se=J.child;if((ct.flags&16)!==0){var fe=J.deletions;if(fe!==null){for(var be=0;be<fe.length;be++){var Ee=fe[be];for(ct=Ee;ct!==null;){var De=ct;switch(De.tag){case 0:case 11:case 15:sa(8,De,J)}var Oe=De.child;if(Oe!==null)Oe.return=De,ct=Oe;else for(;ct!==null;){De=ct;var Pe=De.sibling,st=De.return;if(mp(De),De===Ee){ct=null;break}if(Pe!==null){Pe.return=st,ct=Pe;break}ct=st}}}var ft=J.alternate;if(ft!==null){var pt=ft.child;if(pt!==null){ft.child=null;do{var Er=pt.sibling;pt.sibling=null,pt=Er}while(pt!==null)}}ct=J}}if((J.subtreeFlags&2064)!==0&&se!==null)se.return=J,ct=se;else e:for(;ct!==null;){if(J=ct,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:sa(9,J,J.return)}var Se=J.sibling;if(Se!==null){Se.return=J.return,ct=Se;break e}ct=J.return}}var xe=u.current;for(ct=xe;ct!==null;){se=ct;var ke=se.child;if((se.subtreeFlags&2064)!==0&&ke!==null)ke.return=se,ct=ke;else e:for(se=xe;ct!==null;){if(fe=ct,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:fl(9,fe)}}catch(mt){kr(fe,fe.return,mt)}if(fe===se){ct=null;break e}var Ue=fe.sibling;if(Ue!==null){Ue.return=fe.return,ct=Ue;break e}ct=fe.return}}if(rr=G,Zs(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dt,u)}catch{}F=!0}return F}finally{Bt=T,Ln.transition=y}}return!1}function Rp(u,y,T){y=lo(T,y),y=Kh(u,y,1),u=Qs(u,y,1),y=rn(),u!==null&&(an(u,1,y),fn(u,y))}function kr(u,y,T){if(u.tag===3)Rp(u,u,T);else for(;y!==null;){if(y.tag===3){Rp(y,u,T);break}else if(y.tag===1){var F=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(ti===null||!ti.has(F))){u=lo(T,u),u=Yh(y,u,1),y=Qs(y,u,1),u=rn(),y!==null&&(an(y,1,u),fn(y,u));break}}y=y.return}}function Fy(u,y,T){var F=u.pingCache;F!==null&&F.delete(y),y=rn(),u.pingedLanes|=u.suspendedLanes&T,Or===u&&(zr&T)===T&&(Mr===4||Mr===3&&(zr&130023424)===zr&&500>_e()-Vu?Ei(u,0):Hu|=T),fn(u,y)}function Mp(u,y){y===0&&((u.mode&1)===0?y=1:(y=jr,jr<<=1,(jr&130023424)===0&&(jr=4194304)));var T=rn();u=Ps(u,y),u!==null&&(an(u,y,T),fn(u,T))}function By(u){var y=u.memoizedState,T=0;y!==null&&(T=y.retryLane),Mp(u,T)}function zy(u,y){var T=0;switch(u.tag){case 13:var F=u.stateNode,G=u.memoizedState;G!==null&&(T=G.retryLane);break;case 19:F=u.stateNode;break;default:throw Error(e(314))}F!==null&&F.delete(y),Mp(u,T)}var Ip;Ip=function(u,y,T){if(u!==null)if(u.memoizedProps!==y.pendingProps||ln.current)un=!0;else{if((u.lanes&T)===0&&(y.flags&128)===0)return un=!1,jy(u,y,T);un=(u.flags&131072)!==0}else un=!1,gr&&(y.flags&1048576)!==0&&fh(y,Ka,y.index);switch(y.lanes=0,y.tag){case 2:var F=y.type;ul(u,y),u=y.pendingProps;var G=eo(y,Xr.current);oo(y,T),G=wu(null,y,F,u,G,T);var J=_u();return y.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,cn(F)?(J=!0,qa(y)):J=!1,y.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,pu(y),G.updater=ll,y.stateNode=G,G._reactInternals=y,Cu(y,F,u,T),y=Mu(null,y,F,!0,J,T)):(y.tag=0,gr&&J&&su(y),tn(null,y,G,T),y=y.child),y;case 16:F=y.elementType;e:{switch(ul(u,y),u=y.pendingProps,G=F._init,F=G(F._payload),y.type=F,G=y.tag=Uy(F),u=Kn(F,u),G){case 0:y=Ru(null,y,F,u,T);break e;case 1:y=ip(null,y,F,u,T);break e;case 11:y=ep(null,y,F,u,T);break e;case 14:y=tp(null,y,F,Kn(F.type,u),T);break e}throw Error(e(306,F,""))}return y;case 0:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:Kn(F,G),Ru(u,y,F,G,T);case 1:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:Kn(F,G),ip(u,y,F,G,T);case 3:e:{if(op(y),u===null)throw Error(e(387));F=y.pendingProps,J=y.memoizedState,G=J.element,wh(u,y),tl(y,F,null,T);var se=y.memoizedState;if(F=se.element,J.isDehydrated)if(J={element:F,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},y.updateQueue.baseState=J,y.memoizedState=J,y.flags&256){G=lo(Error(e(423)),y),y=ap(u,y,F,T,G);break e}else if(F!==G){G=lo(Error(e(424)),y),y=ap(u,y,F,T,G);break e}else for(_n=Gs(y.stateNode.containerInfo.firstChild),wn=y,gr=!0,Gn=null,T=vh(y,null,F,T),y.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(no(),F===G){y=Os(u,y,T);break e}tn(u,y,F,T)}y=y.child}return y;case 5:return kh(y),u===null&&au(y),F=y.type,G=y.pendingProps,J=u!==null?u.memoizedProps:null,se=G.children,Jc(F,G)?se=null:J!==null&&Jc(F,J)&&(y.flags|=32),sp(u,y),tn(u,y,se,T),y.child;case 6:return u===null&&au(y),null;case 13:return lp(u,y,T);case 4:return mu(y,y.stateNode.containerInfo),F=y.pendingProps,u===null?y.child=so(y,null,F,T):tn(u,y,F,T),y.child;case 11:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:Kn(F,G),ep(u,y,F,G,T);case 7:return tn(u,y,y.pendingProps,T),y.child;case 8:return tn(u,y,y.pendingProps.children,T),y.child;case 12:return tn(u,y,y.pendingProps.children,T),y.child;case 10:e:{if(F=y.type._context,G=y.pendingProps,J=y.memoizedProps,se=G.value,cr(Ja,F._currentValue),F._currentValue=se,J!==null)if(Xn(J.value,se)){if(J.children===G.children&&!ln.current){y=Os(u,y,T);break e}}else for(J=y.child,J!==null&&(J.return=y);J!==null;){var fe=J.dependencies;if(fe!==null){se=J.child;for(var be=fe.firstContext;be!==null;){if(be.context===F){if(J.tag===1){be=Ds(-1,T&-T),be.tag=2;var Ee=J.updateQueue;if(Ee!==null){Ee=Ee.shared;var De=Ee.pending;De===null?be.next=be:(be.next=De.next,De.next=be),Ee.pending=be}}J.lanes|=T,be=J.alternate,be!==null&&(be.lanes|=T),fu(J.return,T,y),fe.lanes|=T;break}be=be.next}}else if(J.tag===10)se=J.type===y.type?null:J.child;else if(J.tag===18){if(se=J.return,se===null)throw Error(e(341));se.lanes|=T,fe=se.alternate,fe!==null&&(fe.lanes|=T),fu(se,T,y),se=J.sibling}else se=J.child;if(se!==null)se.return=J;else for(se=J;se!==null;){if(se===y){se=null;break}if(J=se.sibling,J!==null){J.return=se.return,se=J;break}se=se.return}J=se}tn(u,y,G.children,T),y=y.child}return y;case 9:return G=y.type,F=y.pendingProps.children,oo(y,T),G=Dn(G),F=F(G),y.flags|=1,tn(u,y,F,T),y.child;case 14:return F=y.type,G=Kn(F,y.pendingProps),G=Kn(F.type,G),tp(u,y,F,G,T);case 15:return rp(u,y,y.type,y.pendingProps,T);case 17:return F=y.type,G=y.pendingProps,G=y.elementType===F?G:Kn(F,G),ul(u,y),y.tag=1,cn(F)?(u=!0,qa(y)):u=!1,oo(y,T),Xh(y,F,G),Cu(y,F,G,T),Mu(null,y,F,!0,u,T);case 19:return up(u,y,T);case 22:return np(u,y,T)}throw Error(e(156,y.tag))};function Pp(u,y){return _r(u,y)}function $y(u,y,T,F){this.tag=u,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(u,y,T,F){return new $y(u,y,T,F)}function Ju(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Uy(u){if(typeof u=="function")return Ju(u)?1:0;if(u!=null){if(u=u.$$typeof,u===W)return 11;if(u===E)return 14}return 2}function ii(u,y){var T=u.alternate;return T===null?(T=Fn(u.tag,y,u.key,u.mode),T.elementType=u.elementType,T.type=u.type,T.stateNode=u.stateNode,T.alternate=u,u.alternate=T):(T.pendingProps=y,T.type=u.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=u.flags&14680064,T.childLanes=u.childLanes,T.lanes=u.lanes,T.child=u.child,T.memoizedProps=u.memoizedProps,T.memoizedState=u.memoizedState,T.updateQueue=u.updateQueue,y=u.dependencies,T.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},T.sibling=u.sibling,T.index=u.index,T.ref=u.ref,T}function wl(u,y,T,F,G,J){var se=2;if(F=u,typeof u=="function")Ju(u)&&(se=1);else if(typeof u=="string")se=5;else e:switch(u){case V:return Ci(T.children,G,J,y);case B:se=8,G|=8;break;case U:return u=Fn(12,T,y,G|2),u.elementType=U,u.lanes=J,u;case R:return u=Fn(13,T,y,G),u.elementType=R,u.lanes=J,u;case D:return u=Fn(19,T,y,G),u.elementType=D,u.lanes=J,u;case k:return _l(T,G,J,y);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case q:se=10;break e;case Y:se=9;break e;case W:se=11;break e;case E:se=14;break e;case w:se=16,F=null;break e}throw Error(e(130,u==null?u:typeof u,""))}return y=Fn(se,T,y,G),y.elementType=u,y.type=F,y.lanes=J,y}function Ci(u,y,T,F){return u=Fn(7,u,F,y),u.lanes=T,u}function _l(u,y,T,F){return u=Fn(22,u,F,y),u.elementType=k,u.lanes=T,u.stateNode={isHidden:!1},u}function Qu(u,y,T){return u=Fn(6,u,null,y),u.lanes=T,u}function ed(u,y,T){return y=Fn(4,u.children!==null?u.children:[],u.key,y),y.lanes=T,y.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},y}function Hy(u,y,T,F,G){this.tag=y,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.identifierPrefix=F,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function td(u,y,T,F,G,J,se,fe,be){return u=new Hy(u,y,T,fe,be),y===1?(y=1,J===!0&&(y|=8)):y=0,J=Fn(3,null,null,y),u.current=J,J.stateNode=u,J.memoizedState={element:F,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(J),u}function Vy(u,y,T){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:F==null?null:""+F,children:u,containerInfo:y,implementation:T}}function Dp(u){if(!u)return Ys;u=u._reactInternals;e:{if(it(u)!==u||u.tag!==1)throw Error(e(170));var y=u;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(cn(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(e(171))}if(u.tag===1){var T=u.type;if(cn(T))return ch(u,T,y)}return y}function Op(u,y,T,F,G,J,se,fe,be){return u=td(T,F,!0,u,G,J,se,fe,be),u.context=Dp(null),T=u.current,F=rn(),G=ni(T),J=Ds(F,G),J.callback=y??null,Qs(T,J,G),u.current.lanes=G,an(u,G,F),fn(u,F),u}function Sl(u,y,T,F){var G=y.current,J=rn(),se=ni(G);return T=Dp(T),y.context===null?y.context=T:y.pendingContext=T,y=Ds(J,se),y.payload={element:u},F=F===void 0?null:F,F!==null&&(y.callback=F),u=Qs(G,y,se),u!==null&&(Jn(u,G,se,J),el(u,G,se)),se}function kl(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Lp(u,y){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var T=u.retryLane;u.retryLane=T!==0&&T<y?T:y}}function rd(u,y){Lp(u,y),(u=u.alternate)&&Lp(u,y)}function Wy(){return null}var Fp=typeof reportError=="function"?reportError:function(u){console.error(u)};function nd(u){this._internalRoot=u}Nl.prototype.render=nd.prototype.render=function(u){var y=this._internalRoot;if(y===null)throw Error(e(409));Sl(u,y,null,null)},Nl.prototype.unmount=nd.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var y=u.containerInfo;Ni(function(){Sl(null,u,null,null)}),y[As]=null}};function Nl(u){this._internalRoot=u}Nl.prototype.unstable_scheduleHydration=function(u){if(u){var y=Cs();u={blockedOn:null,target:u,priority:y};for(var T=0;T<vn.length&&y!==0&&y<vn[T].priority;T++);vn.splice(T,0,u),T===0&&kf(u)}};function sd(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function El(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function qy(u,y,T,F,G){if(G){if(typeof F=="function"){var J=F;F=function(){var Ee=kl(se);J.call(Ee)}}var se=Op(y,F,u,0,null,!1,!1,"",Bp);return u._reactRootContainer=se,u[As]=se.current,Wo(u.nodeType===8?u.parentNode:u),Ni(),se}for(;G=u.lastChild;)u.removeChild(G);if(typeof F=="function"){var fe=F;F=function(){var Ee=kl(be);fe.call(Ee)}}var be=td(u,0,!1,null,null,!1,!1,"",Bp);return u._reactRootContainer=be,u[As]=be.current,Wo(u.nodeType===8?u.parentNode:u),Ni(function(){Sl(y,be,T,F)}),be}function jl(u,y,T,F,G){var J=T._reactRootContainer;if(J){var se=J;if(typeof G=="function"){var fe=G;G=function(){var be=kl(se);fe.call(be)}}Sl(y,se,u,G)}else se=qy(T,y,u,G,F);return kl(se)}Wn=function(u){switch(u.tag){case 3:var y=u.stateNode;if(y.current.memoizedState.isDehydrated){var T=Fr(y.pendingLanes);T!==0&&(Vs(y,T|1),fn(y,_e()),(rr&6)===0&&(fo=_e()+500,Zs()))}break;case 13:Ni(function(){var F=Ps(u,1);if(F!==null){var G=rn();Jn(F,u,1,G)}}),rd(u,1)}},js=function(u){if(u.tag===13){var y=Ps(u,134217728);if(y!==null){var T=rn();Jn(y,u,134217728,T)}rd(u,134217728)}},gi=function(u){if(u.tag===13){var y=ni(u),T=Ps(u,y);if(T!==null){var F=rn();Jn(T,u,y,F)}rd(u,y)}},Cs=function(){return Bt},qn=function(u,y){var T=Bt;try{return Bt=u,y()}finally{Bt=T}},ht=function(u,y,T){switch(y){case"input":if(ie(u,T),y=T.name,T.type==="radio"&&y!=null){for(T=u;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<T.length;y++){var F=T[y];if(F!==u&&F.form===u.form){var G=Va(F);if(!G)throw Error(e(90));ne(F),ie(F,G)}}}break;case"textarea":je(u,T);break;case"select":y=T.value,y!=null&&le(u,!!T.multiple,y,!1)}},Ye=Ku,xt=Ni;var Xy={usingClientEntryPoint:!1,Events:[Go,Ji,Va,Ge,gt,Ku]},la={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gy={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=dr(u),u===null?null:u.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||Wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Dt=Cl.inject(Gy),Tt=Cl}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy,hn.createPortal=function(u,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(y))throw Error(e(200));return Vy(u,y,null,T)},hn.createRoot=function(u,y){if(!sd(u))throw Error(e(299));var T=!1,F="",G=Fp;return y!=null&&(y.unstable_strictMode===!0&&(T=!0),y.identifierPrefix!==void 0&&(F=y.identifierPrefix),y.onRecoverableError!==void 0&&(G=y.onRecoverableError)),y=td(u,1,!1,null,null,T,!1,F,G),u[As]=y.current,Wo(u.nodeType===8?u.parentNode:u),new nd(y)},hn.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var y=u._reactInternals;if(y===void 0)throw typeof u.render=="function"?Error(e(188)):(u=Object.keys(u).join(","),Error(e(268,u)));return u=dr(y),u=u===null?null:u.stateNode,u},hn.flushSync=function(u){return Ni(u)},hn.hydrate=function(u,y,T){if(!El(y))throw Error(e(200));return jl(null,u,y,!0,T)},hn.hydrateRoot=function(u,y,T){if(!sd(u))throw Error(e(405));var F=T!=null&&T.hydratedSources||null,G=!1,J="",se=Fp;if(T!=null&&(T.unstable_strictMode===!0&&(G=!0),T.identifierPrefix!==void 0&&(J=T.identifierPrefix),T.onRecoverableError!==void 0&&(se=T.onRecoverableError)),y=Op(y,null,u,1,T??null,G,!1,J,se),u[As]=y.current,Wo(u),F)for(u=0;u<F.length;u++)T=F[u],G=T._getVersion,G=G(T._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[T,G]:y.mutableSourceEagerHydrationData.push(T,G);return new Nl(y)},hn.render=function(u,y,T){if(!El(y))throw Error(e(200));return jl(null,u,y,!1,T)},hn.unmountComponentAtNode=function(u){if(!El(u))throw Error(e(40));return u._reactRootContainer?(Ni(function(){jl(null,null,u,!1,function(){u._reactRootContainer=null,u[As]=null})}),!0):!1},hn.unstable_batchedUpdates=Ku,hn.unstable_renderSubtreeIntoContainer=function(u,y,T,F){if(!El(T))throw Error(e(200));if(u==null||u._reactInternals===void 0)throw Error(e(38));return jl(u,y,T,!1,F)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Xp;function Xm(){if(Xp)return ad.exports;Xp=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(d){console.error(d)}}return _(),ad.exports=rv(),ad.exports}var Gp;function nv(){if(Gp)return Tl;Gp=1;var _=Xm();return Tl.createRoot=_.createRoot,Tl.hydrateRoot=_.hydrateRoot,Tl}var sv=nv(),Z=zd();const Be=qm(Z),Gm=Yy({__proto__:null,default:Be},[Z]),iv={api:{baseUrl:"http://localhost:5120/api"}};class ov{cache=new Map;inFlight=new Map;DEFAULT_TTL=300*1e3;DEFAULT_STALE_TTL=900*1e3;MAX_CACHE_SIZE=1e3;cleanupInterval;constructor(){this.cleanupInterval=setInterval(()=>{this.cleanExpired()},6e4)}set(d,e,h,m,c){this.cache.size>=this.MAX_CACHE_SIZE&&this.evictLeastRecentlyUsed();const s={data:e,timestamp:Date.now(),ttl:h??this.DEFAULT_TTL,staleTtl:m??this.DEFAULT_STALE_TTL,priority:c?.priority??"normal",tags:c?.tags??[]};this.cache.set(d,s)}get(d){const e=this.cache.get(d);return e?Date.now()-e.timestamp>e.staleTtl?(this.cache.delete(d),null):e.data:null}isFresh(d){const e=this.cache.get(d);return e?Date.now()-e.timestamp<=e.ttl:!1}has(d){const e=this.cache.get(d);return e?Date.now()-e.timestamp>e.staleTtl?(this.cache.delete(d),!1):!0:!1}delete(d){this.cache.delete(d)}clear(){this.cache.clear()}invalidatePattern(d){const e=new RegExp(d);for(const h of this.cache.keys())e.test(h)&&this.cache.delete(h)}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}cleanExpired(){const d=Date.now();for(const[e,h]of this.cache.entries())d-h.timestamp>h.staleTtl&&this.cache.delete(e)}async getOrFetch(d,e,h){const m=this.cache.get(d),c=Date.now(),s=h?.ttl??this.DEFAULT_TTL,i=h?.staleTtl??this.DEFAULT_STALE_TTL;if(m){const n=c-m.timestamp;if(n<=m.ttl)return m.data;if(n<=m.staleTtl)return h?.revalidate!==!1&&this.revalidate(d,e,s,i,h),m.data;this.cache.delete(d)}const r=this.inFlight.get(d);if(r)return r;const t=e().then(n=>(this.set(d,n,s,i,h),n)).finally(()=>this.inFlight.delete(d));return this.inFlight.set(d,t),t}setWithTags(d,e,h,m){this.set(d,e,m,void 0,{tags:h})}invalidateByTag(d){for(const[e,h]of this.cache.entries())h.tags.includes(d)&&this.cache.delete(e)}invalidateByPattern(d){const e=new RegExp(d,"i");for(const h of this.cache.keys())e.test(h)&&this.cache.delete(h)}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),hitRate:0}}evictLeastRecentlyUsed(){const d=Array.from(this.cache.entries());d.sort((h,m)=>h[1].timestamp-m[1].timestamp);const e=Math.ceil(d.length*.1);for(let h=0;h<e;h++)this.cache.delete(d[h][0])}async revalidate(d,e,h,m,c){if(this.inFlight.has(d))return;const s=e().then(i=>this.set(d,i,h,m,c)).finally(()=>this.inFlight.delete(d));this.inFlight.set(d,s)}destroy(){this.cleanupInterval&&clearInterval(this.cleanupInterval)}}const br=new ov;setInterval(()=>{br.cleanExpired()},300*1e3);var Km=(_=>(_.Text="Text",_.Number="Number",_.Date="Date",_.Email="Email",_.PhoneNumber="PhoneNumber",_.Currency="Currency",_.Percentage="Percentage",_.Boolean="Boolean",_.Dropdown="Dropdown",_.TextArea="TextArea",_.Url="Url",_.Image="Image",_.File="File",_.DateTime="DateTime",_.Time="Time",_.Json="Json",_))(Km||{});class av{baseUrl=iv.api.baseUrl;authToken=null;isRefreshing=!1;refreshPromise=null;constructor(){this.authToken=localStorage.getItem("authToken")}setAuthToken(d){this.authToken=d,localStorage.setItem("authToken",d)}clearAuthToken(){this.authToken=null,localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser")}getHeaders(){const d={"Content-Type":"application/json"};return this.authToken&&(d.Authorization=`Bearer ${this.authToken}`),d}async handleResponse(d,e){if(!d.ok){if(d.status===401){const m=localStorage.getItem("refreshToken");if(m&&e)try{return this.isRefreshing&&this.refreshPromise?await this.refreshPromise:await this.refreshToken(m),await e()}catch(c){throw console.warn("Token refresh failed:",c),this.clearAuthToken(),window.location.href="/login",new Error("Authentication failed - please login again")}else throw this.clearAuthToken(),window.location.href="/login",new Error("Authentication required")}const h=await d.json().catch(()=>({}));throw new Error(h.message||`HTTP Error: ${d.status}`)}return d.json()}async requestBinary(d,e={}){const h=`${this.baseUrl}${d}`,m=this.getHeaders(),c={...e,headers:{...m,...e.headers}};console.log(`🚀 [API-REQUEST] Starting binary request to: ${d}`),console.log(`📡 [API-REQUEST] Full URL: ${h}`),console.log(`📋 [API-REQUEST] Method: ${c.method||"GET"}`),console.log(`🔑 [API-REQUEST] Has auth token: ${!!m.Authorization}`),console.log(`📦 [API-REQUEST] Request body: ${c.body?"Binary data":"undefined"}`);const s=async()=>{console.log("🔄 [API-REQUEST] Sending binary request...");const i=await fetch(h,c);if(console.log(`📊 [API-REQUEST] Response status: ${i.status} ${i.statusText}`),console.log("📊 [API-REQUEST] Response headers:",Object.fromEntries(i.headers.entries())),!i.ok){if(i.status===401){const t=localStorage.getItem("refreshToken");if(t)try{return await this.refreshToken(t),await s()}catch(n){throw console.warn("Token refresh failed:",n),this.clearAuthToken(),window.location.href="/login",new Error("Authentication failed - please login again")}else throw this.clearAuthToken(),window.location.href="/login",new Error("Authentication required")}const r=await i.json().catch(()=>({}));throw new Error(r.message||`HTTP Error: ${i.status}`)}return i.blob()};try{const i=await s();return console.log("✅ [API-REQUEST] Binary request completed successfully"),i}catch(i){throw console.error(`❌ [API-REQUEST] Binary request failed: ${d}`,i),i}}async request(d,e={}){const h=`${this.baseUrl}${d}`;d!=="/Tab"&&console.log(`🚀 [API-REQUEST] Starting request to: ${d}`);const c=e.body instanceof FormData?{}:this.getHeaders(),s={...e,headers:{...c,...e.headers}},i=async()=>{let r=6e4;d.includes("/send-email")?r=3e5:d.includes("/insights")&&(r=3e4);const t=new AbortController,n=setTimeout(()=>t.abort(),r);try{const l=await fetch(h,{...s,signal:t.signal});return clearTimeout(n),this.handleResponse(l,i)}catch(l){throw clearTimeout(n),l.name==="AbortError"?new Error(`Request timeout after ${r}ms`):l}};try{return await i()}catch(r){throw console.error(`❌ [API-REQUEST] Request failed: ${d}`,r),r}}async login(d){return this.request("/authentication/login",{method:"POST",body:JSON.stringify({EmailOrUsername:d.emailOrUsername,Password:d.password})})}async refreshToken(d){if(this.isRefreshing&&this.refreshPromise)return this.refreshPromise;this.isRefreshing=!0,this.refreshPromise=this.performTokenRefresh(d);try{return await this.refreshPromise}finally{this.isRefreshing=!1,this.refreshPromise=null}}async performTokenRefresh(d){const e=await this.request("/authentication/refresh",{method:"POST",body:JSON.stringify({refreshToken:d})});if((e.Success||e.success)&&(e.Data||e.data)){const h=e.Data||e.data;if(h&&"token"in h&&"refreshToken"in h){const{token:m,refreshToken:c}=h;localStorage.setItem("authToken",m),localStorage.setItem("refreshToken",c),this.setAuthToken(m)}}return e}async logout(){const d=localStorage.getItem("refreshToken");return d&&await this.request("/authentication/logout",{method:"POST",body:JSON.stringify({refreshToken:d})}),this.clearAuthToken(),Promise.resolve({success:!0})}async getExcelDataForTab(d){try{return await this.request(`/Excel/tab/${d}`)}catch(e){if(e.message?.includes("404"))return{success:!0,data:{hasData:!1,data:[],totalCount:0,tabId:d},error:void 0};throw e}}async getTabStatistics(d){const e=`tab_insights_${d}`,h=async()=>{try{console.log("📈 [API-SERVICE][INSIGHTS] Fetching server insights for tab:",d);const m=await this.request(`/Tab/${d}/insights`);return console.log("📈 [API-SERVICE][INSIGHTS] Server response:",m),m}catch(m){return console.error("❌ [API-SERVICE][INSIGHTS] Error getting tab statistics:",m),{success:!0,data:{totalEmployees:0,totalMailSent:0,pending:0,notDelivered:0},error:void 0}}};return br.getOrFetch(e,h,{revalidate:!0})}async generateDynamicDocuments(d){const e={templateId:d.templateId||"",employeeId:d.employeeIds[0]||"",data:d.additionalFieldData||{}},h=await this.request("/Document/generate",{method:"POST",body:JSON.stringify(e)});return h.success&&h.data?{success:!0,data:{success:!0,message:"Document generated successfully",generatedDocuments:[{documentId:h.data.id,templateId:h.data.templateId,employeeId:d.employeeIds[0]||"",content:h.data.content||"",placeholderData:d.additionalFieldData||{},generatedAt:h.data.generatedAt,downloadUrl:`/Document/${h.data.id}/download`}],errors:[]}}:{success:!1,data:{success:!1,message:h.error?.message||"Failed to generate document",generatedDocuments:[],errors:[h.error?.message||"Failed to generate document"]}}}async getGeneratedDocuments(d){try{const e=await this.request(`/Tab/${d}/data?page=1&pageSize=1000`),h=[];if(e.data?.data?.items)for(const m of e.data.data.items)m.generatedDocumentId&&h.push({id:m.generatedDocumentId,templateId:m.templateId||"",employeeId:m.employeeId||"",content:m.generatedContent||"",placeholderData:typeof m.data=="string"?JSON.parse(m.data):m.data||{},generatedBy:m.generatedBy||"System",generatedAt:m.generatedAt||m.createdAt,downloadUrl:`/Document/${m.generatedDocumentId}/download`});return{success:!0,data:h,error:void 0}}catch(e){return console.error("Error getting generated documents:",e),{success:!0,data:[],error:void 0}}}async getEmployees(d){if(d?.tabId)try{const e=await this.getExcelDataForTab(d.tabId);if(e.Success&&e.Data){const h=e.Data.data.map((m,c)=>{const s=m.first_name||m.firstName||m.name||"Unknown",i=m.last_name||m.lastName||"";return{id:`excel-${c}`,employeeId:m.employee_id||m.employeeId||`EMP${c+1}`,firstName:s,lastName:i,name:`${s} ${i}`.trim(),email:m.email||m.email_address||"",phone:m.phone||m.phone_number||"",department:m.department||m.dept||"",designation:m.position||m.job_title||m.title||"",position:m.position||m.job_title||m.title||"",joiningDate:m.hire_date||m.hireDate||new Date().toISOString(),hireDate:m.hire_date||m.hireDate||new Date().toISOString(),status:m.status||"active",manager:m.manager||m.manager_name||"",managerId:m.manager_id||m.managerId||null,location:m.location||m.city||"",address:m.address||"",city:m.city||"",state:m.state||"",zipCode:m.zip_code||m.zipCode||"",country:m.country||"",salary:m.salary||null,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}});return{success:!0,data:{items:h,pagination:{currentPage:d.page||1,totalPages:1,totalRecords:h.length,hasNext:!1,hasPrevious:!1}}}}}catch(e){console.warn("Failed to get Excel data for tab, returning empty result:",e)}return{success:!0,data:{items:[],pagination:{currentPage:d?.page||1,totalPages:0,totalRecords:0,hasNext:!1,hasPrevious:!1}}}}async getEmployee(d){return this.request(`/er/employees/${d}`)}async createEmployee(d){return this.request("/er/employees",{method:"POST",body:JSON.stringify(d)})}async updateEmployee(d,e){return this.request(`/er/employees/${d}`,{method:"PUT",body:JSON.stringify(e)})}async updateEmployeeData(d,e,h,m){return this.request(`/Tab/${d}/employee-data`,{method:"PUT",body:JSON.stringify({employeeId:e,field:h,value:m})})}async deleteEmployee(d){return this.request(`/er/employees/${d}`,{method:"DELETE"})}async getDashboardStats(d){const e=`dashboard:${d}`;return await br.getOrFetch(e,async()=>this.request(`/dashboard/${d}/stats`),{ttl:300*1e3,staleTtl:900*1e3,tags:["dashboard",d],revalidate:!0})}async getEmailHistory(d,e={}){const h=new URLSearchParams;e.page&&h.append("page",e.page.toString()),e.limit&&h.append("limit",e.limit.toString()),e.status&&h.append("status",e.status),e.search&&h.append("search",e.search);const m=`email_history:${d}:${JSON.stringify(e)}`;return await br.getOrFetch(m,async()=>this.request(`/api/email-history/${d}?${h}`),{ttl:300*1e3,staleTtl:900*1e3,tags:["email_history",d],revalidate:!0})}async getInsights(d,e={}){const h=new URLSearchParams;e.timeRange&&h.append("timeRange",e.timeRange);const m=`insights:${d}:${e.timeRange||"default"}`;return await br.getOrFetch(m,async()=>this.request(`/api/insights/${d}?${h}`),{ttl:600*1e3,staleTtl:1800*1e3,tags:["insights",d],revalidate:!0})}async getTemplates(){return this.request("/File/templates")}async uploadTemplate(d){return this.request("/File/templates",{method:"POST",body:d,headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}})}async getSignatures(){const d=await this.request("/File/signatures");console.log("🔍 [API-SERVICE] Raw signature response:",d),console.log("🔍 [API-SERVICE] First signature object:",d[0]),console.log("🔍 [API-SERVICE] First signature keys:",d[0]?Object.keys(d[0]):"No signatures");const e=d.map(h=>(console.log("🔍 [API-SERVICE] Mapping signature:",h),{id:h.id,name:h.name,fileName:h.fileName,fileId:h.fileId,fileUrl:`/api/File/${h.fileId}/download`,fileSize:0,mimeType:"image/png",createdBy:"System",createdAt:new Date(h.createdAt),updatedAt:new Date(h.updatedAt)}));return console.log("🔍 [API-SERVICE] Mapped signatures:",e),{success:!0,data:e}}async uploadSignature(d){const e=await this.request("/File/signatures",{method:"POST",body:d,headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}});console.log("🔍 [API-SERVICE] Upload signature response:",e),console.log("🔍 [API-SERVICE] Response keys:",Object.keys(e));const h={id:e.id,name:e.name,fileName:e.fileName,fileId:e.fileId,fileUrl:`/api/File/${e.fileId}/download`,fileSize:0,mimeType:"image/png",createdBy:"System",createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)};return console.log("🔍 [API-SERVICE] Mapped upload signature:",h),{success:!0,data:h}}async deleteSignature(d){return this.request(`/File/signatures/${d}`,{method:"DELETE"})}async sendEmail(d){return this.request("/er/emails/send",{method:"POST",body:JSON.stringify(d)})}async getEmailStatus(d){return this.request(`/er/emails/${d}/status`)}async getDynamicTabs(){return this.request("/er/dynamic-tabs")}async createDynamicTab(d){return this.request("/er/dynamic-tabs",{method:"POST",body:JSON.stringify(d)})}async updateDynamicTab(d,e){return this.request(`/er/dynamic-tabs/${d}`,{method:"PUT",body:JSON.stringify(e)})}async deleteDynamicTab(d){return this.request(`/er/dynamic-tabs/${d}`,{method:"DELETE"})}async uploadExcelFile(d,e){if(console.log("🌐 [API-SERVICE] Starting Excel file upload"),console.log("📋 [API-SERVICE] Upload parameters:",{hasFile:d.has("file"),tabId:e,description:d.get("description"),metadata:d.get("metadata"),authToken:this.authToken?"Present":"Missing"}),!e)throw console.error("❌ [API-SERVICE] TabId is required for Excel upload"),new Error("TabId is required for Excel upload");return console.log("🔄 [API-SERVICE] Making request to /excel/tab/{tabId}"),this.request(`/excel/tab/${e}`,{method:"POST",body:d,headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}})}async deleteExcelDataForTab(d){return this.request(`/excel/tab/${d}`,{method:"DELETE"})}async getDynamicTabById(d){return this.request(`/er/dynamic-tabs/${d}`)}async generateDocumentsForTab(d,e){return this.request(`/er/dynamic-tabs/${d}/generate`,{method:"POST",body:JSON.stringify(e)})}async clearSelectionForTab(d){return this.request(`/er/dynamic-tabs/${d}/clear-selection`,{method:"POST"})}async previewDocumentsForTab(d,e){return this.request(`/er/dynamic-tabs/${d}/preview`,{method:"POST",body:JSON.stringify(e)})}async sendBulkEmails(d){return this.request("/Email/send-bulk",{method:"POST",body:JSON.stringify(d)})}async sendEmailWithPdf(d,e){return console.log("📧 [API-SERVICE] Sending email with PDF for tab:",d,"employee:",e.employeeId),this.request(`/Tab/${d}/send-email`,{method:"POST",body:JSON.stringify(e)})}async getTabEmailHistory(d,e=1,h=10){const m=`email_history_${d}_${e}_${h}`,c=()=>this.request(`/Tab/${d}/email-history?page=${e}&pageSize=${h}`);return br.getOrFetch(m,c,{revalidate:!0,ttl:6e4,staleTtl:5*6e4})}async invalidateEmailHistoryCache(d){try{await this.request(`/Tab/${d}/invalidate-history-cache`,{method:"POST"})}catch{}br.invalidatePattern(`email_history_${d}_`)}async getEmailTemplate(d){return this.request(`/Tab/${d}/email-template`)}async saveEmailTemplate(d,e){return this.request(`/Tab/${d}/email-template`,{method:"POST",body:JSON.stringify(e)})}async getTabData(d,e={}){const h=new URLSearchParams;e.page&&h.append("page",e.page.toString()),e.pageSize&&h.append("pageSize",e.pageSize.toString());const m=await this.request(`/Tab/${d}/data?${h}`);if(m.success&&m.data){const c=m.data;return{success:!0,data:{items:c.data?.items||[],pagination:{currentPage:c.data?.pagination?.currentPage||1,totalPages:c.data?.pagination?.totalPages||1,totalRecords:c.data?.pagination?.totalRecords||0,hasNext:c.data?.pagination?.hasNext||!1,hasPrevious:c.data?.pagination?.hasPrevious||!1}}}}else throw new Error(m.error?.message||"Failed to fetch tab data")}async getDocumentRequests(d){const e=new URLSearchParams;d?.documentType&&e.append("documentType",d.documentType),d?.status&&e.append("status",d.status),d?.employeeId&&e.append("employeeId",d.employeeId),d?.page&&e.append("page",d.page.toString()),d?.limit&&e.append("limit",d.limit.toString());const h=e.toString(),m=`/dashboard/document-requests${h?`?${h}`:""}`;return this.request(m)}async getDocumentRequest(d){const e=await this.getDocumentRequests({limit:1e3});if(e.success&&e.data){const h=e.data.items.find(m=>m.id===d);if(h)return{success:!0,data:h}}return{success:!1,error:{code:"NOT_FOUND",message:"Document request not found"}}}async createDocumentRequest(d){return this.request("/dashboard/document-requests",{method:"POST",body:JSON.stringify(d)})}async approveDocumentRequest(d,e){return this.request(`/dashboard/document-requests/${d}/approve`,{method:"PUT",body:JSON.stringify(e)})}async generateDocumentRequest(d){return this.request(`/dashboard/document-requests/${d}/generate`,{method:"POST"})}async getDocumentRequestStats(){return this.request("/dashboard/document-requests/stats")}async getFileStorageStatistics(){return this.request("/filemanagement/statistics")}async getFileCleanupReport(){return this.request("/filemanagement/cleanup-report")}async cleanupExpiredFiles(){return this.request("/filemanagement/cleanup/expired",{method:"POST"})}async cleanupOrphanedFiles(){return this.request("/filemanagement/cleanup/orphaned",{method:"POST"})}async cleanupTempFiles(){return this.request("/filemanagement/cleanup/temp",{method:"POST"})}async validateFile(d){const e=new FormData;return e.append("file",d),this.request("/filemanagement/validate",{method:"POST",body:e,headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}})}async getNotifications(d){const e=new URLSearchParams;return d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),d?.includeRead!==void 0&&e.set("includeRead",d.includeRead.toString()),d?.type&&e.set("type",d.type),d?.priority&&e.set("priority",d.priority),this.request(`/notifications?${e}`)}async getNotificationStats(){return this.request("/notifications/stats")}async getUnreadNotificationCount(){return this.request("/notifications/unread-count")}async createNotification(d){return this.request("/notifications",{method:"POST",body:JSON.stringify(d)})}async markNotificationAsRead(d){return this.request(`/notifications/${d}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/notifications/mark-all-read",{method:"PUT"})}async deleteNotification(d){return this.request(`/notifications/${d}`,{method:"DELETE"})}async getNotificationTemplates(d){const e=new URLSearchParams;return d?.type&&e.set("type",d.type),d?.category&&e.set("category",d.category),d?.activeOnly!==void 0&&e.set("activeOnly",d.activeOnly.toString()),this.request(`/notificationtemplates?${e}`)}async createNotificationTemplate(d){return this.request("/notificationtemplates",{method:"POST",body:JSON.stringify(d)})}async getReports(d){const e=new URLSearchParams;return d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),d?.type&&e.set("type",d.type),d?.category&&e.set("category",d.category),d?.isActive!==void 0&&e.set("isActive",d.isActive.toString()),d?.isSystemReport!==void 0&&e.set("isSystemReport",d.isSystemReport.toString()),d?.createdBy&&e.set("createdBy",d.createdBy),this.request(`/reports?${e}`)}async getReportStats(){return this.request("/reports/stats")}async createReport(d){return this.request("/reports",{method:"POST",body:JSON.stringify(d)})}async getReport(d){return this.request(`/reports/${d}`)}async executeReport(d,e){return this.request(`/reports/${d}/execute`,{method:"POST",body:JSON.stringify(e)})}async generateDocumentReport(d){const e=new URLSearchParams;return d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),d?.documentType&&e.set("documentType",d.documentType),this.request(`/reports/quick/document?${e}`,{method:"POST"})}async generateUserActivityReport(d){const e=new URLSearchParams;return d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),d?.userId&&e.set("userId",d.userId),this.request(`/reports/quick/user-activity?${e}`,{method:"POST"})}async getAuditLogs(d){const e=new URLSearchParams;return d?.userId&&e.set("userId",d.userId),d?.action&&e.set("action",d.action),d?.entityType&&e.set("entityType",d.entityType),d?.entityId&&e.set("entityId",d.entityId),d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),d?.ipAddress&&e.set("ipAddress",d.ipAddress),d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),this.request(`/audit-logs?${e}`)}async getAuditLog(d){return this.request(`/audit-logs/${d}`)}async getAuditLogStats(d){const e=new URLSearchParams;return d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),this.request(`/audit-logs/stats?${e}`)}async getMyAuditLogs(d){const e=new URLSearchParams;return d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),this.request(`/audit-logs/my-logs?${e}`)}async getRecentAuditLogs(d){const e=new URLSearchParams;return d&&e.set("count",d.toString()),this.request(`/audit-logs/recent?${e}`)}async getDataExports(d){const e=new URLSearchParams;return d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),d?.type&&e.set("type",d.type),d?.format&&e.set("format",d.format),d?.status&&e.set("status",d.status),d?.requestedBy&&e.set("requestedBy",d.requestedBy),d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),this.request(`/dataexports?${e}`)}async getDataExportStats(){return this.request("/dataexports/stats")}async createDataExport(d){return this.request("/dataexports",{method:"POST",body:JSON.stringify(d)})}async getDataExport(d){return this.request(`/dataexports/${d}`)}async executeDataExport(d){return this.request(`/dataexports/${d}/execute`,{method:"POST"})}async downloadDataExport(d){const e=await fetch(`${this.baseUrl}/dataexports/${d}/download`,{headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}});if(!e.ok)throw new Error("Failed to download export file");return e.blob()}async quickExportUsers(d){const e=new URLSearchParams;return d?.format&&e.set("format",d.format),d?.filters&&e.set("filters",d.filters),d?.columns&&e.set("columns",d.columns),d?.sendEmail!==void 0&&e.set("sendEmail",d.sendEmail.toString()),d?.emailRecipients&&e.set("emailRecipients",d.emailRecipients),this.request(`/dataexports/quick/users?${e}`,{method:"POST"})}async quickExportEmployees(d){const e=new URLSearchParams;return d?.format&&e.set("format",d.format),d?.filters&&e.set("filters",d.filters),d?.columns&&e.set("columns",d.columns),d?.sendEmail!==void 0&&e.set("sendEmail",d.sendEmail.toString()),d?.emailRecipients&&e.set("emailRecipients",d.emailRecipients),this.request(`/dataexports/quick/employees?${e}`,{method:"POST"})}async quickExportDocuments(d){const e=new URLSearchParams;return d?.format&&e.set("format",d.format),d?.filters&&e.set("filters",d.filters),d?.columns&&e.set("columns",d.columns),d?.sendEmail!==void 0&&e.set("sendEmail",d.sendEmail.toString()),d?.emailRecipients&&e.set("emailRecipients",d.emailRecipients),this.request(`/dataexports/quick/documents?${e}`,{method:"POST"})}async cancelDataExport(d){return this.request(`/dataexports/${d}/cancel`,{method:"POST"})}async generateDocument(d){return this.request("/documents/generate",{method:"POST",body:JSON.stringify(d)})}async uploadDocumentTemplate(d){return this.request("/documents/templates/upload",{method:"POST",body:d,headers:{...this.authToken?{Authorization:`Bearer ${this.authToken}`}:{}}})}async getDocumentTemplates(d){const e=new URLSearchParams;return d?.type&&e.set("type",d.type),d?.isActive!==void 0&&e.set("isActive",d.isActive.toString()),this.request(`/documents/templates?${e}`)}async getGeneratedDocumentsList(d){const e=new URLSearchParams;return d?.page&&e.set("page",d.page.toString()),d?.limit&&e.set("limit",d.limit.toString()),d?.documentType&&e.set("documentType",d.documentType),d?.generatedBy&&e.set("generatedBy",d.generatedBy),d?.startDate&&e.set("startDate",d.startDate),d?.endDate&&e.set("endDate",d.endDate),this.request(`/documents/generated?${e}`)}async getLetterTypeDefinitions(){return this.request("/Tab")}async getLetterTypeDefinition(d){return this.request(`/Tab/${d}`)}async createLetterTypeDefinition(d){return this.request("/Tab",{method:"POST",body:JSON.stringify(d)})}async updateLetterTypeDefinition(d,e){return this.request(`/Tab/${d}`,{method:"PUT",body:JSON.stringify(e)})}async deleteLetterTypeDefinition(d){return this.request(`/Tab/${d}`,{method:"DELETE"})}async getDynamicFields(d){return this.request(`/Tab/${d}/fields`)}async createDynamicField(d){return this.request("/DynamicField",{method:"POST",body:JSON.stringify(d)})}async updateDynamicField(d,e){return this.request(`/api/DynamicField/${d}`,{method:"PUT",body:JSON.stringify(e)})}async deleteDynamicField(d){return this.request(`/api/DynamicField/${d}`,{method:"DELETE"})}async uploadDynamicExcelFile(d){const e=new FormData;return e.append("file",d.file),e.append("letterTypeDefinitionId",d.letterTypeDefinitionId),d.fieldMappings&&e.append("fieldMappings",JSON.stringify(d.fieldMappings)),d.options&&e.append("options",JSON.stringify(d.options)),this.request("/DynamicExcel/upload",{method:"POST",body:e})}async getFieldMappingSuggestions(d,e){return this.request("/DynamicExcel/field-mapping-suggestions",{method:"POST",body:JSON.stringify({letterTypeDefinitionId:d,excelHeaders:e})})}async validateExcelData(d,e){return this.request("/DynamicExcel/validate",{method:"POST",body:JSON.stringify({letterTypeDefinitionId:d,data:e})})}async validateDocumentGeneration(d,e){return this.request("/DynamicDocumentGeneration/validate",{method:"POST",body:JSON.stringify({letterTypeDefinitionId:d,employeeIds:e})})}async sendDynamicEmail(d){return this.request("/DynamicEmail/send",{method:"POST",body:JSON.stringify(d)})}async sendBulkDynamicEmails(d){return this.request("/DynamicEmail/send-bulk",{method:"POST",body:JSON.stringify(d)})}async sendEmailsForLetterType(d,e){const h=new URLSearchParams;return e?.signatureId&&h.append("signatureId",e.signatureId),e?.emailTemplateId&&h.append("emailTemplateId",e.emailTemplateId),e?.includeDocumentAttachments!==void 0&&h.append("includeDocumentAttachments",e.includeDocumentAttachments.toString()),e?.enableTracking!==void 0&&h.append("enableTracking",e.enableTracking.toString()),this.request(`/api/DynamicEmail/send-for-letter-type/${d}?${h.toString()}`,{method:"POST"})}async generateEmailPreview(d){return this.request("/DynamicEmail/preview",{method:"POST",body:JSON.stringify(d)})}async validateEmailSending(d,e,h){return this.request(`/api/DynamicEmail/validate/${d}/${e}`,{method:"POST",body:JSON.stringify(h||{})})}async getDynamicEmailHistory(d,e=1,h=10){return this.request(`/api/DynamicEmail/history/${d}?pageNumber=${e}&pageSize=${h}`)}async getDynamicEmailStatus(d){return this.request(`/api/DynamicEmail/status/${d}`)}async cancelScheduledEmail(d){return this.request(`/api/DynamicEmail/cancel/${d}`,{method:"POST"})}async resendEmail(d){return this.request(`/api/DynamicEmail/resend/${d}`,{method:"POST"})}async getEmailAnalytics(d,e,h){return this.request(`/api/DynamicEmail/analytics/${d}?startDate=${e}&endDate=${h}`)}async getEmailStats(d){return this.request(`/api/DynamicEmail/stats/${d}`)}async getRealTimeEmailStats(d){return this.request(`/dynamic-webhooks/stats/${d}`)}async getWebhookEvents(d){return this.request(`/dynamic-webhooks/events/${d}`)}async getUsers(d){const e=new URLSearchParams;d?.page&&e.append("page",d.page.toString()),d?.pageSize&&e.append("pageSize",d.pageSize.toString()),d?.searchTerm&&e.append("searchTerm",d.searchTerm),d?.department&&e.append("department",d.department);const h=e.toString();return this.request(`/UserManagement${h?`?${h}`:""}`)}async getUser(d){return this.request(`/UserManagement/${d}`)}async createUser(d){return this.request("/UserManagement",{method:"POST",body:JSON.stringify(d)})}async updateUser(d,e){return this.request(`/UserManagement/${d}`,{method:"PUT",body:JSON.stringify(e)})}async deleteUser(d){return this.request(`/UserManagement/${d}`,{method:"DELETE"})}async toggleUserStatus(d){return this.request(`/UserManagement/${d}/toggle-status`,{method:"POST"})}async resetUserPassword(d,e){return this.request(`/UserManagement/${d}/reset-password`,{method:"POST",body:JSON.stringify({newPassword:e,sendEmailNotification:!0})})}async getDepartments(){return this.request("/UserManagement/departments")}async getActiveSessions(){return this.request("/SessionManagement/active-sessions")}async getSessionStats(){return this.request("/SessionManagement/session-stats")}async getUserLoginHistory(d,e=1,h=20){return this.request(`/SessionManagement/login-history/${d}?page=${e}&pageSize=${h}`)}async terminateUserSessions(d){return this.request(`/SessionManagement/terminate-user-sessions/${d}`,{method:"POST"})}async terminateMyOtherSessions(){return this.request("/SessionManagement/terminate-my-other-sessions",{method:"POST"})}async cleanupExpiredSessions(){return this.request("/SessionManagement/cleanup-expired-sessions",{method:"POST"})}async getUserSessions(d){return this.request(`/api/sessionmanagement/users/${d}/sessions`)}async terminateSession(d){return this.request(`/api/sessionmanagement/sessions/${d}`,{method:"DELETE"})}async terminateAllUserSessions(d){return this.request(`/api/sessionmanagement/users/${d}/sessions`,{method:"DELETE"})}async getRoles(){return this.request("/UserManagement/roles")}}const Nt=new av;class lv{listeners=[];state={user:null,isAuthenticated:!1,isLoading:!1,error:null};constructor(){this.initializeAuth()}initializeAuth(){const d=localStorage.getItem("authToken"),e=localStorage.getItem("currentUser");if(d&&e)try{const h=JSON.parse(e);this.setState({user:h,isAuthenticated:!0,isLoading:!1,error:null}),Nt.setAuthToken(d)}catch{this.clearAuth()}}setState(d){this.state={...this.state,...d},this.listeners.forEach(e=>e(this.state))}getState(){return this.state}subscribe(d){return this.listeners.push(d),()=>{this.listeners=this.listeners.filter(e=>e!==d)}}async login(d){console.log("🔐 [AUTH-SERVICE] Starting login process"),console.log("📋 [AUTH-SERVICE] Credentials:",{emailOrUsername:d.emailOrUsername,password:"***"}),this.setState({isLoading:!0,error:null}),console.log("🔄 [AUTH-SERVICE] Set loading state to true");try{console.log("🔄 [AUTH-SERVICE] Calling API service login...");const e=await Nt.login(d);if(console.log("📊 [AUTH-SERVICE] API response received:",e),(e.Success||e.success)&&(e.Data||e.data)){console.log("✅ [AUTH-SERVICE] Login successful, processing response...");const h=e.Data||e.data,m=h.token||h.Token,c=h.refreshToken||h.RefreshToken,s=h.user||h.User;if(!s||!(s.id||s.Id)||!(s.username||s.Username)||!(s.email||s.Email))throw new Error("Invalid user data received from server");let i=[],r=[];try{const n=h.moduleAccess||h.ModuleAccess;n&&typeof n=="object"?Array.isArray(n)?i=n:n.$ref?(console.warn("ModuleAccess contains circular reference, using default values"),i=["ER","Billing"]):(console.warn("ModuleAccess is not an array and not a circular reference:",n),i=["ER","Billing"]):(console.warn("ModuleAccess is not an object:",n),i=["ER","Billing"]);const l=h.roles||h.Roles;l&&typeof l=="object"?Array.isArray(l)?r=l:l.$ref?(console.warn("Roles contains circular reference, using default values"),r=["Admin"]):(console.warn("Roles is not an array and not a circular reference:",l),r=["Admin"]):(console.warn("Roles is not an object:",l),r=["Admin"])}catch(n){console.warn("Error processing ModuleAccess/Roles:",n),i=["ER","Billing"],r=["Admin"]}const t={id:s.id||s.Id,username:s.username||s.Username,name:s.name||s.Name||`${s.firstName||s.FirstName||""} ${s.lastName||s.LastName||""}`.trim()||s.username||s.Username,email:s.email||s.Email,role:(s.role||s.Role)?.toLowerCase()||"admin",department:s.department||s.Department||"ER",permissions:{canAccessER:i.includes("ER")||r.includes("Admin")||i.includes("Admin"),canAccessBilling:i.includes("Billing")||r.includes("Admin")||i.includes("Admin"),isAdmin:r.includes("Admin")||i.includes("Admin")||(s.role||s.Role)?.toLowerCase()==="admin"},lastLogin:s.lastLogin||s.LastLogin?new Date(s.lastLogin||s.LastLogin):void 0,isActive:s.isActive!==void 0?s.isActive:s.IsActive!==void 0?s.IsActive:!0};localStorage.setItem("authToken",m),localStorage.setItem("refreshToken",c),localStorage.setItem("currentUser",JSON.stringify(t)),Nt.setAuthToken(m),this.setState({user:t,isAuthenticated:!0,isLoading:!1,error:null}),(window.location.pathname==="/login"||window.location.pathname==="/")&&window.history.pushState({},"","/dashboard")}else{const h=e.Error?.Message||e.error?.message||"Login failed";throw new Error(h)}}catch(e){throw this.setState({isLoading:!1,error:e.message||"Login failed"}),e}}async logout(){try{await Nt.logout()}catch(d){console.warn("Logout API call failed:",d)}finally{this.clearAuth()}}clearAuth(){localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),Nt.clearAuthToken(),this.setState({user:null,isAuthenticated:!1,isLoading:!1,error:null}),window.location.pathname!=="/login"&&window.history.pushState({},"","/login")}hasPermission(d){return this.state.user?.permissions[d]||!1}canAccessModule(d){return this.state.user?d==="er"?this.state.user.permissions.canAccessER:this.state.user.permissions.canAccessBilling:!1}getCurrentUser(){return this.state.user}isAdmin(){return this.state.user?.permissions.isAdmin||!1}}const Ti=new lv,Ym=Z.createContext(void 0),Cn=()=>{const _=Z.useContext(Ym);return _===void 0?(console.warn("useAuth called outside of AuthProvider. This might be due to hot reloading."),{user:null,isAuthenticated:!1,isLoading:!0,error:null,login:async()=>{console.warn("Login called outside of AuthProvider")},logout:async()=>{console.warn("Logout called outside of AuthProvider")},hasPermission:()=>!1,canAccessModule:()=>!1,isAdmin:()=>!1}):_},cv=({children:_})=>{console.log("🔄 [AUTH-CONTEXT] AuthProvider rendering");const[d,e]=Z.useState(()=>{try{console.log("🔧 [AUTH-CONTEXT] Initializing auth state");const t=Ti.getState();return console.log("📊 [AUTH-CONTEXT] Current auth state:",t),{...t,isLoading:!1}}catch(t){return console.error("❌ [AUTH-CONTEXT] Error initializing auth state:",t),{user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to initialize authentication"}}});Z.useEffect(()=>{try{return Ti.subscribe(e)}catch(t){console.error("Error subscribing to auth state changes:",t)}},[]);const h=Z.useCallback(async t=>{console.log("🔐 [AUTH-CONTEXT] Login called with credentials:",{emailOrUsername:t.emailOrUsername,password:"***"});try{await Ti.login(t),console.log("✅ [AUTH-CONTEXT] Login successful")}catch(n){throw console.error("❌ [AUTH-CONTEXT] Login failed:",n),n}},[]),m=Z.useCallback(async()=>{console.log("🚪 [AUTH-CONTEXT] Logout called");try{await Ti.logout(),console.log("✅ [AUTH-CONTEXT] Logout successful")}catch(t){console.error("❌ [AUTH-CONTEXT] Logout failed:",t)}},[]),c=Z.useCallback(t=>Ti.hasPermission(t),[]),s=Z.useCallback(t=>Ti.canAccessModule(t),[]),i=Z.useCallback(()=>Ti.isAdmin(),[]),r=Z.useMemo(()=>({...d,login:h,logout:m,hasPermission:c,canAccessModule:s,isAdmin:i}),[d,h,m,c,s,i]);return p.jsx(Ym.Provider,{value:r,children:_})},Zm=Z.createContext(void 0),uv=()=>{const _=Z.useContext(Zm);if(_===void 0)throw new Error("useTheme must be used within a ThemeProvider");return _},dv=({children:_})=>{const[d,e]=Z.useState(()=>{const s=localStorage.getItem("dochub-theme");return s?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});Z.useEffect(()=>{const s=document.documentElement;d?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("dochub-theme",d?"dark":"light")},[d]);const c={isDarkMode:d,toggleTheme:()=>{e(!d)},setTheme:s=>{e(s)}};return p.jsx(Zm.Provider,{value:c,children:_})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hv=_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,e,h)=>h?h.toUpperCase():e.toLowerCase()),Kp=_=>{const d=hv(_);return d.charAt(0).toUpperCase()+d.slice(1)},Jm=(..._)=>_.filter((d,e,h)=>!!d&&d.trim()!==""&&h.indexOf(d)===e).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Z.forwardRef(({color:_="currentColor",size:d=24,strokeWidth:e=2,absoluteStrokeWidth:h,className:m="",children:c,iconNode:s,...i},r)=>Z.createElement("svg",{ref:r,...pv,width:d,height:d,stroke:_,strokeWidth:h?Number(e)*24/Number(d):e,className:Jm("lucide",m),...i},[...s.map(([t,n])=>Z.createElement(t,n)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(_,d)=>{const e=Z.forwardRef(({className:h,...m},c)=>Z.createElement(mv,{ref:c,iconNode:d,className:Jm(`lucide-${fv(Kp(_))}`,`lucide-${_}`,h),...m}));return e.displayName=Kp(_),e};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fa=At("activity",gv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qm=At("arrow-left",bv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e0=At("arrow-right",yv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yp=At("bell",vv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Wl=At("briefcase",xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_v=At("calendar",wv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kv=At("chart-column",Sv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yo=At("check",Nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],t0=At("chevron-down",Ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cv=At("chevron-left",jv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Av=At("chevron-right",Tv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mv=At("chevron-up",Rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Pv=At("chevrons-left",Iv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Ov=At("chevrons-right",Dv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sn=At("circle-alert",Lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],en=At("circle-check-big",Fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ma=At("circle-x",Bv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gn=At("clock",zv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Uv=At("copy",$v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Sd=At("database",Hv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],No=At("download",Vv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qv=At("ellipsis-vertical",Wv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gv=At("external-link",Xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Un=At("eye",Kv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Zv=At("file-spreadsheet",Yv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lr=At("file-text",Jv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ex=At("layers",Qv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rx=At("layout-dashboard",tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nn=At("loader-circle",nx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Zp=At("log-in",sx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ox=At("log-out",ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ur=At("mail",ax);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cx=At("monitor",lx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],dx=At("moon",ux);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],hx=At("mouse-pointer",fx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],r0=At("paperclip",px);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Al=At("plus",mx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ql=At("refresh-cw",gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yx=At("search",bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$d=At("send",vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n0=At("settings",xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Eo=At("shield",wx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Sx=At("smartphone",_x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Nx=At("sun",kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],jx=At("tablet",Ex);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],s0=At("trash-2",Cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xo=At("trending-up",Tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],es=At("upload",Ax);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pr=At("user",Rx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ga=At("users",Mx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ws=At("x",Ix);function Jp(_,d){if(typeof _=="function")return _(d);_!=null&&(_.current=d)}function ic(..._){return d=>{let e=!1;const h=_.map(m=>{const c=Jp(m,d);return!e&&typeof c=="function"&&(e=!0),c});if(e)return()=>{for(let m=0;m<h.length;m++){const c=h[m];typeof c=="function"?c():Jp(_[m],null)}}}}function Qt(..._){return Z.useCallback(ic(..._),_)}function Ii(_){const d=Px(_),e=Z.forwardRef((h,m)=>{const{children:c,...s}=h,i=Z.Children.toArray(c),r=i.find(Ox);if(r){const t=r.props.children,n=i.map(l=>l===r?Z.Children.count(t)>1?Z.Children.only(null):Z.isValidElement(t)?t.props.children:null:l);return p.jsx(d,{...s,ref:m,children:Z.isValidElement(t)?Z.cloneElement(t,void 0,n):null})}return p.jsx(d,{...s,ref:m,children:c})});return e.displayName=`${_}.Slot`,e}var i0=Ii("Slot");function Px(_){const d=Z.forwardRef((e,h)=>{const{children:m,...c}=e;if(Z.isValidElement(m)){const s=Fx(m),i=Lx(c,m.props);return m.type!==Z.Fragment&&(i.ref=h?ic(h,s):s),Z.cloneElement(m,i)}return Z.Children.count(m)>1?Z.Children.only(null):null});return d.displayName=`${_}.SlotClone`,d}var Dx=Symbol("radix.slottable");function Ox(_){return Z.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===Dx}function Lx(_,d){const e={...d};for(const h in d){const m=_[h],c=d[h];/^on[A-Z]/.test(h)?m&&c?e[h]=(...i)=>{const r=c(...i);return m(...i),r}:m&&(e[h]=m):h==="style"?e[h]={...m,...c}:h==="className"&&(e[h]=[m,c].filter(Boolean).join(" "))}return{..._,...e}}function Fx(_){let d=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,e=d&&"isReactWarning"in d&&d.isReactWarning;return e?_.ref:(d=Object.getOwnPropertyDescriptor(_,"ref")?.get,e=d&&"isReactWarning"in d&&d.isReactWarning,e?_.props.ref:_.props.ref||_.ref)}function o0(_){var d,e,h="";if(typeof _=="string"||typeof _=="number")h+=_;else if(typeof _=="object")if(Array.isArray(_)){var m=_.length;for(d=0;d<m;d++)_[d]&&(e=o0(_[d]))&&(h&&(h+=" "),h+=e)}else for(e in _)_[e]&&(h&&(h+=" "),h+=e);return h}function a0(){for(var _,d,e=0,h="",m=arguments.length;e<m;e++)(_=arguments[e])&&(d=o0(_))&&(h&&(h+=" "),h+=d);return h}const Qp=_=>typeof _=="boolean"?`${_}`:_===0?"0":_,em=a0,l0=(_,d)=>e=>{var h;if(d?.variants==null)return em(_,e?.class,e?.className);const{variants:m,defaultVariants:c}=d,s=Object.keys(m).map(t=>{const n=e?.[t],l=c?.[t];if(n===null)return null;const o=Qp(n)||Qp(l);return m[t][o]}),i=e&&Object.entries(e).reduce((t,n)=>{let[l,o]=n;return o===void 0||(t[l]=o),t},{}),r=d==null||(h=d.compoundVariants)===null||h===void 0?void 0:h.reduce((t,n)=>{let{class:l,className:o,...a}=n;return Object.entries(a).every(g=>{let[b,f]=g;return Array.isArray(f)?f.includes({...c,...i}[b]):{...c,...i}[b]===f})?[...t,l,o]:t},[]);return em(_,s,r,e?.class,e?.className)},Ud="-",Bx=_=>{const d=$x(_),{conflictingClassGroups:e,conflictingClassGroupModifiers:h}=_;return{getClassGroupId:s=>{const i=s.split(Ud);return i[0]===""&&i.length!==1&&i.shift(),c0(i,d)||zx(s)},getConflictingClassGroupIds:(s,i)=>{const r=e[s]||[];return i&&h[s]?[...r,...h[s]]:r}}},c0=(_,d)=>{if(_.length===0)return d.classGroupId;const e=_[0],h=d.nextPart.get(e),m=h?c0(_.slice(1),h):void 0;if(m)return m;if(d.validators.length===0)return;const c=_.join(Ud);return d.validators.find(({validator:s})=>s(c))?.classGroupId},tm=/^\[(.+)\]$/,zx=_=>{if(tm.test(_)){const d=tm.exec(_)[1],e=d?.substring(0,d.indexOf(":"));if(e)return"arbitrary.."+e}},$x=_=>{const{theme:d,prefix:e}=_,h={nextPart:new Map,validators:[]};return Hx(Object.entries(_.classGroups),e).forEach(([c,s])=>{kd(s,h,c,d)}),h},kd=(_,d,e,h)=>{_.forEach(m=>{if(typeof m=="string"){const c=m===""?d:rm(d,m);c.classGroupId=e;return}if(typeof m=="function"){if(Ux(m)){kd(m(h),d,e,h);return}d.validators.push({validator:m,classGroupId:e});return}Object.entries(m).forEach(([c,s])=>{kd(s,rm(d,c),e,h)})})},rm=(_,d)=>{let e=_;return d.split(Ud).forEach(h=>{e.nextPart.has(h)||e.nextPart.set(h,{nextPart:new Map,validators:[]}),e=e.nextPart.get(h)}),e},Ux=_=>_.isThemeGetter,Hx=(_,d)=>d?_.map(([e,h])=>{const m=h.map(c=>typeof c=="string"?d+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([s,i])=>[d+s,i])):c);return[e,m]}):_,Vx=_=>{if(_<1)return{get:()=>{},set:()=>{}};let d=0,e=new Map,h=new Map;const m=(c,s)=>{e.set(c,s),d++,d>_&&(d=0,h=e,e=new Map)};return{get(c){let s=e.get(c);if(s!==void 0)return s;if((s=h.get(c))!==void 0)return m(c,s),s},set(c,s){e.has(c)?e.set(c,s):m(c,s)}}},u0="!",Wx=_=>{const{separator:d,experimentalParseClassName:e}=_,h=d.length===1,m=d[0],c=d.length,s=i=>{const r=[];let t=0,n=0,l;for(let f=0;f<i.length;f++){let v=i[f];if(t===0){if(v===m&&(h||i.slice(f,f+c)===d)){r.push(i.slice(n,f)),n=f+c;continue}if(v==="/"){l=f;continue}}v==="["?t++:v==="]"&&t--}const o=r.length===0?i:i.substring(n),a=o.startsWith(u0),g=a?o.substring(1):o,b=l&&l>n?l-n:void 0;return{modifiers:r,hasImportantModifier:a,baseClassName:g,maybePostfixModifierPosition:b}};return e?i=>e({className:i,parseClassName:s}):s},qx=_=>{if(_.length<=1)return _;const d=[];let e=[];return _.forEach(h=>{h[0]==="["?(d.push(...e.sort(),h),e=[]):e.push(h)}),d.push(...e.sort()),d},Xx=_=>({cache:Vx(_.cacheSize),parseClassName:Wx(_),...Bx(_)}),Gx=/\s+/,Kx=(_,d)=>{const{parseClassName:e,getClassGroupId:h,getConflictingClassGroupIds:m}=d,c=[],s=_.trim().split(Gx);let i="";for(let r=s.length-1;r>=0;r-=1){const t=s[r],{modifiers:n,hasImportantModifier:l,baseClassName:o,maybePostfixModifierPosition:a}=e(t);let g=!!a,b=h(g?o.substring(0,a):o);if(!b){if(!g){i=t+(i.length>0?" "+i:i);continue}if(b=h(o),!b){i=t+(i.length>0?" "+i:i);continue}g=!1}const f=qx(n).join(":"),v=l?f+u0:f,x=v+b;if(c.includes(x))continue;c.push(x);const j=m(b,g);for(let C=0;C<j.length;++C){const M=j[C];c.push(v+M)}i=t+(i.length>0?" "+i:i)}return i};function Yx(){let _=0,d,e,h="";for(;_<arguments.length;)(d=arguments[_++])&&(e=d0(d))&&(h&&(h+=" "),h+=e);return h}const d0=_=>{if(typeof _=="string")return _;let d,e="";for(let h=0;h<_.length;h++)_[h]&&(d=d0(_[h]))&&(e&&(e+=" "),e+=d);return e};function Zx(_,...d){let e,h,m,c=s;function s(r){const t=d.reduce((n,l)=>l(n),_());return e=Xx(t),h=e.cache.get,m=e.cache.set,c=i,i(r)}function i(r){const t=h(r);if(t)return t;const n=Kx(r,e);return m(r,n),n}return function(){return c(Yx.apply(null,arguments))}}const mr=_=>{const d=e=>e[_]||[];return d.isThemeGetter=!0,d},f0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jx=/^\d+\/\d+$/,Qx=new Set(["px","full","screen"]),ew=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=_=>wo(_)||Qx.has(_)||Jx.test(_),ai=_=>Ao(_,"length",fw),wo=_=>!!_&&!Number.isNaN(Number(_)),ud=_=>Ao(_,"number",wo),ua=_=>!!_&&Number.isInteger(Number(_)),iw=_=>_.endsWith("%")&&wo(_.slice(0,-1)),Ht=_=>f0.test(_),li=_=>ew.test(_),ow=new Set(["length","size","percentage"]),aw=_=>Ao(_,ow,h0),lw=_=>Ao(_,"position",h0),cw=new Set(["image","url"]),uw=_=>Ao(_,cw,pw),dw=_=>Ao(_,"",hw),da=()=>!0,Ao=(_,d,e)=>{const h=f0.exec(_);return h?h[1]?typeof d=="string"?h[1]===d:d.has(h[1]):e(h[2]):!1},fw=_=>tw.test(_)&&!rw.test(_),h0=()=>!1,hw=_=>nw.test(_),pw=_=>sw.test(_),mw=()=>{const _=mr("colors"),d=mr("spacing"),e=mr("blur"),h=mr("brightness"),m=mr("borderColor"),c=mr("borderRadius"),s=mr("borderSpacing"),i=mr("borderWidth"),r=mr("contrast"),t=mr("grayscale"),n=mr("hueRotate"),l=mr("invert"),o=mr("gap"),a=mr("gradientColorStops"),g=mr("gradientColorStopPositions"),b=mr("inset"),f=mr("margin"),v=mr("opacity"),x=mr("padding"),j=mr("saturate"),C=mr("scale"),M=mr("sepia"),$=mr("skew"),V=mr("space"),B=mr("translate"),U=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Ht,d],W=()=>[Ht,d],R=()=>["",Fs,ai],D=()=>["auto",wo,Ht],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Ht],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[wo,Ht];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[Fs,ai],blur:["none","",li,Ht],brightness:P(),borderColor:[_],borderRadius:["none","","full",li,Ht],borderSpacing:W(),borderWidth:R(),contrast:P(),grayscale:N(),hueRotate:P(),invert:N(),gap:W(),gradientColorStops:[_],gradientColorStopPositions:[iw,ai],inset:Y(),margin:Y(),opacity:P(),padding:W(),saturate:P(),scale:P(),sepia:N(),skew:P(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Ht]}],container:["container"],columns:[{columns:[li]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),Ht]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ua,Ht]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ht]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ua,Ht]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ua,Ht]},Ht]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ua,Ht]},Ht]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ht]}],gap:[{gap:[o]}],"gap-x":[{"gap-x":[o]}],"gap-y":[{"gap-y":[o]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ht,d]}],"min-w":[{"min-w":[Ht,d,"min","max","fit"]}],"max-w":[{"max-w":[Ht,d,"none","full","min","max","fit","prose",{screen:[li]},li]}],h:[{h:[Ht,d,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ht,d,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ht,d,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ht,d,"auto","min","max","fit"]}],"font-size":[{text:["base",li,ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ud]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ht]}],"line-clamp":[{"line-clamp":["none",wo,ud]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fs,Ht]}],"list-image":[{"list-image":["none",Ht]}],"list-style-type":[{list:["none","disc","decimal",Ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[_]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[_]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fs,ai]}],"underline-offset":[{"underline-offset":["auto",Fs,Ht]}],"text-decoration-color":[{decoration:[_]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),lw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uw]}],"bg-color":[{bg:[_]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[a]}],"gradient-via":[{via:[a]}],"gradient-to":[{to:[a]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:w()}],"border-color":[{border:[m]}],"border-color-x":[{"border-x":[m]}],"border-color-y":[{"border-y":[m]}],"border-color-s":[{"border-s":[m]}],"border-color-e":[{"border-e":[m]}],"border-color-t":[{"border-t":[m]}],"border-color-r":[{"border-r":[m]}],"border-color-b":[{"border-b":[m]}],"border-color-l":[{"border-l":[m]}],"divide-color":[{divide:[m]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[Fs,Ht]}],"outline-w":[{outline:[Fs,ai]}],"outline-color":[{outline:[_]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[_]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Fs,ai]}],"ring-offset-color":[{"ring-offset":[_]}],shadow:[{shadow:["","inner","none",li,dw]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[h]}],contrast:[{contrast:[r]}],"drop-shadow":[{"drop-shadow":["","none",li,Ht]}],grayscale:[{grayscale:[t]}],"hue-rotate":[{"hue-rotate":[n]}],invert:[{invert:[l]}],saturate:[{saturate:[j]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[h]}],"backdrop-contrast":[{"backdrop-contrast":[r]}],"backdrop-grayscale":[{"backdrop-grayscale":[t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[n]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ht]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Ht]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ua,Ht]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ht]}],accent:[{accent:["auto",_]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht]}],"caret-color":[{caret:[_]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht]}],fill:[{fill:[_,"none"]}],"stroke-w":[{stroke:[Fs,ai,ud]}],stroke:[{stroke:[_,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gw=Zx(mw);function Et(..._){return gw(a0(_))}const bw=l0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ve=Z.forwardRef(({className:_,variant:d,size:e,asChild:h=!1,...m},c)=>{const s=h?i0:"button";return p.jsx(s,{ref:c,"data-slot":"button",className:Et(bw({variant:d,size:e,className:_})),...m})});Ve.displayName="Button";function at(_,d,{checkForDefaultPrevented:e=!0}={}){return function(m){if(_?.(m),e===!1||!m.defaultPrevented)return d?.(m)}}function yw(_,d){const e=Z.createContext(d),h=c=>{const{children:s,...i}=c,r=Z.useMemo(()=>i,Object.values(i));return p.jsx(e.Provider,{value:r,children:s})};h.displayName=_+"Provider";function m(c){const s=Z.useContext(e);if(s)return s;if(d!==void 0)return d;throw new Error(`\`${c}\` must be used within \`${_}\``)}return[h,m]}function ls(_,d=[]){let e=[];function h(c,s){const i=Z.createContext(s),r=e.length;e=[...e,s];const t=l=>{const{scope:o,children:a,...g}=l,b=o?.[_]?.[r]||i,f=Z.useMemo(()=>g,Object.values(g));return p.jsx(b.Provider,{value:f,children:a})};t.displayName=c+"Provider";function n(l,o){const a=o?.[_]?.[r]||i,g=Z.useContext(a);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${c}\``)}return[t,n]}const m=()=>{const c=e.map(s=>Z.createContext(s));return function(i){const r=i?.[_]||c;return Z.useMemo(()=>({[`__scope${_}`]:{...i,[_]:r}}),[i,r])}};return m.scopeName=_,[h,vw(m,...d)]}function vw(..._){const d=_[0];if(_.length===1)return d;const e=()=>{const h=_.map(m=>({useScope:m(),scopeName:m.scopeName}));return function(c){const s=h.reduce((i,{useScope:r,scopeName:t})=>{const l=r(c)[`__scope${t}`];return{...i,...l}},{});return Z.useMemo(()=>({[`__scope${d.scopeName}`]:s}),[s])}};return e.scopeName=d.scopeName,e}var Wr=globalThis?.document?Z.useLayoutEffect:()=>{},xw=Gm[" useInsertionEffect ".trim().toString()]||Wr;function Pi({prop:_,defaultProp:d,onChange:e=()=>{},caller:h}){const[m,c,s]=ww({defaultProp:d,onChange:e}),i=_!==void 0,r=i?_:m;{const n=Z.useRef(_!==void 0);Z.useEffect(()=>{const l=n.current;l!==i&&console.warn(`${h} is changing from ${l?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),n.current=i},[i,h])}const t=Z.useCallback(n=>{if(i){const l=_w(n)?n(_):n;l!==_&&s.current?.(l)}else c(n)},[i,_,c,s]);return[r,t]}function ww({defaultProp:_,onChange:d}){const[e,h]=Z.useState(_),m=Z.useRef(e),c=Z.useRef(d);return xw(()=>{c.current=d},[d]),Z.useEffect(()=>{m.current!==e&&(c.current?.(e),m.current=e)},[e,m]),[e,h,c]}function _w(_){return typeof _=="function"}var Sa=Xm();const p0=qm(Sa);var Sw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pt=Sw.reduce((_,d)=>{const e=Ii(`Primitive.${d}`),h=Z.forwardRef((m,c)=>{const{asChild:s,...i}=m,r=s?e:d;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(r,{...i,ref:c})});return h.displayName=`Primitive.${d}`,{..._,[d]:h}},{});function m0(_,d){_&&Sa.flushSync(()=>_.dispatchEvent(d))}function Hd(_){const d=_+"CollectionProvider",[e,h]=ls(d),[m,c]=e(d,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:f,children:v}=b,x=Be.useRef(null),j=Be.useRef(new Map).current;return p.jsx(m,{scope:f,itemMap:j,collectionRef:x,children:v})};s.displayName=d;const i=_+"CollectionSlot",r=Ii(i),t=Be.forwardRef((b,f)=>{const{scope:v,children:x}=b,j=c(i,v),C=Qt(f,j.collectionRef);return p.jsx(r,{ref:C,children:x})});t.displayName=i;const n=_+"CollectionItemSlot",l="data-radix-collection-item",o=Ii(n),a=Be.forwardRef((b,f)=>{const{scope:v,children:x,...j}=b,C=Be.useRef(null),M=Qt(f,C),$=c(n,v);return Be.useEffect(()=>($.itemMap.set(C,{ref:C,...j}),()=>void $.itemMap.delete(C))),p.jsx(o,{[l]:"",ref:M,children:x})});a.displayName=n;function g(b){const f=c(_+"CollectionConsumer",b);return Be.useCallback(()=>{const x=f.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${l}]`));return Array.from(f.itemMap.values()).sort(($,V)=>j.indexOf($.ref.current)-j.indexOf(V.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:s,Slot:t,ItemSlot:a},g,h]}var kw=Z.createContext(void 0);function ka(_){const d=Z.useContext(kw);return _||d||"ltr"}function $r(_){const d=Z.useRef(_);return Z.useEffect(()=>{d.current=_}),Z.useMemo(()=>(...e)=>d.current?.(...e),[])}function Nw(_,d=globalThis?.document){const e=$r(_);Z.useEffect(()=>{const h=m=>{m.key==="Escape"&&e(m)};return d.addEventListener("keydown",h,{capture:!0}),()=>d.removeEventListener("keydown",h,{capture:!0})},[e,d])}var Ew="DismissableLayer",Nd="dismissableLayer.update",jw="dismissableLayer.pointerDownOutside",Cw="dismissableLayer.focusOutside",nm,g0=Z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oc=Z.forwardRef((_,d)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:c,onInteractOutside:s,onDismiss:i,...r}=_,t=Z.useContext(g0),[n,l]=Z.useState(null),o=n?.ownerDocument??globalThis?.document,[,a]=Z.useState({}),g=Qt(d,V=>l(V)),b=Array.from(t.layers),[f]=[...t.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(f),x=n?b.indexOf(n):-1,j=t.layersWithOutsidePointerEventsDisabled.size>0,C=x>=v,M=Rw(V=>{const B=V.target,U=[...t.branches].some(q=>q.contains(B));!C||U||(m?.(V),s?.(V),V.defaultPrevented||i?.())},o),$=Mw(V=>{const B=V.target;[...t.branches].some(q=>q.contains(B))||(c?.(V),s?.(V),V.defaultPrevented||i?.())},o);return Nw(V=>{x===t.layers.size-1&&(h?.(V),!V.defaultPrevented&&i&&(V.preventDefault(),i()))},o),Z.useEffect(()=>{if(n)return e&&(t.layersWithOutsidePointerEventsDisabled.size===0&&(nm=o.body.style.pointerEvents,o.body.style.pointerEvents="none"),t.layersWithOutsidePointerEventsDisabled.add(n)),t.layers.add(n),sm(),()=>{e&&t.layersWithOutsidePointerEventsDisabled.size===1&&(o.body.style.pointerEvents=nm)}},[n,o,e,t]),Z.useEffect(()=>()=>{n&&(t.layers.delete(n),t.layersWithOutsidePointerEventsDisabled.delete(n),sm())},[n,t]),Z.useEffect(()=>{const V=()=>a({});return document.addEventListener(Nd,V),()=>document.removeEventListener(Nd,V)},[]),p.jsx(Pt.div,{...r,ref:g,style:{pointerEvents:j?C?"auto":"none":void 0,..._.style},onFocusCapture:at(_.onFocusCapture,$.onFocusCapture),onBlurCapture:at(_.onBlurCapture,$.onBlurCapture),onPointerDownCapture:at(_.onPointerDownCapture,M.onPointerDownCapture)})});oc.displayName=Ew;var Tw="DismissableLayerBranch",Aw=Z.forwardRef((_,d)=>{const e=Z.useContext(g0),h=Z.useRef(null),m=Qt(d,h);return Z.useEffect(()=>{const c=h.current;if(c)return e.branches.add(c),()=>{e.branches.delete(c)}},[e.branches]),p.jsx(Pt.div,{..._,ref:m})});Aw.displayName=Tw;function Rw(_,d=globalThis?.document){const e=$r(_),h=Z.useRef(!1),m=Z.useRef(()=>{});return Z.useEffect(()=>{const c=i=>{if(i.target&&!h.current){let r=function(){b0(jw,e,t,{discrete:!0})};const t={originalEvent:i};i.pointerType==="touch"?(d.removeEventListener("click",m.current),m.current=r,d.addEventListener("click",m.current,{once:!0})):r()}else d.removeEventListener("click",m.current);h.current=!1},s=window.setTimeout(()=>{d.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(s),d.removeEventListener("pointerdown",c),d.removeEventListener("click",m.current)}},[d,e]),{onPointerDownCapture:()=>h.current=!0}}function Mw(_,d=globalThis?.document){const e=$r(_),h=Z.useRef(!1);return Z.useEffect(()=>{const m=c=>{c.target&&!h.current&&b0(Cw,e,{originalEvent:c},{discrete:!1})};return d.addEventListener("focusin",m),()=>d.removeEventListener("focusin",m)},[d,e]),{onFocusCapture:()=>h.current=!0,onBlurCapture:()=>h.current=!1}}function sm(){const _=new CustomEvent(Nd);document.dispatchEvent(_)}function b0(_,d,e,{discrete:h}){const m=e.originalEvent.target,c=new CustomEvent(_,{bubbles:!1,cancelable:!0,detail:e});d&&m.addEventListener(_,d,{once:!0}),h?m0(m,c):m.dispatchEvent(c)}var dd=0;function Vd(){Z.useEffect(()=>{const _=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",_[0]??im()),document.body.insertAdjacentElement("beforeend",_[1]??im()),dd++,()=>{dd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(d=>d.remove()),dd--}},[])}function im(){const _=document.createElement("span");return _.setAttribute("data-radix-focus-guard",""),_.tabIndex=0,_.style.outline="none",_.style.opacity="0",_.style.position="fixed",_.style.pointerEvents="none",_}var fd="focusScope.autoFocusOnMount",hd="focusScope.autoFocusOnUnmount",om={bubbles:!1,cancelable:!0},Iw="FocusScope",ac=Z.forwardRef((_,d)=>{const{loop:e=!1,trapped:h=!1,onMountAutoFocus:m,onUnmountAutoFocus:c,...s}=_,[i,r]=Z.useState(null),t=$r(m),n=$r(c),l=Z.useRef(null),o=Qt(d,b=>r(b)),a=Z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Z.useEffect(()=>{if(h){let b=function(j){if(a.paused||!i)return;const C=j.target;i.contains(C)?l.current=C:ci(l.current,{select:!0})},f=function(j){if(a.paused||!i)return;const C=j.relatedTarget;C!==null&&(i.contains(C)||ci(l.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const M of j)M.removedNodes.length>0&&ci(i)};document.addEventListener("focusin",b),document.addEventListener("focusout",f);const x=new MutationObserver(v);return i&&x.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",f),x.disconnect()}}},[h,i,a.paused]),Z.useEffect(()=>{if(i){lm.add(a);const b=document.activeElement;if(!i.contains(b)){const v=new CustomEvent(fd,om);i.addEventListener(fd,t),i.dispatchEvent(v),v.defaultPrevented||(Pw(Bw(y0(i)),{select:!0}),document.activeElement===b&&ci(i))}return()=>{i.removeEventListener(fd,t),setTimeout(()=>{const v=new CustomEvent(hd,om);i.addEventListener(hd,n),i.dispatchEvent(v),v.defaultPrevented||ci(b??document.body,{select:!0}),i.removeEventListener(hd,n),lm.remove(a)},0)}}},[i,t,n,a]);const g=Z.useCallback(b=>{if(!e&&!h||a.paused)return;const f=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(f&&v){const x=b.currentTarget,[j,C]=Dw(x);j&&C?!b.shiftKey&&v===C?(b.preventDefault(),e&&ci(j,{select:!0})):b.shiftKey&&v===j&&(b.preventDefault(),e&&ci(C,{select:!0})):v===x&&b.preventDefault()}},[e,h,a.paused]);return p.jsx(Pt.div,{tabIndex:-1,...s,ref:o,onKeyDown:g})});ac.displayName=Iw;function Pw(_,{select:d=!1}={}){const e=document.activeElement;for(const h of _)if(ci(h,{select:d}),document.activeElement!==e)return}function Dw(_){const d=y0(_),e=am(d,_),h=am(d.reverse(),_);return[e,h]}function y0(_){const d=[],e=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,{acceptNode:h=>{const m=h.tagName==="INPUT"&&h.type==="hidden";return h.disabled||h.hidden||m?NodeFilter.FILTER_SKIP:h.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)d.push(e.currentNode);return d}function am(_,d){for(const e of _)if(!Ow(e,{upTo:d}))return e}function Ow(_,{upTo:d}){if(getComputedStyle(_).visibility==="hidden")return!0;for(;_;){if(d!==void 0&&_===d)return!1;if(getComputedStyle(_).display==="none")return!0;_=_.parentElement}return!1}function Lw(_){return _ instanceof HTMLInputElement&&"select"in _}function ci(_,{select:d=!1}={}){if(_&&_.focus){const e=document.activeElement;_.focus({preventScroll:!0}),_!==e&&Lw(_)&&d&&_.select()}}var lm=Fw();function Fw(){let _=[];return{add(d){const e=_[0];d!==e&&e?.pause(),_=cm(_,d),_.unshift(d)},remove(d){_=cm(_,d),_[0]?.resume()}}}function cm(_,d){const e=[..._],h=e.indexOf(d);return h!==-1&&e.splice(h,1),e}function Bw(_){return _.filter(d=>d.tagName!=="A")}var zw=Gm[" useId ".trim().toString()]||(()=>{}),$w=0;function vs(_){const[d,e]=Z.useState(zw());return Wr(()=>{e(h=>h??String($w++))},[_]),d?`radix-${d}`:""}const Uw=["top","right","bottom","left"],fi=Math.min,kn=Math.max,Xl=Math.round,Rl=Math.floor,xs=_=>({x:_,y:_}),Hw={left:"right",right:"left",bottom:"top",top:"bottom"},Vw={start:"end",end:"start"};function Ed(_,d,e){return kn(_,fi(d,e))}function zs(_,d){return typeof _=="function"?_(d):_}function $s(_){return _.split("-")[0]}function Ro(_){return _.split("-")[1]}function Wd(_){return _==="x"?"y":"x"}function qd(_){return _==="y"?"height":"width"}const Ww=new Set(["top","bottom"]);function ys(_){return Ww.has($s(_))?"y":"x"}function Xd(_){return Wd(ys(_))}function qw(_,d,e){e===void 0&&(e=!1);const h=Ro(_),m=Xd(_),c=qd(m);let s=m==="x"?h===(e?"end":"start")?"right":"left":h==="start"?"bottom":"top";return d.reference[c]>d.floating[c]&&(s=Gl(s)),[s,Gl(s)]}function Xw(_){const d=Gl(_);return[jd(_),d,jd(d)]}function jd(_){return _.replace(/start|end/g,d=>Vw[d])}const um=["left","right"],dm=["right","left"],Gw=["top","bottom"],Kw=["bottom","top"];function Yw(_,d,e){switch(_){case"top":case"bottom":return e?d?dm:um:d?um:dm;case"left":case"right":return d?Gw:Kw;default:return[]}}function Zw(_,d,e,h){const m=Ro(_);let c=Yw($s(_),e==="start",h);return m&&(c=c.map(s=>s+"-"+m),d&&(c=c.concat(c.map(jd)))),c}function Gl(_){return _.replace(/left|right|bottom|top/g,d=>Hw[d])}function Jw(_){return{top:0,right:0,bottom:0,left:0,..._}}function v0(_){return typeof _!="number"?Jw(_):{top:_,right:_,bottom:_,left:_}}function Kl(_){const{x:d,y:e,width:h,height:m}=_;return{width:h,height:m,top:e,left:d,right:d+h,bottom:e+m,x:d,y:e}}function fm(_,d,e){let{reference:h,floating:m}=_;const c=ys(d),s=Xd(d),i=qd(s),r=$s(d),t=c==="y",n=h.x+h.width/2-m.width/2,l=h.y+h.height/2-m.height/2,o=h[i]/2-m[i]/2;let a;switch(r){case"top":a={x:n,y:h.y-m.height};break;case"bottom":a={x:n,y:h.y+h.height};break;case"right":a={x:h.x+h.width,y:l};break;case"left":a={x:h.x-m.width,y:l};break;default:a={x:h.x,y:h.y}}switch(Ro(d)){case"start":a[s]-=o*(e&&t?-1:1);break;case"end":a[s]+=o*(e&&t?-1:1);break}return a}const Qw=async(_,d,e)=>{const{placement:h="bottom",strategy:m="absolute",middleware:c=[],platform:s}=e,i=c.filter(Boolean),r=await(s.isRTL==null?void 0:s.isRTL(d));let t=await s.getElementRects({reference:_,floating:d,strategy:m}),{x:n,y:l}=fm(t,h,r),o=h,a={},g=0;for(let b=0;b<i.length;b++){const{name:f,fn:v}=i[b],{x,y:j,data:C,reset:M}=await v({x:n,y:l,initialPlacement:h,placement:o,strategy:m,middlewareData:a,rects:t,platform:s,elements:{reference:_,floating:d}});n=x??n,l=j??l,a={...a,[f]:{...a[f],...C}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(o=M.placement),M.rects&&(t=M.rects===!0?await s.getElementRects({reference:_,floating:d,strategy:m}):M.rects),{x:n,y:l}=fm(t,o,r)),b=-1)}return{x:n,y:l,placement:o,strategy:m,middlewareData:a}};async function ba(_,d){var e;d===void 0&&(d={});const{x:h,y:m,platform:c,rects:s,elements:i,strategy:r}=_,{boundary:t="clippingAncestors",rootBoundary:n="viewport",elementContext:l="floating",altBoundary:o=!1,padding:a=0}=zs(d,_),g=v0(a),f=i[o?l==="floating"?"reference":"floating":l],v=Kl(await c.getClippingRect({element:(e=await(c.isElement==null?void 0:c.isElement(f)))==null||e?f:f.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(i.floating)),boundary:t,rootBoundary:n,strategy:r})),x=l==="floating"?{x:h,y:m,width:s.floating.width,height:s.floating.height}:s.reference,j=await(c.getOffsetParent==null?void 0:c.getOffsetParent(i.floating)),C=await(c.isElement==null?void 0:c.isElement(j))?await(c.getScale==null?void 0:c.getScale(j))||{x:1,y:1}:{x:1,y:1},M=Kl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:j,strategy:r}):x);return{top:(v.top-M.top+g.top)/C.y,bottom:(M.bottom-v.bottom+g.bottom)/C.y,left:(v.left-M.left+g.left)/C.x,right:(M.right-v.right+g.right)/C.x}}const e2=_=>({name:"arrow",options:_,async fn(d){const{x:e,y:h,placement:m,rects:c,platform:s,elements:i,middlewareData:r}=d,{element:t,padding:n=0}=zs(_,d)||{};if(t==null)return{};const l=v0(n),o={x:e,y:h},a=Xd(m),g=qd(a),b=await s.getDimensions(t),f=a==="y",v=f?"top":"left",x=f?"bottom":"right",j=f?"clientHeight":"clientWidth",C=c.reference[g]+c.reference[a]-o[a]-c.floating[g],M=o[a]-c.reference[a],$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(t));let V=$?$[j]:0;(!V||!await(s.isElement==null?void 0:s.isElement($)))&&(V=i.floating[j]||c.floating[g]);const B=C/2-M/2,U=V/2-b[g]/2-1,q=fi(l[v],U),Y=fi(l[x],U),W=q,R=V-b[g]-Y,D=V/2-b[g]/2+B,E=Ed(W,D,R),w=!r.arrow&&Ro(m)!=null&&D!==E&&c.reference[g]/2-(D<W?q:Y)-b[g]/2<0,k=w?D<W?D-W:D-R:0;return{[a]:o[a]+k,data:{[a]:E,centerOffset:D-E-k,...w&&{alignmentOffset:k}},reset:w}}}),t2=function(_){return _===void 0&&(_={}),{name:"flip",options:_,async fn(d){var e,h;const{placement:m,middlewareData:c,rects:s,initialPlacement:i,platform:r,elements:t}=d,{mainAxis:n=!0,crossAxis:l=!0,fallbackPlacements:o,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...f}=zs(_,d);if((e=c.arrow)!=null&&e.alignmentOffset)return{};const v=$s(m),x=ys(i),j=$s(i)===i,C=await(r.isRTL==null?void 0:r.isRTL(t.floating)),M=o||(j||!b?[Gl(i)]:Xw(i)),$=g!=="none";!o&&$&&M.push(...Zw(i,b,g,C));const V=[i,...M],B=await ba(d,f),U=[];let q=((h=c.flip)==null?void 0:h.overflows)||[];if(n&&U.push(B[v]),l){const D=qw(m,s,C);U.push(B[D[0]],B[D[1]])}if(q=[...q,{placement:m,overflows:U}],!U.every(D=>D<=0)){var Y,W;const D=(((Y=c.flip)==null?void 0:Y.index)||0)+1,E=V[D];if(E&&(!(l==="alignment"?x!==ys(E):!1)||q.every(S=>ys(S.placement)===x?S.overflows[0]>0:!0)))return{data:{index:D,overflows:q},reset:{placement:E}};let w=(W=q.filter(k=>k.overflows[0]<=0).sort((k,S)=>k.overflows[1]-S.overflows[1])[0])==null?void 0:W.placement;if(!w)switch(a){case"bestFit":{var R;const k=(R=q.filter(S=>{if($){const N=ys(S.placement);return N===x||N==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(N=>N>0).reduce((N,A)=>N+A,0)]).sort((S,N)=>S[1]-N[1])[0])==null?void 0:R[0];k&&(w=k);break}case"initialPlacement":w=i;break}if(m!==w)return{reset:{placement:w}}}return{}}}};function hm(_,d){return{top:_.top-d.height,right:_.right-d.width,bottom:_.bottom-d.height,left:_.left-d.width}}function pm(_){return Uw.some(d=>_[d]>=0)}const r2=function(_){return _===void 0&&(_={}),{name:"hide",options:_,async fn(d){const{rects:e}=d,{strategy:h="referenceHidden",...m}=zs(_,d);switch(h){case"referenceHidden":{const c=await ba(d,{...m,elementContext:"reference"}),s=hm(c,e.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:pm(s)}}}case"escaped":{const c=await ba(d,{...m,altBoundary:!0}),s=hm(c,e.floating);return{data:{escapedOffsets:s,escaped:pm(s)}}}default:return{}}}}},x0=new Set(["left","top"]);async function n2(_,d){const{placement:e,platform:h,elements:m}=_,c=await(h.isRTL==null?void 0:h.isRTL(m.floating)),s=$s(e),i=Ro(e),r=ys(e)==="y",t=x0.has(s)?-1:1,n=c&&r?-1:1,l=zs(d,_);let{mainAxis:o,crossAxis:a,alignmentAxis:g}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return i&&typeof g=="number"&&(a=i==="end"?g*-1:g),r?{x:a*n,y:o*t}:{x:o*t,y:a*n}}const s2=function(_){return _===void 0&&(_=0),{name:"offset",options:_,async fn(d){var e,h;const{x:m,y:c,placement:s,middlewareData:i}=d,r=await n2(d,_);return s===((e=i.offset)==null?void 0:e.placement)&&(h=i.arrow)!=null&&h.alignmentOffset?{}:{x:m+r.x,y:c+r.y,data:{...r,placement:s}}}}},i2=function(_){return _===void 0&&(_={}),{name:"shift",options:_,async fn(d){const{x:e,y:h,placement:m}=d,{mainAxis:c=!0,crossAxis:s=!1,limiter:i={fn:f=>{let{x:v,y:x}=f;return{x:v,y:x}}},...r}=zs(_,d),t={x:e,y:h},n=await ba(d,r),l=ys($s(m)),o=Wd(l);let a=t[o],g=t[l];if(c){const f=o==="y"?"top":"left",v=o==="y"?"bottom":"right",x=a+n[f],j=a-n[v];a=Ed(x,a,j)}if(s){const f=l==="y"?"top":"left",v=l==="y"?"bottom":"right",x=g+n[f],j=g-n[v];g=Ed(x,g,j)}const b=i.fn({...d,[o]:a,[l]:g});return{...b,data:{x:b.x-e,y:b.y-h,enabled:{[o]:c,[l]:s}}}}}},o2=function(_){return _===void 0&&(_={}),{options:_,fn(d){const{x:e,y:h,placement:m,rects:c,middlewareData:s}=d,{offset:i=0,mainAxis:r=!0,crossAxis:t=!0}=zs(_,d),n={x:e,y:h},l=ys(m),o=Wd(l);let a=n[o],g=n[l];const b=zs(i,d),f=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(r){const j=o==="y"?"height":"width",C=c.reference[o]-c.floating[j]+f.mainAxis,M=c.reference[o]+c.reference[j]-f.mainAxis;a<C?a=C:a>M&&(a=M)}if(t){var v,x;const j=o==="y"?"width":"height",C=x0.has($s(m)),M=c.reference[l]-c.floating[j]+(C&&((v=s.offset)==null?void 0:v[l])||0)+(C?0:f.crossAxis),$=c.reference[l]+c.reference[j]+(C?0:((x=s.offset)==null?void 0:x[l])||0)-(C?f.crossAxis:0);g<M?g=M:g>$&&(g=$)}return{[o]:a,[l]:g}}}},a2=function(_){return _===void 0&&(_={}),{name:"size",options:_,async fn(d){var e,h;const{placement:m,rects:c,platform:s,elements:i}=d,{apply:r=()=>{},...t}=zs(_,d),n=await ba(d,t),l=$s(m),o=Ro(m),a=ys(m)==="y",{width:g,height:b}=c.floating;let f,v;l==="top"||l==="bottom"?(f=l,v=o===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(v=l,f=o==="end"?"top":"bottom");const x=b-n.top-n.bottom,j=g-n.left-n.right,C=fi(b-n[f],x),M=fi(g-n[v],j),$=!d.middlewareData.shift;let V=C,B=M;if((e=d.middlewareData.shift)!=null&&e.enabled.x&&(B=j),(h=d.middlewareData.shift)!=null&&h.enabled.y&&(V=x),$&&!o){const q=kn(n.left,0),Y=kn(n.right,0),W=kn(n.top,0),R=kn(n.bottom,0);a?B=g-2*(q!==0||Y!==0?q+Y:kn(n.left,n.right)):V=b-2*(W!==0||R!==0?W+R:kn(n.top,n.bottom))}await r({...d,availableWidth:B,availableHeight:V});const U=await s.getDimensions(i.floating);return g!==U.width||b!==U.height?{reset:{rects:!0}}:{}}}};function lc(){return typeof window<"u"}function Mo(_){return w0(_)?(_.nodeName||"").toLowerCase():"#document"}function En(_){var d;return(_==null||(d=_.ownerDocument)==null?void 0:d.defaultView)||window}function ks(_){var d;return(d=(w0(_)?_.ownerDocument:_.document)||window.document)==null?void 0:d.documentElement}function w0(_){return lc()?_ instanceof Node||_ instanceof En(_).Node:!1}function ss(_){return lc()?_ instanceof Element||_ instanceof En(_).Element:!1}function _s(_){return lc()?_ instanceof HTMLElement||_ instanceof En(_).HTMLElement:!1}function mm(_){return!lc()||typeof ShadowRoot>"u"?!1:_ instanceof ShadowRoot||_ instanceof En(_).ShadowRoot}const l2=new Set(["inline","contents"]);function Na(_){const{overflow:d,overflowX:e,overflowY:h,display:m}=is(_);return/auto|scroll|overlay|hidden|clip/.test(d+h+e)&&!l2.has(m)}const c2=new Set(["table","td","th"]);function u2(_){return c2.has(Mo(_))}const d2=[":popover-open",":modal"];function cc(_){return d2.some(d=>{try{return _.matches(d)}catch{return!1}})}const f2=["transform","translate","scale","rotate","perspective"],h2=["transform","translate","scale","rotate","perspective","filter"],p2=["paint","layout","strict","content"];function Gd(_){const d=Kd(),e=ss(_)?is(_):_;return f2.some(h=>e[h]?e[h]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!d&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!d&&(e.filter?e.filter!=="none":!1)||h2.some(h=>(e.willChange||"").includes(h))||p2.some(h=>(e.contain||"").includes(h))}function m2(_){let d=hi(_);for(;_s(d)&&!jo(d);){if(Gd(d))return d;if(cc(d))return null;d=hi(d)}return null}function Kd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g2=new Set(["html","body","#document"]);function jo(_){return g2.has(Mo(_))}function is(_){return En(_).getComputedStyle(_)}function uc(_){return ss(_)?{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}:{scrollLeft:_.scrollX,scrollTop:_.scrollY}}function hi(_){if(Mo(_)==="html")return _;const d=_.assignedSlot||_.parentNode||mm(_)&&_.host||ks(_);return mm(d)?d.host:d}function _0(_){const d=hi(_);return jo(d)?_.ownerDocument?_.ownerDocument.body:_.body:_s(d)&&Na(d)?d:_0(d)}function ya(_,d,e){var h;d===void 0&&(d=[]),e===void 0&&(e=!0);const m=_0(_),c=m===((h=_.ownerDocument)==null?void 0:h.body),s=En(m);if(c){const i=Cd(s);return d.concat(s,s.visualViewport||[],Na(m)?m:[],i&&e?ya(i):[])}return d.concat(m,ya(m,[],e))}function Cd(_){return _.parent&&Object.getPrototypeOf(_.parent)?_.frameElement:null}function S0(_){const d=is(_);let e=parseFloat(d.width)||0,h=parseFloat(d.height)||0;const m=_s(_),c=m?_.offsetWidth:e,s=m?_.offsetHeight:h,i=Xl(e)!==c||Xl(h)!==s;return i&&(e=c,h=s),{width:e,height:h,$:i}}function Yd(_){return ss(_)?_:_.contextElement}function _o(_){const d=Yd(_);if(!_s(d))return xs(1);const e=d.getBoundingClientRect(),{width:h,height:m,$:c}=S0(d);let s=(c?Xl(e.width):e.width)/h,i=(c?Xl(e.height):e.height)/m;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const b2=xs(0);function k0(_){const d=En(_);return!Kd()||!d.visualViewport?b2:{x:d.visualViewport.offsetLeft,y:d.visualViewport.offsetTop}}function y2(_,d,e){return d===void 0&&(d=!1),!e||d&&e!==En(_)?!1:d}function Di(_,d,e,h){d===void 0&&(d=!1),e===void 0&&(e=!1);const m=_.getBoundingClientRect(),c=Yd(_);let s=xs(1);d&&(h?ss(h)&&(s=_o(h)):s=_o(_));const i=y2(c,e,h)?k0(c):xs(0);let r=(m.left+i.x)/s.x,t=(m.top+i.y)/s.y,n=m.width/s.x,l=m.height/s.y;if(c){const o=En(c),a=h&&ss(h)?En(h):h;let g=o,b=Cd(g);for(;b&&h&&a!==g;){const f=_o(b),v=b.getBoundingClientRect(),x=is(b),j=v.left+(b.clientLeft+parseFloat(x.paddingLeft))*f.x,C=v.top+(b.clientTop+parseFloat(x.paddingTop))*f.y;r*=f.x,t*=f.y,n*=f.x,l*=f.y,r+=j,t+=C,g=En(b),b=Cd(g)}}return Kl({width:n,height:l,x:r,y:t})}function dc(_,d){const e=uc(_).scrollLeft;return d?d.left+e:Di(ks(_)).left+e}function N0(_,d){const e=_.getBoundingClientRect(),h=e.left+d.scrollLeft-dc(_,e),m=e.top+d.scrollTop;return{x:h,y:m}}function v2(_){let{elements:d,rect:e,offsetParent:h,strategy:m}=_;const c=m==="fixed",s=ks(h),i=d?cc(d.floating):!1;if(h===s||i&&c)return e;let r={scrollLeft:0,scrollTop:0},t=xs(1);const n=xs(0),l=_s(h);if((l||!l&&!c)&&((Mo(h)!=="body"||Na(s))&&(r=uc(h)),_s(h))){const a=Di(h);t=_o(h),n.x=a.x+h.clientLeft,n.y=a.y+h.clientTop}const o=s&&!l&&!c?N0(s,r):xs(0);return{width:e.width*t.x,height:e.height*t.y,x:e.x*t.x-r.scrollLeft*t.x+n.x+o.x,y:e.y*t.y-r.scrollTop*t.y+n.y+o.y}}function x2(_){return Array.from(_.getClientRects())}function w2(_){const d=ks(_),e=uc(_),h=_.ownerDocument.body,m=kn(d.scrollWidth,d.clientWidth,h.scrollWidth,h.clientWidth),c=kn(d.scrollHeight,d.clientHeight,h.scrollHeight,h.clientHeight);let s=-e.scrollLeft+dc(_);const i=-e.scrollTop;return is(h).direction==="rtl"&&(s+=kn(d.clientWidth,h.clientWidth)-m),{width:m,height:c,x:s,y:i}}const gm=25;function _2(_,d){const e=En(_),h=ks(_),m=e.visualViewport;let c=h.clientWidth,s=h.clientHeight,i=0,r=0;if(m){c=m.width,s=m.height;const n=Kd();(!n||n&&d==="fixed")&&(i=m.offsetLeft,r=m.offsetTop)}const t=dc(h);if(t<=0){const n=h.ownerDocument,l=n.body,o=getComputedStyle(l),a=n.compatMode==="CSS1Compat"&&parseFloat(o.marginLeft)+parseFloat(o.marginRight)||0,g=Math.abs(h.clientWidth-l.clientWidth-a);g<=gm&&(c-=g)}else t<=gm&&(c+=t);return{width:c,height:s,x:i,y:r}}const S2=new Set(["absolute","fixed"]);function k2(_,d){const e=Di(_,!0,d==="fixed"),h=e.top+_.clientTop,m=e.left+_.clientLeft,c=_s(_)?_o(_):xs(1),s=_.clientWidth*c.x,i=_.clientHeight*c.y,r=m*c.x,t=h*c.y;return{width:s,height:i,x:r,y:t}}function bm(_,d,e){let h;if(d==="viewport")h=_2(_,e);else if(d==="document")h=w2(ks(_));else if(ss(d))h=k2(d,e);else{const m=k0(_);h={x:d.x-m.x,y:d.y-m.y,width:d.width,height:d.height}}return Kl(h)}function E0(_,d){const e=hi(_);return e===d||!ss(e)||jo(e)?!1:is(e).position==="fixed"||E0(e,d)}function N2(_,d){const e=d.get(_);if(e)return e;let h=ya(_,[],!1).filter(i=>ss(i)&&Mo(i)!=="body"),m=null;const c=is(_).position==="fixed";let s=c?hi(_):_;for(;ss(s)&&!jo(s);){const i=is(s),r=Gd(s);!r&&i.position==="fixed"&&(m=null),(c?!r&&!m:!r&&i.position==="static"&&!!m&&S2.has(m.position)||Na(s)&&!r&&E0(_,s))?h=h.filter(n=>n!==s):m=i,s=hi(s)}return d.set(_,h),h}function E2(_){let{element:d,boundary:e,rootBoundary:h,strategy:m}=_;const s=[...e==="clippingAncestors"?cc(d)?[]:N2(d,this._c):[].concat(e),h],i=s[0],r=s.reduce((t,n)=>{const l=bm(d,n,m);return t.top=kn(l.top,t.top),t.right=fi(l.right,t.right),t.bottom=fi(l.bottom,t.bottom),t.left=kn(l.left,t.left),t},bm(d,i,m));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function j2(_){const{width:d,height:e}=S0(_);return{width:d,height:e}}function C2(_,d,e){const h=_s(d),m=ks(d),c=e==="fixed",s=Di(_,!0,c,d);let i={scrollLeft:0,scrollTop:0};const r=xs(0);function t(){r.x=dc(m)}if(h||!h&&!c)if((Mo(d)!=="body"||Na(m))&&(i=uc(d)),h){const a=Di(d,!0,c,d);r.x=a.x+d.clientLeft,r.y=a.y+d.clientTop}else m&&t();c&&!h&&m&&t();const n=m&&!h&&!c?N0(m,i):xs(0),l=s.left+i.scrollLeft-r.x-n.x,o=s.top+i.scrollTop-r.y-n.y;return{x:l,y:o,width:s.width,height:s.height}}function pd(_){return is(_).position==="static"}function ym(_,d){if(!_s(_)||is(_).position==="fixed")return null;if(d)return d(_);let e=_.offsetParent;return ks(_)===e&&(e=e.ownerDocument.body),e}function j0(_,d){const e=En(_);if(cc(_))return e;if(!_s(_)){let m=hi(_);for(;m&&!jo(m);){if(ss(m)&&!pd(m))return m;m=hi(m)}return e}let h=ym(_,d);for(;h&&u2(h)&&pd(h);)h=ym(h,d);return h&&jo(h)&&pd(h)&&!Gd(h)?e:h||m2(_)||e}const T2=async function(_){const d=this.getOffsetParent||j0,e=this.getDimensions,h=await e(_.floating);return{reference:C2(_.reference,await d(_.floating),_.strategy),floating:{x:0,y:0,width:h.width,height:h.height}}};function A2(_){return is(_).direction==="rtl"}const R2={convertOffsetParentRelativeRectToViewportRelativeRect:v2,getDocumentElement:ks,getClippingRect:E2,getOffsetParent:j0,getElementRects:T2,getClientRects:x2,getDimensions:j2,getScale:_o,isElement:ss,isRTL:A2};function C0(_,d){return _.x===d.x&&_.y===d.y&&_.width===d.width&&_.height===d.height}function M2(_,d){let e=null,h;const m=ks(_);function c(){var i;clearTimeout(h),(i=e)==null||i.disconnect(),e=null}function s(i,r){i===void 0&&(i=!1),r===void 0&&(r=1),c();const t=_.getBoundingClientRect(),{left:n,top:l,width:o,height:a}=t;if(i||d(),!o||!a)return;const g=Rl(l),b=Rl(m.clientWidth-(n+o)),f=Rl(m.clientHeight-(l+a)),v=Rl(n),j={rootMargin:-g+"px "+-b+"px "+-f+"px "+-v+"px",threshold:kn(0,fi(1,r))||1};let C=!0;function M($){const V=$[0].intersectionRatio;if(V!==r){if(!C)return s();V?s(!1,V):h=setTimeout(()=>{s(!1,1e-7)},1e3)}V===1&&!C0(t,_.getBoundingClientRect())&&s(),C=!1}try{e=new IntersectionObserver(M,{...j,root:m.ownerDocument})}catch{e=new IntersectionObserver(M,j)}e.observe(_)}return s(!0),c}function I2(_,d,e,h){h===void 0&&(h={});const{ancestorScroll:m=!0,ancestorResize:c=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:r=!1}=h,t=Yd(_),n=m||c?[...t?ya(t):[],...ya(d)]:[];n.forEach(v=>{m&&v.addEventListener("scroll",e,{passive:!0}),c&&v.addEventListener("resize",e)});const l=t&&i?M2(t,e):null;let o=-1,a=null;s&&(a=new ResizeObserver(v=>{let[x]=v;x&&x.target===t&&a&&(a.unobserve(d),cancelAnimationFrame(o),o=requestAnimationFrame(()=>{var j;(j=a)==null||j.observe(d)})),e()}),t&&!r&&a.observe(t),a.observe(d));let g,b=r?Di(_):null;r&&f();function f(){const v=Di(_);b&&!C0(b,v)&&e(),b=v,g=requestAnimationFrame(f)}return e(),()=>{var v;n.forEach(x=>{m&&x.removeEventListener("scroll",e),c&&x.removeEventListener("resize",e)}),l?.(),(v=a)==null||v.disconnect(),a=null,r&&cancelAnimationFrame(g)}}const P2=s2,D2=i2,O2=t2,L2=a2,F2=r2,vm=e2,B2=o2,z2=(_,d,e)=>{const h=new Map,m={platform:R2,...e},c={...m.platform,_c:h};return Qw(_,d,{...m,platform:c})};var $2=typeof document<"u",U2=function(){},Ul=$2?Z.useLayoutEffect:U2;function Yl(_,d){if(_===d)return!0;if(typeof _!=typeof d)return!1;if(typeof _=="function"&&_.toString()===d.toString())return!0;let e,h,m;if(_&&d&&typeof _=="object"){if(Array.isArray(_)){if(e=_.length,e!==d.length)return!1;for(h=e;h--!==0;)if(!Yl(_[h],d[h]))return!1;return!0}if(m=Object.keys(_),e=m.length,e!==Object.keys(d).length)return!1;for(h=e;h--!==0;)if(!{}.hasOwnProperty.call(d,m[h]))return!1;for(h=e;h--!==0;){const c=m[h];if(!(c==="_owner"&&_.$$typeof)&&!Yl(_[c],d[c]))return!1}return!0}return _!==_&&d!==d}function T0(_){return typeof window>"u"?1:(_.ownerDocument.defaultView||window).devicePixelRatio||1}function xm(_,d){const e=T0(_);return Math.round(d*e)/e}function md(_){const d=Z.useRef(_);return Ul(()=>{d.current=_}),d}function H2(_){_===void 0&&(_={});const{placement:d="bottom",strategy:e="absolute",middleware:h=[],platform:m,elements:{reference:c,floating:s}={},transform:i=!0,whileElementsMounted:r,open:t}=_,[n,l]=Z.useState({x:0,y:0,strategy:e,placement:d,middlewareData:{},isPositioned:!1}),[o,a]=Z.useState(h);Yl(o,h)||a(h);const[g,b]=Z.useState(null),[f,v]=Z.useState(null),x=Z.useCallback(S=>{S!==$.current&&($.current=S,b(S))},[]),j=Z.useCallback(S=>{S!==V.current&&(V.current=S,v(S))},[]),C=c||g,M=s||f,$=Z.useRef(null),V=Z.useRef(null),B=Z.useRef(n),U=r!=null,q=md(r),Y=md(m),W=md(t),R=Z.useCallback(()=>{if(!$.current||!V.current)return;const S={placement:d,strategy:e,middleware:o};Y.current&&(S.platform=Y.current),z2($.current,V.current,S).then(N=>{const A={...N,isPositioned:W.current!==!1};D.current&&!Yl(B.current,A)&&(B.current=A,Sa.flushSync(()=>{l(A)}))})},[o,d,e,Y,W]);Ul(()=>{t===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,l(S=>({...S,isPositioned:!1})))},[t]);const D=Z.useRef(!1);Ul(()=>(D.current=!0,()=>{D.current=!1}),[]),Ul(()=>{if(C&&($.current=C),M&&(V.current=M),C&&M){if(q.current)return q.current(C,M,R);R()}},[C,M,R,q,U]);const E=Z.useMemo(()=>({reference:$,floating:V,setReference:x,setFloating:j}),[x,j]),w=Z.useMemo(()=>({reference:C,floating:M}),[C,M]),k=Z.useMemo(()=>{const S={position:e,left:0,top:0};if(!w.floating)return S;const N=xm(w.floating,n.x),A=xm(w.floating,n.y);return i?{...S,transform:"translate("+N+"px, "+A+"px)",...T0(w.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:N,top:A}},[e,i,w.floating,n.x,n.y]);return Z.useMemo(()=>({...n,update:R,refs:E,elements:w,floatingStyles:k}),[n,R,E,w,k])}const V2=_=>{function d(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:_,fn(e){const{element:h,padding:m}=typeof _=="function"?_(e):_;return h&&d(h)?h.current!=null?vm({element:h.current,padding:m}).fn(e):{}:h?vm({element:h,padding:m}).fn(e):{}}}},W2=(_,d)=>({...P2(_),options:[_,d]}),q2=(_,d)=>({...D2(_),options:[_,d]}),X2=(_,d)=>({...B2(_),options:[_,d]}),G2=(_,d)=>({...O2(_),options:[_,d]}),K2=(_,d)=>({...L2(_),options:[_,d]}),Y2=(_,d)=>({...F2(_),options:[_,d]}),Z2=(_,d)=>({...V2(_),options:[_,d]});var J2="Arrow",A0=Z.forwardRef((_,d)=>{const{children:e,width:h=10,height:m=5,...c}=_;return p.jsx(Pt.svg,{...c,ref:d,width:h,height:m,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_.asChild?e:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});A0.displayName=J2;var Q2=A0;function R0(_){const[d,e]=Z.useState(void 0);return Wr(()=>{if(_){e({width:_.offsetWidth,height:_.offsetHeight});const h=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const c=m[0];let s,i;if("borderBoxSize"in c){const r=c.borderBoxSize,t=Array.isArray(r)?r[0]:r;s=t.inlineSize,i=t.blockSize}else s=_.offsetWidth,i=_.offsetHeight;e({width:s,height:i})});return h.observe(_,{box:"border-box"}),()=>h.unobserve(_)}else e(void 0)},[_]),d}var Zd="Popper",[M0,fc]=ls(Zd),[e4,I0]=M0(Zd),P0=_=>{const{__scopePopper:d,children:e}=_,[h,m]=Z.useState(null);return p.jsx(e4,{scope:d,anchor:h,onAnchorChange:m,children:e})};P0.displayName=Zd;var D0="PopperAnchor",O0=Z.forwardRef((_,d)=>{const{__scopePopper:e,virtualRef:h,...m}=_,c=I0(D0,e),s=Z.useRef(null),i=Qt(d,s),r=Z.useRef(null);return Z.useEffect(()=>{const t=r.current;r.current=h?.current||s.current,t!==r.current&&c.onAnchorChange(r.current)}),h?null:p.jsx(Pt.div,{...m,ref:i})});O0.displayName=D0;var Jd="PopperContent",[t4,r4]=M0(Jd),L0=Z.forwardRef((_,d)=>{const{__scopePopper:e,side:h="bottom",sideOffset:m=0,align:c="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:r=!0,collisionBoundary:t=[],collisionPadding:n=0,sticky:l="partial",hideWhenDetached:o=!1,updatePositionStrategy:a="optimized",onPlaced:g,...b}=_,f=I0(Jd,e),[v,x]=Z.useState(null),j=Qt(d,Q=>x(Q)),[C,M]=Z.useState(null),$=R0(C),V=$?.width??0,B=$?.height??0,U=h+(c!=="center"?"-"+c:""),q=typeof n=="number"?n:{top:0,right:0,bottom:0,left:0,...n},Y=Array.isArray(t)?t:[t],W=Y.length>0,R={padding:q,boundary:Y.filter(s4),altBoundary:W},{refs:D,floatingStyles:E,placement:w,isPositioned:k,middlewareData:S}=H2({strategy:"fixed",placement:U,whileElementsMounted:(...Q)=>I2(...Q,{animationFrame:a==="always"}),elements:{reference:f.anchor},middleware:[W2({mainAxis:m+B,alignmentAxis:s}),r&&q2({mainAxis:!0,crossAxis:!1,limiter:l==="partial"?X2():void 0,...R}),r&&G2({...R}),K2({...R,apply:({elements:Q,rects:O,availableWidth:I,availableHeight:H})=>{const{width:ee,height:ne}=O.reference,re=Q.floating.style;re.setProperty("--radix-popper-available-width",`${I}px`),re.setProperty("--radix-popper-available-height",`${H}px`),re.setProperty("--radix-popper-anchor-width",`${ee}px`),re.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),C&&Z2({element:C,padding:i}),i4({arrowWidth:V,arrowHeight:B}),o&&Y2({strategy:"referenceHidden",...R})]}),[N,A]=z0(w),P=$r(g);Wr(()=>{k&&P?.()},[k,P]);const L=S.arrow?.x,X=S.arrow?.y,K=S.arrow?.centerOffset!==0,[te,z]=Z.useState();return Wr(()=>{v&&z(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:k?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[S.transformOrigin?.x,S.transformOrigin?.y].join(" "),...S.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:_.dir,children:p.jsx(t4,{scope:e,placedSide:N,onArrowChange:M,arrowX:L,arrowY:X,shouldHideArrow:K,children:p.jsx(Pt.div,{"data-side":N,"data-align":A,...b,ref:j,style:{...b.style,animation:k?void 0:"none"}})})})});L0.displayName=Jd;var F0="PopperArrow",n4={top:"bottom",right:"left",bottom:"top",left:"right"},B0=Z.forwardRef(function(d,e){const{__scopePopper:h,...m}=d,c=r4(F0,h),s=n4[c.placedSide];return p.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:p.jsx(Q2,{...m,ref:e,style:{...m.style,display:"block"}})})});B0.displayName=F0;function s4(_){return _!==null}var i4=_=>({name:"transformOrigin",options:_,fn(d){const{placement:e,rects:h,middlewareData:m}=d,s=m.arrow?.centerOffset!==0,i=s?0:_.arrowWidth,r=s?0:_.arrowHeight,[t,n]=z0(e),l={start:"0%",center:"50%",end:"100%"}[n],o=(m.arrow?.x??0)+i/2,a=(m.arrow?.y??0)+r/2;let g="",b="";return t==="bottom"?(g=s?l:`${o}px`,b=`${-r}px`):t==="top"?(g=s?l:`${o}px`,b=`${h.floating.height+r}px`):t==="right"?(g=`${-r}px`,b=s?l:`${a}px`):t==="left"&&(g=`${h.floating.width+r}px`,b=s?l:`${a}px`),{data:{x:g,y:b}}}});function z0(_){const[d,e="center"]=_.split("-");return[d,e]}var $0=P0,U0=O0,H0=L0,V0=B0,o4="Portal",hc=Z.forwardRef((_,d)=>{const{container:e,...h}=_,[m,c]=Z.useState(!1);Wr(()=>c(!0),[]);const s=e||m&&globalThis?.document?.body;return s?p0.createPortal(p.jsx(Pt.div,{...h,ref:d}),s):null});hc.displayName=o4;function a4(_,d){return Z.useReducer((e,h)=>d[e][h]??e,_)}var Tn=_=>{const{present:d,children:e}=_,h=l4(d),m=typeof e=="function"?e({present:h.isPresent}):Z.Children.only(e),c=Qt(h.ref,c4(m));return typeof e=="function"||h.isPresent?Z.cloneElement(m,{ref:c}):null};Tn.displayName="Presence";function l4(_){const[d,e]=Z.useState(),h=Z.useRef(null),m=Z.useRef(_),c=Z.useRef("none"),s=_?"mounted":"unmounted",[i,r]=a4(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const t=Ml(h.current);c.current=i==="mounted"?t:"none"},[i]),Wr(()=>{const t=h.current,n=m.current;if(n!==_){const o=c.current,a=Ml(t);_?r("MOUNT"):a==="none"||t?.display==="none"?r("UNMOUNT"):r(n&&o!==a?"ANIMATION_OUT":"UNMOUNT"),m.current=_}},[_,r]),Wr(()=>{if(d){let t;const n=d.ownerDocument.defaultView??window,l=a=>{const b=Ml(h.current).includes(CSS.escape(a.animationName));if(a.target===d&&b&&(r("ANIMATION_END"),!m.current)){const f=d.style.animationFillMode;d.style.animationFillMode="forwards",t=n.setTimeout(()=>{d.style.animationFillMode==="forwards"&&(d.style.animationFillMode=f)})}},o=a=>{a.target===d&&(c.current=Ml(h.current))};return d.addEventListener("animationstart",o),d.addEventListener("animationcancel",l),d.addEventListener("animationend",l),()=>{n.clearTimeout(t),d.removeEventListener("animationstart",o),d.removeEventListener("animationcancel",l),d.removeEventListener("animationend",l)}}else r("ANIMATION_END")},[d,r]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:Z.useCallback(t=>{h.current=t?getComputedStyle(t):null,e(t)},[])}}function Ml(_){return _?.animationName||"none"}function c4(_){let d=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,e=d&&"isReactWarning"in d&&d.isReactWarning;return e?_.ref:(d=Object.getOwnPropertyDescriptor(_,"ref")?.get,e=d&&"isReactWarning"in d&&d.isReactWarning,e?_.props.ref:_.props.ref||_.ref)}var gd="rovingFocusGroup.onEntryFocus",u4={bubbles:!1,cancelable:!0},Ea="RovingFocusGroup",[Td,W0,d4]=Hd(Ea),[f4,pc]=ls(Ea,[d4]),[h4,p4]=f4(Ea),q0=Z.forwardRef((_,d)=>p.jsx(Td.Provider,{scope:_.__scopeRovingFocusGroup,children:p.jsx(Td.Slot,{scope:_.__scopeRovingFocusGroup,children:p.jsx(m4,{..._,ref:d})})}));q0.displayName=Ea;var m4=Z.forwardRef((_,d)=>{const{__scopeRovingFocusGroup:e,orientation:h,loop:m=!1,dir:c,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:r,onEntryFocus:t,preventScrollOnEntryFocus:n=!1,...l}=_,o=Z.useRef(null),a=Qt(d,o),g=ka(c),[b,f]=Pi({prop:s,defaultProp:i??null,onChange:r,caller:Ea}),[v,x]=Z.useState(!1),j=$r(t),C=W0(e),M=Z.useRef(!1),[$,V]=Z.useState(0);return Z.useEffect(()=>{const B=o.current;if(B)return B.addEventListener(gd,j),()=>B.removeEventListener(gd,j)},[j]),p.jsx(h4,{scope:e,orientation:h,dir:g,loop:m,currentTabStopId:b,onItemFocus:Z.useCallback(B=>f(B),[f]),onItemShiftTab:Z.useCallback(()=>x(!0),[]),onFocusableItemAdd:Z.useCallback(()=>V(B=>B+1),[]),onFocusableItemRemove:Z.useCallback(()=>V(B=>B-1),[]),children:p.jsx(Pt.div,{tabIndex:v||$===0?-1:0,"data-orientation":h,...l,ref:a,style:{outline:"none",..._.style},onMouseDown:at(_.onMouseDown,()=>{M.current=!0}),onFocus:at(_.onFocus,B=>{const U=!M.current;if(B.target===B.currentTarget&&U&&!v){const q=new CustomEvent(gd,u4);if(B.currentTarget.dispatchEvent(q),!q.defaultPrevented){const Y=C().filter(w=>w.focusable),W=Y.find(w=>w.active),R=Y.find(w=>w.id===b),E=[W,R,...Y].filter(Boolean).map(w=>w.ref.current);K0(E,n)}}M.current=!1}),onBlur:at(_.onBlur,()=>x(!1))})})}),X0="RovingFocusGroupItem",G0=Z.forwardRef((_,d)=>{const{__scopeRovingFocusGroup:e,focusable:h=!0,active:m=!1,tabStopId:c,children:s,...i}=_,r=vs(),t=c||r,n=p4(X0,e),l=n.currentTabStopId===t,o=W0(e),{onFocusableItemAdd:a,onFocusableItemRemove:g,currentTabStopId:b}=n;return Z.useEffect(()=>{if(h)return a(),()=>g()},[h,a,g]),p.jsx(Td.ItemSlot,{scope:e,id:t,focusable:h,active:m,children:p.jsx(Pt.span,{tabIndex:l?0:-1,"data-orientation":n.orientation,...i,ref:d,onMouseDown:at(_.onMouseDown,f=>{h?n.onItemFocus(t):f.preventDefault()}),onFocus:at(_.onFocus,()=>n.onItemFocus(t)),onKeyDown:at(_.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){n.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const v=y4(f,n.orientation,n.dir);if(v!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let j=o().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")j.reverse();else if(v==="prev"||v==="next"){v==="prev"&&j.reverse();const C=j.indexOf(f.currentTarget);j=n.loop?v4(j,C+1):j.slice(C+1)}setTimeout(()=>K0(j))}}),children:typeof s=="function"?s({isCurrentTabStop:l,hasTabStop:b!=null}):s})})});G0.displayName=X0;var g4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b4(_,d){return d!=="rtl"?_:_==="ArrowLeft"?"ArrowRight":_==="ArrowRight"?"ArrowLeft":_}function y4(_,d,e){const h=b4(_.key,e);if(!(d==="vertical"&&["ArrowLeft","ArrowRight"].includes(h))&&!(d==="horizontal"&&["ArrowUp","ArrowDown"].includes(h)))return g4[h]}function K0(_,d=!1){const e=document.activeElement;for(const h of _)if(h===e||(h.focus({preventScroll:d}),document.activeElement!==e))return}function v4(_,d){return _.map((e,h)=>_[(d+h)%_.length])}var Y0=q0,Z0=G0,x4=function(_){if(typeof document>"u")return null;var d=Array.isArray(_)?_[0]:_;return d.ownerDocument.body},po=new WeakMap,Il=new WeakMap,Pl={},bd=0,J0=function(_){return _&&(_.host||J0(_.parentNode))},w4=function(_,d){return d.map(function(e){if(_.contains(e))return e;var h=J0(e);return h&&_.contains(h)?h:(console.error("aria-hidden",e,"in not contained inside",_,". Doing nothing"),null)}).filter(function(e){return!!e})},_4=function(_,d,e,h){var m=w4(d,Array.isArray(_)?_:[_]);Pl[e]||(Pl[e]=new WeakMap);var c=Pl[e],s=[],i=new Set,r=new Set(m),t=function(l){!l||i.has(l)||(i.add(l),t(l.parentNode))};m.forEach(t);var n=function(l){!l||r.has(l)||Array.prototype.forEach.call(l.children,function(o){if(i.has(o))n(o);else try{var a=o.getAttribute(h),g=a!==null&&a!=="false",b=(po.get(o)||0)+1,f=(c.get(o)||0)+1;po.set(o,b),c.set(o,f),s.push(o),b===1&&g&&Il.set(o,!0),f===1&&o.setAttribute(e,"true"),g||o.setAttribute(h,"true")}catch(v){console.error("aria-hidden: cannot operate on ",o,v)}})};return n(d),i.clear(),bd++,function(){s.forEach(function(l){var o=po.get(l)-1,a=c.get(l)-1;po.set(l,o),c.set(l,a),o||(Il.has(l)||l.removeAttribute(h),Il.delete(l)),a||l.removeAttribute(e)}),bd--,bd||(po=new WeakMap,po=new WeakMap,Il=new WeakMap,Pl={})}},Qd=function(_,d,e){e===void 0&&(e="data-aria-hidden");var h=Array.from(Array.isArray(_)?_:[_]),m=x4(_);return m?(h.push.apply(h,Array.from(m.querySelectorAll("[aria-live], script"))),_4(h,m,e,"aria-hidden")):function(){return null}},bs=function(){return bs=Object.assign||function(d){for(var e,h=1,m=arguments.length;h<m;h++){e=arguments[h];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c])}return d},bs.apply(this,arguments)};function Q0(_,d){var e={};for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&d.indexOf(h)<0&&(e[h]=_[h]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,h=Object.getOwnPropertySymbols(_);m<h.length;m++)d.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(_,h[m])&&(e[h[m]]=_[h[m]]);return e}function S4(_,d,e){if(e||arguments.length===2)for(var h=0,m=d.length,c;h<m;h++)(c||!(h in d))&&(c||(c=Array.prototype.slice.call(d,0,h)),c[h]=d[h]);return _.concat(c||Array.prototype.slice.call(d))}var Hl="right-scroll-bar-position",Vl="width-before-scroll-bar",k4="with-scroll-bars-hidden",N4="--removed-body-scroll-bar-size";function yd(_,d){return typeof _=="function"?_(d):_&&(_.current=d),_}function E4(_,d){var e=Z.useState(function(){return{value:_,callback:d,facade:{get current(){return e.value},set current(h){var m=e.value;m!==h&&(e.value=h,e.callback(h,m))}}}})[0];return e.callback=d,e.facade}var j4=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,wm=new WeakMap;function C4(_,d){var e=E4(null,function(h){return _.forEach(function(m){return yd(m,h)})});return j4(function(){var h=wm.get(e);if(h){var m=new Set(h),c=new Set(_),s=e.current;m.forEach(function(i){c.has(i)||yd(i,null)}),c.forEach(function(i){m.has(i)||yd(i,s)})}wm.set(e,_)},[_]),e}function T4(_){return _}function A4(_,d){d===void 0&&(d=T4);var e=[],h=!1,m={read:function(){if(h)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:_},useMedium:function(c){var s=d(c,h);return e.push(s),function(){e=e.filter(function(i){return i!==s})}},assignSyncMedium:function(c){for(h=!0;e.length;){var s=e;e=[],s.forEach(c)}e={push:function(i){return c(i)},filter:function(){return e}}},assignMedium:function(c){h=!0;var s=[];if(e.length){var i=e;e=[],i.forEach(c),s=e}var r=function(){var n=s;s=[],n.forEach(c)},t=function(){return Promise.resolve().then(r)};t(),e={push:function(n){s.push(n),t()},filter:function(n){return s=s.filter(n),e}}}};return m}function R4(_){_===void 0&&(_={});var d=A4(null);return d.options=bs({async:!0,ssr:!1},_),d}var eg=function(_){var d=_.sideCar,e=Q0(_,["sideCar"]);if(!d)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var h=d.read();if(!h)throw new Error("Sidecar medium not found");return Z.createElement(h,bs({},e))};eg.isSideCarExport=!0;function M4(_,d){return _.useMedium(d),eg}var tg=R4(),vd=function(){},mc=Z.forwardRef(function(_,d){var e=Z.useRef(null),h=Z.useState({onScrollCapture:vd,onWheelCapture:vd,onTouchMoveCapture:vd}),m=h[0],c=h[1],s=_.forwardProps,i=_.children,r=_.className,t=_.removeScrollBar,n=_.enabled,l=_.shards,o=_.sideCar,a=_.noRelative,g=_.noIsolation,b=_.inert,f=_.allowPinchZoom,v=_.as,x=v===void 0?"div":v,j=_.gapMode,C=Q0(_,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=o,$=C4([e,d]),V=bs(bs({},C),m);return Z.createElement(Z.Fragment,null,n&&Z.createElement(M,{sideCar:tg,removeScrollBar:t,shards:l,noRelative:a,noIsolation:g,inert:b,setCallbacks:c,allowPinchZoom:!!f,lockRef:e,gapMode:j}),s?Z.cloneElement(Z.Children.only(i),bs(bs({},V),{ref:$})):Z.createElement(x,bs({},V,{className:r,ref:$}),i))});mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mc.classNames={fullWidth:Vl,zeroRight:Hl};var I4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P4(){if(!document)return null;var _=document.createElement("style");_.type="text/css";var d=I4();return d&&_.setAttribute("nonce",d),_}function D4(_,d){_.styleSheet?_.styleSheet.cssText=d:_.appendChild(document.createTextNode(d))}function O4(_){var d=document.head||document.getElementsByTagName("head")[0];d.appendChild(_)}var L4=function(){var _=0,d=null;return{add:function(e){_==0&&(d=P4())&&(D4(d,e),O4(d)),_++},remove:function(){_--,!_&&d&&(d.parentNode&&d.parentNode.removeChild(d),d=null)}}},F4=function(){var _=L4();return function(d,e){Z.useEffect(function(){return _.add(d),function(){_.remove()}},[d&&e])}},rg=function(){var _=F4(),d=function(e){var h=e.styles,m=e.dynamic;return _(h,m),null};return d},B4={left:0,top:0,right:0,gap:0},xd=function(_){return parseInt(_||"",10)||0},z4=function(_){var d=window.getComputedStyle(document.body),e=d[_==="padding"?"paddingLeft":"marginLeft"],h=d[_==="padding"?"paddingTop":"marginTop"],m=d[_==="padding"?"paddingRight":"marginRight"];return[xd(e),xd(h),xd(m)]},$4=function(_){if(_===void 0&&(_="margin"),typeof window>"u")return B4;var d=z4(_),e=document.documentElement.clientWidth,h=window.innerWidth;return{left:d[0],top:d[1],right:d[2],gap:Math.max(0,h-e+d[2]-d[0])}},U4=rg(),So="data-scroll-locked",H4=function(_,d,e,h){var m=_.left,c=_.top,s=_.right,i=_.gap;return e===void 0&&(e="margin"),`
  .`.concat(k4,` {
   overflow: hidden `).concat(h,`;
   padding-right: `).concat(i,"px ").concat(h,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(h,`;
    overscroll-behavior: contain;
    `).concat([d&&"position: relative ".concat(h,";"),e==="margin"&&`
    padding-left: `.concat(m,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(h,`;
    `),e==="padding"&&"padding-right: ".concat(i,"px ").concat(h,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(i,"px ").concat(h,`;
  }
  
  .`).concat(Vl,` {
    margin-right: `).concat(i,"px ").concat(h,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(h,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    margin-right: 0 `).concat(h,`;
  }
  
  body[`).concat(So,`] {
    `).concat(N4,": ").concat(i,`px;
  }
`)},_m=function(){var _=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(_)?_:0},V4=function(){Z.useEffect(function(){return document.body.setAttribute(So,(_m()+1).toString()),function(){var _=_m()-1;_<=0?document.body.removeAttribute(So):document.body.setAttribute(So,_.toString())}},[])},W4=function(_){var d=_.noRelative,e=_.noImportant,h=_.gapMode,m=h===void 0?"margin":h;V4();var c=Z.useMemo(function(){return $4(m)},[m]);return Z.createElement(U4,{styles:H4(c,!d,m,e?"":"!important")})},Ad=!1;if(typeof window<"u")try{var Dl=Object.defineProperty({},"passive",{get:function(){return Ad=!0,!0}});window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Ad=!1}var mo=Ad?{passive:!1}:!1,q4=function(_){return _.tagName==="TEXTAREA"},ng=function(_,d){if(!(_ instanceof Element))return!1;var e=window.getComputedStyle(_);return e[d]!=="hidden"&&!(e.overflowY===e.overflowX&&!q4(_)&&e[d]==="visible")},X4=function(_){return ng(_,"overflowY")},G4=function(_){return ng(_,"overflowX")},Sm=function(_,d){var e=d.ownerDocument,h=d;do{typeof ShadowRoot<"u"&&h instanceof ShadowRoot&&(h=h.host);var m=sg(_,h);if(m){var c=ig(_,h),s=c[1],i=c[2];if(s>i)return!0}h=h.parentNode}while(h&&h!==e.body);return!1},K4=function(_){var d=_.scrollTop,e=_.scrollHeight,h=_.clientHeight;return[d,e,h]},Y4=function(_){var d=_.scrollLeft,e=_.scrollWidth,h=_.clientWidth;return[d,e,h]},sg=function(_,d){return _==="v"?X4(d):G4(d)},ig=function(_,d){return _==="v"?K4(d):Y4(d)},Z4=function(_,d){return _==="h"&&d==="rtl"?-1:1},J4=function(_,d,e,h,m){var c=Z4(_,window.getComputedStyle(d).direction),s=c*h,i=e.target,r=d.contains(i),t=!1,n=s>0,l=0,o=0;do{if(!i)break;var a=ig(_,i),g=a[0],b=a[1],f=a[2],v=b-f-c*g;(g||v)&&sg(_,i)&&(l+=v,o+=g);var x=i.parentNode;i=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!r&&i!==document.body||r&&(d.contains(i)||d===i));return(n&&Math.abs(l)<1||!n&&Math.abs(o)<1)&&(t=!0),t},Ol=function(_){return"changedTouches"in _?[_.changedTouches[0].clientX,_.changedTouches[0].clientY]:[0,0]},km=function(_){return[_.deltaX,_.deltaY]},Nm=function(_){return _&&"current"in _?_.current:_},Q4=function(_,d){return _[0]===d[0]&&_[1]===d[1]},e3=function(_){return`
  .block-interactivity-`.concat(_,` {pointer-events: none;}
  .allow-interactivity-`).concat(_,` {pointer-events: all;}
`)},t3=0,go=[];function r3(_){var d=Z.useRef([]),e=Z.useRef([0,0]),h=Z.useRef(),m=Z.useState(t3++)[0],c=Z.useState(rg)[0],s=Z.useRef(_);Z.useEffect(function(){s.current=_},[_]),Z.useEffect(function(){if(_.inert){document.body.classList.add("block-interactivity-".concat(m));var b=S4([_.lockRef.current],(_.shards||[]).map(Nm),!0).filter(Boolean);return b.forEach(function(f){return f.classList.add("allow-interactivity-".concat(m))}),function(){document.body.classList.remove("block-interactivity-".concat(m)),b.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(m))})}}},[_.inert,_.lockRef.current,_.shards]);var i=Z.useCallback(function(b,f){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var v=Ol(b),x=e.current,j="deltaX"in b?b.deltaX:x[0]-v[0],C="deltaY"in b?b.deltaY:x[1]-v[1],M,$=b.target,V=Math.abs(j)>Math.abs(C)?"h":"v";if("touches"in b&&V==="h"&&$.type==="range")return!1;var B=Sm(V,$);if(!B)return!0;if(B?M=V:(M=V==="v"?"h":"v",B=Sm(V,$)),!B)return!1;if(!h.current&&"changedTouches"in b&&(j||C)&&(h.current=M),!M)return!0;var U=h.current||M;return J4(U,f,b,U==="h"?j:C)},[]),r=Z.useCallback(function(b){var f=b;if(!(!go.length||go[go.length-1]!==c)){var v="deltaY"in f?km(f):Ol(f),x=d.current.filter(function(M){return M.name===f.type&&(M.target===f.target||f.target===M.shadowParent)&&Q4(M.delta,v)})[0];if(x&&x.should){f.cancelable&&f.preventDefault();return}if(!x){var j=(s.current.shards||[]).map(Nm).filter(Boolean).filter(function(M){return M.contains(f.target)}),C=j.length>0?i(f,j[0]):!s.current.noIsolation;C&&f.cancelable&&f.preventDefault()}}},[]),t=Z.useCallback(function(b,f,v,x){var j={name:b,delta:f,target:v,should:x,shadowParent:n3(v)};d.current.push(j),setTimeout(function(){d.current=d.current.filter(function(C){return C!==j})},1)},[]),n=Z.useCallback(function(b){e.current=Ol(b),h.current=void 0},[]),l=Z.useCallback(function(b){t(b.type,km(b),b.target,i(b,_.lockRef.current))},[]),o=Z.useCallback(function(b){t(b.type,Ol(b),b.target,i(b,_.lockRef.current))},[]);Z.useEffect(function(){return go.push(c),_.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:o}),document.addEventListener("wheel",r,mo),document.addEventListener("touchmove",r,mo),document.addEventListener("touchstart",n,mo),function(){go=go.filter(function(b){return b!==c}),document.removeEventListener("wheel",r,mo),document.removeEventListener("touchmove",r,mo),document.removeEventListener("touchstart",n,mo)}},[]);var a=_.removeScrollBar,g=_.inert;return Z.createElement(Z.Fragment,null,g?Z.createElement(c,{styles:e3(m)}):null,a?Z.createElement(W4,{noRelative:_.noRelative,gapMode:_.gapMode}):null)}function n3(_){for(var d=null;_!==null;)_ instanceof ShadowRoot&&(d=_.host,_=_.host),_=_.parentNode;return d}const s3=M4(tg,r3);var gc=Z.forwardRef(function(_,d){return Z.createElement(mc,bs({},_,{ref:d,sideCar:s3}))});gc.classNames=mc.classNames;var Rd=["Enter"," "],i3=["ArrowDown","PageUp","Home"],og=["ArrowUp","PageDown","End"],o3=[...i3,...og],a3={ltr:[...Rd,"ArrowRight"],rtl:[...Rd,"ArrowLeft"]},l3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ja="Menu",[va,c3,u3]=Hd(ja),[Ui,ag]=ls(ja,[u3,fc,pc]),bc=fc(),lg=pc(),[d3,Hi]=Ui(ja),[f3,Ca]=Ui(ja),cg=_=>{const{__scopeMenu:d,open:e=!1,children:h,dir:m,onOpenChange:c,modal:s=!0}=_,i=bc(d),[r,t]=Z.useState(null),n=Z.useRef(!1),l=$r(c),o=ka(m);return Z.useEffect(()=>{const a=()=>{n.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>n.current=!1;return document.addEventListener("keydown",a,{capture:!0}),()=>{document.removeEventListener("keydown",a,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx($0,{...i,children:p.jsx(d3,{scope:d,open:e,onOpenChange:l,content:r,onContentChange:t,children:p.jsx(f3,{scope:d,onClose:Z.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:n,dir:o,modal:s,children:h})})})};cg.displayName=ja;var h3="MenuAnchor",ef=Z.forwardRef((_,d)=>{const{__scopeMenu:e,...h}=_,m=bc(e);return p.jsx(U0,{...m,...h,ref:d})});ef.displayName=h3;var tf="MenuPortal",[p3,ug]=Ui(tf,{forceMount:void 0}),dg=_=>{const{__scopeMenu:d,forceMount:e,children:h,container:m}=_,c=Hi(tf,d);return p.jsx(p3,{scope:d,forceMount:e,children:p.jsx(Tn,{present:e||c.open,children:p.jsx(hc,{asChild:!0,container:m,children:h})})})};dg.displayName=tf;var Bn="MenuContent",[m3,rf]=Ui(Bn),fg=Z.forwardRef((_,d)=>{const e=ug(Bn,_.__scopeMenu),{forceMount:h=e.forceMount,...m}=_,c=Hi(Bn,_.__scopeMenu),s=Ca(Bn,_.__scopeMenu);return p.jsx(va.Provider,{scope:_.__scopeMenu,children:p.jsx(Tn,{present:h||c.open,children:p.jsx(va.Slot,{scope:_.__scopeMenu,children:s.modal?p.jsx(g3,{...m,ref:d}):p.jsx(b3,{...m,ref:d})})})})}),g3=Z.forwardRef((_,d)=>{const e=Hi(Bn,_.__scopeMenu),h=Z.useRef(null),m=Qt(d,h);return Z.useEffect(()=>{const c=h.current;if(c)return Qd(c)},[]),p.jsx(nf,{..._,ref:m,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:at(_.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),b3=Z.forwardRef((_,d)=>{const e=Hi(Bn,_.__scopeMenu);return p.jsx(nf,{..._,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),y3=Ii("MenuContent.ScrollLock"),nf=Z.forwardRef((_,d)=>{const{__scopeMenu:e,loop:h=!1,trapFocus:m,onOpenAutoFocus:c,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:r,onEscapeKeyDown:t,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:o,onDismiss:a,disableOutsideScroll:g,...b}=_,f=Hi(Bn,e),v=Ca(Bn,e),x=bc(e),j=lg(e),C=c3(e),[M,$]=Z.useState(null),V=Z.useRef(null),B=Qt(d,V,f.onContentChange),U=Z.useRef(0),q=Z.useRef(""),Y=Z.useRef(0),W=Z.useRef(null),R=Z.useRef("right"),D=Z.useRef(0),E=g?gc:Z.Fragment,w=g?{as:y3,allowPinchZoom:!0}:void 0,k=N=>{const A=q.current+N,P=C().filter(Q=>!Q.disabled),L=document.activeElement,X=P.find(Q=>Q.ref.current===L)?.textValue,K=P.map(Q=>Q.textValue),te=A3(K,A,X),z=P.find(Q=>Q.textValue===te)?.ref.current;(function Q(O){q.current=O,window.clearTimeout(U.current),O!==""&&(U.current=window.setTimeout(()=>Q(""),1e3))})(A),z&&setTimeout(()=>z.focus())};Z.useEffect(()=>()=>window.clearTimeout(U.current),[]),Vd();const S=Z.useCallback(N=>R.current===W.current?.side&&M3(N,W.current?.area),[]);return p.jsx(m3,{scope:e,searchRef:q,onItemEnter:Z.useCallback(N=>{S(N)&&N.preventDefault()},[S]),onItemLeave:Z.useCallback(N=>{S(N)||(V.current?.focus(),$(null))},[S]),onTriggerLeave:Z.useCallback(N=>{S(N)&&N.preventDefault()},[S]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:Z.useCallback(N=>{W.current=N},[]),children:p.jsx(E,{...w,children:p.jsx(ac,{asChild:!0,trapped:m,onMountAutoFocus:at(c,N=>{N.preventDefault(),V.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:p.jsx(oc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:t,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:o,onDismiss:a,children:p.jsx(Y0,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:h,currentTabStopId:M,onCurrentTabStopIdChange:$,onEntryFocus:at(r,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(H0,{role:"menu","aria-orientation":"vertical","data-state":Cg(f.open),"data-radix-menu-content":"",dir:v.dir,...x,...b,ref:B,style:{outline:"none",...b.style},onKeyDown:at(b.onKeyDown,N=>{const P=N.target.closest("[data-radix-menu-content]")===N.currentTarget,L=N.ctrlKey||N.altKey||N.metaKey,X=N.key.length===1;P&&(N.key==="Tab"&&N.preventDefault(),!L&&X&&k(N.key));const K=V.current;if(N.target!==K||!o3.includes(N.key))return;N.preventDefault();const z=C().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);og.includes(N.key)&&z.reverse(),C3(z)}),onBlur:at(_.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(U.current),q.current="")}),onPointerMove:at(_.onPointerMove,xa(N=>{const A=N.target,P=D.current!==N.clientX;if(N.currentTarget.contains(A)&&P){const L=N.clientX>D.current?"right":"left";R.current=L,D.current=N.clientX}}))})})})})})})});fg.displayName=Bn;var v3="MenuGroup",sf=Z.forwardRef((_,d)=>{const{__scopeMenu:e,...h}=_;return p.jsx(Pt.div,{role:"group",...h,ref:d})});sf.displayName=v3;var x3="MenuLabel",hg=Z.forwardRef((_,d)=>{const{__scopeMenu:e,...h}=_;return p.jsx(Pt.div,{...h,ref:d})});hg.displayName=x3;var Zl="MenuItem",Em="menu.itemSelect",yc=Z.forwardRef((_,d)=>{const{disabled:e=!1,onSelect:h,...m}=_,c=Z.useRef(null),s=Ca(Zl,_.__scopeMenu),i=rf(Zl,_.__scopeMenu),r=Qt(d,c),t=Z.useRef(!1),n=()=>{const l=c.current;if(!e&&l){const o=new CustomEvent(Em,{bubbles:!0,cancelable:!0});l.addEventListener(Em,a=>h?.(a),{once:!0}),m0(l,o),o.defaultPrevented?t.current=!1:s.onClose()}};return p.jsx(pg,{...m,ref:r,disabled:e,onClick:at(_.onClick,n),onPointerDown:l=>{_.onPointerDown?.(l),t.current=!0},onPointerUp:at(_.onPointerUp,l=>{t.current||l.currentTarget?.click()}),onKeyDown:at(_.onKeyDown,l=>{const o=i.searchRef.current!=="";e||o&&l.key===" "||Rd.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});yc.displayName=Zl;var pg=Z.forwardRef((_,d)=>{const{__scopeMenu:e,disabled:h=!1,textValue:m,...c}=_,s=rf(Zl,e),i=lg(e),r=Z.useRef(null),t=Qt(d,r),[n,l]=Z.useState(!1),[o,a]=Z.useState("");return Z.useEffect(()=>{const g=r.current;g&&a((g.textContent??"").trim())},[c.children]),p.jsx(va.ItemSlot,{scope:e,disabled:h,textValue:m??o,children:p.jsx(Z0,{asChild:!0,...i,focusable:!h,children:p.jsx(Pt.div,{role:"menuitem","data-highlighted":n?"":void 0,"aria-disabled":h||void 0,"data-disabled":h?"":void 0,...c,ref:t,onPointerMove:at(_.onPointerMove,xa(g=>{h?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:at(_.onPointerLeave,xa(g=>s.onItemLeave(g))),onFocus:at(_.onFocus,()=>l(!0)),onBlur:at(_.onBlur,()=>l(!1))})})})}),w3="MenuCheckboxItem",mg=Z.forwardRef((_,d)=>{const{checked:e=!1,onCheckedChange:h,...m}=_;return p.jsx(xg,{scope:_.__scopeMenu,checked:e,children:p.jsx(yc,{role:"menuitemcheckbox","aria-checked":Jl(e)?"mixed":e,...m,ref:d,"data-state":af(e),onSelect:at(m.onSelect,()=>h?.(Jl(e)?!0:!e),{checkForDefaultPrevented:!1})})})});mg.displayName=w3;var gg="MenuRadioGroup",[_3,S3]=Ui(gg,{value:void 0,onValueChange:()=>{}}),bg=Z.forwardRef((_,d)=>{const{value:e,onValueChange:h,...m}=_,c=$r(h);return p.jsx(_3,{scope:_.__scopeMenu,value:e,onValueChange:c,children:p.jsx(sf,{...m,ref:d})})});bg.displayName=gg;var yg="MenuRadioItem",vg=Z.forwardRef((_,d)=>{const{value:e,...h}=_,m=S3(yg,_.__scopeMenu),c=e===m.value;return p.jsx(xg,{scope:_.__scopeMenu,checked:c,children:p.jsx(yc,{role:"menuitemradio","aria-checked":c,...h,ref:d,"data-state":af(c),onSelect:at(h.onSelect,()=>m.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});vg.displayName=yg;var of="MenuItemIndicator",[xg,k3]=Ui(of,{checked:!1}),wg=Z.forwardRef((_,d)=>{const{__scopeMenu:e,forceMount:h,...m}=_,c=k3(of,e);return p.jsx(Tn,{present:h||Jl(c.checked)||c.checked===!0,children:p.jsx(Pt.span,{...m,ref:d,"data-state":af(c.checked)})})});wg.displayName=of;var N3="MenuSeparator",_g=Z.forwardRef((_,d)=>{const{__scopeMenu:e,...h}=_;return p.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...h,ref:d})});_g.displayName=N3;var E3="MenuArrow",Sg=Z.forwardRef((_,d)=>{const{__scopeMenu:e,...h}=_,m=bc(e);return p.jsx(V0,{...m,...h,ref:d})});Sg.displayName=E3;var j3="MenuSub",[cS,kg]=Ui(j3),ha="MenuSubTrigger",Ng=Z.forwardRef((_,d)=>{const e=Hi(ha,_.__scopeMenu),h=Ca(ha,_.__scopeMenu),m=kg(ha,_.__scopeMenu),c=rf(ha,_.__scopeMenu),s=Z.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:r}=c,t={__scopeMenu:_.__scopeMenu},n=Z.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return Z.useEffect(()=>n,[n]),Z.useEffect(()=>{const l=i.current;return()=>{window.clearTimeout(l),r(null)}},[i,r]),p.jsx(ef,{asChild:!0,...t,children:p.jsx(pg,{id:m.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":m.contentId,"data-state":Cg(e.open),..._,ref:ic(d,m.onTriggerChange),onClick:l=>{_.onClick?.(l),!(_.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:at(_.onPointerMove,xa(l=>{c.onItemEnter(l),!l.defaultPrevented&&!_.disabled&&!e.open&&!s.current&&(c.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{e.onOpenChange(!0),n()},100))})),onPointerLeave:at(_.onPointerLeave,xa(l=>{n();const o=e.content?.getBoundingClientRect();if(o){const a=e.content?.dataset.side,g=a==="right",b=g?-5:5,f=o[g?"left":"right"],v=o[g?"right":"left"];c.onPointerGraceIntentChange({area:[{x:l.clientX+b,y:l.clientY},{x:f,y:o.top},{x:v,y:o.top},{x:v,y:o.bottom},{x:f,y:o.bottom}],side:a}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(l),l.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:at(_.onKeyDown,l=>{const o=c.searchRef.current!=="";_.disabled||o&&l.key===" "||a3[h.dir].includes(l.key)&&(e.onOpenChange(!0),e.content?.focus(),l.preventDefault())})})})});Ng.displayName=ha;var Eg="MenuSubContent",jg=Z.forwardRef((_,d)=>{const e=ug(Bn,_.__scopeMenu),{forceMount:h=e.forceMount,...m}=_,c=Hi(Bn,_.__scopeMenu),s=Ca(Bn,_.__scopeMenu),i=kg(Eg,_.__scopeMenu),r=Z.useRef(null),t=Qt(d,r);return p.jsx(va.Provider,{scope:_.__scopeMenu,children:p.jsx(Tn,{present:h||c.open,children:p.jsx(va.Slot,{scope:_.__scopeMenu,children:p.jsx(nf,{id:i.contentId,"aria-labelledby":i.triggerId,...m,ref:t,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:n=>{s.isUsingKeyboardRef.current&&r.current?.focus(),n.preventDefault()},onCloseAutoFocus:n=>n.preventDefault(),onFocusOutside:at(_.onFocusOutside,n=>{n.target!==i.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:at(_.onEscapeKeyDown,n=>{s.onClose(),n.preventDefault()}),onKeyDown:at(_.onKeyDown,n=>{const l=n.currentTarget.contains(n.target),o=l3[s.dir].includes(n.key);l&&o&&(c.onOpenChange(!1),i.trigger?.focus(),n.preventDefault())})})})})})});jg.displayName=Eg;function Cg(_){return _?"open":"closed"}function Jl(_){return _==="indeterminate"}function af(_){return Jl(_)?"indeterminate":_?"checked":"unchecked"}function C3(_){const d=document.activeElement;for(const e of _)if(e===d||(e.focus(),document.activeElement!==d))return}function T3(_,d){return _.map((e,h)=>_[(d+h)%_.length])}function A3(_,d,e){const m=d.length>1&&Array.from(d).every(t=>t===d[0])?d[0]:d,c=e?_.indexOf(e):-1;let s=T3(_,Math.max(c,0));m.length===1&&(s=s.filter(t=>t!==e));const r=s.find(t=>t.toLowerCase().startsWith(m.toLowerCase()));return r!==e?r:void 0}function R3(_,d){const{x:e,y:h}=_;let m=!1;for(let c=0,s=d.length-1;c<d.length;s=c++){const i=d[c],r=d[s],t=i.x,n=i.y,l=r.x,o=r.y;n>h!=o>h&&e<(l-t)*(h-n)/(o-n)+t&&(m=!m)}return m}function M3(_,d){if(!d)return!1;const e={x:_.clientX,y:_.clientY};return R3(e,d)}function xa(_){return d=>d.pointerType==="mouse"?_(d):void 0}var I3=cg,P3=ef,D3=dg,O3=fg,L3=sf,F3=hg,B3=yc,z3=mg,$3=bg,U3=vg,H3=wg,V3=_g,W3=Sg,q3=Ng,X3=jg,vc="DropdownMenu",[G3,uS]=ls(vc,[ag]),on=ag(),[K3,Tg]=G3(vc),Ag=_=>{const{__scopeDropdownMenu:d,children:e,dir:h,open:m,defaultOpen:c,onOpenChange:s,modal:i=!0}=_,r=on(d),t=Z.useRef(null),[n,l]=Pi({prop:m,defaultProp:c??!1,onChange:s,caller:vc});return p.jsx(K3,{scope:d,triggerId:vs(),triggerRef:t,contentId:vs(),open:n,onOpenChange:l,onOpenToggle:Z.useCallback(()=>l(o=>!o),[l]),modal:i,children:p.jsx(I3,{...r,open:n,onOpenChange:l,dir:h,modal:i,children:e})})};Ag.displayName=vc;var Rg="DropdownMenuTrigger",Mg=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,disabled:h=!1,...m}=_,c=Tg(Rg,e),s=on(e);return p.jsx(P3,{asChild:!0,...s,children:p.jsx(Pt.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":h?"":void 0,disabled:h,...m,ref:ic(d,c.triggerRef),onPointerDown:at(_.onPointerDown,i=>{!h&&i.button===0&&i.ctrlKey===!1&&(c.onOpenToggle(),c.open||i.preventDefault())}),onKeyDown:at(_.onKeyDown,i=>{h||(["Enter"," "].includes(i.key)&&c.onOpenToggle(),i.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});Mg.displayName=Rg;var Y3="DropdownMenuPortal",Ig=_=>{const{__scopeDropdownMenu:d,...e}=_,h=on(d);return p.jsx(D3,{...h,...e})};Ig.displayName=Y3;var Pg="DropdownMenuContent",Dg=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=Tg(Pg,e),c=on(e),s=Z.useRef(!1);return p.jsx(O3,{id:m.contentId,"aria-labelledby":m.triggerId,...c,...h,ref:d,onCloseAutoFocus:at(_.onCloseAutoFocus,i=>{s.current||m.triggerRef.current?.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:at(_.onInteractOutside,i=>{const r=i.detail.originalEvent,t=r.button===0&&r.ctrlKey===!0,n=r.button===2||t;(!m.modal||n)&&(s.current=!0)}),style:{..._.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dg.displayName=Pg;var Z3="DropdownMenuGroup",J3=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(L3,{...m,...h,ref:d})});J3.displayName=Z3;var Q3="DropdownMenuLabel",Og=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(F3,{...m,...h,ref:d})});Og.displayName=Q3;var e6="DropdownMenuItem",Lg=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(B3,{...m,...h,ref:d})});Lg.displayName=e6;var t6="DropdownMenuCheckboxItem",r6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(z3,{...m,...h,ref:d})});r6.displayName=t6;var n6="DropdownMenuRadioGroup",s6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx($3,{...m,...h,ref:d})});s6.displayName=n6;var i6="DropdownMenuRadioItem",o6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(U3,{...m,...h,ref:d})});o6.displayName=i6;var a6="DropdownMenuItemIndicator",l6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(H3,{...m,...h,ref:d})});l6.displayName=a6;var c6="DropdownMenuSeparator",Fg=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(V3,{...m,...h,ref:d})});Fg.displayName=c6;var u6="DropdownMenuArrow",d6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(W3,{...m,...h,ref:d})});d6.displayName=u6;var f6="DropdownMenuSubTrigger",h6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(q3,{...m,...h,ref:d})});h6.displayName=f6;var p6="DropdownMenuSubContent",m6=Z.forwardRef((_,d)=>{const{__scopeDropdownMenu:e,...h}=_,m=on(e);return p.jsx(X3,{...m,...h,ref:d,style:{..._.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m6.displayName=p6;var g6=Ag,b6=Mg,y6=Ig,v6=Dg,x6=Og,w6=Lg,_6=Fg;const lf=g6,xc=Z.forwardRef(({..._},d)=>p.jsx(b6,{ref:d,"data-slot":"dropdown-menu-trigger",..._}));xc.displayName="DropdownMenuTrigger";const wc=Z.forwardRef(({className:_,sideOffset:d=4,...e},h)=>p.jsx(y6,{children:p.jsx(v6,{ref:h,"data-slot":"dropdown-menu-content",sideOffset:d,className:Et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",_),...e})}));wc.displayName="DropdownMenuContent";const Ai=Z.forwardRef(({className:_,inset:d,variant:e="default",...h},m)=>p.jsx(w6,{ref:m,"data-slot":"dropdown-menu-item","data-inset":d,"data-variant":e,className:Et("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",_),...h}));Ai.displayName="DropdownMenuItem";const S6=Z.forwardRef(({className:_,inset:d,...e},h)=>p.jsx(x6,{ref:h,"data-slot":"dropdown-menu-label","data-inset":d,className:Et("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",_),...e}));S6.displayName="DropdownMenuLabel";function jm({className:_,...d}){return p.jsx(_6,{"data-slot":"dropdown-menu-separator",className:Et("bg-border -mx-1 my-1 h-px",_),...d})}const k6=l0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Jt({className:_,variant:d,asChild:e=!1,...h}){const m=e?i0:"span";return p.jsx(m,{"data-slot":"badge",className:Et(k6({variant:d}),_),...h})}const Bg=()=>{const[_,d]=Z.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768});return Z.useEffect(()=>{const e=()=>{d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{..._,isMobile:_.width<768,isTablet:_.width>=768&&_.width<1024,isDesktop:_.width>=1024,isLargeDesktop:_.width>=1280}};function Md(_,[d,e]){return Math.min(e,Math.max(d,_))}function N6(_,d){return Z.useReducer((e,h)=>d[e][h]??e,_)}var cf="ScrollArea",[zg,dS]=ls(cf),[E6,Vn]=zg(cf),$g=Z.forwardRef((_,d)=>{const{__scopeScrollArea:e,type:h="hover",dir:m,scrollHideDelay:c=600,...s}=_,[i,r]=Z.useState(null),[t,n]=Z.useState(null),[l,o]=Z.useState(null),[a,g]=Z.useState(null),[b,f]=Z.useState(null),[v,x]=Z.useState(0),[j,C]=Z.useState(0),[M,$]=Z.useState(!1),[V,B]=Z.useState(!1),U=Qt(d,Y=>r(Y)),q=ka(m);return p.jsx(E6,{scope:e,type:h,dir:q,scrollHideDelay:c,scrollArea:i,viewport:t,onViewportChange:n,content:l,onContentChange:o,scrollbarX:a,onScrollbarXChange:g,scrollbarXEnabled:M,onScrollbarXEnabledChange:$,scrollbarY:b,onScrollbarYChange:f,scrollbarYEnabled:V,onScrollbarYEnabledChange:B,onCornerWidthChange:x,onCornerHeightChange:C,children:p.jsx(Pt.div,{dir:q,...s,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",..._.style}})})});$g.displayName=cf;var Ug="ScrollAreaViewport",Hg=Z.forwardRef((_,d)=>{const{__scopeScrollArea:e,children:h,nonce:m,...c}=_,s=Vn(Ug,e),i=Z.useRef(null),r=Qt(d,i,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:m}),p.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...c,ref:r,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",..._.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:h})})]})});Hg.displayName=Ug;var Ns="ScrollAreaScrollbar",Vg=Z.forwardRef((_,d)=>{const{forceMount:e,...h}=_,m=Vn(Ns,_.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:s}=m,i=_.orientation==="horizontal";return Z.useEffect(()=>(i?c(!0):s(!0),()=>{i?c(!1):s(!1)}),[i,c,s]),m.type==="hover"?p.jsx(j6,{...h,ref:d,forceMount:e}):m.type==="scroll"?p.jsx(C6,{...h,ref:d,forceMount:e}):m.type==="auto"?p.jsx(Wg,{...h,ref:d,forceMount:e}):m.type==="always"?p.jsx(uf,{...h,ref:d}):null});Vg.displayName=Ns;var j6=Z.forwardRef((_,d)=>{const{forceMount:e,...h}=_,m=Vn(Ns,_.__scopeScrollArea),[c,s]=Z.useState(!1);return Z.useEffect(()=>{const i=m.scrollArea;let r=0;if(i){const t=()=>{window.clearTimeout(r),s(!0)},n=()=>{r=window.setTimeout(()=>s(!1),m.scrollHideDelay)};return i.addEventListener("pointerenter",t),i.addEventListener("pointerleave",n),()=>{window.clearTimeout(r),i.removeEventListener("pointerenter",t),i.removeEventListener("pointerleave",n)}}},[m.scrollArea,m.scrollHideDelay]),p.jsx(Tn,{present:e||c,children:p.jsx(Wg,{"data-state":c?"visible":"hidden",...h,ref:d})})}),C6=Z.forwardRef((_,d)=>{const{forceMount:e,...h}=_,m=Vn(Ns,_.__scopeScrollArea),c=_.orientation==="horizontal",s=Sc(()=>r("SCROLL_END"),100),[i,r]=N6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return Z.useEffect(()=>{if(i==="idle"){const t=window.setTimeout(()=>r("HIDE"),m.scrollHideDelay);return()=>window.clearTimeout(t)}},[i,m.scrollHideDelay,r]),Z.useEffect(()=>{const t=m.viewport,n=c?"scrollLeft":"scrollTop";if(t){let l=t[n];const o=()=>{const a=t[n];l!==a&&(r("SCROLL"),s()),l=a};return t.addEventListener("scroll",o),()=>t.removeEventListener("scroll",o)}},[m.viewport,c,r,s]),p.jsx(Tn,{present:e||i!=="hidden",children:p.jsx(uf,{"data-state":i==="hidden"?"hidden":"visible",...h,ref:d,onPointerEnter:at(_.onPointerEnter,()=>r("POINTER_ENTER")),onPointerLeave:at(_.onPointerLeave,()=>r("POINTER_LEAVE"))})})}),Wg=Z.forwardRef((_,d)=>{const e=Vn(Ns,_.__scopeScrollArea),{forceMount:h,...m}=_,[c,s]=Z.useState(!1),i=_.orientation==="horizontal",r=Sc(()=>{if(e.viewport){const t=e.viewport.offsetWidth<e.viewport.scrollWidth,n=e.viewport.offsetHeight<e.viewport.scrollHeight;s(i?t:n)}},10);return Co(e.viewport,r),Co(e.content,r),p.jsx(Tn,{present:h||c,children:p.jsx(uf,{"data-state":c?"visible":"hidden",...m,ref:d})})}),uf=Z.forwardRef((_,d)=>{const{orientation:e="vertical",...h}=_,m=Vn(Ns,_.__scopeScrollArea),c=Z.useRef(null),s=Z.useRef(0),[i,r]=Z.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),t=Yg(i.viewport,i.content),n={...h,sizes:i,onSizesChange:r,hasThumb:t>0&&t<1,onThumbChange:o=>c.current=o,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:o=>s.current=o};function l(o,a){return P6(o,s.current,i,a)}return e==="horizontal"?p.jsx(T6,{...n,ref:d,onThumbPositionChange:()=>{if(m.viewport&&c.current){const o=m.viewport.scrollLeft,a=Cm(o,i,m.dir);c.current.style.transform=`translate3d(${a}px, 0, 0)`}},onWheelScroll:o=>{m.viewport&&(m.viewport.scrollLeft=o)},onDragScroll:o=>{m.viewport&&(m.viewport.scrollLeft=l(o,m.dir))}}):e==="vertical"?p.jsx(A6,{...n,ref:d,onThumbPositionChange:()=>{if(m.viewport&&c.current){const o=m.viewport.scrollTop,a=Cm(o,i);c.current.style.transform=`translate3d(0, ${a}px, 0)`}},onWheelScroll:o=>{m.viewport&&(m.viewport.scrollTop=o)},onDragScroll:o=>{m.viewport&&(m.viewport.scrollTop=l(o))}}):null}),T6=Z.forwardRef((_,d)=>{const{sizes:e,onSizesChange:h,...m}=_,c=Vn(Ns,_.__scopeScrollArea),[s,i]=Z.useState(),r=Z.useRef(null),t=Qt(d,r,c.onScrollbarXChange);return Z.useEffect(()=>{r.current&&i(getComputedStyle(r.current))},[r]),p.jsx(Xg,{"data-orientation":"horizontal",...m,ref:t,sizes:e,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_c(e)+"px",..._.style},onThumbPointerDown:n=>_.onThumbPointerDown(n.x),onDragScroll:n=>_.onDragScroll(n.x),onWheelScroll:(n,l)=>{if(c.viewport){const o=c.viewport.scrollLeft+n.deltaX;_.onWheelScroll(o),Jg(o,l)&&n.preventDefault()}},onResize:()=>{r.current&&c.viewport&&s&&h({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:r.current.clientWidth,paddingStart:ec(s.paddingLeft),paddingEnd:ec(s.paddingRight)}})}})}),A6=Z.forwardRef((_,d)=>{const{sizes:e,onSizesChange:h,...m}=_,c=Vn(Ns,_.__scopeScrollArea),[s,i]=Z.useState(),r=Z.useRef(null),t=Qt(d,r,c.onScrollbarYChange);return Z.useEffect(()=>{r.current&&i(getComputedStyle(r.current))},[r]),p.jsx(Xg,{"data-orientation":"vertical",...m,ref:t,sizes:e,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_c(e)+"px",..._.style},onThumbPointerDown:n=>_.onThumbPointerDown(n.y),onDragScroll:n=>_.onDragScroll(n.y),onWheelScroll:(n,l)=>{if(c.viewport){const o=c.viewport.scrollTop+n.deltaY;_.onWheelScroll(o),Jg(o,l)&&n.preventDefault()}},onResize:()=>{r.current&&c.viewport&&s&&h({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:r.current.clientHeight,paddingStart:ec(s.paddingTop),paddingEnd:ec(s.paddingBottom)}})}})}),[R6,qg]=zg(Ns),Xg=Z.forwardRef((_,d)=>{const{__scopeScrollArea:e,sizes:h,hasThumb:m,onThumbChange:c,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:r,onDragScroll:t,onWheelScroll:n,onResize:l,...o}=_,a=Vn(Ns,e),[g,b]=Z.useState(null),f=Qt(d,U=>b(U)),v=Z.useRef(null),x=Z.useRef(""),j=a.viewport,C=h.content-h.viewport,M=$r(n),$=$r(r),V=Sc(l,10);function B(U){if(v.current){const q=U.clientX-v.current.left,Y=U.clientY-v.current.top;t({x:q,y:Y})}}return Z.useEffect(()=>{const U=q=>{const Y=q.target;g?.contains(Y)&&M(q,C)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[j,g,C,M]),Z.useEffect($,[h,$]),Co(g,V),Co(a.content,V),p.jsx(R6,{scope:e,scrollbar:g,hasThumb:m,onThumbChange:$r(c),onThumbPointerUp:$r(s),onThumbPositionChange:$,onThumbPointerDown:$r(i),children:p.jsx(Pt.div,{...o,ref:f,style:{position:"absolute",...o.style},onPointerDown:at(_.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",a.viewport&&(a.viewport.style.scrollBehavior="auto"),B(U))}),onPointerMove:at(_.onPointerMove,B),onPointerUp:at(_.onPointerUp,U=>{const q=U.target;q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=x.current,a.viewport&&(a.viewport.style.scrollBehavior=""),v.current=null})})})}),Ql="ScrollAreaThumb",Gg=Z.forwardRef((_,d)=>{const{forceMount:e,...h}=_,m=qg(Ql,_.__scopeScrollArea);return p.jsx(Tn,{present:e||m.hasThumb,children:p.jsx(M6,{ref:d,...h})})}),M6=Z.forwardRef((_,d)=>{const{__scopeScrollArea:e,style:h,...m}=_,c=Vn(Ql,e),s=qg(Ql,e),{onThumbPositionChange:i}=s,r=Qt(d,l=>s.onThumbChange(l)),t=Z.useRef(void 0),n=Sc(()=>{t.current&&(t.current(),t.current=void 0)},100);return Z.useEffect(()=>{const l=c.viewport;if(l){const o=()=>{if(n(),!t.current){const a=D6(l,i);t.current=a,i()}};return i(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[c.viewport,n,i]),p.jsx(Pt.div,{"data-state":s.hasThumb?"visible":"hidden",...m,ref:r,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...h},onPointerDownCapture:at(_.onPointerDownCapture,l=>{const a=l.target.getBoundingClientRect(),g=l.clientX-a.left,b=l.clientY-a.top;s.onThumbPointerDown({x:g,y:b})}),onPointerUp:at(_.onPointerUp,s.onThumbPointerUp)})});Gg.displayName=Ql;var df="ScrollAreaCorner",Kg=Z.forwardRef((_,d)=>{const e=Vn(df,_.__scopeScrollArea),h=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&h?p.jsx(I6,{..._,ref:d}):null});Kg.displayName=df;var I6=Z.forwardRef((_,d)=>{const{__scopeScrollArea:e,...h}=_,m=Vn(df,e),[c,s]=Z.useState(0),[i,r]=Z.useState(0),t=!!(c&&i);return Co(m.scrollbarX,()=>{const n=m.scrollbarX?.offsetHeight||0;m.onCornerHeightChange(n),r(n)}),Co(m.scrollbarY,()=>{const n=m.scrollbarY?.offsetWidth||0;m.onCornerWidthChange(n),s(n)}),t?p.jsx(Pt.div,{...h,ref:d,style:{width:c,height:i,position:"absolute",right:m.dir==="ltr"?0:void 0,left:m.dir==="rtl"?0:void 0,bottom:0,..._.style}}):null});function ec(_){return _?parseInt(_,10):0}function Yg(_,d){const e=_/d;return isNaN(e)?0:e}function _c(_){const d=Yg(_.viewport,_.content),e=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,h=(_.scrollbar.size-e)*d;return Math.max(h,18)}function P6(_,d,e,h="ltr"){const m=_c(e),c=m/2,s=d||c,i=m-s,r=e.scrollbar.paddingStart+s,t=e.scrollbar.size-e.scrollbar.paddingEnd-i,n=e.content-e.viewport,l=h==="ltr"?[0,n]:[n*-1,0];return Zg([r,t],l)(_)}function Cm(_,d,e="ltr"){const h=_c(d),m=d.scrollbar.paddingStart+d.scrollbar.paddingEnd,c=d.scrollbar.size-m,s=d.content-d.viewport,i=c-h,r=e==="ltr"?[0,s]:[s*-1,0],t=Md(_,r);return Zg([0,s],[0,i])(t)}function Zg(_,d){return e=>{if(_[0]===_[1]||d[0]===d[1])return d[0];const h=(d[1]-d[0])/(_[1]-_[0]);return d[0]+h*(e-_[0])}}function Jg(_,d){return _>0&&_<d}var D6=(_,d=()=>{})=>{let e={left:_.scrollLeft,top:_.scrollTop},h=0;return(function m(){const c={left:_.scrollLeft,top:_.scrollTop},s=e.left!==c.left,i=e.top!==c.top;(s||i)&&d(),e=c,h=window.requestAnimationFrame(m)})(),()=>window.cancelAnimationFrame(h)};function Sc(_,d){const e=$r(_),h=Z.useRef(0);return Z.useEffect(()=>()=>window.clearTimeout(h.current),[]),Z.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(e,d)},[e,d])}function Co(_,d){const e=$r(d);Wr(()=>{let h=0;if(_){const m=new ResizeObserver(()=>{cancelAnimationFrame(h),h=window.requestAnimationFrame(e)});return m.observe(_),()=>{window.cancelAnimationFrame(h),m.unobserve(_)}}},[_,e])}var O6=$g,L6=Hg,F6=Kg;function mn({className:_,children:d,...e}){return p.jsxs(O6,{"data-slot":"scroll-area",className:Et("relative",_),...e,children:[p.jsx(L6,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:d}),p.jsx(B6,{}),p.jsx(F6,{})]})}function B6({className:_,orientation:d="vertical",...e}){return p.jsx(Vg,{"data-slot":"scroll-area-scrollbar",orientation:d,className:Et("flex touch-none p-px transition-colors select-none",d==="vertical"&&"h-full w-2.5 border-l border-l-transparent",d==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",_),...e,children:p.jsx(Gg,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function et({className:_,...d}){return p.jsx("div",{"data-slot":"card",className:Et("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",_),...d})}function er({className:_,...d}){return p.jsx("div",{"data-slot":"card-header",className:Et("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",_),...d})}function Yt({className:_,...d}){return p.jsx("h4",{"data-slot":"card-title",className:Et("leading-none",_),...d})}function Nr({className:_,...d}){return p.jsx("p",{"data-slot":"card-description",className:Et("text-muted-foreground",_),...d})}function tt({className:_,...d}){return p.jsx("div",{"data-slot":"card-content",className:Et("px-6 [&:last-child]:pb-6",_),...d})}class Ri extends Error{constructor(d,e){const h=new.target.prototype;super(`${d}: Status code '${e}'`),this.statusCode=e,this.__proto__=h}}class ff extends Error{constructor(d="A timeout occurred."){const e=new.target.prototype;super(d),this.__proto__=e}}class ts extends Error{constructor(d="An abort occurred."){const e=new.target.prototype;super(d),this.__proto__=e}}class z6 extends Error{constructor(d,e){const h=new.target.prototype;super(d),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=h}}class $6 extends Error{constructor(d,e){const h=new.target.prototype;super(d),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=h}}class U6 extends Error{constructor(d,e){const h=new.target.prototype;super(d),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=h}}class Tm extends Error{constructor(d){const e=new.target.prototype;super(d),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class H6 extends Error{constructor(d,e){const h=new.target.prototype;super(d),this.innerErrors=e,this.__proto__=h}}class Qg{constructor(d,e,h){this.statusCode=d,this.statusText=e,this.content=h}}class kc{get(d,e){return this.send({...e,method:"GET",url:d})}post(d,e){return this.send({...e,method:"POST",url:d})}delete(d,e){return this.send({...e,method:"DELETE",url:d})}getCookieString(d){return""}}var Ce;(function(_){_[_.Trace=0]="Trace",_[_.Debug=1]="Debug",_[_.Information=2]="Information",_[_.Warning=3]="Warning",_[_.Error=4]="Error",_[_.Critical=5]="Critical",_[_.None=6]="None"})(Ce||(Ce={}));class wa{constructor(){}log(d,e){}}wa.instance=new wa;const V6="8.0.17";class Ar{static isRequired(d,e){if(d==null)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(d,e){if(!d||d.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(d,e,h){if(!(d in e))throw new Error(`Unknown ${h} value: ${d}.`)}}class wr{static get isBrowser(){return!wr.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!wr.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!wr.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function _a(_,d){let e="";return Oi(_)?(e=`Binary data of length ${_.byteLength}`,d&&(e+=`. Content: '${W6(_)}'`)):typeof _=="string"&&(e=`String data of length ${_.length}`,d&&(e+=`. Content: '${_}'`)),e}function W6(_){const d=new Uint8Array(_);let e="";return d.forEach(h=>{const m=h<16?"0":"";e+=`0x${m}${h.toString(16)} `}),e.substr(0,e.length-1)}function Oi(_){return _&&typeof ArrayBuffer<"u"&&(_ instanceof ArrayBuffer||_.constructor&&_.constructor.name==="ArrayBuffer")}async function e1(_,d,e,h,m,c){const s={},[i,r]=To();s[i]=r,_.log(Ce.Trace,`(${d} transport) sending data. ${_a(m,c.logMessageContent)}.`);const t=Oi(m)?"arraybuffer":"text",n=await e.post(h,{content:m,headers:{...s,...c.headers},responseType:t,timeout:c.timeout,withCredentials:c.withCredentials});_.log(Ce.Trace,`(${d} transport) request complete. Response status: ${n.statusCode}.`)}function q6(_){return _===void 0?new tc(Ce.Information):_===null?wa.instance:_.log!==void 0?_:new tc(_)}class X6{constructor(d,e){this._subject=d,this._observer=e}dispose(){const d=this._subject.observers.indexOf(this._observer);d>-1&&this._subject.observers.splice(d,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class tc{constructor(d){this._minLevel=d,this.out=console}log(d,e){if(d>=this._minLevel){const h=`[${new Date().toISOString()}] ${Ce[d]}: ${e}`;switch(d){case Ce.Critical:case Ce.Error:this.out.error(h);break;case Ce.Warning:this.out.warn(h);break;case Ce.Information:this.out.info(h);break;default:this.out.log(h);break}}}}function To(){let _="X-SignalR-User-Agent";return wr.isNode&&(_="User-Agent"),[_,G6(V6,K6(),Z6(),Y6())]}function G6(_,d,e,h){let m="Microsoft SignalR/";const c=_.split(".");return m+=`${c[0]}.${c[1]}`,m+=` (${_}; `,d&&d!==""?m+=`${d}; `:m+="Unknown OS; ",m+=`${e}`,h?m+=`; ${h}`:m+="; Unknown Runtime Version",m+=")",m}function K6(){if(wr.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Y6(){if(wr.isNode)return process.versions.node}function Z6(){return wr.isNode?"NodeJS":"Browser"}function wd(_){return _.stack?_.stack:_.message?_.message:`${_}`}function J6(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Q6 extends kc{constructor(d){if(super(),this._logger=d,typeof fetch>"u"||wr.isNode){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(e("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(J6());if(typeof AbortController>"u"){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(d){if(d.abortSignal&&d.abortSignal.aborted)throw new ts;if(!d.method)throw new Error("No method defined.");if(!d.url)throw new Error("No url defined.");const e=new this._abortControllerType;let h;d.abortSignal&&(d.abortSignal.onabort=()=>{e.abort(),h=new ts});let m=null;if(d.timeout){const r=d.timeout;m=setTimeout(()=>{e.abort(),this._logger.log(Ce.Warning,"Timeout from HTTP request."),h=new ff},r)}d.content===""&&(d.content=void 0),d.content&&(d.headers=d.headers||{},Oi(d.content)?d.headers["Content-Type"]="application/octet-stream":d.headers["Content-Type"]="text/plain;charset=UTF-8");let c;try{c=await this._fetchType(d.url,{body:d.content,cache:"no-cache",credentials:d.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...d.headers},method:d.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(r){throw h||(this._logger.log(Ce.Warning,`Error from HTTP request. ${r}.`),r)}finally{m&&clearTimeout(m),d.abortSignal&&(d.abortSignal.onabort=null)}if(!c.ok){const r=await Am(c,"text");throw new Ri(r||c.statusText,c.status)}const i=await Am(c,d.responseType);return new Qg(c.status,c.statusText,i)}getCookieString(d){let e="";return wr.isNode&&this._jar&&this._jar.getCookies(d,(h,m)=>e=m.join("; ")),e}}function Am(_,d){let e;switch(d){case"arraybuffer":e=_.arrayBuffer();break;case"text":e=_.text();break;case"blob":case"document":case"json":throw new Error(`${d} is not supported.`);default:e=_.text();break}return e}class e_ extends kc{constructor(d){super(),this._logger=d}send(d){return d.abortSignal&&d.abortSignal.aborted?Promise.reject(new ts):d.method?d.url?new Promise((e,h)=>{const m=new XMLHttpRequest;m.open(d.method,d.url,!0),m.withCredentials=d.withCredentials===void 0?!0:d.withCredentials,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.content===""&&(d.content=void 0),d.content&&(Oi(d.content)?m.setRequestHeader("Content-Type","application/octet-stream"):m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const c=d.headers;c&&Object.keys(c).forEach(s=>{m.setRequestHeader(s,c[s])}),d.responseType&&(m.responseType=d.responseType),d.abortSignal&&(d.abortSignal.onabort=()=>{m.abort(),h(new ts)}),d.timeout&&(m.timeout=d.timeout),m.onload=()=>{d.abortSignal&&(d.abortSignal.onabort=null),m.status>=200&&m.status<300?e(new Qg(m.status,m.statusText,m.response||m.responseText)):h(new Ri(m.response||m.responseText||m.statusText,m.status))},m.onerror=()=>{this._logger.log(Ce.Warning,`Error from HTTP request. ${m.status}: ${m.statusText}.`),h(new Ri(m.statusText,m.status))},m.ontimeout=()=>{this._logger.log(Ce.Warning,"Timeout from HTTP request."),h(new ff)},m.send(d.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class t_ extends kc{constructor(d){if(super(),typeof fetch<"u"||wr.isNode)this._httpClient=new Q6(d);else if(typeof XMLHttpRequest<"u")this._httpClient=new e_(d);else throw new Error("No usable HttpClient found.")}send(d){return d.abortSignal&&d.abortSignal.aborted?Promise.reject(new ts):d.method?d.url?this._httpClient.send(d):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(d){return this._httpClient.getCookieString(d)}}class Nn{static write(d){return`${d}${Nn.RecordSeparator}`}static parse(d){if(d[d.length-1]!==Nn.RecordSeparator)throw new Error("Message is incomplete.");const e=d.split(Nn.RecordSeparator);return e.pop(),e}}Nn.RecordSeparatorCode=30;Nn.RecordSeparator=String.fromCharCode(Nn.RecordSeparatorCode);class r_{writeHandshakeRequest(d){return Nn.write(JSON.stringify(d))}parseHandshakeResponse(d){let e,h;if(Oi(d)){const i=new Uint8Array(d),r=i.indexOf(Nn.RecordSeparatorCode);if(r===-1)throw new Error("Message is incomplete.");const t=r+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(i.slice(0,t))),h=i.byteLength>t?i.slice(t).buffer:null}else{const i=d,r=i.indexOf(Nn.RecordSeparator);if(r===-1)throw new Error("Message is incomplete.");const t=r+1;e=i.substring(0,t),h=i.length>t?i.substring(t):null}const m=Nn.parse(e),c=JSON.parse(m[0]);if(c.type)throw new Error("Expected a handshake response from the server.");return[h,c]}}var zt;(function(_){_[_.Invocation=1]="Invocation",_[_.StreamItem=2]="StreamItem",_[_.Completion=3]="Completion",_[_.StreamInvocation=4]="StreamInvocation",_[_.CancelInvocation=5]="CancelInvocation",_[_.Ping=6]="Ping",_[_.Close=7]="Close",_[_.Ack=8]="Ack",_[_.Sequence=9]="Sequence"})(zt||(zt={}));class n_{constructor(){this.observers=[]}next(d){for(const e of this.observers)e.next(d)}error(d){for(const e of this.observers)e.error&&e.error(d)}complete(){for(const d of this.observers)d.complete&&d.complete()}subscribe(d){return this.observers.push(d),new X6(this,d)}}class s_{constructor(d,e,h){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=d,this._connection=e,this._bufferSize=h}async _send(d){const e=this._protocol.writeMessage(d);let h=Promise.resolve();if(this._isInvocationMessage(d)){this._totalMessageCount++;let m=()=>{},c=()=>{};Oi(e)?this._bufferedByteCount+=e.byteLength:this._bufferedByteCount+=e.length,this._bufferedByteCount>=this._bufferSize&&(h=new Promise((s,i)=>{m=s,c=i})),this._messages.push(new i_(e,this._totalMessageCount,m,c))}try{this._reconnectInProgress||await this._connection.send(e)}catch{this._disconnected()}await h}_ack(d){let e=-1;for(let h=0;h<this._messages.length;h++){const m=this._messages[h];if(m._id<=d.sequenceId)e=h,Oi(m._message)?this._bufferedByteCount-=m._message.byteLength:this._bufferedByteCount-=m._message.length,m._resolver();else if(this._bufferedByteCount<this._bufferSize)m._resolver();else break}e!==-1&&(this._messages=this._messages.slice(e+1))}_shouldProcessMessage(d){if(this._waitForSequenceMessage)return d.type!==zt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(d))return!0;const e=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,e<=this._latestReceivedSequenceId?(e===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=e,this._ackTimer(),!0)}_resetSequence(d){if(d.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=d.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const d=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:zt.Sequence,sequenceId:d}));const e=this._messages;for(const h of e)await this._connection.send(h._message);this._reconnectInProgress=!1}_dispose(d){d??(d=new Error("Unable to reconnect to server."));for(const e of this._messages)e._rejector(d)}_isInvocationMessage(d){switch(d.type){case zt.Invocation:case zt.StreamItem:case zt.Completion:case zt.StreamInvocation:case zt.CancelInvocation:return!0;case zt.Close:case zt.Sequence:case zt.Ping:case zt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:zt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class i_{constructor(d,e,h,m){this._message=d,this._id=e,this._resolver=h,this._rejector=m}}const o_=30*1e3,a_=15*1e3,l_=1e5;var or;(function(_){_.Disconnected="Disconnected",_.Connecting="Connecting",_.Connected="Connected",_.Disconnecting="Disconnecting",_.Reconnecting="Reconnecting"})(or||(or={}));class hf{static create(d,e,h,m,c,s,i){return new hf(d,e,h,m,c,s,i)}constructor(d,e,h,m,c,s,i){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Ce.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ar.isRequired(d,"connection"),Ar.isRequired(e,"logger"),Ar.isRequired(h,"protocol"),this.serverTimeoutInMilliseconds=c??o_,this.keepAliveIntervalInMilliseconds=s??a_,this._statefulReconnectBufferSize=i??l_,this._logger=e,this._protocol=h,this.connection=d,this._reconnectPolicy=m,this._handshakeProtocol=new r_,this.connection.onreceive=r=>this._processIncomingData(r),this.connection.onclose=r=>this._connectionClosed(r),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=or.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:zt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(d){if(this._connectionState!==or.Disconnected&&this._connectionState!==or.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!d)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=d}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==or.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=or.Connecting,this._logger.log(Ce.Debug,"Starting HubConnection.");try{await this._startInternal(),wr.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=or.Connected,this._connectionStarted=!0,this._logger.log(Ce.Debug,"HubConnection connected successfully.")}catch(d){return this._connectionState=or.Disconnected,this._logger.log(Ce.Debug,`HubConnection failed to start successfully because of error '${d}'.`),Promise.reject(d)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const d=new Promise((e,h)=>{this._handshakeResolver=e,this._handshakeRejecter=h});await this.connection.start(this._protocol.transferFormat);try{let e=this._protocol.version;this.connection.features.reconnect||(e=1);const h={protocol:this._protocol.name,version:e};if(this._logger.log(Ce.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(h)),this._logger.log(Ce.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await d,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new s_(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(Ce.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const d=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await d}catch{}}_stopInternal(d){if(this._connectionState===or.Disconnected)return this._logger.log(Ce.Debug,`Call to HubConnection.stop(${d}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===or.Disconnecting)return this._logger.log(Ce.Debug,`Call to HttpConnection.stop(${d}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const e=this._connectionState;return this._connectionState=or.Disconnecting,this._logger.log(Ce.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Ce.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(e===or.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=d||new ts("The connection was stopped before the hub handshake could complete."),this.connection.stop(d))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(d,...e){const[h,m]=this._replaceStreamingParams(e),c=this._createStreamInvocation(d,e,m);let s;const i=new n_;return i.cancelCallback=()=>{const r=this._createCancelInvocation(c.invocationId);return delete this._callbacks[c.invocationId],s.then(()=>this._sendWithProtocol(r))},this._callbacks[c.invocationId]=(r,t)=>{if(t){i.error(t);return}else r&&(r.type===zt.Completion?r.error?i.error(new Error(r.error)):i.complete():i.next(r.item))},s=this._sendWithProtocol(c).catch(r=>{i.error(r),delete this._callbacks[c.invocationId]}),this._launchStreams(h,s),i}_sendMessage(d){return this._resetKeepAliveInterval(),this.connection.send(d)}_sendWithProtocol(d){return this._messageBuffer?this._messageBuffer._send(d):this._sendMessage(this._protocol.writeMessage(d))}send(d,...e){const[h,m]=this._replaceStreamingParams(e),c=this._sendWithProtocol(this._createInvocation(d,e,!0,m));return this._launchStreams(h,c),c}invoke(d,...e){const[h,m]=this._replaceStreamingParams(e),c=this._createInvocation(d,e,!1,m);return new Promise((i,r)=>{this._callbacks[c.invocationId]=(n,l)=>{if(l){r(l);return}else n&&(n.type===zt.Completion?n.error?r(new Error(n.error)):i(n.result):r(new Error(`Unexpected message type: ${n.type}`)))};const t=this._sendWithProtocol(c).catch(n=>{r(n),delete this._callbacks[c.invocationId]});this._launchStreams(h,t)})}on(d,e){!d||!e||(d=d.toLowerCase(),this._methods[d]||(this._methods[d]=[]),this._methods[d].indexOf(e)===-1&&this._methods[d].push(e))}off(d,e){if(!d)return;d=d.toLowerCase();const h=this._methods[d];if(h)if(e){const m=h.indexOf(e);m!==-1&&(h.splice(m,1),h.length===0&&delete this._methods[d])}else delete this._methods[d]}onclose(d){d&&this._closedCallbacks.push(d)}onreconnecting(d){d&&this._reconnectingCallbacks.push(d)}onreconnected(d){d&&this._reconnectedCallbacks.push(d)}_processIncomingData(d){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(d=this._processHandshakeResponse(d),this._receivedHandshakeResponse=!0),d){const e=this._protocol.parseMessages(d,this._logger);for(const h of e)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(h)))switch(h.type){case zt.Invocation:this._invokeClientMethod(h).catch(m=>{this._logger.log(Ce.Error,`Invoke client method threw error: ${wd(m)}`)});break;case zt.StreamItem:case zt.Completion:{const m=this._callbacks[h.invocationId];if(m){h.type===zt.Completion&&delete this._callbacks[h.invocationId];try{m(h)}catch(c){this._logger.log(Ce.Error,`Stream callback threw error: ${wd(c)}`)}}break}case zt.Ping:break;case zt.Close:{this._logger.log(Ce.Information,"Close message received from server.");const m=h.error?new Error("Server returned an error on close: "+h.error):void 0;h.allowReconnect===!0?this.connection.stop(m):this._stopPromise=this._stopInternal(m);break}case zt.Ack:this._messageBuffer&&this._messageBuffer._ack(h);break;case zt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(h);break;default:this._logger.log(Ce.Warning,`Invalid message type: ${h.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(d){let e,h;try{[h,e]=this._handshakeProtocol.parseHandshakeResponse(d)}catch(m){const c="Error parsing handshake response: "+m;this._logger.log(Ce.Error,c);const s=new Error(c);throw this._handshakeRejecter(s),s}if(e.error){const m="Server returned handshake error: "+e.error;this._logger.log(Ce.Error,m);const c=new Error(m);throw this._handshakeRejecter(c),c}else this._logger.log(Ce.Debug,"Server handshake complete.");return this._handshakeResolver(),h}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let d=this._nextKeepAlive-new Date().getTime();d<0&&(d=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===or.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},d)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(d){const e=d.target.toLowerCase(),h=this._methods[e];if(!h){this._logger.log(Ce.Warning,`No client method with the name '${e}' found.`),d.invocationId&&(this._logger.log(Ce.Warning,`No result given for '${e}' method and invocation ID '${d.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(d.invocationId,"Client didn't provide a result.",null)));return}const m=h.slice(),c=!!d.invocationId;let s,i,r;for(const t of m)try{const n=s;s=await t.apply(this,d.arguments),c&&s&&n&&(this._logger.log(Ce.Error,`Multiple results provided for '${e}'. Sending error to server.`),r=this._createCompletionMessage(d.invocationId,"Client provided multiple results.",null)),i=void 0}catch(n){i=n,this._logger.log(Ce.Error,`A callback for the method '${e}' threw error '${n}'.`)}r?await this._sendWithProtocol(r):c?(i?r=this._createCompletionMessage(d.invocationId,`${i}`,null):s!==void 0?r=this._createCompletionMessage(d.invocationId,null,s):(this._logger.log(Ce.Warning,`No result given for '${e}' method and invocation ID '${d.invocationId}'.`),r=this._createCompletionMessage(d.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(r)):s&&this._logger.log(Ce.Error,`Result given for '${e}' method but server is not expecting a result.`)}_connectionClosed(d){this._logger.log(Ce.Debug,`HubConnection.connectionClosed(${d}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||d||new ts("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(d||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===or.Disconnecting?this._completeClose(d):this._connectionState===or.Connected&&this._reconnectPolicy?this._reconnect(d):this._connectionState===or.Connected&&this._completeClose(d)}_completeClose(d){if(this._connectionStarted){this._connectionState=or.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(d??new Error("Connection closed.")),this._messageBuffer=void 0),wr.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[d]))}catch(e){this._logger.log(Ce.Error,`An onclose callback called with error '${d}' threw error '${e}'.`)}}}async _reconnect(d){const e=Date.now();let h=0,m=d!==void 0?d:new Error("Attempting to reconnect due to a unknown error."),c=this._getNextRetryDelay(h++,0,m);if(c===null){this._logger.log(Ce.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(d);return}if(this._connectionState=or.Reconnecting,d?this._logger.log(Ce.Information,`Connection reconnecting because of error '${d}'.`):this._logger.log(Ce.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[d]))}catch(s){this._logger.log(Ce.Error,`An onreconnecting callback called with error '${d}' threw error '${s}'.`)}if(this._connectionState!==or.Reconnecting){this._logger.log(Ce.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;c!==null;){if(this._logger.log(Ce.Information,`Reconnect attempt number ${h} will start in ${c} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,c)}),this._reconnectDelayHandle=void 0,this._connectionState!==or.Reconnecting){this._logger.log(Ce.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=or.Connected,this._logger.log(Ce.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(Ce.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(Ce.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==or.Reconnecting){this._logger.log(Ce.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===or.Disconnecting&&this._completeClose();return}m=s instanceof Error?s:new Error(s.toString()),c=this._getNextRetryDelay(h++,Date.now()-e,m)}}this._logger.log(Ce.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${h} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(d,e,h){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:d,retryReason:h})}catch(m){return this._logger.log(Ce.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${d}, ${e}) threw error '${m}'.`),null}}_cancelCallbacksWithError(d){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(h=>{const m=e[h];try{m(null,d)}catch(c){this._logger.log(Ce.Error,`Stream 'error' callback called with '${d}' threw error: ${wd(c)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(d,e,h,m){if(h)return m.length!==0?{arguments:e,streamIds:m,target:d,type:zt.Invocation}:{arguments:e,target:d,type:zt.Invocation};{const c=this._invocationId;return this._invocationId++,m.length!==0?{arguments:e,invocationId:c.toString(),streamIds:m,target:d,type:zt.Invocation}:{arguments:e,invocationId:c.toString(),target:d,type:zt.Invocation}}}_launchStreams(d,e){if(d.length!==0){e||(e=Promise.resolve());for(const h in d)d[h].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(h)))},error:m=>{let c;m instanceof Error?c=m.message:m&&m.toString?c=m.toString():c="Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(h,c)))},next:m=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(h,m)))}})}}_replaceStreamingParams(d){const e=[],h=[];for(let m=0;m<d.length;m++){const c=d[m];if(this._isObservable(c)){const s=this._invocationId;this._invocationId++,e[s]=c,h.push(s.toString()),d.splice(m,1)}}return[e,h]}_isObservable(d){return d&&d.subscribe&&typeof d.subscribe=="function"}_createStreamInvocation(d,e,h){const m=this._invocationId;return this._invocationId++,h.length!==0?{arguments:e,invocationId:m.toString(),streamIds:h,target:d,type:zt.StreamInvocation}:{arguments:e,invocationId:m.toString(),target:d,type:zt.StreamInvocation}}_createCancelInvocation(d){return{invocationId:d,type:zt.CancelInvocation}}_createStreamItemMessage(d,e){return{invocationId:d,item:e,type:zt.StreamItem}}_createCompletionMessage(d,e,h){return e?{error:e,invocationId:d,type:zt.Completion}:{invocationId:d,result:h,type:zt.Completion}}_createCloseMessage(){return{type:zt.Close}}}const c_=[0,2e3,1e4,3e4,null];class Rm{constructor(d){this._retryDelays=d!==void 0?[...d,null]:c_}nextRetryDelayInMilliseconds(d){return this._retryDelays[d.previousRetryCount]}}class Mi{}Mi.Authorization="Authorization";Mi.Cookie="Cookie";class u_ extends kc{constructor(d,e){super(),this._innerClient=d,this._accessTokenFactory=e}async send(d){let e=!0;this._accessTokenFactory&&(!this._accessToken||d.url&&d.url.indexOf("/negotiate?")>0)&&(e=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(d);const h=await this._innerClient.send(d);return e&&h.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(d),await this._innerClient.send(d)):h}_setAuthorizationHeader(d){d.headers||(d.headers={}),this._accessToken?d.headers[Mi.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&d.headers[Mi.Authorization]&&delete d.headers[Mi.Authorization]}getCookieString(d){return this._innerClient.getCookieString(d)}}var Tr;(function(_){_[_.None=0]="None",_[_.WebSockets=1]="WebSockets",_[_.ServerSentEvents=2]="ServerSentEvents",_[_.LongPolling=4]="LongPolling"})(Tr||(Tr={}));var Qr;(function(_){_[_.Text=1]="Text",_[_.Binary=2]="Binary"})(Qr||(Qr={}));let d_=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Mm{get pollAborted(){return this._pollAbort.aborted}constructor(d,e,h){this._httpClient=d,this._logger=e,this._pollAbort=new d_,this._options=h,this._running=!1,this.onreceive=null,this.onclose=null}async connect(d,e){if(Ar.isRequired(d,"url"),Ar.isRequired(e,"transferFormat"),Ar.isIn(e,Qr,"transferFormat"),this._url=d,this._logger.log(Ce.Trace,"(LongPolling transport) Connecting."),e===Qr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[h,m]=To(),c={[h]:m,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:c,timeout:1e5,withCredentials:this._options.withCredentials};e===Qr.Binary&&(s.responseType="arraybuffer");const i=`${d}&_=${Date.now()}`;this._logger.log(Ce.Trace,`(LongPolling transport) polling: ${i}.`);const r=await this._httpClient.get(i,s);r.statusCode!==200?(this._logger.log(Ce.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Ri(r.statusText||"",r.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(d,e){try{for(;this._running;)try{const h=`${d}&_=${Date.now()}`;this._logger.log(Ce.Trace,`(LongPolling transport) polling: ${h}.`);const m=await this._httpClient.get(h,e);m.statusCode===204?(this._logger.log(Ce.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):m.statusCode!==200?(this._logger.log(Ce.Error,`(LongPolling transport) Unexpected response code: ${m.statusCode}.`),this._closeError=new Ri(m.statusText||"",m.statusCode),this._running=!1):m.content?(this._logger.log(Ce.Trace,`(LongPolling transport) data received. ${_a(m.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(m.content)):this._logger.log(Ce.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(h){this._running?h instanceof ff?this._logger.log(Ce.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=h,this._running=!1):this._logger.log(Ce.Trace,`(LongPolling transport) Poll errored after shutdown: ${h.message}`)}}finally{this._logger.log(Ce.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(d){return this._running?e1(this._logger,"LongPolling",this._httpClient,this._url,d,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Ce.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Ce.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const d={},[e,h]=To();d[e]=h;const m={headers:{...d,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let c;try{await this._httpClient.delete(this._url,m)}catch(s){c=s}c?c instanceof Ri&&(c.statusCode===404?this._logger.log(Ce.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(Ce.Trace,`(LongPolling transport) Error sending a DELETE request: ${c}`)):this._logger.log(Ce.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(Ce.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let d="(LongPolling transport) Firing onclose event.";this._closeError&&(d+=" Error: "+this._closeError),this._logger.log(Ce.Trace,d),this.onclose(this._closeError)}}}class f_{constructor(d,e,h,m){this._httpClient=d,this._accessToken=e,this._logger=h,this._options=m,this.onreceive=null,this.onclose=null}async connect(d,e){return Ar.isRequired(d,"url"),Ar.isRequired(e,"transferFormat"),Ar.isIn(e,Qr,"transferFormat"),this._logger.log(Ce.Trace,"(SSE transport) Connecting."),this._url=d,this._accessToken&&(d+=(d.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((h,m)=>{let c=!1;if(e!==Qr.Text){m(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(wr.isBrowser||wr.isWebWorker)s=new this._options.EventSource(d,{withCredentials:this._options.withCredentials});else{const i=this._httpClient.getCookieString(d),r={};r.Cookie=i;const[t,n]=To();r[t]=n,s=new this._options.EventSource(d,{withCredentials:this._options.withCredentials,headers:{...r,...this._options.headers}})}try{s.onmessage=i=>{if(this.onreceive)try{this._logger.log(Ce.Trace,`(SSE transport) data received. ${_a(i.data,this._options.logMessageContent)}.`),this.onreceive(i.data)}catch(r){this._close(r);return}},s.onerror=i=>{c?this._close():m(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(Ce.Information,`SSE connected to ${this._url}`),this._eventSource=s,c=!0,h()}}catch(i){m(i);return}})}async send(d){return this._eventSource?e1(this._logger,"SSE",this._httpClient,this._url,d,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(d){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(d))}}class h_{constructor(d,e,h,m,c,s){this._logger=h,this._accessTokenFactory=e,this._logMessageContent=m,this._webSocketConstructor=c,this._httpClient=d,this.onreceive=null,this.onclose=null,this._headers=s}async connect(d,e){Ar.isRequired(d,"url"),Ar.isRequired(e,"transferFormat"),Ar.isIn(e,Qr,"transferFormat"),this._logger.log(Ce.Trace,"(WebSockets transport) Connecting.");let h;return this._accessTokenFactory&&(h=await this._accessTokenFactory()),new Promise((m,c)=>{d=d.replace(/^http/,"ws");let s;const i=this._httpClient.getCookieString(d);let r=!1;if(wr.isNode||wr.isReactNative){const t={},[n,l]=To();t[n]=l,h&&(t[Mi.Authorization]=`Bearer ${h}`),i&&(t[Mi.Cookie]=i),s=new this._webSocketConstructor(d,void 0,{headers:{...t,...this._headers}})}else h&&(d+=(d.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(h)}`);s||(s=new this._webSocketConstructor(d)),e===Qr.Binary&&(s.binaryType="arraybuffer"),s.onopen=t=>{this._logger.log(Ce.Information,`WebSocket connected to ${d}.`),this._webSocket=s,r=!0,m()},s.onerror=t=>{let n=null;typeof ErrorEvent<"u"&&t instanceof ErrorEvent?n=t.error:n="There was an error with the transport",this._logger.log(Ce.Information,`(WebSockets transport) ${n}.`)},s.onmessage=t=>{if(this._logger.log(Ce.Trace,`(WebSockets transport) data received. ${_a(t.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(t.data)}catch(n){this._close(n);return}},s.onclose=t=>{if(r)this._close(t);else{let n=null;typeof ErrorEvent<"u"&&t instanceof ErrorEvent?n=t.error:n="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",c(new Error(n))}}})}send(d){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Ce.Trace,`(WebSockets transport) sending data. ${_a(d,this._logMessageContent)}.`),this._webSocket.send(d),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(d){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Ce.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(d)&&(d.wasClean===!1||d.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${d.code} (${d.reason||"no reason given"}).`)):d instanceof Error?this.onclose(d):this.onclose())}_isCloseEvent(d){return d&&typeof d.wasClean=="boolean"&&typeof d.code=="number"}}const Im=100;class p_{constructor(d,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ar.isRequired(d,"url"),this._logger=q6(e.logger),this.baseUrl=this._resolveUrl(d),e=e||{},e.logMessageContent=e.logMessageContent===void 0?!1:e.logMessageContent,typeof e.withCredentials=="boolean"||e.withCredentials===void 0)e.withCredentials=e.withCredentials===void 0?!0:e.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.timeout=e.timeout===void 0?100*1e3:e.timeout;let h=null,m=null;if(wr.isNode&&typeof require<"u"){const c=typeof __webpack_require__=="function"?__non_webpack_require__:require;h=c("ws"),m=c("eventsource")}!wr.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:wr.isNode&&!e.WebSocket&&h&&(e.WebSocket=h),!wr.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:wr.isNode&&!e.EventSource&&typeof m<"u"&&(e.EventSource=m),this._httpClient=new u_(e.httpClient||new t_(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}async start(d){if(d=d||Qr.Binary,Ar.isIn(d,Qr,"transferFormat"),this._logger.log(Ce.Debug,`Starting connection with transfer format '${Qr[d]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(d),await this._startInternalPromise,this._connectionState==="Disconnecting"){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Ce.Error,e),await this._stopPromise,Promise.reject(new ts(e))}else if(this._connectionState!=="Connected"){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Ce.Error,e),Promise.reject(new ts(e))}this._connectionStarted=!0}send(d){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new pf(this.transport)),this._sendQueue.send(d))}async stop(d){if(this._connectionState==="Disconnected")return this._logger.log(Ce.Debug,`Call to HttpConnection.stop(${d}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(Ce.Debug,`Call to HttpConnection.stop(${d}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(d),await this._stopPromise}async _stopInternal(d){this._stopError=d;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(Ce.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Ce.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(d){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Tr.WebSockets)this.transport=this._constructTransport(Tr.WebSockets),await this._startTransport(e,d);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let h=null,m=0;do{if(h=await this._getNegotiationResponse(e),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ts("The connection was stopped during negotiation.");if(h.error)throw new Error(h.error);if(h.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(h.url&&(e=h.url),h.accessToken){const c=h.accessToken;this._accessTokenFactory=()=>c,this._httpClient._accessToken=c,this._httpClient._accessTokenFactory=void 0}m++}while(h.url&&m<Im);if(m===Im&&h.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(e,this._options.transport,h,d)}this.transport instanceof Mm&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(Ce.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(h){return this._logger.log(Ce.Error,"Failed to start the connection: "+h),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(h)}}async _getNegotiationResponse(d){const e={},[h,m]=To();e[h]=m;const c=this._resolveNegotiateUrl(d);this._logger.log(Ce.Debug,`Sending negotiation request: ${c}.`);try{const s=await this._httpClient.post(c,{content:"",headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const i=JSON.parse(s.content);return(!i.negotiateVersion||i.negotiateVersion<1)&&(i.connectionToken=i.connectionId),i.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Tm("Client didn't negotiate Stateful Reconnect but the server did.")):i}catch(s){let i="Failed to complete negotiation with the server: "+s;return s instanceof Ri&&s.statusCode===404&&(i=i+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Ce.Error,i),Promise.reject(new Tm(i))}}_createConnectUrl(d,e){return e?d+(d.indexOf("?")===-1?"?":"&")+`id=${e}`:d}async _createTransport(d,e,h,m){let c=this._createConnectUrl(d,h.connectionToken);if(this._isITransport(e)){this._logger.log(Ce.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,await this._startTransport(c,m),this.connectionId=h.connectionId;return}const s=[],i=h.availableTransports||[];let r=h;for(const t of i){const n=this._resolveTransportOrError(t,e,m,r?.useStatefulReconnect===!0);if(n instanceof Error)s.push(`${t.transport} failed:`),s.push(n);else if(this._isITransport(n)){if(this.transport=n,!r){try{r=await this._getNegotiationResponse(d)}catch(l){return Promise.reject(l)}c=this._createConnectUrl(d,r.connectionToken)}try{await this._startTransport(c,m),this.connectionId=r.connectionId;return}catch(l){if(this._logger.log(Ce.Error,`Failed to start the transport '${t.transport}': ${l}`),r=void 0,s.push(new U6(`${t.transport} failed: ${l}`,Tr[t.transport])),this._connectionState!=="Connecting"){const o="Failed to select transport before stop() was called.";return this._logger.log(Ce.Debug,o),Promise.reject(new ts(o))}}}}return s.length>0?Promise.reject(new H6(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(d){switch(d){case Tr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new h_(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Tr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new f_(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Tr.LongPolling:return new Mm(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${d}.`)}}_startTransport(d,e){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async h=>{let m=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(d,e),await this.features.resend()}catch{m=!0}else{this._stopConnection(h);return}m&&this._stopConnection(h)}:this.transport.onclose=h=>this._stopConnection(h),this.transport.connect(d,e)}_resolveTransportOrError(d,e,h,m){const c=Tr[d.transport];if(c==null)return this._logger.log(Ce.Debug,`Skipping transport '${d.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${d.transport}' because it is not supported by this client.`);if(m_(e,c))if(d.transferFormats.map(i=>Qr[i]).indexOf(h)>=0){if(c===Tr.WebSockets&&!this._options.WebSocket||c===Tr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Ce.Debug,`Skipping transport '${Tr[c]}' because it is not supported in your environment.'`),new z6(`'${Tr[c]}' is not supported in your environment.`,c);this._logger.log(Ce.Debug,`Selecting transport '${Tr[c]}'.`);try{return this.features.reconnect=c===Tr.WebSockets?m:void 0,this._constructTransport(c)}catch(i){return i}}else return this._logger.log(Ce.Debug,`Skipping transport '${Tr[c]}' because it does not support the requested transfer format '${Qr[h]}'.`),new Error(`'${Tr[c]}' does not support ${Qr[h]}.`);else return this._logger.log(Ce.Debug,`Skipping transport '${Tr[c]}' because it was disabled by the client.`),new $6(`'${Tr[c]}' is disabled by the client.`,c)}_isITransport(d){return d&&typeof d=="object"&&"connect"in d}_stopConnection(d){if(this._logger.log(Ce.Debug,`HttpConnection.stopConnection(${d}) called while in state ${this._connectionState}.`),this.transport=void 0,d=this._stopError||d,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(Ce.Debug,`Call to HttpConnection.stopConnection(${d}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(Ce.Warning,`Call to HttpConnection.stopConnection(${d}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${d}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),d?this._logger.log(Ce.Error,`Connection disconnected with error '${d}'.`):this._logger.log(Ce.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(Ce.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(d)}catch(e){this._logger.log(Ce.Error,`HttpConnection.onclose(${d}) threw error '${e}'.`)}}}_resolveUrl(d){if(d.lastIndexOf("https://",0)===0||d.lastIndexOf("http://",0)===0)return d;if(!wr.isBrowser)throw new Error(`Cannot resolve '${d}'.`);const e=window.document.createElement("a");return e.href=d,this._logger.log(Ce.Information,`Normalizing '${d}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(d){const e=new URL(d);e.pathname.endsWith("/")?e.pathname+="negotiate":e.pathname+="/negotiate";const h=new URLSearchParams(e.searchParams);return h.has("negotiateVersion")||h.append("negotiateVersion",this._negotiateVersion.toString()),h.has("useStatefulReconnect")?h.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&h.append("useStatefulReconnect","true"),e.search=h.toString(),e.toString()}}function m_(_,d){return!_||(d&_)!==0}class pf{constructor(d){this._transport=d,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ll,this._transportResult=new Ll,this._sendLoopPromise=this._sendLoop()}send(d){return this._bufferData(d),this._transportResult||(this._transportResult=new Ll),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(d){if(this._buffer.length&&typeof this._buffer[0]!=typeof d)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof d}`);this._buffer.push(d),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ll;const d=this._transportResult;this._transportResult=void 0;const e=typeof this._buffer[0]=="string"?this._buffer.join(""):pf._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(e),d.resolve()}catch(h){d.reject(h)}}}static _concatBuffers(d){const e=d.map(c=>c.byteLength).reduce((c,s)=>c+s),h=new Uint8Array(e);let m=0;for(const c of d)h.set(new Uint8Array(c),m),m+=c.byteLength;return h.buffer}}class Ll{constructor(){this.promise=new Promise((d,e)=>[this._resolver,this._rejecter]=[d,e])}resolve(){this._resolver()}reject(d){this._rejecter(d)}}const g_="json";class b_{constructor(){this.name=g_,this.version=2,this.transferFormat=Qr.Text}parseMessages(d,e){if(typeof d!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!d)return[];e===null&&(e=wa.instance);const h=Nn.parse(d),m=[];for(const c of h){const s=JSON.parse(c);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case zt.Invocation:this._isInvocationMessage(s);break;case zt.StreamItem:this._isStreamItemMessage(s);break;case zt.Completion:this._isCompletionMessage(s);break;case zt.Ping:break;case zt.Close:break;case zt.Ack:this._isAckMessage(s);break;case zt.Sequence:this._isSequenceMessage(s);break;default:e.log(Ce.Information,"Unknown message type '"+s.type+"' ignored.");continue}m.push(s)}return m}writeMessage(d){return Nn.write(JSON.stringify(d))}_isInvocationMessage(d){this._assertNotEmptyString(d.target,"Invalid payload for Invocation message."),d.invocationId!==void 0&&this._assertNotEmptyString(d.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(d){if(this._assertNotEmptyString(d.invocationId,"Invalid payload for StreamItem message."),d.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(d){if(d.result&&d.error)throw new Error("Invalid payload for Completion message.");!d.result&&d.error&&this._assertNotEmptyString(d.error,"Invalid payload for Completion message."),this._assertNotEmptyString(d.invocationId,"Invalid payload for Completion message.")}_isAckMessage(d){if(typeof d.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(d){if(typeof d.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(d,e){if(typeof d!="string"||d==="")throw new Error(e)}}const y_={trace:Ce.Trace,debug:Ce.Debug,info:Ce.Information,information:Ce.Information,warn:Ce.Warning,warning:Ce.Warning,error:Ce.Error,critical:Ce.Critical,none:Ce.None};function v_(_){const d=y_[_.toLowerCase()];if(typeof d<"u")return d;throw new Error(`Unknown log level: ${_}`)}class x_{configureLogging(d){if(Ar.isRequired(d,"logging"),w_(d))this.logger=d;else if(typeof d=="string"){const e=v_(d);this.logger=new tc(e)}else this.logger=new tc(d);return this}withUrl(d,e){return Ar.isRequired(d,"url"),Ar.isNotEmpty(d,"url"),this.url=d,typeof e=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...e}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:e},this}withHubProtocol(d){return Ar.isRequired(d,"protocol"),this.protocol=d,this}withAutomaticReconnect(d){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return d?Array.isArray(d)?this.reconnectPolicy=new Rm(d):this.reconnectPolicy=d:this.reconnectPolicy=new Rm,this}withServerTimeout(d){return Ar.isRequired(d,"milliseconds"),this._serverTimeoutInMilliseconds=d,this}withKeepAliveInterval(d){return Ar.isRequired(d,"milliseconds"),this._keepAliveIntervalInMilliseconds=d,this}withStatefulReconnect(d){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=d?.bufferSize,this}build(){const d=this.httpConnectionOptions||{};if(d.logger===void 0&&(d.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new p_(this.url,d);return hf.create(e,this.logger||wa.instance,this.protocol||new b_,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function w_(_){return _.log!==void 0}class __{connection=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;startPromise=null;stopPromise=null;activeListeners=new Set;connectionCheckInterval=null;constructor(){this.initializeConnection()}async reinitializeConnection(){await this.stop(),this.initializeConnection(),await this.start()}initializeConnection(){const d="http://localhost:5120/notificationHub";localStorage.getItem("authToken"),this.connection=new x_().withUrl(d,{skipNegotiation:!0,transport:Tr.WebSockets,accessTokenFactory:()=>localStorage.getItem("authToken")||""}).withAutomaticReconnect([0,2e3,1e4,3e4]).configureLogging(Ce.Information).build(),this.setupEventHandlers()}setupEventHandlers(){this.connection&&(this.connection.onclose(d=>{console.log("❌ [SIGNALR_FRONTEND] Connection closed:",d),this.isConnected=!1,this.handleReconnection()}),this.connection.onreconnecting(d=>{console.log("🔄 [SIGNALR_FRONTEND] Reconnecting:",d),this.isConnected=!1}),this.connection.onreconnected(d=>{console.log("✅ [SIGNALR_FRONTEND] Reconnected with connection ID:",d),this.isConnected=!0,this.reconnectAttempts=0}))}async handleReconnection(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("❌ [SIGNALR_FRONTEND] Max reconnection attempts reached:",this.maxReconnectAttempts);return}this.reconnectAttempts++,console.log(`🔄 [SIGNALR_FRONTEND] Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(async()=>{try{console.log("🚀 [SIGNALR_FRONTEND] Starting reconnection attempt"),await this.start(),console.log("✅ [SIGNALR_FRONTEND] Reconnection successful")}catch(d){console.error("❌ [SIGNALR_FRONTEND] Reconnection failed:",d),this.handleReconnection()}},this.reconnectDelay*this.reconnectAttempts)}async start(){if(this.startPromise)return this.startPromise;if(this.stopPromise&&await this.stopPromise,this.connection||this.initializeConnection(),!this.connection)throw new Error("Failed to initialize SignalR connection");if(this.connection.state===or.Connected){this.isConnected=!0,this.startConnectionHealthCheck();return}if(this.connection.state===or.Disconnected){this.startPromise=this._performStart();try{await this.startPromise,this.startConnectionHealthCheck()}finally{this.startPromise=null}}}async _performStart(){if(this.connection)try{await this.connection.start(),this.isConnected=!0,this.reconnectAttempts=0,console.log("SignalR connection started")}catch(d){if(d instanceof Error&&d.name==="AbortError"){console.log("SignalR start was aborted (likely due to rapid start/stop)"),this.isConnected=!1;return}throw console.error("Error starting SignalR connection:",d),this.isConnected=!1,d}}async stop(){if(this.stopPromise)return this.stopPromise;if(this.startPromise&&await this.startPromise,!this.connection){this.isConnected=!1;return}if(this.connection.state===or.Disconnected){this.isConnected=!1;return}if(this.connection.state!==or.Disconnecting){this.stopPromise=this._performStop();try{await this.stopPromise}finally{this.stopPromise=null}}}async _performStop(){if(this.connection)try{await this.connection.stop(),console.log("SignalR connection stopped")}catch(d){console.warn("Error stopping SignalR connection:",d)}finally{this.isConnected=!1,this.stopConnectionHealthCheck()}}onEmailStatusUpdated(d){this.connection&&this.connection.on("EmailStatusUpdated",d)}offEmailStatusUpdated(d){this.connection&&this.connection.off("EmailStatusUpdated",d)}onNotificationReceived(d){this.connection&&this.connection.on("NotificationReceived",d)}offNotificationReceived(d){this.connection&&this.connection.off("NotificationReceived",d)}getConnectionState(){return this.connection?.state||or.Disconnected}isConnectionActive(){return this.isConnected&&this.connection?.state===or.Connected}async joinUserGroup(d){if(this.connection&&this.isConnected)try{await this.connection.invoke("JoinGroup",`user_${d}`),console.log(`✅ [SIGNALR] Joined user group: user_${d}`)}catch(e){console.error(`❌ [SIGNALR] Failed to join user group: user_${d}`,e)}}async leaveUserGroup(d){if(this.connection&&this.isConnected)try{await this.connection.invoke("LeaveGroup",`user_${d}`),console.log(`✅ [SIGNALR] Left user group: user_${d}`)}catch(e){console.error(`❌ [SIGNALR] Failed to leave user group: user_${d}`,e)}}startConnectionHealthCheck(){this.connectionCheckInterval&&clearInterval(this.connectionCheckInterval),this.connectionCheckInterval=setInterval(()=>{this.connection&&this.connection.state!==or.Connected&&(console.log("🔄 [SIGNALR] Connection lost, attempting to reconnect..."),this.isConnected=!1,this.handleReconnection())},3e4)}stopConnectionHealthCheck(){this.connectionCheckInterval&&(clearInterval(this.connectionCheckInterval),this.connectionCheckInterval=null)}addListener(d){this.activeListeners.add(d),console.log(`📝 [SIGNALR] Added listener: ${d}, total: ${this.activeListeners.size}`)}removeListener(d){this.activeListeners.delete(d),console.log(`📝 [SIGNALR] Removed listener: ${d}, total: ${this.activeListeners.size}`),this.activeListeners.size===0&&(console.log("📝 [SIGNALR] No more listeners, stopping connection"),this.stop())}hasActiveListeners(){return this.activeListeners.size>0}}const ur=new __;function S_(_){if(typeof document>"u")return;let d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",d.appendChild(e),e.styleSheet?e.styleSheet.cssText=_:e.appendChild(document.createTextNode(_))}const k_=_=>{switch(_){case"success":return j_;case"info":return T_;case"warning":return C_;case"error":return A_;default:return null}},N_=Array(12).fill(0),E_=({visible:_,className:d})=>Be.createElement("div",{className:["sonner-loading-wrapper",d].filter(Boolean).join(" "),"data-visible":_},Be.createElement("div",{className:"sonner-spinner"},N_.map((e,h)=>Be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${h}`})))),j_=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C_=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),T_=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),A_=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R_=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),M_=()=>{const[_,d]=Be.useState(document.hidden);return Be.useEffect(()=>{const e=()=>{d(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),_};let Id=1;class I_{constructor(){this.subscribe=d=>(this.subscribers.push(d),()=>{const e=this.subscribers.indexOf(d);this.subscribers.splice(e,1)}),this.publish=d=>{this.subscribers.forEach(e=>e(d))},this.addToast=d=>{this.publish(d),this.toasts=[...this.toasts,d]},this.create=d=>{var e;const{message:h,...m}=d,c=typeof d?.id=="number"||((e=d.id)==null?void 0:e.length)>0?d.id:Id++,s=this.toasts.find(r=>r.id===c),i=d.dismissible===void 0?!0:d.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),s?this.toasts=this.toasts.map(r=>r.id===c?(this.publish({...r,...d,id:c,title:h}),{...r,...d,id:c,dismissible:i,title:h}):r):this.addToast({title:h,...m,dismissible:i,id:c}),c},this.dismiss=d=>(d?(this.dismissedToasts.add(d),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:d,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(h=>h({id:e.id,dismiss:!0}))}),d),this.message=(d,e)=>this.create({...e,message:d}),this.error=(d,e)=>this.create({...e,message:d,type:"error"}),this.success=(d,e)=>this.create({...e,type:"success",message:d}),this.info=(d,e)=>this.create({...e,type:"info",message:d}),this.warning=(d,e)=>this.create({...e,type:"warning",message:d}),this.loading=(d,e)=>this.create({...e,type:"loading",message:d}),this.promise=(d,e)=>{if(!e)return;let h;e.loading!==void 0&&(h=this.create({...e,promise:d,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const m=Promise.resolve(d instanceof Function?d():d);let c=h!==void 0,s;const i=m.then(async t=>{if(s=["resolve",t],Be.isValidElement(t))c=!1,this.create({id:h,type:"default",message:t});else if(D_(t)&&!t.ok){c=!1;const l=typeof e.error=="function"?await e.error(`HTTP error! status: ${t.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${t.status}`):e.description,g=typeof l=="object"&&!Be.isValidElement(l)?l:{message:l};this.create({id:h,type:"error",description:o,...g})}else if(t instanceof Error){c=!1;const l=typeof e.error=="function"?await e.error(t):e.error,o=typeof e.description=="function"?await e.description(t):e.description,g=typeof l=="object"&&!Be.isValidElement(l)?l:{message:l};this.create({id:h,type:"error",description:o,...g})}else if(e.success!==void 0){c=!1;const l=typeof e.success=="function"?await e.success(t):e.success,o=typeof e.description=="function"?await e.description(t):e.description,g=typeof l=="object"&&!Be.isValidElement(l)?l:{message:l};this.create({id:h,type:"success",description:o,...g})}}).catch(async t=>{if(s=["reject",t],e.error!==void 0){c=!1;const n=typeof e.error=="function"?await e.error(t):e.error,l=typeof e.description=="function"?await e.description(t):e.description,a=typeof n=="object"&&!Be.isValidElement(n)?n:{message:n};this.create({id:h,type:"error",description:l,...a})}}).finally(()=>{c&&(this.dismiss(h),h=void 0),e.finally==null||e.finally.call(e)}),r=()=>new Promise((t,n)=>i.then(()=>s[0]==="reject"?n(s[1]):t(s[1])).catch(n));return typeof h!="string"&&typeof h!="number"?{unwrap:r}:Object.assign(h,{unwrap:r})},this.custom=(d,e)=>{const h=e?.id||Id++;return this.create({jsx:d(h),id:h,...e}),h},this.getActiveToasts=()=>this.toasts.filter(d=>!this.dismissedToasts.has(d.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pn=new I_,P_=(_,d)=>{const e=d?.id||Id++;return pn.addToast({title:_,...d,id:e}),e},D_=_=>_&&typeof _=="object"&&"ok"in _&&typeof _.ok=="boolean"&&"status"in _&&typeof _.status=="number",O_=P_,L_=()=>pn.toasts,F_=()=>pn.getActiveToasts(),It=Object.assign(O_,{success:pn.success,info:pn.info,warning:pn.warning,error:pn.error,custom:pn.custom,message:pn.message,promise:pn.promise,dismiss:pn.dismiss,loading:pn.loading},{getHistory:L_,getToasts:F_});S_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Fl(_){return _.label!==void 0}const B_=3,z_="24px",$_="16px",Pm=4e3,U_=356,H_=14,V_=45,W_=200;function gs(..._){return _.filter(Boolean).join(" ")}function q_(_){const[d,e]=_.split("-"),h=[];return d&&h.push(d),e&&h.push(e),h}const X_=_=>{var d,e,h,m,c,s,i,r,t;const{invert:n,toast:l,unstyled:o,interacting:a,setHeights:g,visibleToasts:b,heights:f,index:v,toasts:x,expanded:j,removeToast:C,defaultRichColors:M,closeButton:$,style:V,cancelButtonStyle:B,actionButtonStyle:U,className:q="",descriptionClassName:Y="",duration:W,position:R,gap:D,expandByDefault:E,classNames:w,icons:k,closeButtonAriaLabel:S="Close toast"}=_,[N,A]=Be.useState(null),[P,L]=Be.useState(null),[X,K]=Be.useState(!1),[te,z]=Be.useState(!1),[Q,O]=Be.useState(!1),[I,H]=Be.useState(!1),[ee,ne]=Be.useState(!1),[re,oe]=Be.useState(0),[he,pe]=Be.useState(0),ie=Be.useRef(l.duration||W||Pm),ue=Be.useRef(null),de=Be.useRef(null),ve=v===0,le=v+1<=b,ge=l.type,Ne=l.dismissible!==!1,je=l.className||"",Re=l.descriptionClassName||"",$e=Be.useMemo(()=>f.findIndex(Ge=>Ge.toastId===l.id)||0,[f,l.id]),He=Be.useMemo(()=>{var Ge;return(Ge=l.closeButton)!=null?Ge:$},[l.closeButton,$]),Le=Be.useMemo(()=>l.duration||W||Pm,[l.duration,W]),ot=Be.useRef(0),Ze=Be.useRef(0),Je=Be.useRef(0),rt=Be.useRef(null),[qe,Fe]=R.split("-"),Xe=Be.useMemo(()=>f.reduce((Ge,gt,Ye)=>Ye>=$e?Ge:Ge+gt.height,0),[f,$e]),nt=M_(),Ke=l.invert||n,_t=ge==="loading";Ze.current=Be.useMemo(()=>$e*D+Xe,[$e,Xe]),Be.useEffect(()=>{ie.current=Le},[Le]),Be.useEffect(()=>{K(!0)},[]),Be.useEffect(()=>{const Ge=de.current;if(Ge){const gt=Ge.getBoundingClientRect().height;return pe(gt),g(Ye=>[{toastId:l.id,height:gt,position:l.position},...Ye]),()=>g(Ye=>Ye.filter(xt=>xt.toastId!==l.id))}},[g,l.id]),Be.useLayoutEffect(()=>{if(!X)return;const Ge=de.current,gt=Ge.style.height;Ge.style.height="auto";const Ye=Ge.getBoundingClientRect().height;Ge.style.height=gt,pe(Ye),g(xt=>xt.find(Qe=>Qe.toastId===l.id)?xt.map(Qe=>Qe.toastId===l.id?{...Qe,height:Ye}:Qe):[{toastId:l.id,height:Ye,position:l.position},...xt])},[X,l.title,l.description,g,l.id,l.jsx,l.action,l.cancel]);const Rt=Be.useCallback(()=>{z(!0),oe(Ze.current),g(Ge=>Ge.filter(gt=>gt.toastId!==l.id)),setTimeout(()=>{C(l)},W_)},[l,C,g,Ze]);Be.useEffect(()=>{if(l.promise&&ge==="loading"||l.duration===1/0||l.type==="loading")return;let Ge;return j||a||nt?(()=>{if(Je.current<ot.current){const xt=new Date().getTime()-ot.current;ie.current=ie.current-xt}Je.current=new Date().getTime()})():(()=>{ie.current!==1/0&&(ot.current=new Date().getTime(),Ge=setTimeout(()=>{l.onAutoClose==null||l.onAutoClose.call(l,l),Rt()},ie.current))})(),()=>clearTimeout(Ge)},[j,a,l,ge,nt,Rt]),Be.useEffect(()=>{l.delete&&(Rt(),l.onDismiss==null||l.onDismiss.call(l,l))},[Rt,l.delete]);function ht(){var Ge;if(k?.loading){var gt;return Be.createElement("div",{className:gs(w?.loader,l==null||(gt=l.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":ge==="loading"},k.loading)}return Be.createElement(E_,{className:gs(w?.loader,l==null||(Ge=l.classNames)==null?void 0:Ge.loader),visible:ge==="loading"})}const Lt=l.icon||k?.[ge]||k_(ge);var Mt,yt;return Be.createElement("li",{tabIndex:0,ref:de,className:gs(q,je,w?.toast,l==null||(d=l.classNames)==null?void 0:d.toast,w?.default,w?.[ge],l==null||(e=l.classNames)==null?void 0:e[ge]),"data-sonner-toast":"","data-rich-colors":(Mt=l.richColors)!=null?Mt:M,"data-styled":!(l.jsx||l.unstyled||o),"data-mounted":X,"data-promise":!!l.promise,"data-swiped":ee,"data-removed":te,"data-visible":le,"data-y-position":qe,"data-x-position":Fe,"data-index":v,"data-front":ve,"data-swiping":Q,"data-dismissible":Ne,"data-type":ge,"data-invert":Ke,"data-swipe-out":I,"data-swipe-direction":P,"data-expanded":!!(j||E&&X),"data-testid":l.testId,style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${te?re:Ze.current}px`,"--initial-height":E?"auto":`${he}px`,...V,...l.style},onDragEnd:()=>{O(!1),A(null),rt.current=null},onPointerDown:Ge=>{Ge.button!==2&&(_t||!Ne||(ue.current=new Date,oe(Ze.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(O(!0),rt.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,gt,Ye;if(I||!Ne)return;rt.current=null;const xt=Number(((Ge=de.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vt=Number(((gt=de.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qe=new Date().getTime()-((Ye=ue.current)==null?void 0:Ye.getTime()),wt=N==="x"?xt:Vt,Wt=Math.abs(wt)/Qe;if(Math.abs(wt)>=V_||Wt>.11){oe(Ze.current),l.onDismiss==null||l.onDismiss.call(l,l),L(N==="x"?xt>0?"right":"left":Vt>0?"down":"up"),Rt(),H(!0);return}else{var ut,me;(ut=de.current)==null||ut.style.setProperty("--swipe-amount-x","0px"),(me=de.current)==null||me.style.setProperty("--swipe-amount-y","0px")}ne(!1),O(!1),A(null)},onPointerMove:Ge=>{var gt,Ye,xt;if(!rt.current||!Ne||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const Qe=Ge.clientY-rt.current.y,wt=Ge.clientX-rt.current.x;var Wt;const ut=(Wt=_.swipeDirections)!=null?Wt:q_(R);!N&&(Math.abs(wt)>1||Math.abs(Qe)>1)&&A(Math.abs(wt)>Math.abs(Qe)?"x":"y");let me={x:0,y:0};const ae=ye=>1/(1.5+Math.abs(ye)/20);if(N==="y"){if(ut.includes("top")||ut.includes("bottom"))if(ut.includes("top")&&Qe<0||ut.includes("bottom")&&Qe>0)me.y=Qe;else{const ye=Qe*ae(Qe);me.y=Math.abs(ye)<Math.abs(Qe)?ye:Qe}}else if(N==="x"&&(ut.includes("left")||ut.includes("right")))if(ut.includes("left")&&wt<0||ut.includes("right")&&wt>0)me.x=wt;else{const ye=wt*ae(wt);me.x=Math.abs(ye)<Math.abs(wt)?ye:wt}(Math.abs(me.x)>0||Math.abs(me.y)>0)&&ne(!0),(Ye=de.current)==null||Ye.style.setProperty("--swipe-amount-x",`${me.x}px`),(xt=de.current)==null||xt.style.setProperty("--swipe-amount-y",`${me.y}px`)}},He&&!l.jsx&&ge!=="loading"?Be.createElement("button",{"aria-label":S,"data-disabled":_t,"data-close-button":!0,onClick:_t||!Ne?()=>{}:()=>{Rt(),l.onDismiss==null||l.onDismiss.call(l,l)},className:gs(w?.closeButton,l==null||(h=l.classNames)==null?void 0:h.closeButton)},(yt=k?.close)!=null?yt:R_):null,(ge||l.icon||l.promise)&&l.icon!==null&&(k?.[ge]!==null||l.icon)?Be.createElement("div",{"data-icon":"",className:gs(w?.icon,l==null||(m=l.classNames)==null?void 0:m.icon)},l.promise||l.type==="loading"&&!l.icon?l.icon||ht():null,l.type!=="loading"?Lt:null):null,Be.createElement("div",{"data-content":"",className:gs(w?.content,l==null||(c=l.classNames)==null?void 0:c.content)},Be.createElement("div",{"data-title":"",className:gs(w?.title,l==null||(s=l.classNames)==null?void 0:s.title)},l.jsx?l.jsx:typeof l.title=="function"?l.title():l.title),l.description?Be.createElement("div",{"data-description":"",className:gs(Y,Re,w?.description,l==null||(i=l.classNames)==null?void 0:i.description)},typeof l.description=="function"?l.description():l.description):null),Be.isValidElement(l.cancel)?l.cancel:l.cancel&&Fl(l.cancel)?Be.createElement("button",{"data-button":!0,"data-cancel":!0,style:l.cancelButtonStyle||B,onClick:Ge=>{Fl(l.cancel)&&Ne&&(l.cancel.onClick==null||l.cancel.onClick.call(l.cancel,Ge),Rt())},className:gs(w?.cancelButton,l==null||(r=l.classNames)==null?void 0:r.cancelButton)},l.cancel.label):null,Be.isValidElement(l.action)?l.action:l.action&&Fl(l.action)?Be.createElement("button",{"data-button":!0,"data-action":!0,style:l.actionButtonStyle||U,onClick:Ge=>{Fl(l.action)&&(l.action.onClick==null||l.action.onClick.call(l.action,Ge),!Ge.defaultPrevented&&Rt())},className:gs(w?.actionButton,l==null||(t=l.classNames)==null?void 0:t.actionButton)},l.action.label):null)};function Dm(){if(typeof window>"u"||typeof document>"u")return"ltr";const _=document.documentElement.getAttribute("dir");return _==="auto"||!_?window.getComputedStyle(document.documentElement).direction:_}function G_(_,d){const e={};return[_,d].forEach((h,m)=>{const c=m===1,s=c?"--mobile-offset":"--offset",i=c?$_:z_;function r(t){["top","right","bottom","left"].forEach(n=>{e[`${s}-${n}`]=typeof t=="number"?`${t}px`:t})}typeof h=="number"||typeof h=="string"?r(h):typeof h=="object"?["top","right","bottom","left"].forEach(t=>{h[t]===void 0?e[`${s}-${t}`]=i:e[`${s}-${t}`]=typeof h[t]=="number"?`${h[t]}px`:h[t]}):r(i)}),e}const K_=Be.forwardRef(function(d,e){const{id:h,invert:m,position:c="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:r,className:t,offset:n,mobileOffset:l,theme:o="light",richColors:a,duration:g,style:b,visibleToasts:f=B_,toastOptions:v,dir:x=Dm(),gap:j=H_,icons:C,containerAriaLabel:M="Notifications"}=d,[$,V]=Be.useState([]),B=Be.useMemo(()=>h?$.filter(X=>X.toasterId===h):$.filter(X=>!X.toasterId),[$,h]),U=Be.useMemo(()=>Array.from(new Set([c].concat(B.filter(X=>X.position).map(X=>X.position)))),[B,c]),[q,Y]=Be.useState([]),[W,R]=Be.useState(!1),[D,E]=Be.useState(!1),[w,k]=Be.useState(o!=="system"?o:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),S=Be.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Be.useRef(null),P=Be.useRef(!1),L=Be.useCallback(X=>{V(K=>{var te;return(te=K.find(z=>z.id===X.id))!=null&&te.delete||pn.dismiss(X.id),K.filter(({id:z})=>z!==X.id)})},[]);return Be.useEffect(()=>pn.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{V(K=>K.map(te=>te.id===X.id?{...te,delete:!0}:te))});return}setTimeout(()=>{p0.flushSync(()=>{V(K=>{const te=K.findIndex(z=>z.id===X.id);return te!==-1?[...K.slice(0,te),{...K[te],...X},...K.slice(te+1)]:[X,...K]})})})}),[$]),Be.useEffect(()=>{if(o!=="system"){k(o);return}if(o==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:K})=>{k(K?"dark":"light")})}catch{X.addListener(({matches:te})=>{try{k(te?"dark":"light")}catch(z){console.error(z)}})}},[o]),Be.useEffect(()=>{$.length<=1&&R(!1)},[$]),Be.useEffect(()=>{const X=K=>{var te;if(s.every(O=>K[O]||K.code===O)){var Q;R(!0),(Q=S.current)==null||Q.focus()}K.code==="Escape"&&(document.activeElement===S.current||(te=S.current)!=null&&te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),Be.useEffect(()=>{if(S.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,P.current=!1)}},[S.current]),Be.createElement("section",{ref:e,"aria-label":`${M} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((X,K)=>{var te;const[z,Q]=X.split("-");return B.length?Be.createElement("ol",{key:X,dir:x==="auto"?Dm():x,tabIndex:-1,ref:S,className:t,"data-sonner-toaster":!0,"data-sonner-theme":w,"data-y-position":z,"data-x-position":Q,style:{"--front-toast-height":`${((te=q[0])==null?void 0:te.height)||0}px`,"--width":`${U_}px`,"--gap":`${j}px`,...b,...G_(n,l)},onBlur:O=>{P.current&&!O.currentTarget.contains(O.relatedTarget)&&(P.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||P.current||(P.current=!0,A.current=O.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onDragEnd:()=>R(!1),onPointerDown:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},B.filter(O=>!O.position&&K===0||O.position===X).map((O,I)=>{var H,ee;return Be.createElement(X_,{key:O.id,icons:C,index:I,toast:O,defaultRichColors:a,duration:(H=v?.duration)!=null?H:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:m,visibleToasts:f,closeButton:(ee=v?.closeButton)!=null?ee:r,interacting:D,position:X,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:L,toasts:B.filter(ne=>ne.position==O.position),heights:q.filter(ne=>ne.position==O.position),setHeights:Y,expandByDefault:i,gap:j,expanded:W,swipeDirections:d.swipeDirections})})):null}))});function ui({className:_,children:d,...e}){return p.jsx("div",{className:Et("animate-pulse rounded-md bg-muted",_),...e,children:d})}function Y_({items:_=3}){return p.jsx("div",{className:"space-y-3",children:Array.from({length:_}).map((d,e)=>p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(ui,{className:"h-10 w-10 rounded-full"}),p.jsxs("div",{className:"space-y-2 flex-1",children:[p.jsx(ui,{className:"h-4 w-3/4"}),p.jsx(ui,{className:"h-3 w-1/2"})]})]},e))})}function Z_(){return p.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[p.jsx(ui,{className:"h-4 w-4 rounded-full"}),p.jsxs("div",{className:"space-y-2 flex-1",children:[p.jsx(ui,{className:"h-4 w-1/3"}),p.jsx(ui,{className:"h-3 w-2/3"}),p.jsx(ui,{className:"h-3 w-1/4"})]}),p.jsx(ui,{className:"h-2 w-2 rounded-full"})]})}function J_({onNavigateToTab:_}){const[d,e]=Z.useState([]),[h,m]=Z.useState(0),[c,s]=Z.useState(!1),[i,r]=Z.useState(!1),{user:t}=Cn();Z.useEffect(()=>t?.id?((async()=>{try{console.log("🔔 [NOTIFICATION_DROPDOWN] Initializing SignalR connection"),await ur.start(),console.log("✅ [NOTIFICATION_DROPDOWN] SignalR connection started successfully"),ur.onEmailStatusUpdated(M=>{console.log("📧 [NOTIFICATION_DROPDOWN] Received email status update:",M),n(M)}),console.log("👂 [NOTIFICATION_DROPDOWN] SignalR listener registered for email status updates"),t?.id&&await ur.joinUserGroup(t.id)}catch(M){console.error("❌ [NOTIFICATION_DROPDOWN] Failed to initialize SignalR for notifications:",M)}})(),()=>{ur.offEmailStatusUpdated()}):void 0,[t?.id]);const n=C=>{if(console.log("📝 [NOTIFICATION_DROPDOWN] Adding email status notification:",C),C.status==="pending"){console.log("📝 [NOTIFICATION_DROPDOWN] Skipping notification for status:",C.status);return}const M={id:`email-${C.emailJobId}-${C.status}-${Date.now()}`,title:l(C.status),message:o(C.status,C.employeeName||"Unknown"),type:a(C.status),timestamp:new Date(C.timestamp),isRead:!1,emailJobId:C.emailJobId,letterTypeDefinitionId:C.letterTypeDefinitionId,employeeName:C.employeeName};console.log("📋 [NOTIFICATION_DROPDOWN] Created notification item:",M),e(V=>{const B=V.filter(q=>!(q.emailJobId===C.emailJobId&&q.type===M.type)),U=[M,...B].slice(0,10);return console.log("📊 [NOTIFICATION_DROPDOWN] Updated notifications count:",U.length),U}),m(V=>{const B=V+1;return console.log("🔢 [NOTIFICATION_DROPDOWN] Updated unread count:",B),B});const $=o(C.status,C.employeeName||"employee");C.status==="sent"?It.success(`📧 ${$}`):C.status==="delivered"?It.success(`✅ ${$}`):C.status==="bounced"||C.status==="dropped"?It.error(`❌ ${$}`):It.info(`ℹ️ ${$}`)},l=C=>{switch(C){case"sent":return"Email Sent";case"delivered":return"Email Delivered";case"opened":return"Email Opened";case"clicked":return"Email Clicked";case"bounced":return"Email Bounced";case"dropped":return"Email Dropped";case"failed":return"Email Failed";default:return"Email Update"}},o=(C,M)=>{switch(C){case"sent":return`Email sent to ${M}`;case"delivered":return`Email delivered to ${M}`;case"opened":return`${M} opened the email`;case"clicked":return`${M} clicked a link in the email`;case"bounced":return`Email bounced for ${M}`;case"dropped":return`Email dropped for ${M}`;case"failed":return`Email failed to send to ${M}`;default:return`Email status updated for ${M}`}},a=C=>{switch(C){case"sent":return"email_sent";case"delivered":return"email_delivered";case"opened":return"email_opened";case"clicked":return"email_clicked";case"bounced":return"email_bounced";case"dropped":return"email_dropped";case"failed":return"error";default:return"email_sent"}},g=C=>{switch(C){case"email_sent":return p.jsx(Ur,{className:"h-4 w-4 text-blue-500"});case"email_delivered":return p.jsx(en,{className:"h-4 w-4 text-green-500"});case"email_opened":return p.jsx(Un,{className:"h-4 w-4 text-purple-500"});case"email_clicked":return p.jsx(en,{className:"h-4 w-4 text-indigo-500"});case"email_bounced":return p.jsx(sn,{className:"h-4 w-4 text-red-500"});case"email_dropped":return p.jsx(sn,{className:"h-4 w-4 text-orange-500"});case"error":return p.jsx(sn,{className:"h-4 w-4 text-red-500"});default:return p.jsx(Ur,{className:"h-4 w-4 text-gray-500"})}},b=C=>{e(M=>M.map($=>$.id===C?{...$,isRead:!0}:$)),m(M=>Math.max(0,M-1))},f=C=>{console.log("🔔 [NOTIFICATION_DROPDOWN] Notification clicked:",C),console.log("🔔 [NOTIFICATION_DROPDOWN] LetterTypeDefinitionId:",C.letterTypeDefinitionId),console.log("🔔 [NOTIFICATION_DROPDOWN] EmailJobId:",C.emailJobId),console.log("🔔 [NOTIFICATION_DROPDOWN] onNavigateToTab function:",_),b(C.id),C.letterTypeDefinitionId&&_?(console.log("🔔 [NOTIFICATION_DROPDOWN] Calling onNavigateToTab with:",C.letterTypeDefinitionId,C.emailJobId),_(C.letterTypeDefinitionId,C.emailJobId),s(!1),console.log("🔔 [NOTIFICATION_DROPDOWN] Navigation called, dropdown closed")):console.log("🔔 [NOTIFICATION_DROPDOWN] Cannot navigate - missing letterTypeDefinitionId or onNavigateToTab function")},v=()=>{e(C=>C.map(M=>({...M,isRead:!0}))),m(0)},x=()=>{e([]),m(0)},j=C=>{const $=Math.floor((new Date().getTime()-C.getTime())/1e3);return $<60?"Just now":$<3600?`${Math.floor($/60)}m ago`:$<86400?`${Math.floor($/3600)}h ago`:`${Math.floor($/86400)}d ago`};return p.jsxs(lf,{open:c,onOpenChange:s,children:[p.jsx(xc,{asChild:!0,children:p.jsxs(Ve,{variant:"ghost",size:"sm",className:"hover:text-blue-600 relative",children:[p.jsx(Yp,{className:`h-4 w-4 ${h>0?"animate-pulse":""}`}),h>0&&p.jsx(Jt,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 bg-pink-500 border-0 text-xs flex items-center justify-center animate-bounce",children:h>99?"99+":h})]})}),p.jsx(wc,{align:"end",className:"w-80 p-0",children:p.jsxs(et,{className:"border-0 shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[p.jsx("h3",{className:"font-semibold",children:"Notifications"}),p.jsxs("div",{className:"flex items-center gap-2",children:[h>0&&p.jsx(Ve,{variant:"ghost",size:"sm",onClick:v,className:"text-xs h-6 px-2",children:"Mark all read"}),d.length>0&&p.jsx(Ve,{variant:"ghost",size:"sm",onClick:x,className:"text-xs h-6 px-2 text-red-500 hover:text-red-700",children:"Clear all"})]})]}),p.jsx(tt,{className:"p-0",children:p.jsx(mn,{className:"h-96",children:i?p.jsx("div",{className:"space-y-1 p-2",children:Array.from({length:3}).map((C,M)=>p.jsx(Z_,{},M))}):d.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Yp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Notifications"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Email status updates will appear here."})]}):p.jsx("div",{className:"space-y-1",children:d.map(C=>p.jsx("div",{className:`p-3 hover:bg-muted/50 cursor-pointer transition-colors group ${C.isRead?"":"bg-blue-50/50 border-l-2 border-l-blue-500"}`,onClick:()=>f(C),children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g(C.type)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium text-sm",children:C.title}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-muted-foreground",children:j(C.timestamp)}),C.letterTypeDefinitionId&&p.jsx(Gv,{className:"h-3 w-3 text-muted-foreground group-hover:text-blue-500 transition-colors"})]})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),C.letterTypeDefinitionId&&p.jsx("p",{className:"text-xs text-blue-600 mt-1 group-hover:text-blue-700",children:"Click to view in history"})]}),!C.isRead&&p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},C.id))})})})]})})]})}function Q_({activeModule:_,onModuleChange:d,currentUser:e,onNavigateToWelcome:h,onNavigateToTab:m}){const{logout:c}=Cn(),{isDarkMode:s,toggleTheme:i}=uv(),{isMobile:r}=Bg(),[t,n]=Z.useState(!1),l=()=>{switch(e.role){case"admin":return p.jsx(Eo,{className:"h-4 w-4"});case"er":return p.jsx(Pr,{className:"h-4 w-4"});case"billing":return p.jsx(Wl,{className:"h-4 w-4"});default:return p.jsx(Pr,{className:"h-4 w-4"})}};return p.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 glass-panel border-b",children:p.jsxs("div",{className:"flex items-center justify-between h-full px-4 md:px-6",children:[p.jsx("div",{className:"flex items-center space-x-2 md:space-x-4",children:p.jsxs("button",{onClick:h,className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[p.jsx("div",{className:"w-8 h-8 gradient-bg rounded-lg flex items-center justify-center",children:p.jsx("span",{className:"text-white font-bold",children:"D"})}),p.jsx("h1",{className:"text-lg md:text-xl font-bold text-blue-600",children:"DocHub"})]})}),e.permissions.canAccessER&&e.permissions.canAccessBilling&&!r&&p.jsxs("div",{className:"flex items-center space-x-1 glass-panel rounded-lg p-1",children:[p.jsx(Ve,{variant:_==="er"?"default":"ghost",size:"sm",onClick:()=>d("er"),className:`relative transition-all duration-300 ${_==="er"?"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900":"hover:bg-muted"}`,children:"Employee Relations"}),p.jsx(Ve,{variant:_==="billing"?"default":"ghost",size:"sm",onClick:()=>d("billing"),className:`relative transition-all duration-300 ${_==="billing"?"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900":"hover:bg-muted"}`,children:"Billing & Timesheet"})]}),!(e.permissions.canAccessER&&e.permissions.canAccessBilling)&&!r&&p.jsx("div",{className:"flex items-center space-x-2 glass-panel rounded-lg px-4 py-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[l(),p.jsx("span",{className:"font-medium",children:e.permissions.canAccessER?"Employee Relations":"Billing & Timesheet"})]})}),p.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[p.jsx(Ve,{variant:"ghost",size:"sm",onClick:i,className:"hover:text-blue-600",children:s?p.jsx(Nx,{className:"h-4 w-4"}):p.jsx(dx,{className:"h-4 w-4"})}),p.jsx(J_,{onNavigateToTab:m}),p.jsxs(lf,{children:[p.jsx(xc,{asChild:!0,children:p.jsxs(Ve,{variant:"ghost",size:"sm",className:"hover:text-blue-600",children:[l(),p.jsx("span",{className:"ml-2 hidden md:inline",children:e.name}),e.permissions.isAdmin&&p.jsx(Jt,{className:"ml-2 bg-red-500/20 text-red-400 border-red-500/30 text-xs",children:"Admin"})]})}),p.jsxs(wc,{align:"end",className:"glass-panel border-glass-border",children:[p.jsxs("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:["Signed in as ",p.jsx("span",{className:"font-medium text-foreground",children:e.username})]}),p.jsx(jm,{}),p.jsxs(Ai,{className:"hover:bg-muted",children:[p.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Profile"]}),p.jsxs(Ai,{className:"hover:bg-muted",children:[p.jsx(n0,{className:"mr-2 h-4 w-4"}),"Settings"]}),p.jsx(jm,{}),p.jsxs(Ai,{className:"hover:bg-destructive hover:text-destructive-foreground",onClick:c,children:[p.jsx(ox,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})}class e5{templates=[];activeRequest=null;signatures=[{id:"ceo_signature",name:"CEO Signature",imageUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjFGNUY5Ii8+CjxwYXRoIGQ9Ik0xMDAgNDBMMTA0IDQ0TDEwMCA0OEw5NiA0NFoiIGZpbGw9IiM5Q0E5QjQiLz4KPHN0cm9rZSB3aWR0aD0iMiIgc3Ryb2tlPSIjOUNBOUI0IiBkPSJNODAgNDBIMTIwIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzlDQTlCNCI+Q0VPIFNpZ25hdHVyZTwvdGV4dD4KPC9zdmc+Cg==",description:"CEO Digital Signature",createdAt:new Date("2024-01-01")},{id:"hr_signature",name:"HR Manager Signature",imageUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjFGNUY5Ii8+CjxwYXRoIGQ9Ik0xMDAgNDBMMTA0IDQ0TDEwMCA0OEw5NiA0NFoiIGZpbGw9IiM5Q0E5QjQiLz4KPHN0cm9rZSB3aWR0aD0iMiIgc3Ryb2tlPSIjOUNBOUI0IiBkPSJNODAgNDBIMTIwIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzlDQTlCNCI+SFIgU2lnbmF0dXJlPC90ZXh0Pgo8L3N2Zz4K",description:"HR Manager Digital Signature",createdAt:new Date("2024-01-01")}];async getTabs(){const d="tabs_all",e=br.get(d);if(e)return console.log("📦 [TAB-SERVICE] Returning cached tabs:",e.length),e;if(this.activeRequest)return this.activeRequest;this.activeRequest=this.fetchTabsFromAPI();try{const h=await this.activeRequest;return br.set(d,h,120*1e3),h}finally{this.activeRequest=null}}clearCache(){br.invalidatePattern("tabs_")}async fetchTabsFromAPI(){try{const d=await Nt.getLetterTypeDefinitions();if(d.success||d.Success){const e=d.data||d.Data||[];let h=e;if(!Array.isArray(e)&&typeof e=="object")if(Array.isArray(e.items))h=e.items;else if(Array.isArray(e.data))h=e.data;else if(Array.isArray(e.results))h=e.results;else if(Array.isArray(e.$values))h=e.$values;else return[];return Array.isArray(h)?h.map(m=>({id:m.Id||m.id,name:m.DisplayName||m.displayName,description:m.Description||m.description,letterType:m.TypeKey||m.typeKey,isActive:m.IsActive===1||m.IsActive===!0||m.isActive===!0,fieldConfiguration:m.fieldConfiguration,createdAt:m.CreatedAt||m.createdAt,updatedAt:m.UpdatedAt||m.updatedAt,metadata:{templateConfig:m.fieldConfiguration?JSON.parse(m.fieldConfiguration):{},customFields:m.Fields||m.fields||[]},letterTypeDefinition:m,fields:m.Fields||m.fields||[]})):[]}else return[]}catch(d){return console.error("Failed to load tabs:",d),[]}}async getActiveTabs(){const d="tabs_active",e=br.get(d);if(e)return console.log("📦 [TAB-SERVICE] Returning cached active tabs:",e.length),e;try{const m=(await this.getTabs()).filter(c=>c.isActive);return br.set(d,m,60*1e3),m}catch(h){return console.error("Failed to load active tabs:",h),[]}}async getActiveTabById(d){const e=`tab_${d}`,h=br.get(e);if(h)return console.log("📦 [TAB-SERVICE] Returning cached tab:",h.name),h;try{console.log("🔍 [TAB-SERVICE] Getting tab by ID:",d);const m=await this.getAllTabs();console.log("📊 [TAB-SERVICE] All tabs loaded:",m.length);const c=m.find(i=>i.id===d);if(c&&c.isActive)return console.log("✅ [TAB-SERVICE] Found active tab in list:",c.name),br.set(e,c,300*1e3),c;console.log("🔄 [TAB-SERVICE] Tab not found in filtered list, trying direct API call...");const s=await Nt.getLetterTypeDefinition(d);if(s.success&&s.data){const i=s.data,r=i.IsActive===1||i.IsActive===!0||i.isActive===!0;if(r){const t={id:i.Id||i.id,name:i.DisplayName||i.displayName,description:i.Description||i.description,letterType:i.TypeKey||i.typeKey,isActive:r,department:i.Department||"ER",fieldConfiguration:i.fieldConfiguration,createdAt:i.CreatedAt||i.createdAt,updatedAt:i.UpdatedAt||i.updatedAt,metadata:{templateConfig:i.FieldConfiguration||i.fieldConfiguration?JSON.parse(i.FieldConfiguration||i.fieldConfiguration):{},customFields:i.Fields||i.fields||[]},letterTypeDefinition:i,fields:i.Fields||i.fields||[]};return console.log("✅ [TAB-SERVICE] Found active tab via direct API call:",t.name),br.set(e,t,300*1e3),t}else console.log("❌ [TAB-SERVICE] Tab found but not active")}else console.log("❌ [TAB-SERVICE] API call failed or no data returned");return null}catch(m){return console.error("❌ [TAB-SERVICE] Failed to get tab by ID:",m),null}}async createTab(d){try{if((await this.getTabs()).find(i=>i.name.toLowerCase()===d.name.toLowerCase()))throw new Error(`A tab with the name "${d.name}" already exists`);const c={typeKey:`${d.letterType}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,displayName:d.name,description:d.description,dataSourceType:"Excel",fieldConfiguration:d.metadata?.templateConfig?JSON.stringify(d.metadata.templateConfig):void 0,isActive:d.isActive,module:"ER"},s=await Nt.createLetterTypeDefinition(c);if(s.success&&s.data){this.clearCache();const i=s.data;return{id:i.id,name:i.displayName,description:i.description,letterType:i.typeKey,isActive:i.isActive,createdAt:i.createdAt,updatedAt:i.updatedAt,metadata:{templateConfig:i.fieldConfiguration?JSON.parse(i.fieldConfiguration):{},customFields:i.fields||[]},letterTypeDefinition:i,fields:i.fields||[]}}throw new Error(s.error?.message||"Failed to create letter type")}catch(e){throw console.error("Failed to create tab:",e),e}}async updateTab(d,e){try{const h={};e.name&&(h.displayName=e.name),e.description&&(h.description=e.description),e.letterType&&(h.typeKey=e.letterType),e.isActive!==void 0&&(h.isActive=e.isActive),e.metadata?.templateConfig&&(h.fieldConfiguration=JSON.stringify(e.metadata.templateConfig));const m=await Nt.updateLetterTypeDefinition(d,h);if(m.success&&m.data){console.log("Updated letter type:",m.data.displayName),this.clearCache();const c=m.data;return{id:c.id,name:c.displayName,description:c.description,letterType:c.typeKey,isActive:c.isActive,createdAt:c.createdAt,updatedAt:c.updatedAt,metadata:{templateConfig:c.fieldConfiguration?JSON.parse(c.fieldConfiguration):{},customFields:c.fields||[]},letterTypeDefinition:c,fields:c.fields||[]}}return null}catch(h){return console.error("Failed to update tab:",h),null}}async deleteTab(d){try{return(await Nt.deleteLetterTypeDefinition(d)).success?(console.log("Deleted letter type with ID:",d),this.clearCache(),!0):!1}catch(e){return console.error("Failed to delete tab:",e),!1}}async permanentlyDeleteTab(d){try{return(await Nt.deleteDynamicTab(d)).success?(console.log("Permanently deleted tab:",d),!0):!1}catch(e){return console.error("Failed to permanently delete tab:",e),!1}}async getAllTabs(){try{console.log("🔍 [TAB-SERVICE] Calling getLetterTypeDefinitions API...");const d=await Nt.getLetterTypeDefinitions();if(console.log("📊 [TAB-SERVICE] API response:",d),d.success&&d.data&&Array.isArray(d.data)){console.log("📋 [TAB-SERVICE] Raw letter types:",d.data);const e=d.data.map(h=>({id:h.id,name:h.displayName,description:h.description,letterType:h.typeKey,isActive:h.isActive,department:h.department||"ER",createdAt:h.createdAt,updatedAt:h.updatedAt,fieldConfiguration:h.fieldConfiguration,metadata:{templateConfig:h.fieldConfiguration?JSON.parse(h.fieldConfiguration):{},customFields:h.fields||[]},letterTypeDefinition:h,fields:h.fields||[]}));return console.log("✅ [TAB-SERVICE] Mapped tabs:",e),e}return console.warn("No data received from getLetterTypeDefinitions API or data is not an array:",d),[]}catch(d){return console.error("Failed to load all tabs:",d),[]}}async reactivateTab(d){return this.updateTab(d,{isActive:!0})}async exportTabsData(){try{const d=await this.getAllTabs();return JSON.stringify(d,null,2)}catch(d){return console.error("Failed to export tabs data:",d),"[]"}}async importTabsData(d){try{const e=JSON.parse(d);for(const h of e)await this.createTab(h)}catch(e){throw console.error("Failed to import tabs data:",e),e}}async clearAllTabs(){try{const d=await this.getAllTabs();for(const e of d)await this.deleteTab(e.id)}catch(d){throw console.error("Failed to clear all tabs:",d),d}}async getTemplatesForTab(d){return new Promise(e=>{setTimeout(()=>{e([...this.templates])},300)})}async createTemplate(d){return new Promise(e=>{setTimeout(()=>{const h={...d,id:`template_${Date.now()}`,createdAt:new Date};this.templates.push(h),e(h)},500)})}async uploadTemplate(d,e){return new Promise((h,m)=>{setTimeout(()=>{if(d.type!=="text/plain"&&d.type!=="application/msword"&&d.type!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"){m(new Error("Invalid file type. Please upload a text or Word document."));return}const c=new FileReader;c.onload=s=>{const i=s.target?.result,r=this.extractPlaceholders(i),t={id:`template_${Date.now()}`,name:e||d.name,content:i,placeholders:r,createdAt:new Date};this.templates.push(t),h(t)},c.readAsText(d)},500)})}extractPlaceholders(d){const e=d.match(/\{\{([^}]+)\}\}/g);return e?[...new Set(e.map(h=>h.replace(/\{\{|\}\}/g,"")))]:[]}async getSignatures(){return new Promise(d=>{setTimeout(()=>d([...this.signatures]),300)})}async uploadSignature(d,e,h){return new Promise((m,c)=>{setTimeout(()=>{if(!d.type.startsWith("image/")){c(new Error("Invalid file type. Please upload an image file."));return}const s=URL.createObjectURL(d),i={id:`signature_${Date.now()}`,name:e||d.name,imageUrl:s,description:h,createdAt:new Date};this.signatures.push(i),m(i)},500)})}async getTabsByDepartment(d){const e=`tabs_department_${d}`,h=br.get(e);if(h)return console.log("📦 [TAB-SERVICE] Returning cached tabs for department:",d,h.length),h;try{console.log("🔍 [TAB-SERVICE] Getting tabs for department:",d);const m=await this.getAllTabs();console.log("📊 [TAB-SERVICE] All tabs received:",m);const c=m.filter(s=>s.department===d);return console.log("✅ [TAB-SERVICE] Filtered tabs for department:",c),br.set(e,c,120*1e3),c}catch(m){return console.error("Failed to get tabs by department:",m),[]}}async getActiveTabsByDepartment(d){try{return(await this.getActiveTabs()).filter(h=>h.department===d)}catch(e){return console.error("Failed to get active tabs by department:",e),[]}}}const ko=new e5;function t5({activeModule:_,activePage:d,onPageChange:e,currentUser:h}){const[m,c]=Z.useState([]),[s,i]=Z.useState(!0);Z.useEffect(()=>{let o=!0,a=0;const g=3e4;let b=!1;console.log("🔍 [SIDEBAR] Current user object:",h);const f=async()=>{if(b)return;const x=Date.now();if(!(x-a<g)){b=!0;try{const j=h.department||"ER";console.log("🔍 [SIDEBAR] Loading tabs for department:",j);const C=await ko.getTabsByDepartment(j);console.log("📊 [SIDEBAR] Raw tabs received:",C);const M=C.filter($=>$.isActive);console.log("✅ [SIDEBAR] Active tabs after filtering:",M),o&&(c(M),a=x)}catch(j){console.error("Failed to load dynamic tabs:",j)}finally{o&&i(!1),b=!1}}};f();const v=setInterval(f,6e4);return()=>{o=!1,clearInterval(v)}},[_]);let t=[...[{id:"dashboard",label:"Dashboard",icon:rx,isStatic:!0,category:"core"}]];_==="er"&&m.forEach(o=>{t.push({id:o.id,label:o.name,icon:lr,isStatic:!1,category:"letters"})}),h.permissions.isAdmin&&(t.push({id:"dynamic-letters",label:"Tab Management",icon:ex,isStatic:!0,category:"admin"}),t.push({id:"user-management",label:"User Management",icon:ga,isStatic:!0,category:"admin"}),t.push({id:"session-management",label:"Session Management",icon:Un,isStatic:!0,category:"admin"}));const l=t.reduce((o,a)=>{const g=a.category||"other";return o[g]||(o[g]=[]),o[g].push(a),o},{});return p.jsx("aside",{className:"fixed left-0 top-16 bottom-0 w-64 glass-panel border-r z-40 overflow-y-auto",children:p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("div",{className:"mb-4",children:p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Employee Relations"})}),p.jsxs("div",{className:"mb-4 p-3 glass-panel rounded-lg border-glass-border",children:[p.jsxs("div",{className:"text-xs text-muted-foreground",children:["Logged in as ",p.jsx("span",{className:"text-blue-600 font-medium",children:h.name})]}),p.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Role: ",p.jsx("span",{className:"capitalize text-foreground font-medium",children:h.role}),h.permissions.isAdmin&&p.jsx("span",{className:"ml-1 text-red-400",children:"• Admin"})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[l.core&&p.jsx("div",{className:"space-y-1",children:l.core.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600"),onClick:()=>e(o.id),children:[p.jsx(a,{className:"mr-3 h-4 w-4"}),o.label]},o.id)})}),l.letters&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"Letter Types"}),p.jsx(Jt,{variant:"outline",className:"text-xs h-5",children:l.letters.length})]}),p.jsx("div",{className:"space-y-1",children:s?p.jsx(Y_,{items:3}):l.letters.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300 group",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600 dark:hover:text-blue-400",!o.isStatic&&"border-l-2 border-transparent hover:border-blue-500/50"),onClick:()=>e(o.id),children:[p.jsx(a,{className:Et("mr-3 h-4 w-4",!o.isStatic&&"text-blue-600/70 group-hover:text-blue-600")}),p.jsx("span",{className:"truncate",children:o.label})]},o.id)})})]}),l.timesheet&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"Time Management"}),p.jsx(Jt,{variant:"outline",className:"text-xs h-5",children:l.timesheet.length})]}),p.jsx("div",{className:"space-y-1",children:l.timesheet.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>e(o.id),children:[p.jsx(a,{className:"mr-3 h-4 w-4"}),o.label]},o.id)})})]}),l.mail&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"Bulk Mail"}),p.jsx(Jt,{variant:"outline",className:"text-xs h-5",children:l.mail.length})]}),p.jsx("div",{className:"space-y-1",children:l.mail.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>e(o.id),children:[p.jsx(a,{className:"mr-3 h-4 w-4"}),o.label]},o.id)})})]}),l.logs&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"System Logs"}),p.jsx(Jt,{variant:"outline",className:"text-xs h-5",children:l.logs.length})]}),p.jsx("div",{className:"space-y-1",children:l.logs.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>e(o.id),children:[p.jsx(a,{className:"mr-3 h-4 w-4"}),o.label]},o.id)})})]}),l.admin&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"Administration"}),p.jsx(Jt,{variant:"outline",className:"text-xs h-5 bg-red-500/10 text-red-400 border-red-500/30",children:"Admin Only"})]}),p.jsx("div",{className:"space-y-1",children:l.admin.map(o=>{const a=o.icon,g=d===o.id;return p.jsxs(Ve,{variant:g?"default":"ghost",className:Et("w-full justify-start transition-all duration-300",g&&"neon-border-blue bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900",!g&&"hover:bg-muted hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>e(o.id),children:[p.jsx(a,{className:"mr-3 h-4 w-4"}),o.label]},o.id)})})]})]}),s&&_==="er"&&p.jsx("div",{className:"mt-4 p-3 glass-panel rounded-lg border-glass-border bg-orange-500/5",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-orange-400"}),p.jsx("div",{className:"text-xs text-orange-400",children:"Loading dynamic tabs..."})]})})]})})})}function Ir({className:_,type:d,...e}){return p.jsx("input",{type:d,"data-slot":"input",className:Et("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-2 border-gray-300 dark:border-gray-600 flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base bg-input-background transition-[color,box-shadow,border-color] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-blue-500 focus-visible:ring-blue-500/20 focus-visible:ring-2","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",_),...e})}var r5="Label",t1=Z.forwardRef((_,d)=>p.jsx(Pt.label,{..._,ref:d,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(_.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));t1.displayName=r5;var n5=t1;function qt({className:_,...d}){return p.jsx(n5,{"data-slot":"label",className:Et("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",_),...d})}function s5(){const[_,d]=Z.useState(""),[e,h]=Z.useState(""),[m,c]=Z.useState(""),{login:s,isLoading:i,error:r}=Cn(),t=async()=>{if(!_||!e){c("Please enter both email/username and password");return}c("");try{await s({emailOrUsername:_,password:e})}catch(l){c(l.message||"Login failed")}},n=m||r;return p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xl font-bold",children:"D"})}),p.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"DocHub"})]}),p.jsx("p",{className:"text-muted-foreground",children:"Welcome to DocHub - Your Document Management System"})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(Zp,{className:"h-5 w-5 text-blue-600"}),"Login"]}),p.jsx(Nr,{children:"Enter your credentials to access the system"})]}),p.jsxs(tt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"emailOrUsername",children:"Email or Username"}),p.jsx(Ir,{id:"emailOrUsername",placeholder:"Enter your email or username",value:_,onChange:l=>d(l.target.value),className:"glass-panel border-glass-border",disabled:i})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"password",children:"Password"}),p.jsx(Ir,{id:"password",type:"password",placeholder:"Enter your password",value:e,onChange:l=>h(l.target.value),className:"glass-panel border-glass-border",onKeyPress:l=>l.key==="Enter"&&!i&&t(),disabled:i})]}),n&&p.jsx("div",{className:"text-sm text-red-400 bg-red-500/10 border border-red-500/20 rounded-md p-3",children:n}),p.jsx(Ve,{onClick:t,disabled:i,className:"w-full neon-border-blue bg-blue-600 hover:bg-blue-700 text-black dark:text-white transition-all duration-300 disabled:opacity-50",children:i?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Zp,{className:"mr-2 h-4 w-4"}),"Login"]})})]})]})]})})}var i5=(_,d,e,h,m,c,s,i)=>{let r=document.documentElement,t=["light","dark"];function n(a){(Array.isArray(_)?_:[_]).forEach(g=>{let b=g==="class",f=b&&c?m.map(v=>c[v]||v):m;b?(r.classList.remove(...f),r.classList.add(c&&c[a]?c[a]:a)):r.setAttribute(g,a)}),l(a)}function l(a){i&&t.includes(a)&&(r.style.colorScheme=a)}function o(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(h)n(h);else try{let a=localStorage.getItem(d)||e,g=s&&a==="system"?o():a;n(g)}catch{}},o5=Z.createContext(void 0),a5={setTheme:_=>{},themes:[]},l5=()=>{var _;return(_=Z.useContext(o5))!=null?_:a5};Z.memo(({forcedTheme:_,storageKey:d,attribute:e,enableSystem:h,enableColorScheme:m,defaultTheme:c,value:s,themes:i,nonce:r,scriptProps:t})=>{let n=JSON.stringify([e,d,c,_,i,s,h,m]).slice(1,-1);return Z.createElement("script",{...t,suppressHydrationWarning:!0,nonce:typeof window>"u"?r:"",dangerouslySetInnerHTML:{__html:`(${i5.toString()})(${n})`}})});const Om=({..._})=>{const{theme:d="system"}=l5();return p.jsx(K_,{theme:d,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},..._})};class c5 extends Z.Component{state={hasError:!1};static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,e){console.error("ErrorBoundary caught an error:",d,e)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"An unexpected error occurred"}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})}):this.props.children}}var Nc="Tabs",[u5,hS]=ls(Nc,[pc]),r1=pc(),[d5,mf]=u5(Nc),n1=Z.forwardRef((_,d)=>{const{__scopeTabs:e,value:h,onValueChange:m,defaultValue:c,orientation:s="horizontal",dir:i,activationMode:r="automatic",...t}=_,n=ka(i),[l,o]=Pi({prop:h,onChange:m,defaultProp:c??"",caller:Nc});return p.jsx(d5,{scope:e,baseId:vs(),value:l,onValueChange:o,orientation:s,dir:n,activationMode:r,children:p.jsx(Pt.div,{dir:n,"data-orientation":s,...t,ref:d})})});n1.displayName=Nc;var s1="TabsList",i1=Z.forwardRef((_,d)=>{const{__scopeTabs:e,loop:h=!0,...m}=_,c=mf(s1,e),s=r1(e);return p.jsx(Y0,{asChild:!0,...s,orientation:c.orientation,dir:c.dir,loop:h,children:p.jsx(Pt.div,{role:"tablist","aria-orientation":c.orientation,...m,ref:d})})});i1.displayName=s1;var o1="TabsTrigger",a1=Z.forwardRef((_,d)=>{const{__scopeTabs:e,value:h,disabled:m=!1,...c}=_,s=mf(o1,e),i=r1(e),r=u1(s.baseId,h),t=d1(s.baseId,h),n=h===s.value;return p.jsx(Z0,{asChild:!0,...i,focusable:!m,active:n,children:p.jsx(Pt.button,{type:"button",role:"tab","aria-selected":n,"aria-controls":t,"data-state":n?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:r,...c,ref:d,onMouseDown:at(_.onMouseDown,l=>{!m&&l.button===0&&l.ctrlKey===!1?s.onValueChange(h):l.preventDefault()}),onKeyDown:at(_.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&s.onValueChange(h)}),onFocus:at(_.onFocus,()=>{const l=s.activationMode!=="manual";!n&&!m&&l&&s.onValueChange(h)})})})});a1.displayName=o1;var l1="TabsContent",c1=Z.forwardRef((_,d)=>{const{__scopeTabs:e,value:h,forceMount:m,children:c,...s}=_,i=mf(l1,e),r=u1(i.baseId,h),t=d1(i.baseId,h),n=h===i.value,l=Z.useRef(n);return Z.useEffect(()=>{const o=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(o)},[]),p.jsx(Tn,{present:m||n,children:({present:o})=>p.jsx(Pt.div,{"data-state":n?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":r,hidden:!o,id:t,tabIndex:0,...s,ref:d,style:{..._.style,animationDuration:l.current?"0s":void 0},children:o&&c})})});c1.displayName=l1;function u1(_,d){return`${_}-trigger-${d}`}function d1(_,d){return`${_}-content-${d}`}var f5=n1,h5=i1,p5=a1,m5=c1;function Li({className:_,...d}){return p.jsx(f5,{"data-slot":"tabs",className:Et("flex flex-col gap-2",_),...d})}function Fi({className:_,...d}){return p.jsx(h5,{"data-slot":"tabs-list",className:Et("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",_),...d})}function Hr({className:_,...d}){return p.jsx(p5,{"data-slot":"tabs-trigger",className:Et("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",_),...d})}function Vr({className:_,...d}){return p.jsx(m5,{"data-slot":"tabs-content",className:Et("flex-1 outline-none",_),...d})}function f1(_){const d=Z.useRef({value:_,previous:_});return Z.useMemo(()=>(d.current.value!==_&&(d.current.previous=d.current.value,d.current.value=_),d.current.previous),[_])}var h1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g5="VisuallyHidden",b5=Z.forwardRef((_,d)=>p.jsx(Pt.span,{..._,ref:d,style:{...h1,..._.style}}));b5.displayName=g5;var y5=[" ","Enter","ArrowUp","ArrowDown"],v5=[" ","Enter"],Bi="Select",[Ec,jc,x5]=Hd(Bi),[Io,pS]=ls(Bi,[x5,fc]),Cc=fc(),[w5,pi]=Io(Bi),[_5,S5]=Io(Bi),p1=_=>{const{__scopeSelect:d,children:e,open:h,defaultOpen:m,onOpenChange:c,value:s,defaultValue:i,onValueChange:r,dir:t,name:n,autoComplete:l,disabled:o,required:a,form:g}=_,b=Cc(d),[f,v]=Z.useState(null),[x,j]=Z.useState(null),[C,M]=Z.useState(!1),$=ka(t),[V,B]=Pi({prop:h,defaultProp:m??!1,onChange:c,caller:Bi}),[U,q]=Pi({prop:s,defaultProp:i,onChange:r,caller:Bi}),Y=Z.useRef(null),W=f?g||!!f.closest("form"):!0,[R,D]=Z.useState(new Set),E=Array.from(R).map(w=>w.props.value).join(";");return p.jsx($0,{...b,children:p.jsxs(w5,{required:a,scope:d,trigger:f,onTriggerChange:v,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:C,onValueNodeHasChildrenChange:M,contentId:vs(),value:U,onValueChange:q,open:V,onOpenChange:B,dir:$,triggerPointerDownPosRef:Y,disabled:o,children:[p.jsx(Ec.Provider,{scope:d,children:p.jsx(_5,{scope:_.__scopeSelect,onNativeOptionAdd:Z.useCallback(w=>{D(k=>new Set(k).add(w))},[]),onNativeOptionRemove:Z.useCallback(w=>{D(k=>{const S=new Set(k);return S.delete(w),S})},[]),children:e})}),W?p.jsxs(O1,{"aria-hidden":!0,required:a,tabIndex:-1,name:n,autoComplete:l,value:U,onChange:w=>q(w.target.value),disabled:o,form:g,children:[U===void 0?p.jsx("option",{value:""}):null,Array.from(R)]},E):null]})})};p1.displayName=Bi;var m1="SelectTrigger",g1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,disabled:h=!1,...m}=_,c=Cc(e),s=pi(m1,e),i=s.disabled||h,r=Qt(d,s.onTriggerChange),t=jc(e),n=Z.useRef("touch"),[l,o,a]=F1(b=>{const f=t().filter(j=>!j.disabled),v=f.find(j=>j.value===s.value),x=B1(f,b,v);x!==void 0&&s.onValueChange(x.value)}),g=b=>{i||(s.onOpenChange(!0),a()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(U0,{asChild:!0,...c,children:p.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":L1(s.value)?"":void 0,...m,ref:r,onClick:at(m.onClick,b=>{b.currentTarget.focus(),n.current!=="mouse"&&g(b)}),onPointerDown:at(m.onPointerDown,b=>{n.current=b.pointerType;const f=b.target;f.hasPointerCapture(b.pointerId)&&f.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(g(b),b.preventDefault())}),onKeyDown:at(m.onKeyDown,b=>{const f=l.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&o(b.key),!(f&&b.key===" ")&&y5.includes(b.key)&&(g(),b.preventDefault())})})})});g1.displayName=m1;var b1="SelectValue",y1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,className:h,style:m,children:c,placeholder:s="",...i}=_,r=pi(b1,e),{onValueNodeHasChildrenChange:t}=r,n=c!==void 0,l=Qt(d,r.onValueNodeChange);return Wr(()=>{t(n)},[t,n]),p.jsx(Pt.span,{...i,ref:l,style:{pointerEvents:"none"},children:L1(r.value)?p.jsx(p.Fragment,{children:s}):c})});y1.displayName=b1;var k5="SelectIcon",v1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,children:h,...m}=_;return p.jsx(Pt.span,{"aria-hidden":!0,...m,ref:d,children:h||"▼"})});v1.displayName=k5;var N5="SelectPortal",x1=_=>p.jsx(hc,{asChild:!0,..._});x1.displayName=N5;var zi="SelectContent",w1=Z.forwardRef((_,d)=>{const e=pi(zi,_.__scopeSelect),[h,m]=Z.useState();if(Wr(()=>{m(new DocumentFragment)},[]),!e.open){const c=h;return c?Sa.createPortal(p.jsx(_1,{scope:_.__scopeSelect,children:p.jsx(Ec.Slot,{scope:_.__scopeSelect,children:p.jsx("div",{children:_.children})})}),c):null}return p.jsx(S1,{..._,ref:d})});w1.displayName=zi;var Qn=10,[_1,mi]=Io(zi),E5="SelectContentImpl",j5=Ii("SelectContent.RemoveScroll"),S1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,position:h="item-aligned",onCloseAutoFocus:m,onEscapeKeyDown:c,onPointerDownOutside:s,side:i,sideOffset:r,align:t,alignOffset:n,arrowPadding:l,collisionBoundary:o,collisionPadding:a,sticky:g,hideWhenDetached:b,avoidCollisions:f,...v}=_,x=pi(zi,e),[j,C]=Z.useState(null),[M,$]=Z.useState(null),V=Qt(d,Q=>C(Q)),[B,U]=Z.useState(null),[q,Y]=Z.useState(null),W=jc(e),[R,D]=Z.useState(!1),E=Z.useRef(!1);Z.useEffect(()=>{if(j)return Qd(j)},[j]),Vd();const w=Z.useCallback(Q=>{const[O,...I]=W().map(ne=>ne.ref.current),[H]=I.slice(-1),ee=document.activeElement;for(const ne of Q)if(ne===ee||(ne?.scrollIntoView({block:"nearest"}),ne===O&&M&&(M.scrollTop=0),ne===H&&M&&(M.scrollTop=M.scrollHeight),ne?.focus(),document.activeElement!==ee))return},[W,M]),k=Z.useCallback(()=>w([B,j]),[w,B,j]);Z.useEffect(()=>{R&&k()},[R,k]);const{onOpenChange:S,triggerPointerDownPosRef:N}=x;Z.useEffect(()=>{if(j){let Q={x:0,y:0};const O=H=>{Q={x:Math.abs(Math.round(H.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(H.pageY)-(N.current?.y??0))}},I=H=>{Q.x<=10&&Q.y<=10?H.preventDefault():j.contains(H.target)||S(!1),document.removeEventListener("pointermove",O),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",I,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",I,{capture:!0})}}},[j,S,N]),Z.useEffect(()=>{const Q=()=>S(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[S]);const[A,P]=F1(Q=>{const O=W().filter(ee=>!ee.disabled),I=O.find(ee=>ee.ref.current===document.activeElement),H=B1(O,Q,I);H&&setTimeout(()=>H.ref.current.focus())}),L=Z.useCallback((Q,O,I)=>{const H=!E.current&&!I;(x.value!==void 0&&x.value===O||H)&&(U(Q),H&&(E.current=!0))},[x.value]),X=Z.useCallback(()=>j?.focus(),[j]),K=Z.useCallback((Q,O,I)=>{const H=!E.current&&!I;(x.value!==void 0&&x.value===O||H)&&Y(Q)},[x.value]),te=h==="popper"?Pd:k1,z=te===Pd?{side:i,sideOffset:r,align:t,alignOffset:n,arrowPadding:l,collisionBoundary:o,collisionPadding:a,sticky:g,hideWhenDetached:b,avoidCollisions:f}:{};return p.jsx(_1,{scope:e,content:j,viewport:M,onViewportChange:$,itemRefCallback:L,selectedItem:B,onItemLeave:X,itemTextRefCallback:K,focusSelectedItem:k,selectedItemText:q,position:h,isPositioned:R,searchRef:A,children:p.jsx(gc,{as:j5,allowPinchZoom:!0,children:p.jsx(ac,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:at(m,Q=>{x.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:p.jsx(oc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:s,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:p.jsx(te,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...v,...z,onPlaced:()=>D(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:at(v.onKeyDown,Q=>{const O=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!O&&Q.key.length===1&&P(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let H=W().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ee=Q.target,ne=H.indexOf(ee);H=H.slice(ne+1)}setTimeout(()=>w(H)),Q.preventDefault()}})})})})})})});S1.displayName=E5;var C5="SelectItemAlignedPosition",k1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,onPlaced:h,...m}=_,c=pi(zi,e),s=mi(zi,e),[i,r]=Z.useState(null),[t,n]=Z.useState(null),l=Qt(d,V=>n(V)),o=jc(e),a=Z.useRef(!1),g=Z.useRef(!0),{viewport:b,selectedItem:f,selectedItemText:v,focusSelectedItem:x}=s,j=Z.useCallback(()=>{if(c.trigger&&c.valueNode&&i&&t&&b&&f&&v){const V=c.trigger.getBoundingClientRect(),B=t.getBoundingClientRect(),U=c.valueNode.getBoundingClientRect(),q=v.getBoundingClientRect();if(c.dir!=="rtl"){const ee=q.left-B.left,ne=U.left-ee,re=V.left-ne,oe=V.width+re,he=Math.max(oe,B.width),pe=window.innerWidth-Qn,ie=Md(ne,[Qn,Math.max(Qn,pe-he)]);i.style.minWidth=oe+"px",i.style.left=ie+"px"}else{const ee=B.right-q.right,ne=window.innerWidth-U.right-ee,re=window.innerWidth-V.right-ne,oe=V.width+re,he=Math.max(oe,B.width),pe=window.innerWidth-Qn,ie=Md(ne,[Qn,Math.max(Qn,pe-he)]);i.style.minWidth=oe+"px",i.style.right=ie+"px"}const Y=o(),W=window.innerHeight-Qn*2,R=b.scrollHeight,D=window.getComputedStyle(t),E=parseInt(D.borderTopWidth,10),w=parseInt(D.paddingTop,10),k=parseInt(D.borderBottomWidth,10),S=parseInt(D.paddingBottom,10),N=E+w+R+S+k,A=Math.min(f.offsetHeight*5,N),P=window.getComputedStyle(b),L=parseInt(P.paddingTop,10),X=parseInt(P.paddingBottom,10),K=V.top+V.height/2-Qn,te=W-K,z=f.offsetHeight/2,Q=f.offsetTop+z,O=E+w+Q,I=N-O;if(O<=K){const ee=Y.length>0&&f===Y[Y.length-1].ref.current;i.style.bottom="0px";const ne=t.clientHeight-b.offsetTop-b.offsetHeight,re=Math.max(te,z+(ee?X:0)+ne+k),oe=O+re;i.style.height=oe+"px"}else{const ee=Y.length>0&&f===Y[0].ref.current;i.style.top="0px";const re=Math.max(K,E+b.offsetTop+(ee?L:0)+z)+I;i.style.height=re+"px",b.scrollTop=O-K+b.offsetTop}i.style.margin=`${Qn}px 0`,i.style.minHeight=A+"px",i.style.maxHeight=W+"px",h?.(),requestAnimationFrame(()=>a.current=!0)}},[o,c.trigger,c.valueNode,i,t,b,f,v,c.dir,h]);Wr(()=>j(),[j]);const[C,M]=Z.useState();Wr(()=>{t&&M(window.getComputedStyle(t).zIndex)},[t]);const $=Z.useCallback(V=>{V&&g.current===!0&&(j(),x?.(),g.current=!1)},[j,x]);return p.jsx(A5,{scope:e,contentWrapper:i,shouldExpandOnScrollRef:a,onScrollButtonChange:$,children:p.jsx("div",{ref:r,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:p.jsx(Pt.div,{...m,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...m.style}})})})});k1.displayName=C5;var T5="SelectPopperPosition",Pd=Z.forwardRef((_,d)=>{const{__scopeSelect:e,align:h="start",collisionPadding:m=Qn,...c}=_,s=Cc(e);return p.jsx(H0,{...s,...c,ref:d,align:h,collisionPadding:m,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pd.displayName=T5;var[A5,gf]=Io(zi,{}),Dd="SelectViewport",N1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,nonce:h,...m}=_,c=mi(Dd,e),s=gf(Dd,e),i=Qt(d,c.onViewportChange),r=Z.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:h}),p.jsx(Ec.Slot,{scope:e,children:p.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...m,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...m.style},onScroll:at(m.onScroll,t=>{const n=t.currentTarget,{contentWrapper:l,shouldExpandOnScrollRef:o}=s;if(o?.current&&l){const a=Math.abs(r.current-n.scrollTop);if(a>0){const g=window.innerHeight-Qn*2,b=parseFloat(l.style.minHeight),f=parseFloat(l.style.height),v=Math.max(b,f);if(v<g){const x=v+a,j=Math.min(g,x),C=x-j;l.style.height=j+"px",l.style.bottom==="0px"&&(n.scrollTop=C>0?C:0,l.style.justifyContent="flex-end")}}}r.current=n.scrollTop})})})]})});N1.displayName=Dd;var E1="SelectGroup",[R5,M5]=Io(E1),I5=Z.forwardRef((_,d)=>{const{__scopeSelect:e,...h}=_,m=vs();return p.jsx(R5,{scope:e,id:m,children:p.jsx(Pt.div,{role:"group","aria-labelledby":m,...h,ref:d})})});I5.displayName=E1;var j1="SelectLabel",P5=Z.forwardRef((_,d)=>{const{__scopeSelect:e,...h}=_,m=M5(j1,e);return p.jsx(Pt.div,{id:m.id,...h,ref:d})});P5.displayName=j1;var rc="SelectItem",[D5,C1]=Io(rc),T1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,value:h,disabled:m=!1,textValue:c,...s}=_,i=pi(rc,e),r=mi(rc,e),t=i.value===h,[n,l]=Z.useState(c??""),[o,a]=Z.useState(!1),g=Qt(d,x=>r.itemRefCallback?.(x,h,m)),b=vs(),f=Z.useRef("touch"),v=()=>{m||(i.onValueChange(h),i.onOpenChange(!1))};if(h==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(D5,{scope:e,value:h,disabled:m,textId:b,isSelected:t,onItemTextChange:Z.useCallback(x=>{l(j=>j||(x?.textContent??"").trim())},[]),children:p.jsx(Ec.ItemSlot,{scope:e,value:h,disabled:m,textValue:n,children:p.jsx(Pt.div,{role:"option","aria-labelledby":b,"data-highlighted":o?"":void 0,"aria-selected":t&&o,"data-state":t?"checked":"unchecked","aria-disabled":m||void 0,"data-disabled":m?"":void 0,tabIndex:m?void 0:-1,...s,ref:g,onFocus:at(s.onFocus,()=>a(!0)),onBlur:at(s.onBlur,()=>a(!1)),onClick:at(s.onClick,()=>{f.current!=="mouse"&&v()}),onPointerUp:at(s.onPointerUp,()=>{f.current==="mouse"&&v()}),onPointerDown:at(s.onPointerDown,x=>{f.current=x.pointerType}),onPointerMove:at(s.onPointerMove,x=>{f.current=x.pointerType,m?r.onItemLeave?.():f.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(s.onPointerLeave,x=>{x.currentTarget===document.activeElement&&r.onItemLeave?.()}),onKeyDown:at(s.onKeyDown,x=>{r.searchRef?.current!==""&&x.key===" "||(v5.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});T1.displayName=rc;var pa="SelectItemText",A1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,className:h,style:m,...c}=_,s=pi(pa,e),i=mi(pa,e),r=C1(pa,e),t=S5(pa,e),[n,l]=Z.useState(null),o=Qt(d,v=>l(v),r.onItemTextChange,v=>i.itemTextRefCallback?.(v,r.value,r.disabled)),a=n?.textContent,g=Z.useMemo(()=>p.jsx("option",{value:r.value,disabled:r.disabled,children:a},r.value),[r.disabled,r.value,a]),{onNativeOptionAdd:b,onNativeOptionRemove:f}=t;return Wr(()=>(b(g),()=>f(g)),[b,f,g]),p.jsxs(p.Fragment,{children:[p.jsx(Pt.span,{id:r.textId,...c,ref:o}),r.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Sa.createPortal(c.children,s.valueNode):null]})});A1.displayName=pa;var R1="SelectItemIndicator",M1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,...h}=_;return C1(R1,e).isSelected?p.jsx(Pt.span,{"aria-hidden":!0,...h,ref:d}):null});M1.displayName=R1;var Od="SelectScrollUpButton",I1=Z.forwardRef((_,d)=>{const e=mi(Od,_.__scopeSelect),h=gf(Od,_.__scopeSelect),[m,c]=Z.useState(!1),s=Qt(d,h.onScrollButtonChange);return Wr(()=>{if(e.viewport&&e.isPositioned){let i=function(){const t=r.scrollTop>0;c(t)};const r=e.viewport;return i(),r.addEventListener("scroll",i),()=>r.removeEventListener("scroll",i)}},[e.viewport,e.isPositioned]),m?p.jsx(D1,{..._,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:r}=e;i&&r&&(i.scrollTop=i.scrollTop-r.offsetHeight)}}):null});I1.displayName=Od;var Ld="SelectScrollDownButton",P1=Z.forwardRef((_,d)=>{const e=mi(Ld,_.__scopeSelect),h=gf(Ld,_.__scopeSelect),[m,c]=Z.useState(!1),s=Qt(d,h.onScrollButtonChange);return Wr(()=>{if(e.viewport&&e.isPositioned){let i=function(){const t=r.scrollHeight-r.clientHeight,n=Math.ceil(r.scrollTop)<t;c(n)};const r=e.viewport;return i(),r.addEventListener("scroll",i),()=>r.removeEventListener("scroll",i)}},[e.viewport,e.isPositioned]),m?p.jsx(D1,{..._,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:r}=e;i&&r&&(i.scrollTop=i.scrollTop+r.offsetHeight)}}):null});P1.displayName=Ld;var D1=Z.forwardRef((_,d)=>{const{__scopeSelect:e,onAutoScroll:h,...m}=_,c=mi("SelectScrollButton",e),s=Z.useRef(null),i=jc(e),r=Z.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return Z.useEffect(()=>()=>r(),[r]),Wr(()=>{i().find(n=>n.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[i]),p.jsx(Pt.div,{"aria-hidden":!0,...m,ref:d,style:{flexShrink:0,...m.style},onPointerDown:at(m.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(h,50))}),onPointerMove:at(m.onPointerMove,()=>{c.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(h,50))}),onPointerLeave:at(m.onPointerLeave,()=>{r()})})}),O5="SelectSeparator",L5=Z.forwardRef((_,d)=>{const{__scopeSelect:e,...h}=_;return p.jsx(Pt.div,{"aria-hidden":!0,...h,ref:d})});L5.displayName=O5;var Fd="SelectArrow",F5=Z.forwardRef((_,d)=>{const{__scopeSelect:e,...h}=_,m=Cc(e),c=pi(Fd,e),s=mi(Fd,e);return c.open&&s.position==="popper"?p.jsx(V0,{...m,...h,ref:d}):null});F5.displayName=Fd;var B5="SelectBubbleInput",O1=Z.forwardRef(({__scopeSelect:_,value:d,...e},h)=>{const m=Z.useRef(null),c=Qt(h,m),s=f1(d);return Z.useEffect(()=>{const i=m.current;if(!i)return;const r=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(r,"value").set;if(s!==d&&n){const l=new Event("change",{bubbles:!0});n.call(i,d),i.dispatchEvent(l)}},[s,d]),p.jsx(Pt.select,{...e,style:{...h1,...e.style},ref:c,defaultValue:d})});O1.displayName=B5;function L1(_){return _===""||_===void 0}function F1(_){const d=$r(_),e=Z.useRef(""),h=Z.useRef(0),m=Z.useCallback(s=>{const i=e.current+s;d(i),(function r(t){e.current=t,window.clearTimeout(h.current),t!==""&&(h.current=window.setTimeout(()=>r(""),1e3))})(i)},[d]),c=Z.useCallback(()=>{e.current="",window.clearTimeout(h.current)},[]);return Z.useEffect(()=>()=>window.clearTimeout(h.current),[]),[e,m,c]}function B1(_,d,e){const m=d.length>1&&Array.from(d).every(t=>t===d[0])?d[0]:d,c=e?_.indexOf(e):-1;let s=z5(_,Math.max(c,0));m.length===1&&(s=s.filter(t=>t!==e));const r=s.find(t=>t.textValue.toLowerCase().startsWith(m.toLowerCase()));return r!==e?r:void 0}function z5(_,d){return _.map((e,h)=>_[(d+h)%_.length])}var $5=p1,U5=g1,H5=y1,V5=v1,W5=x1,q5=w1,X5=N1,G5=T1,K5=A1,Y5=M1,Z5=I1,J5=P1;const rs=$5,ns=H5,zn=Z.forwardRef(({className:_,size:d="default",children:e,...h},m)=>p.jsxs(U5,{ref:m,"data-slot":"select-trigger","data-size":d,className:Et("border-2 border-gray-300 dark:border-gray-600 data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-blue-500 focus-visible:ring-blue-500/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow,border-color] outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",_),...h,children:[e,p.jsx(V5,{asChild:!0,children:p.jsx(t0,{className:"size-4 opacity-50"})})]}));zn.displayName="SelectTrigger";const $n=Z.forwardRef(({className:_,children:d,position:e="popper",...h},m)=>p.jsx(W5,{children:p.jsxs(q5,{ref:m,"data-slot":"select-content",className:Et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",_),position:e,...h,children:[p.jsx(Q5,{}),p.jsx(X5,{className:Et("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),p.jsx(e8,{})]})}));$n.displayName="SelectContent";const Ft=Z.forwardRef(({className:_,children:d,...e},h)=>p.jsxs(G5,{ref:h,"data-slot":"select-item",className:Et("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",_),...e,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(Y5,{children:p.jsx(yo,{className:"size-4"})})}),p.jsx(K5,{children:d})]}));Ft.displayName="SelectItem";function Q5({className:_,...d}){return p.jsx(Z5,{"data-slot":"select-scroll-up-button",className:Et("flex cursor-default items-center justify-center py-1",_),...d,children:p.jsx(Mv,{className:"size-4"})})}function e8({className:_,...d}){return p.jsx(J5,{"data-slot":"select-scroll-down-button",className:Et("flex cursor-default items-center justify-center py-1",_),...d,children:p.jsx(t0,{className:"size-4"})})}var Tc="Switch",[t8,mS]=ls(Tc),[r8,n8]=t8(Tc),z1=Z.forwardRef((_,d)=>{const{__scopeSwitch:e,name:h,checked:m,defaultChecked:c,required:s,disabled:i,value:r="on",onCheckedChange:t,form:n,...l}=_,[o,a]=Z.useState(null),g=Qt(d,j=>a(j)),b=Z.useRef(!1),f=o?n||!!o.closest("form"):!0,[v,x]=Pi({prop:m,defaultProp:c??!1,onChange:t,caller:Tc});return p.jsxs(r8,{scope:e,checked:v,disabled:i,children:[p.jsx(Pt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":V1(v),"data-disabled":i?"":void 0,disabled:i,value:r,...l,ref:g,onClick:at(_.onClick,j=>{x(C=>!C),f&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),f&&p.jsx(H1,{control:o,bubbles:!b.current,name:h,value:r,checked:v,required:s,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});z1.displayName=Tc;var $1="SwitchThumb",U1=Z.forwardRef((_,d)=>{const{__scopeSwitch:e,...h}=_,m=n8($1,e);return p.jsx(Pt.span,{"data-state":V1(m.checked),"data-disabled":m.disabled?"":void 0,...h,ref:d})});U1.displayName=$1;var s8="SwitchBubbleInput",H1=Z.forwardRef(({__scopeSwitch:_,control:d,checked:e,bubbles:h=!0,...m},c)=>{const s=Z.useRef(null),i=Qt(s,c),r=f1(e),t=R0(d);return Z.useEffect(()=>{const n=s.current;if(!n)return;const l=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(l,"checked").set;if(r!==e&&a){const g=new Event("click",{bubbles:h});a.call(n,e),n.dispatchEvent(g)}},[r,e,h]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...m,tabIndex:-1,ref:i,style:{...m.style,...t,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H1.displayName=s8;function V1(_){return _?"checked":"unchecked"}var i8=z1,o8=U1;function Bd({className:_,...d}){return p.jsx(i8,{"data-slot":"switch",className:Et("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",_),...d,children:p.jsx(o8,{"data-slot":"switch-thumb",className:Et("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}class a8{async getTemplates(d){const e=new URLSearchParams;d&&e.set("type",d);const h=await Nt.getTemplates();return console.log("Get templates response:",h),console.log("Filtering by type:",d),Array.isArray(h)?(console.log("Available template types:",h.map(m=>({id:m.id,name:m.name,type:m.type}))),console.log(`Temporarily returning all ${h.length} templates (type filtering disabled for debugging)`),h):[]}async uploadTemplate(d,e,h){const m=new FormData;m.append("File",d),m.append("Type",e),m.append("Name",h),m.append("Category","template"),m.append("SubCategory","document");const c=await Nt.uploadTemplate(m);if(console.log("Upload template response:",c),c&&(c.id||c.Id))return c;throw new Error("Failed to upload template")}async getSignatures(){const d=await Nt.getSignatures();return console.log("Get signatures response:",d),d.success&&Array.isArray(d.data)?(console.log("Available signatures:",d.data.map(e=>({id:e.id,name:e.name}))),d.data):Array.isArray(d)?(console.log("Available signatures (fallback):",d.map(e=>({id:e.id,name:e.name}))),d):(console.warn("No signatures found or invalid response format:",d),[])}async uploadSignature(d,e){const h=new FormData;h.append("File",d),h.append("Name",e),h.append("Category","signature"),h.append("SubCategory","image");const m=await Nt.uploadSignature(h);if(m.success&&m.data)return m.data;throw new Error("Failed to upload signature")}async generateDocument(d,e,h,m){try{const c=await Nt.request("/documents/generate",{method:"POST",body:JSON.stringify({templateId:d,employeeId:e.id,signatureId:h,placeholderData:{EMPLOYEE_NAME:e.name,EMPLOYEE_ID:e.employeeId,DESIGNATION:e.designation,DEPARTMENT:e.department,JOIN_DATE:e.joiningDate,RELIEVING_DATE:e.relievingDate||"Current",COMPANY_NAME:"DocHub Technologies",...m}})});if(c.success&&c.data)return c.data;throw new Error(c.error?.message||"Failed to generate document")}catch(c){throw console.error("Error generating document:",c),new Error("Failed to generate document. Please try again.")}}async downloadDocument(d,e="pdf"){try{const h=await fetch(`${Nt.baseUrl}/documents/${d}/download?format=${e}`,{method:"GET",headers:{Authorization:`Bearer ${Nt.authToken}`,"Content-Type":"application/json"}});if(!h.ok)throw new Error(`Failed to download document: ${h.statusText}`);return await h.blob()}catch(h){throw console.error("Error downloading document:",h),new Error("Failed to download document. Please try again.")}}async sendEmails(d){if((await Nt.sendEmail({to:d.map(h=>h.employeeEmail),subject:d[0]?.subject||"Document Email",body:d[0]?.content||"Please find attached your document.",attachments:d.flatMap(h=>h.attachments.map(m=>m.fileUrl))})).success)return d.map(h=>({...h,id:Date.now().toString()+Math.random(),status:"pending",sentBy:"Current User",createdAt:new Date}));throw new Error("Failed to send emails")}async getEmailJobs(d){try{const e=new URLSearchParams;d?.employeeId&&e.append("employeeId",d.employeeId),d?.status&&e.append("status",d.status),d?.sentBy&&e.append("sentBy",d.sentBy),d?.startDate&&e.append("fromDate",d.startDate),d?.endDate&&e.append("toDate",d.endDate),e.append("page","1"),e.append("pageSize","1000");const h=await Nt.request(`/email/jobs?${e}`);return h.success&&h.data?h.data:[]}catch(e){return console.error("Error fetching email jobs:",e),[]}}subscribeToEmailUpdates(d){return console.log("Email updates subscription - SignalR implementation needed"),()=>{console.log("Email updates unsubscribed")}}}const Bs=new a8;class l8{static success(d,e){It.success(d,{description:e?.description,duration:e?.duration||4e3,action:e?.action?{label:e.action.label,onClick:e.action.onClick}:void 0})}static error(d,e){It.error(d,{description:e?.description,duration:e?.duration||6e3,action:e?.action?{label:e.action.label,onClick:e.action.onClick}:void 0})}static warning(d,e){It.warning(d,{description:e?.description,duration:e?.duration||5e3,action:e?.action?{label:e.action.label,onClick:e.action.onClick}:void 0})}static info(d,e){It.info(d,{description:e?.description,duration:e?.duration||4e3,action:e?.action?{label:e.action.label,onClick:e.action.onClick}:void 0})}static loading(d){return It.loading(d)}static dismiss(d){It.dismiss(d)}static documentGenerated(d){this.success(`${d} document${d>1?"s":""} generated successfully`,{description:"Documents are ready for download or email",action:{label:"View Documents",onClick:()=>{console.log("Navigate to documents view")}}})}static emailSent(d){this.success(`${d} email${d>1?"s":""} sent successfully`,{description:"Recipients will receive the documents shortly",action:{label:"Track Status",onClick:()=>{console.log("Navigate to email tracking")}}})}static templateUploaded(d){this.success(`Template "${d}" uploaded successfully`,{description:"Template is now available for use",action:{label:"Use Template",onClick:()=>{console.log("Navigate to template selection")}}})}static userCreated(d){this.success(`User "${d}" created successfully`,{description:"User can now access the system",action:{label:"View User",onClick:()=>{console.log("Navigate to user management")}}})}static settingsSaved(){this.success("Settings saved successfully",{description:"Your changes have been applied",duration:3e3})}static operationFailed(d,e){this.error(`${d} failed`,{description:e||"Please try again or contact support",duration:6e3})}static confirmAction(d,e,h){It(d,{description:"This action cannot be undone",action:{label:"Confirm",onClick:e},cancel:{label:"Cancel",onClick:h||(()=>{})},duration:1e4})}}const di=l8;function c8({showOnlyOwnEmails:_=!1}){const[d,e]=Z.useState([]),[h,m]=Z.useState(!1),[c,s]=Z.useState({status:"all",employee:"",sentBy:""}),[i,r]=Z.useState([]),[t,n]=Z.useState(!0),[l,o]=Z.useState("disconnected"),[a,g]=Z.useState(null),{user:b,isAdmin:f}=Cn(),v=Z.useRef(!1),x=Z.useRef(!1);Z.useEffect(()=>(B(),j(),()=>{x.current=!0,M()}),[]);const j=async()=>{if(!(!t||v.current||x.current))try{if(v.current=!0,o("reconnecting"),await ur.start(),x.current){await ur.stop();return}o("connected"),ur.onEmailStatusUpdated(C);const w=setInterval(()=>{if(x.current)return;const k=ur.getConnectionState();o(k==="Connected"?"connected":k==="Reconnecting"?"reconnecting":"disconnected")},2e3);return()=>clearInterval(w)}catch(E){console.error("Failed to initialize SignalR:",E),o("disconnected")}finally{v.current=!1}},C=E=>{r(w=>[E,...w].slice(0,10)),e(w=>w.map(k=>k.id===E.emailJobId?{...k,status:E.status}:k)),E.status==="sent"||E.status==="delivered"?di.success(`Email ${E.status} to ${E.employeeName}`):(E.status==="failed"||E.status==="bounced")&&di.error(`Email ${E.status} to ${E.employeeName}`),g(new Date)},M=async()=>{try{x.current=!0,ur.offEmailStatusUpdated(C),await ur.stop(),o("disconnected")}catch(E){console.warn("Error during SignalR cleanup:",E)}},$=async()=>{t?(await M(),o("disconnected")):(await j(),o("connected")),n(!t)},V=async()=>{o("reconnecting"),x.current=!1,v.current=!1,await M(),await j()},B=async()=>{m(!0);try{const E={};c.status&&c.status!=="all"&&(E.status=c.status),c.employee&&(E.employeeId=c.employee);const w=await Bs.getEmailJobs(E);e(w)}catch(E){console.error("Failed to load email jobs:",E)}finally{m(!1)}},U=E=>{switch(E){case"sent":case"delivered":case"opened":case"clicked":return p.jsx(en,{className:"h-4 w-4 text-green-400"});case"failed":case"bounced":case"dropped":return p.jsx(sn,{className:"h-4 w-4 text-red-400"});case"sending":return p.jsx(nn,{className:"h-4 w-4 animate-spin text-blue-400"});case"unsubscribed":return p.jsx(Ur,{className:"h-4 w-4 text-gray-400"});default:return p.jsx(gn,{className:"h-4 w-4 text-orange-400"})}},q=E=>{const w={pending:"text-orange-400 border-orange-500/30",sending:"text-blue-400 border-blue-500/30",sent:"text-green-400 border-green-500/30",delivered:"text-green-400 border-green-500/30",opened:"text-purple-400 border-purple-500/30",clicked:"text-indigo-400 border-indigo-500/30",bounced:"text-red-400 border-red-500/30",dropped:"text-red-400 border-red-500/30",unsubscribed:"text-gray-400 border-gray-500/30",failed:"text-red-400 border-red-500/30"};return p.jsx(Jt,{variant:"outline",className:w[E]||"text-muted-foreground",children:E.toUpperCase()})},Y=E=>{try{const w=typeof E=="string"?new Date(E):E;return isNaN(w.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)}catch(w){return console.error("Error formatting date:",w,"Input:",E),"Invalid Date"}},W=()=>{const E=Array.isArray(d)?d:[],w=E.reduce((k,S)=>(k[S.status]=(k[S.status]||0)+1,k),{});return{total:E.length,pending:w.pending||0,sending:w.sending||0,sent:(w.sent||0)+(w.delivered||0)+(w.opened||0)+(w.clicked||0),failed:(w.failed||0)+(w.bounced||0)+(w.dropped||0)}},R=(Array.isArray(d)?d:[]).filter(E=>!(c.status&&c.status!=="all"&&E.status!==c.status||c.employee&&!E.employeeName.toLowerCase().includes(c.employee.toLowerCase())&&!E.employeeId.toLowerCase().includes(c.employee.toLowerCase())||c.sentBy&&!E.sentBy.toLowerCase().includes(c.sentBy.toLowerCase()))),D=W();return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Emails"}),p.jsx("p",{className:"text-xl font-bold",children:D.total})]}),p.jsx(Ur,{className:"h-6 w-6 text-neon-blue"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),p.jsx("p",{className:"text-xl font-bold",children:D.pending+D.sending})]}),p.jsx(nn,{className:"h-6 w-6 text-orange-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful"}),p.jsx("p",{className:"text-xl font-bold",children:D.sent})]}),p.jsx(en,{className:"h-6 w-6 text-green-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),p.jsx("p",{className:"text-xl font-bold",children:D.failed})]}),p.jsx(sn,{className:"h-6 w-6 text-red-400"})]})})})]}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Bd,{checked:t,onCheckedChange:$}),p.jsx(qt,{className:"text-sm",children:"Real-time Updates"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${l==="connected"?"bg-green-400":l==="reconnecting"?"bg-yellow-400":"bg-red-400"}`}),p.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:l})]}),a&&p.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last update: ",a.toLocaleTimeString()]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[l==="disconnected"&&p.jsxs(Ve,{variant:"outline",size:"sm",onClick:V,children:[p.jsx(ql,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),p.jsxs(Ve,{variant:"outline",size:"sm",onClick:B,disabled:h,children:[h?p.jsx(nn,{className:"h-4 w-4 animate-spin mr-2"}):p.jsx(ql,{className:"h-4 w-4 mr-2"}),"Manual Refresh"]})]})]})})}),p.jsxs(Li,{defaultValue:"all",className:"space-y-4",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs(Fi,{children:[p.jsx(Hr,{value:"all",children:"All Emails"}),p.jsx(Hr,{value:"live",children:"Live Updates"})]})}),p.jsxs(Vr,{value:"all",className:"space-y-4",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs(rs,{value:c.status,onValueChange:E=>s(w=>({...w,status:E})),children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"All Statuses"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Statuses"}),p.jsx(Ft,{value:"pending",children:"Pending"}),p.jsx(Ft,{value:"sending",children:"Sending"}),p.jsx(Ft,{value:"sent",children:"Sent"}),p.jsx(Ft,{value:"delivered",children:"Delivered"}),p.jsx(Ft,{value:"opened",children:"Opened"}),p.jsx(Ft,{value:"clicked",children:"Clicked"}),p.jsx(Ft,{value:"bounced",children:"Bounced"}),p.jsx(Ft,{value:"dropped",children:"Dropped"}),p.jsx(Ft,{value:"unsubscribed",children:"Unsubscribed"}),p.jsx(Ft,{value:"failed",children:"Failed"})]})]}),p.jsx(Ir,{placeholder:"Search employee...",value:c.employee,onChange:E=>s(w=>({...w,employee:E.target.value}))}),f()&&p.jsx(Ir,{placeholder:"Search sender...",value:c.sentBy,onChange:E=>s(w=>({...w,sentBy:E.target.value}))})]})})}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(Ur,{className:"h-5 w-5 text-neon-blue"}),"Email Status (",R.length,")"]}),p.jsx(Nr,{children:f()?"All email communications from all users and their delivery status (Admin View)":"Your sent emails and their delivery status"})]}),p.jsx(tt,{children:p.jsx(mn,{className:"h-96",children:h?p.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((E,w)=>p.jsxs("div",{className:"flex items-center gap-3 p-3 glass-panel rounded-lg animate-pulse",children:[p.jsx("div",{className:"w-8 h-8 bg-muted rounded-full"}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),p.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),p.jsx("div",{className:"h-6 bg-muted rounded w-20"})]},w))}):R.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Ur,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Emails Found"}),p.jsx("p",{className:"text-muted-foreground",children:"No emails match your current filters."})]}):p.jsx("div",{className:"space-y-3",children:R.map(E=>p.jsxs("div",{className:"flex items-center justify-between p-4 glass-panel rounded-lg border-glass-border hover:bg-muted/10 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${E.status==="sent"||E.status==="delivered"||E.status==="opened"||E.status==="clicked"?"bg-green-500/20":E.status==="failed"||E.status==="bounced"||E.status==="dropped"?"bg-red-500/20":E.status==="sending"?"bg-blue-500/20":E.status==="unsubscribed"?"bg-gray-500/20":"bg-orange-500/20"}`,children:U(E.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("p",{className:"font-medium",children:E.employeeName}),p.jsx(Jt,{variant:"outline",className:"text-xs",children:E.employeeId})]}),p.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.employeeEmail}),p.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[p.jsxs("span",{children:["Subject: ",E.subject]}),p.jsx("span",{children:"•"}),p.jsxs("span",{children:["Sent by: ",E.sentByName||E.sentBy]}),p.jsx("span",{children:"•"}),p.jsx("span",{children:Y(E.createdAt)})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[q(E.status),E.trackingId&&p.jsx(Ve,{size:"sm",variant:"ghost",children:p.jsx(Un,{className:"h-4 w-4"})})]})]},E.id))})})})]})]}),p.jsx(Vr,{value:"live",className:"space-y-4",children:p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),"Live Email Updates"]}),p.jsx(Nr,{children:"Real-time status updates for outgoing emails"})]}),p.jsx(tt,{children:p.jsx(mn,{className:"h-96",children:i.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(gn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Recent Updates"}),p.jsx("p",{className:"text-muted-foreground",children:"Live email status updates will appear here."})]}):p.jsx("div",{className:"space-y-3",children:i.map((E,w)=>p.jsxs("div",{className:"flex items-center gap-4 p-3 glass-panel rounded-lg border-glass-border animate-pulse",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${E.status==="sent"||E.status==="delivered"||E.status==="opened"||E.status==="clicked"?"bg-green-500/20":E.status==="failed"||E.status==="bounced"||E.status==="dropped"?"bg-red-500/20":E.status==="sending"?"bg-blue-500/20":E.status==="unsubscribed"?"bg-gray-500/20":"bg-orange-500/20"}`,children:U(E.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium",children:E.employeeName}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsxs("span",{children:["Status updated from ",E.oldStatus," to:"]}),q(E.status),p.jsx("span",{children:"•"}),p.jsx("span",{children:Y(E.timestamp)})]})]})]},`${E.emailJobId}-${w}`))})})})]})})]})]})}const u8=_=>{const[d,e]=Z.useState(null),[h,m]=Z.useState(!1),[c,s]=Z.useState(null),i=Z.useCallback(async()=>{m(!0),s(null);try{const r=await Nt.getDashboardStats(_);if(r.success&&r.data)e(r.data);else throw new Error("Failed to fetch dashboard stats")}catch(r){s(r.message||"Failed to fetch dashboard stats"),e(null)}finally{m(!1)}},[_]);return Z.useEffect(()=>{i()},[i]),{stats:d,loading:h,error:c,refetch:i}};function Lm(){const{stats:_,loading:d,error:e,refetch:h}=u8("er"),{isAdmin:m}=Cn(),[c,s]=Z.useState([]),[i,r]=Z.useState(!0),[t,n]=Z.useState(null),[l,o]=Z.useState({}),[a,g]=Z.useState(!1);if(Z.useEffect(()=>{(async()=>{try{r(!0),n(null);const $=await ko.getActiveTabs();s($)}catch($){n($ instanceof Error?$.message:"Failed to load tabs"),s([])}finally{r(!1)}})()},[]),Z.useEffect(()=>{const $=setTimeout(async()=>{if(c.length!==0){g(!0);try{const V=await Nt.getDocumentRequests({page:1,limit:1e3});if(V.success&&V.data){const B=(V.data.items||[]).map(q=>({...q,employeeName:q.employee?.name||"Unknown Employee"})),U={};c.forEach(q=>{U[q.id]=B.filter(Y=>Y.documentType===q.letterType)}),o(U)}}catch(V){console.error("Error fetching document requests:",V);const B={};c.forEach(U=>{B[U.id]=[]}),o(B)}finally{g(!1)}}},300);return()=>clearTimeout($)},[c]),d)return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Employee Relations Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Overview of employee management activities"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((M,$)=>p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),p.jsx("div",{className:"h-8 bg-muted rounded w-1/2"})]})})},$))})]});if(e)return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Employee Relations Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Overview of employee management activities"})]}),p.jsx(Ve,{onClick:h,variant:"outline",children:"Retry"})]}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsxs(tt,{className:"p-6 text-center",children:[p.jsx(sn,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:e})]})})]});const b=[{title:"Total Users",value:_?.totalUsers||0,icon:p.jsx(ga,{className:"h-4 w-4"}),description:"Registered users",color:"text-blue-400"},{title:"System Uptime",value:`${_?.systemUptime||0}%`,icon:p.jsx(xo,{className:"h-4 w-4"}),description:"System availability",color:"text-green-400"},{title:"Active Sessions",value:_?.activeSessions||0,icon:p.jsx(gn,{className:"h-4 w-4"}),description:"Last 24 hours",color:"text-purple-400"}],f=c.map((M,$)=>{const V=l[M.id]||[],B=V.filter(q=>q.status==="Pending").length,U=V.filter(q=>q.status==="Approved").length;return{title:M.name,value:a?"...":V.length,icon:p.jsx(lr,{className:"h-4 w-4"}),description:a?"Loading...":`${B} pending, ${U} approved`,trend:a?"Loading...":B>0?`${B} pending`:"All caught up",color:$%2===0?"text-orange-400":"text-purple-400",tabId:M.id}}),v=[...b,...f],x=[{title:"New Joinings",value:_?.newJoiningsThisMonth||0,icon:p.jsx(xo,{className:"h-4 w-4"}),color:"text-green-400"},{title:"Relieved",value:_?.relievedThisMonth||0,icon:p.jsx(gn,{className:"h-4 w-4"}),color:"text-red-400"}],j=M=>{switch(M){case"pending":return p.jsx(Jt,{variant:"outline",className:"text-orange-400 border-orange-500/30",children:"Pending"});case"approved":return p.jsx(Jt,{variant:"outline",className:"text-green-400 border-green-500/30",children:"Approved"});case"rejected":return p.jsx(Jt,{variant:"outline",className:"text-red-400 border-red-500/30",children:"Rejected"});default:return p.jsx(Jt,{variant:"outline",children:M})}},C=M=>{switch(M){case"document_request":return p.jsx(lr,{className:"h-4 w-4"});case"transfer_letter":return p.jsx(lr,{className:"h-4 w-4"});case"joining":return p.jsx(Pr,{className:"h-4 w-4"});case"relieving":return p.jsx(ma,{className:"h-4 w-4"});default:return p.jsx(en,{className:"h-4 w-4"})}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Employee Relations Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Overview of employee management activities"})]}),p.jsx(Ve,{onClick:h,variant:"outline",children:"Refresh"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((M,$)=>p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsxs(tt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:M.title}),p.jsx("p",{className:"text-2xl font-bold",children:M.value})]}),p.jsx("div",{className:`p-2 glass-panel rounded-lg ${M.color}`,children:M.icon})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:M.description}),M.trend&&p.jsx("p",{className:"text-xs text-green-400",children:M.trend})]})]})},$))}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(xo,{className:"h-5 w-5 text-neon-blue"}),"This Month"]}),p.jsx(Nr,{children:"Employee movement statistics"})]}),p.jsx(tt,{className:"space-y-4",children:x.map((M,$)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 glass-panel rounded-lg ${M.color}`,children:M.icon}),p.jsx("span",{className:"font-medium",children:M.title})]}),p.jsx("span",{className:"text-2xl font-bold",children:M.value})]},$))})]}),p.jsxs(et,{className:"lg:col-span-2 glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(gn,{className:"h-5 w-5 text-neon-green"}),"Recent Activities"]}),p.jsx(Nr,{children:"Latest employee-related activities"})]}),p.jsx(tt,{children:p.jsx("div",{className:"space-y-4",children:_?.recentActivities?.length?_.recentActivities.slice(0,5).map((M,$)=>p.jsxs("div",{className:"flex items-center justify-between p-3 glass-panel rounded-lg border-glass-border",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"text-neon-blue",children:C(M.type)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:M.employeeName}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.type.replace("_"," ").toUpperCase()," - ",M.employeeId]})]})]}),p.jsxs("div",{className:"text-right",children:[j(M.status),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(M.createdAt).toLocaleDateString()})]})]},$)):p.jsxs("div",{className:"text-center py-8",children:[p.jsx(gn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"No recent activities"})]})})})]})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),"Email Status Overview"]}),p.jsx(Nr,{children:"Real-time email delivery status for all sent documents"})]}),p.jsx(tt,{children:p.jsx(c8,{showOnlyOwnEmails:!m()})})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsx(Yt,{children:"Quick Actions"}),p.jsx(Nr,{children:"Common tasks and shortcuts"})]}),p.jsx(tt,{children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.length>0?c.slice(0,2).map((M,$)=>p.jsxs(Ve,{className:"h-16 neon-border-blue bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-950 dark:text-blue-300 dark:hover:bg-blue-900 transition-all duration-300",children:[p.jsx(lr,{className:"mr-2 h-5 w-5"}),"Generate ",M.name]},M.id)):p.jsxs("div",{className:"col-span-2 text-center py-8",children:[p.jsx(lr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"No document types available"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Create dynamic tabs to see quick actions"})]}),p.jsxs(Ve,{className:"h-16 neon-border-purple bg-purple-50 text-purple-700 hover:bg-purple-100 dark:bg-purple-950 dark:text-purple-300 dark:hover:bg-purple-900 transition-all duration-300",children:[p.jsx(ga,{className:"mr-2 h-5 w-5"}),"Employee Management"]})]})})]})]})}var Ac="Dialog",[W1,gS]=ls(Ac),[d8,cs]=W1(Ac),q1=_=>{const{__scopeDialog:d,children:e,open:h,defaultOpen:m,onOpenChange:c,modal:s=!0}=_,i=Z.useRef(null),r=Z.useRef(null),[t,n]=Pi({prop:h,defaultProp:m??!1,onChange:c,caller:Ac});return p.jsx(d8,{scope:d,triggerRef:i,contentRef:r,contentId:vs(),titleId:vs(),descriptionId:vs(),open:t,onOpenChange:n,onOpenToggle:Z.useCallback(()=>n(l=>!l),[n]),modal:s,children:e})};q1.displayName=Ac;var X1="DialogTrigger",G1=Z.forwardRef((_,d)=>{const{__scopeDialog:e,...h}=_,m=cs(X1,e),c=Qt(d,m.triggerRef);return p.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":m.open,"aria-controls":m.contentId,"data-state":vf(m.open),...h,ref:c,onClick:at(_.onClick,m.onOpenToggle)})});G1.displayName=X1;var bf="DialogPortal",[f8,K1]=W1(bf,{forceMount:void 0}),Y1=_=>{const{__scopeDialog:d,forceMount:e,children:h,container:m}=_,c=cs(bf,d);return p.jsx(f8,{scope:d,forceMount:e,children:Z.Children.map(h,s=>p.jsx(Tn,{present:e||c.open,children:p.jsx(hc,{asChild:!0,container:m,children:s})}))})};Y1.displayName=bf;var nc="DialogOverlay",Z1=Z.forwardRef((_,d)=>{const e=K1(nc,_.__scopeDialog),{forceMount:h=e.forceMount,...m}=_,c=cs(nc,_.__scopeDialog);return c.modal?p.jsx(Tn,{present:h||c.open,children:p.jsx(p8,{...m,ref:d})}):null});Z1.displayName=nc;var h8=Ii("DialogOverlay.RemoveScroll"),p8=Z.forwardRef((_,d)=>{const{__scopeDialog:e,...h}=_,m=cs(nc,e);return p.jsx(gc,{as:h8,allowPinchZoom:!0,shards:[m.contentRef],children:p.jsx(Pt.div,{"data-state":vf(m.open),...h,ref:d,style:{pointerEvents:"auto",...h.style}})})}),$i="DialogContent",J1=Z.forwardRef((_,d)=>{const e=K1($i,_.__scopeDialog),{forceMount:h=e.forceMount,...m}=_,c=cs($i,_.__scopeDialog);return p.jsx(Tn,{present:h||c.open,children:c.modal?p.jsx(m8,{...m,ref:d}):p.jsx(g8,{...m,ref:d})})});J1.displayName=$i;var m8=Z.forwardRef((_,d)=>{const e=cs($i,_.__scopeDialog),h=Z.useRef(null),m=Qt(d,e.contentRef,h);return Z.useEffect(()=>{const c=h.current;if(c)return Qd(c)},[]),p.jsx(Q1,{..._,ref:m,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(_.onCloseAutoFocus,c=>{c.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:at(_.onPointerDownOutside,c=>{const s=c.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&c.preventDefault()}),onFocusOutside:at(_.onFocusOutside,c=>c.preventDefault())})}),g8=Z.forwardRef((_,d)=>{const e=cs($i,_.__scopeDialog),h=Z.useRef(!1),m=Z.useRef(!1);return p.jsx(Q1,{..._,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{_.onCloseAutoFocus?.(c),c.defaultPrevented||(h.current||e.triggerRef.current?.focus(),c.preventDefault()),h.current=!1,m.current=!1},onInteractOutside:c=>{_.onInteractOutside?.(c),c.defaultPrevented||(h.current=!0,c.detail.originalEvent.type==="pointerdown"&&(m.current=!0));const s=c.target;e.triggerRef.current?.contains(s)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&m.current&&c.preventDefault()}})}),Q1=Z.forwardRef((_,d)=>{const{__scopeDialog:e,trapFocus:h,onOpenAutoFocus:m,onCloseAutoFocus:c,...s}=_,i=cs($i,e),r=Z.useRef(null),t=Qt(d,r);return Vd(),p.jsxs(p.Fragment,{children:[p.jsx(ac,{asChild:!0,loop:!0,trapped:h,onMountAutoFocus:m,onUnmountAutoFocus:c,children:p.jsx(oc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":vf(i.open),...s,ref:t,onDismiss:()=>i.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(b8,{titleId:i.titleId}),p.jsx(v8,{contentRef:r,descriptionId:i.descriptionId})]})]})}),yf="DialogTitle",eb=Z.forwardRef((_,d)=>{const{__scopeDialog:e,...h}=_,m=cs(yf,e);return p.jsx(Pt.h2,{id:m.titleId,...h,ref:d})});eb.displayName=yf;var tb="DialogDescription",rb=Z.forwardRef((_,d)=>{const{__scopeDialog:e,...h}=_,m=cs(tb,e);return p.jsx(Pt.p,{id:m.descriptionId,...h,ref:d})});rb.displayName=tb;var nb="DialogClose",sb=Z.forwardRef((_,d)=>{const{__scopeDialog:e,...h}=_,m=cs(nb,e);return p.jsx(Pt.button,{type:"button",...h,ref:d,onClick:at(_.onClick,()=>m.onOpenChange(!1))})});sb.displayName=nb;function vf(_){return _?"open":"closed"}var ib="DialogTitleWarning",[bS,ob]=yw(ib,{contentName:$i,titleName:yf,docsSlug:"dialog"}),b8=({titleId:_})=>{const d=ob(ib),e=`\`${d.contentName}\` requires a \`${d.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${d.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${d.docsSlug}`;return Z.useEffect(()=>{_&&(document.getElementById(_)||console.error(e))},[e,_]),null},y8="DialogDescriptionWarning",v8=({contentRef:_,descriptionId:d})=>{const h=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ob(y8).contentName}}.`;return Z.useEffect(()=>{const m=_.current?.getAttribute("aria-describedby");d&&m&&(document.getElementById(d)||console.warn(h))},[h,_,d]),null},x8=q1,w8=G1,_8=Y1,S8=Z1,k8=J1,N8=eb,E8=rb,ab=sb;const Hn=x8,lb=Z.forwardRef(({..._},d)=>p.jsx(w8,{ref:d,"data-slot":"dialog-trigger",..._}));lb.displayName="DialogTrigger";const j8=_8,C8=Z.forwardRef(({..._},d)=>p.jsx(ab,{ref:d,"data-slot":"dialog-close",..._}));C8.displayName="DialogClose";const cb=Z.forwardRef(({className:_,...d},e)=>p.jsx(S8,{ref:e,"data-slot":"dialog-overlay",className:Et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",_),...d}));cb.displayName="DialogOverlay";const jn=Z.forwardRef(({className:_,children:d,...e},h)=>p.jsxs(j8,{children:[p.jsx(cb,{}),p.jsxs(k8,{ref:h,"data-slot":"dialog-content",className:Et("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",_),...e,children:[d,p.jsxs(ab,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(ws,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jn.displayName="DialogContent";const os=Z.forwardRef(({className:_,...d},e)=>p.jsx("div",{ref:e,"data-slot":"dialog-header",className:Et("flex flex-col gap-2 text-center sm:text-left",_),...d}));os.displayName="DialogHeader";const T8=Z.forwardRef(({className:_,...d},e)=>p.jsx("div",{ref:e,"data-slot":"dialog-footer",className:Et("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",_),...d}));T8.displayName="DialogFooter";const as=Z.forwardRef(({className:_,...d},e)=>p.jsx(N8,{ref:e,"data-slot":"dialog-title",className:Et("text-lg leading-none font-semibold",_),...d}));as.displayName="DialogTitle";const Ss=Z.forwardRef(({className:_,...d},e)=>p.jsx(E8,{ref:e,"data-slot":"dialog-description",className:Et("text-muted-foreground text-sm",_),...d}));Ss.displayName="DialogDescription";function Ta({className:_,...d}){return p.jsx("textarea",{"data-slot":"textarea",className:Et("resize-none border-2 border-gray-300 dark:border-gray-600 placeholder:text-muted-foreground focus-visible:border-blue-500 focus-visible:ring-blue-500/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md bg-input-background px-3 py-2 text-base transition-[color,box-shadow,border-color] outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",_),...d})}function ub({size:_="md",text:d,className:e,fullScreen:h=!1}){const m={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},c=p.jsxs("div",{className:Et("flex items-center justify-center gap-2",e),children:[p.jsx(nn,{className:Et("animate-spin",m[_])}),d&&p.jsx("span",{className:"text-sm text-muted-foreground",children:d})]});return h?p.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsx("div",{className:"glass-panel border-glass-border rounded-lg p-8",children:c})}):c}class A8{static handle(d,e){console.error(`Error in ${e||"unknown context"}:`,d);let h="An unexpected error occurred";d instanceof Error?h=d.message:typeof d=="string"?h=d:d&&typeof d=="object"&&"message"in d&&(h=d.message),It.error(h)}static handleAsync(d,e,h){return d().then(m=>m).catch(m=>(this.handle(m,e),h&&h(m),null))}static withLoading(d,e,h){return e(!0),this.handleAsync(d,h).finally(()=>e(!1))}}const Bl=A8.handle;function R8(){const{isAuthenticated:_}=Cn(),[d,e]=Z.useState([]),[h,m]=Z.useState(!0),[c,s]=Z.useState(!1),[i,r]=Z.useState(!1),[t,n]=Z.useState(1),[l,o]=Z.useState({typeKey:"",displayName:"",description:"",isActive:!0,module:"ER"}),[a,g]=Z.useState("Database"),[b,f]=Z.useState([]),[v,x]=Z.useState({fieldKey:"",fieldName:"",displayName:"",fieldType:"Text",isRequired:!1,order:0});Z.useEffect(()=>{j()},[]);const j=async()=>{try{m(!0);const E=await ko.getTabs();e(E),E.length===0&&It.info("No tabs found. Create your first tab to get started!")}catch(E){console.error("Failed to load tabs:",E),It.error("Failed to load tabs. Please try again."),e([])}finally{m(!1)}},C=()=>{if(!v.fieldKey||!v.fieldName||!v.displayName){It.error("Please fill in all required field information");return}const E={id:`field_${Date.now()}`,fieldKey:v.fieldKey,fieldName:v.fieldName,displayName:v.displayName,fieldType:v.fieldType||"Text",isRequired:v.isRequired||!1,validationRules:v.validationRules,defaultValue:v.defaultValue,order:b.length};f([...b,E]),x({fieldKey:"",fieldName:"",displayName:"",fieldType:"Text",isRequired:!1,order:b.length+1})},M=E=>{f(b.filter(w=>w.id!==E))},$=async()=>{if(console.log("🚀 [TAB-CREATE] Starting tab creation process"),console.log("🔍 [TAB-CREATE] Authentication status:",_),console.log("📋 [TAB-CREATE] Form data:",l),console.log("📊 [TAB-CREATE] Fields:",b),i){console.log("⏳ [TAB-CREATE] Already submitting, skipping");return}if(!_){console.log("❌ [TAB-CREATE] User not authenticated"),It.error("Please login first to create tabs");return}if(!l.typeKey||!l.displayName){console.log("❌ [TAB-CREATE] Missing required fields"),It.error("Please fill in all required fields");return}try{console.log("🔄 [TAB-CREATE] Setting submitting state to true"),r(!0),console.log("🔧 [TAB-CREATE] Creating field configuration...");const E={fields:b.map(S=>({fieldKey:S.fieldKey,fieldName:S.fieldName,displayName:S.displayName,fieldType:"Text",isRequired:S.isRequired,validationRules:S.validationRules,defaultValue:S.defaultValue,order:S.order}))};console.log("✅ [TAB-CREATE] Field configuration created:",E),console.log("📝 [TAB-CREATE] Creating letter type data...");const w={typeKey:l.typeKey,displayName:l.displayName,description:l.description,dataSourceType:a,fieldConfiguration:JSON.stringify(E),isActive:l.isActive};console.log("✅ [TAB-CREATE] Letter type data created:",w),console.log("🔄 [TAB-CREATE] Calling API service...");const k=await Nt.createLetterTypeDefinition(w);if(console.log("📊 [TAB-CREATE] API response received:",k),k.success&&k.data){console.log("✅ [TAB-CREATE] API call successful, creating tab UI representation...");const S={id:k.data.id,name:k.data.displayName,description:k.data.description||"",letterType:k.data.typeKey,isActive:k.data.isActive,createdAt:new Date(k.data.createdAt),updatedAt:new Date(k.data.updatedAt),metadata:JSON.stringify({dataSourceType:a,fieldConfiguration:E})};console.log("✅ [TAB-CREATE] Tab UI representation created:",S),console.log("🔄 [TAB-CREATE] Updating tabs state..."),e([...d,S]),s(!1),R(),console.log("🎉 [TAB-CREATE] Tab created successfully!"),It.success("Tab created successfully")}else throw console.log("❌ [TAB-CREATE] API call failed:",k.error),new Error(k.error?.message||"Failed to create letter type")}catch(E){console.error("❌ [TAB-CREATE] Error in tab creation:",E),E.message?.includes("Authentication required")||E.message?.includes("401")?(console.log("🔐 [TAB-CREATE] Authentication error detected"),It.error("Please login first to create tabs")):(console.log("💥 [TAB-CREATE] Other error:",E.message),It.error(E.message||"Failed to create tab"))}finally{console.log("🔄 [TAB-CREATE] Setting submitting state to false"),r(!1)}},V=()=>{if(t===1&&(!l.typeKey||!l.displayName)){It.error("Please fill in all required fields");return}n(t+1)},B=()=>{n(t-1)},U=async E=>{const w=d.find(k=>k.id===E);w&&di.confirmAction(`Are you sure you want to delete tab "${w.name}"?`,async()=>{try{const k=await Nt.deleteLetterTypeDefinition(E);if(k.success)e(d.filter(S=>S.id!==E)),di.success("Tab deleted successfully");else throw new Error(k.error?.message||"Failed to delete letter type")}catch(k){Bl(k,"Delete tab")}})},q=async E=>{try{const w={...E,id:`tab_${Date.now()}`,name:`${E.name} (Copy)`,createdAt:new Date};await ko.createTab(w),e([...d,w]),di.success(`Tab "${w.name}" created successfully`)}catch(w){Bl(w,"Duplicate tab")}},Y=async E=>{try{const w={name:E.name,description:E.description,letterType:E.letterType,isActive:E.isActive,templates:E.templates||[],signatures:E.signatures||[],exportedAt:new Date().toISOString(),version:"1.0"},k=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),S=window.URL.createObjectURL(k),N=document.createElement("a");N.href=S,N.download=`${E.name.replace(/\s+/g,"_")}_export.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(S),di.success(`Tab "${E.name}" exported successfully`)}catch(w){Bl(w,"Export tab")}},W=async E=>{const w=E.target.files?.[0];if(w)try{const k=await w.text(),S=JSON.parse(k);if(!S.name||!S.letterType)throw new Error("Invalid tab export file");const N={id:`tab_${Date.now()}`,name:`${S.name} (Imported)`,description:S.description||"",letterType:S.letterType,isActive:S.isActive!==!1,templates:S.templates||[],signatures:S.signatures||[],createdAt:new Date};await ko.createTab(N),e([...d,N]),di.success(`Tab "${N.name}" imported successfully`)}catch(k){Bl(k,"Import tab")}},R=()=>{o({typeKey:"",displayName:"",description:"",isActive:!0,module:"ER"}),g("Database"),f([]),x({fieldKey:"",fieldName:"",displayName:"",fieldType:"Text",isRequired:!1,order:0}),n(1)},D=E=>{const w=typeof E=="string"?new Date(E):E;return isNaN(w.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return h?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{children:"Tab Management"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((E,w)=>p.jsx(et,{className:"glass-panel border-glass-border animate-pulse",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),p.jsx("div",{className:"h-3 bg-muted rounded w-full"}),p.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})})},w))})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{children:"Tab Management"}),p.jsx("p",{className:"text-muted-foreground",children:"Create and manage dynamic letter type tabs"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"file",accept:".json",onChange:W,className:"hidden",id:"import-tab"}),p.jsx("label",{htmlFor:"import-tab",children:p.jsxs(Ve,{variant:"outline",className:"cursor-pointer",children:[p.jsx(No,{className:"h-4 w-4 mr-2"}),"Import"]})}),p.jsxs(Hn,{open:c,onOpenChange:E=>{s(E),E&&R()},children:[p.jsx(lb,{asChild:!0,children:p.jsxs(Ve,{className:"neon-glow",children:[p.jsx(Al,{className:"h-4 w-4 mr-2"}),"Create Tab"]})}),p.jsxs(jn,{className:"dialog-panel max-w-4xl max-h-[70vh] overflow-hidden",children:[p.jsxs(os,{children:[p.jsxs(as,{className:"flex items-center justify-between",children:[p.jsx("span",{children:"Create New Tab"}),p.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:p.jsx(ws,{className:"h-4 w-4"})})]}),p.jsx(Ss,{children:"Create a new letter type tab with custom fields"})]}),p.jsx("div",{className:"flex items-center justify-center space-x-4 py-4",children:[1,2,3].map(E=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=E?"bg-neon-blue text-white":"bg-muted text-muted-foreground"}`,children:t>E?p.jsx(yo,{className:"h-4 w-4"}):E}),E<3&&p.jsx("div",{className:`w-16 h-0.5 mx-2 ${t>E?"bg-neon-blue":"bg-muted"}`})]},E))}),p.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t===1&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"typeKey",children:"Type Key *"}),p.jsx(Ir,{id:"typeKey",value:l.typeKey,onChange:E=>o({...l,typeKey:E.target.value}),placeholder:"e.g., promotion_letter",required:!0}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier for this letter type"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"displayName",children:"Display Name *"}),p.jsx(Ir,{id:"displayName",value:l.displayName,onChange:E=>o({...l,displayName:E.target.value}),placeholder:"e.g., Promotion Letter",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"description",children:"Description"}),p.jsx(Ta,{id:"description",value:l.description,onChange:E=>o({...l,description:E.target.value}),placeholder:"Brief description of this letter type",rows:3})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Bd,{id:"isActive",checked:l.isActive,onCheckedChange:E=>o({...l,isActive:E})}),p.jsx(qt,{htmlFor:"isActive",children:"Active"})]})]})}),t===2&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Data Source Configuration"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(qt,{children:"Choose Data Source Type"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Select how this tab will receive its data"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(et,{className:`cursor-pointer transition-all ${a==="Database"?"ring-2 ring-neon-blue bg-neon-blue/10":"hover:bg-muted/50"}`,onClick:()=>g("Database"),children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Sd,{className:"h-8 w-8 text-blue-500"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold",children:"Database Connection"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect to external database"})]})]})})}),p.jsx(et,{className:`cursor-pointer transition-all ${a==="Excel"?"ring-2 ring-neon-blue bg-neon-blue/10":"hover:bg-muted/50"}`,onClick:()=>g("Excel"),children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(es,{className:"h-8 w-8 text-green-500"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold",children:"Excel Upload"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload and work with Excel files"})]})]})})})]})]})]}),t===3&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Field Configuration"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the fields that will be available in this letter type"}),p.jsxs(et,{children:[p.jsx(er,{children:p.jsx(Yt,{className:"text-base",children:"Add New Field"})}),p.jsxs(tt,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"fieldKey",children:"Field Key *"}),p.jsx(Ir,{id:"fieldKey",value:v.fieldKey||"",onChange:E=>x({...v,fieldKey:E.target.value}),placeholder:"e.g., employee_name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"fieldName",children:"Field Name *"}),p.jsx(Ir,{id:"fieldName",value:v.fieldName||"",onChange:E=>x({...v,fieldName:E.target.value}),placeholder:"e.g., EmployeeName"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"displayName",children:"Display Name *"}),p.jsx(Ir,{id:"displayName",value:v.displayName||"",onChange:E=>x({...v,displayName:E.target.value}),placeholder:"e.g., Employee Name"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"defaultValue",children:"Default Value"}),p.jsx(Ir,{id:"defaultValue",value:v.defaultValue||"",onChange:E=>x({...v,defaultValue:E.target.value}),placeholder:"Optional default value"})]})}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Bd,{id:"isRequired",checked:v.isRequired||!1,onCheckedChange:E=>x({...v,isRequired:E})}),p.jsx(qt,{htmlFor:"isRequired",children:"Required Field"})]}),p.jsxs(Ve,{onClick:C,className:"neon-glow",children:[p.jsx(Al,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]})]}),b.length>0&&p.jsxs(et,{children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-base",children:["Configured Fields (",b.length,")"]})}),p.jsx(tt,{children:p.jsx("div",{className:"space-y-2",children:b.map((E,w)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("div",{className:"w-6 h-6 bg-neon-blue/20 rounded-full flex items-center justify-center text-xs font-medium",children:w+1}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:E.displayName}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[E.fieldKey,E.isRequired&&" • Required"]})]})]}),p.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>M(E.id),className:"text-red-400 hover:text-red-300",children:p.jsx(ws,{className:"h-4 w-4"})})]},E.id))})})]})]})]}),p.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[p.jsx("div",{children:t>1&&p.jsxs(Ve,{variant:"outline",onClick:B,children:[p.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Previous"]})}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ve,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t<3?p.jsxs(Ve,{onClick:V,children:["Next",p.jsx(e0,{className:"h-4 w-4 ml-2"})]}):p.jsx(Ve,{onClick:$,disabled:i,className:"neon-glow",children:i?p.jsxs(p.Fragment,{children:[p.jsx(ub,{className:"h-4 w-4 mr-2"}),"Creating..."]}):"Create Tab"})]})]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tabs"}),p.jsx("p",{className:"text-2xl font-bold",children:d.length})]}),p.jsx(lr,{className:"h-8 w-8 text-neon-blue"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),p.jsx("p",{className:"text-2xl font-bold",children:d.filter(E=>E.isActive).length})]}),p.jsx(Un,{className:"h-8 w-8 text-green-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive"}),p.jsx("p",{className:"text-2xl font-bold",children:d.filter(E=>!E.isActive).length})]}),p.jsx(n0,{className:"h-8 w-8 text-orange-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),p.jsx("p",{className:"text-2xl font-bold",children:d.filter(E=>{const w=new Date;return w.setMonth(w.getMonth()-1),E.createdAt>w}).length})]}),p.jsx(Al,{className:"h-8 w-8 text-purple-400"})]})})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(E=>p.jsxs(et,{className:"glass-panel border-glass-border hover:bg-muted/10 transition-colors",children:[p.jsx(er,{className:"pb-4",children:p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-neon-blue/20 rounded-lg flex items-center justify-center",children:p.jsx(lr,{className:"h-5 w-5 text-neon-blue"})}),p.jsxs("div",{children:[p.jsx(Yt,{className:"text-base",children:E.name}),p.jsx("div",{className:"flex items-center gap-2 mt-1",children:p.jsx(Jt,{variant:E.isActive?"default":"secondary",className:E.isActive?"bg-green-500/20 text-green-400 border-green-500/30":"",children:E.isActive?"Active":"Inactive"})})]})]})})}),p.jsxs(tt,{className:"pt-0",children:[p.jsx(Nr,{className:"mb-4 line-clamp-2",children:E.description}),p.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Type:"}),p.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:E.letterType})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Created:"}),p.jsx("span",{children:D(E.createdAt)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Updated:"}),p.jsx("span",{children:D(E.updatedAt)})]})]}),p.jsx("div",{className:"flex gap-2",children:p.jsxs(lf,{children:[p.jsx(xc,{asChild:!0,children:p.jsx(Ve,{size:"sm",variant:"outline",children:p.jsx(qv,{className:"h-3 w-3"})})}),p.jsxs(wc,{align:"end",children:[p.jsxs(Ai,{onClick:()=>q(E),children:[p.jsx(Uv,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),p.jsxs(Ai,{onClick:()=>Y(E),children:[p.jsx(No,{className:"h-4 w-4 mr-2"}),"Export"]}),p.jsxs(Ai,{onClick:()=>U(E.id),className:"text-red-400",children:[p.jsx(s0,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]})]},E.id))}),d.length===0&&p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsxs(tt,{className:"p-12 text-center",children:[p.jsx(lr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Tabs Found"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first dynamic tab to get started."}),p.jsxs(Ve,{onClick:()=>{R(),s(!0)},children:[p.jsx(Al,{className:"h-4 w-4 mr-2"}),"Create First Tab"]})]})})]})}const M8=({onClose:_})=>{const[d,e]=Z.useState([]),[h,m]=Z.useState([]),[c,s]=Z.useState([]),[i,r]=Z.useState(!1),[t,n]=Z.useState(null),[l,o]=Z.useState(!1),[a,g]=Z.useState(null),[b,f]=Z.useState(null),[v,x]=Z.useState({username:"",email:"",password:"",firstName:"",lastName:"",department:"ER",roleIds:[]});Z.useEffect(()=>{j()},[]);const j=async()=>{r(!0);try{const[W,R]=await Promise.all([Nt.getUsers({page:1,pageSize:100}),Nt.getRoles()]);W.success&&e(W.data?.items||[]),R.success&&m(R.data||[])}catch(W){n("Failed to load data"),console.error("Error loading data:",W)}finally{r(!1)}},C=async W=>{W.preventDefault(),r(!0);try{const R=await Nt.createUser(v);R.success?(e([...d,R.data]),o(!1),U()):n("Failed to create user")}catch(R){n("Failed to create user"),console.error("Error creating user:",R)}finally{r(!1)}},M=async W=>{if(W.preventDefault(),!!a){r(!0);try{const R={username:v.username,email:v.email,firstName:v.firstName,lastName:v.lastName,department:v.department,roleIds:v.roleIds},D=await Nt.updateUser(a.id,R);D.success?(e(d.map(E=>E.id===a.id?D.data:E)),g(null),U()):n("Failed to update user")}catch(R){n("Failed to update user"),console.error("Error updating user:",R)}finally{r(!1)}}},$=async W=>{if(window.confirm("Are you sure you want to delete this user?")){r(!0);try{(await Nt.deleteUser(W)).success?e(d.filter(D=>D.id!==W)):n("Failed to delete user")}catch(R){n("Failed to delete user"),console.error("Error deleting user:",R)}finally{r(!1)}}},V=async W=>{r(!0);try{(await Nt.toggleUserStatus(W)).success?e(d.map(D=>D.id===W?{...D,isActive:!D.isActive}:D)):n("Failed to toggle user status")}catch(R){n("Failed to toggle user status"),console.error("Error toggling user status:",R)}finally{r(!1)}},B=async W=>{if(!(!W||!v.username||!v.email))try{const R=await Nt.validatePassword({password:W,username:v.username,email:v.email});R.success&&f(R.data)}catch(R){console.error("Error validating password:",R)}},U=()=>{x({username:"",email:"",password:"",firstName:"",lastName:"",department:"ER",roleIds:[]}),f(null)},q=W=>{g(W),x({username:W.username,email:W.email,password:"",firstName:W.firstName,lastName:W.lastName,department:W.department,roleIds:W.roles.map(R=>h.find(D=>D.name===R)?.id||"").filter(Boolean)}),o(!0)},Y=W=>{switch(W){case"weak":return"text-red-500";case"medium":return"text-yellow-500";case"strong":return"text-green-500";default:return"text-gray-500"}};return i&&d.length===0?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>o(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add User"}),_&&p.jsx("button",{onClick:_,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Close"})]})]}),t&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:t}),p.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roles"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(W=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{children:[p.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[W.firstName," ",W.lastName]}),p.jsx("div",{className:"text-sm text-gray-500",children:W.email})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:W.department})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"flex flex-wrap gap-1",children:W.roles.map((R,D)=>p.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:R},D))})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.isActive?"Active":"Inactive"})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>q(W),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),p.jsx("button",{onClick:()=>V(W.id),className:"text-yellow-600 hover:text-yellow-900",children:W.isActive?"Deactivate":"Activate"}),p.jsx("button",{onClick:()=>$(W.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},W.id))})]})}),l&&p.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:p.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:p.jsxs("div",{className:"mt-3",children:[p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:a?"Edit User":"Create User"}),p.jsxs("form",{onSubmit:a?M:C,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),p.jsx("input",{type:"text",value:v.username,onChange:W=>x({...v,username:W.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{type:"email",value:v.email,onChange:W=>x({...v,email:W.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),p.jsx("input",{type:"text",value:v.firstName,onChange:W=>x({...v,firstName:W.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),p.jsx("input",{type:"text",value:v.lastName,onChange:W=>x({...v,lastName:W.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),p.jsxs("select",{value:v.department,onChange:W=>x({...v,department:W.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[p.jsx("option",{value:"ER",children:"ER"}),p.jsx("option",{value:"Billing",children:"Billing"})]})]}),!a&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),p.jsx("input",{type:"password",value:v.password,onChange:W=>{x({...v,password:W.target.value}),B(W.target.value)},className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0}),b&&p.jsxs("div",{className:"mt-2",children:[p.jsxs("div",{className:`text-sm ${Y(b.strength)}`,children:["Password Strength: ",b.strength.toUpperCase()]}),b.errors.length>0&&p.jsx("ul",{className:"text-sm text-red-500 mt-1",children:b.errors.map((W,R)=>p.jsxs("li",{children:["• ",W]},R))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roles"}),p.jsx("div",{className:"mt-2 space-y-2",children:h.map(W=>p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:v.roleIds.includes(W.id),onChange:R=>{R.target.checked?x({...v,roleIds:[...v.roleIds,W.id]}):x({...v,roleIds:v.roleIds.filter(D=>D!==W.id)})},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),p.jsx("span",{className:"ml-2 text-sm text-gray-700",children:W.name})]},W.id))})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx("button",{type:"button",onClick:()=>{o(!1),g(null),U()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:i?"Saving...":a?"Update":"Create"})]})]})]})})})]})};function Fm({className:_,...d}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Et("w-full caption-bottom text-sm",_),...d})})}function Bm({className:_,...d}){return p.jsx("thead",{"data-slot":"table-header",className:Et("[&_tr]:border-b",_),...d})}function zm({className:_,...d}){return p.jsx("tbody",{"data-slot":"table-body",className:Et("[&_tr:last-child]:border-0",_),...d})}function zl({className:_,...d}){return p.jsx("tr",{"data-slot":"table-row",className:Et("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",_),...d})}function Zr({className:_,...d}){return p.jsx("th",{"data-slot":"table-head",className:Et("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",_),...d})}function Jr({className:_,...d}){return p.jsx("td",{"data-slot":"table-cell",className:Et("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",_),...d})}function I8(){const[_,d]=Z.useState([]),[e,h]=Z.useState(null),[m,c]=Z.useState([]),[s,i]=Z.useState(!1),[r,t]=Z.useState(""),[n,l]=Z.useState(!1),[o,a]=Z.useState(""),[g,b]=Z.useState({department:"all",status:"all"});Z.useEffect(()=>{f()},[]);const f=async()=>{i(!0);try{const[V,B]=await Promise.all([Nt.getActiveSessions(),Nt.getSessionStats()]);V.success&&d(V.data||[]),B.success&&h(B.data||null)}catch(V){console.error("Error loading session data:",V)}finally{i(!1)}},v=async V=>{try{const B=await Nt.getUserLoginHistory(V);B.success&&c(B.data||[])}catch(B){console.error("Error loading login history:",B)}},x=async V=>{try{(await Nt.terminateSession(V)).success&&(await f(),l(!1))}catch(B){console.error("Error terminating session:",B)}},j=V=>V.includes("Mobile")?p.jsx(Sx,{className:"h-4 w-4"}):V.includes("Tablet")?p.jsx(jx,{className:"h-4 w-4"}):p.jsx(cx,{className:"h-4 w-4"}),C=V=>p.jsx(Jt,{className:V?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:V?"Active":"Inactive"}),M=(V,B)=>{const U=new Date(V),Y=(B?new Date(B):new Date).getTime()-U.getTime(),W=Math.floor(Y/(1e3*60*60)),R=Math.floor(Y%(1e3*60*60)/(1e3*60));return`${W}h ${R}m`},$=_.filter(V=>!(g.department!=="all"&&V.department!==g.department||g.status!=="all"&&V.isActive!==(g.status==="active")));return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Session Management"}),p.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage user sessions"})]}),p.jsxs(Ve,{onClick:f,disabled:s,className:"gap-2",children:[p.jsx(ql,{className:`h-4 w-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),e&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Sessions"}),p.jsx("p",{className:"text-2xl font-bold",children:e.totalActiveSessions})]}),p.jsx(fa,{className:"h-8 w-8 text-green-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Sessions"}),p.jsx("p",{className:"text-2xl font-bold",children:e.totalSessionsToday})]}),p.jsx(gn,{className:"h-8 w-8 text-blue-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Unique Users Today"}),p.jsx("p",{className:"text-2xl font-bold",children:e.uniqueUsersToday})]}),p.jsx(ga,{className:"h-8 w-8 text-purple-400"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Session Duration"}),p.jsx("p",{className:"text-2xl font-bold",children:e.averageSessionDuration})]}),p.jsx(kv,{className:"h-8 w-8 text-orange-400"})]})})})]}),p.jsxs(Li,{defaultValue:"active-sessions",className:"space-y-4",children:[p.jsxs(Fi,{children:[p.jsx(Hr,{value:"active-sessions",children:"Active Sessions"}),p.jsx(Hr,{value:"login-history",children:"Login History"}),p.jsx(Hr,{value:"statistics",children:"Statistics"})]}),p.jsxs(Vr,{value:"active-sessions",className:"space-y-4",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs(rs,{value:g.department,onValueChange:V=>b(B=>({...B,department:V})),children:[p.jsx(zn,{className:"w-48",children:p.jsx(ns,{placeholder:"All Departments"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Departments"}),p.jsx(Ft,{value:"ER",children:"ER"}),p.jsx(Ft,{value:"Billing",children:"Billing"})]})]}),p.jsxs(rs,{value:g.status,onValueChange:V=>b(B=>({...B,status:V})),children:[p.jsx(zn,{className:"w-48",children:p.jsx(ns,{placeholder:"All Status"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Status"}),p.jsx(Ft,{value:"active",children:"Active"}),p.jsx(Ft,{value:"inactive",children:"Inactive"})]})]})]})})}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{children:["Active Sessions (",$.length,")"]}),p.jsx(Nr,{children:"Currently active user sessions"})]}),p.jsx(tt,{children:p.jsxs(Fm,{children:[p.jsx(Bm,{children:p.jsxs(zl,{children:[p.jsx(Zr,{children:"User"}),p.jsx(Zr,{children:"Department"}),p.jsx(Zr,{children:"Device"}),p.jsx(Zr,{children:"IP Address"}),p.jsx(Zr,{children:"Login Time"}),p.jsx(Zr,{children:"Last Activity"}),p.jsx(Zr,{children:"Duration"}),p.jsx(Zr,{children:"Status"}),p.jsx(Zr,{children:"Actions"})]})}),p.jsx(zm,{children:$.map(V=>p.jsxs(zl,{children:[p.jsx(Jr,{children:p.jsxs("div",{children:[p.jsxs("div",{className:"font-medium",children:[V.firstName," ",V.lastName]}),p.jsx("div",{className:"text-sm text-muted-foreground",children:V.email})]})}),p.jsx(Jr,{children:p.jsx(Jt,{variant:"outline",children:V.department})}),p.jsx(Jr,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[j(V.userAgent),p.jsx("span",{className:"text-sm",children:V.deviceInfo})]})}),p.jsx(Jr,{className:"font-mono text-sm",children:V.ipAddress}),p.jsx(Jr,{className:"text-sm",children:new Date(V.loginAt).toLocaleString()}),p.jsx(Jr,{className:"text-sm",children:new Date(V.lastActivityAt).toLocaleString()}),p.jsx(Jr,{className:"text-sm",children:M(V.loginAt)}),p.jsx(Jr,{children:C(V.isActive)}),p.jsx(Jr,{children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",onClick:()=>{t(V.userId),v(V.userId)},children:p.jsx(Un,{className:"h-4 w-4"})}),p.jsx(Ve,{size:"sm",variant:"destructive",onClick:()=>{a(V.sessionId),l(!0)},children:p.jsx(s0,{className:"h-4 w-4"})})]})})]},V.sessionId))})]})})]})]}),p.jsx(Vr,{value:"login-history",className:"space-y-4",children:p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsx(Yt,{children:"Login History"}),p.jsx(Nr,{children:"Recent login attempts and sessions"})]}),p.jsx(tt,{children:m.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Eo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Select a user to view their login history"})]}):p.jsxs(Fm,{children:[p.jsx(Bm,{children:p.jsxs(zl,{children:[p.jsx(Zr,{children:"User"}),p.jsx(Zr,{children:"IP Address"}),p.jsx(Zr,{children:"Device"}),p.jsx(Zr,{children:"Login Time"}),p.jsx(Zr,{children:"Logout Time"}),p.jsx(Zr,{children:"Duration"}),p.jsx(Zr,{children:"Status"})]})}),p.jsx(zm,{children:m.map(V=>p.jsxs(zl,{children:[p.jsx(Jr,{children:p.jsxs("div",{children:[p.jsxs("div",{className:"font-medium",children:[V.firstName," ",V.lastName]}),p.jsx("div",{className:"text-sm text-muted-foreground",children:V.email})]})}),p.jsx(Jr,{className:"font-mono text-sm",children:V.ipAddress}),p.jsx(Jr,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[j(V.userAgent),p.jsx("span",{className:"text-sm",children:V.deviceInfo})]})}),p.jsx(Jr,{className:"text-sm",children:new Date(V.loginAt).toLocaleString()}),p.jsx(Jr,{className:"text-sm",children:V.logoutAt?new Date(V.logoutAt).toLocaleString():"-"}),p.jsx(Jr,{className:"text-sm",children:V.sessionDuration||M(V.loginAt,V.logoutAt)}),p.jsx(Jr,{children:p.jsx(Jt,{className:V.isSuccessful?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:V.isSuccessful?"Success":"Failed"})})]},V.id))})]})})]})}),p.jsx(Vr,{value:"statistics",className:"space-y-4",children:e&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsx(er,{children:p.jsx(Yt,{children:"Sessions by Department"})}),p.jsx(tt,{children:p.jsx("div",{className:"space-y-2",children:Object.entries(e.sessionsByDepartment).map(([V,B])=>p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:V}),p.jsx(Jt,{variant:"outline",children:B})]},V))})})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsx(er,{children:p.jsx(Yt,{children:"Session Summary"})}),p.jsx(tt,{children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"This Week"}),p.jsx("span",{className:"font-medium",children:e.totalSessionsThisWeek})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"This Month"}),p.jsx("span",{className:"font-medium",children:e.totalSessionsThisMonth})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Unique Users (Week)"}),p.jsx("span",{className:"font-medium",children:e.uniqueUsersThisWeek})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Unique Users (Month)"}),p.jsx("span",{className:"font-medium",children:e.uniqueUsersThisMonth})]})]})})]})]})})]}),p.jsx(Hn,{open:n,onOpenChange:l,children:p.jsxs(jn,{children:[p.jsxs(os,{children:[p.jsx(as,{children:"Terminate Session"}),p.jsx(Ss,{children:"Are you sure you want to terminate this session? The user will be logged out immediately."})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Ve,{variant:"destructive",onClick:()=>x(o),children:"Terminate Session"}),p.jsx(Ve,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})})]})}function P8({currentUser:_}){const d=()=>{switch(_.role){case"admin":return p.jsx(Eo,{className:"h-5 w-5 text-red-400"});case"er":return p.jsx(Pr,{className:"h-5 w-5 text-blue-400"});case"billing":return p.jsx(Wl,{className:"h-5 w-5 text-green-400"});default:return p.jsx(Pr,{className:"h-5 w-5"})}},e=()=>{switch(_.role){case"admin":return p.jsx(Jt,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"Administrator"});case"er":return p.jsx(Jt,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"HR Manager"});case"billing":return p.jsx(Jt,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Finance Manager"});default:return p.jsx(Jt,{variant:"secondary",children:_.role})}};return p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsx(er,{className:"pb-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:d()}),p.jsxs("div",{children:[p.jsx(Yt,{className:"text-lg",children:_.name}),p.jsxs(Nr,{children:["@",_.username]})]})]}),e()]})}),p.jsx(tt,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Module Access Permissions"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Employee Relations"}),_.permissions.canAccessER?p.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[p.jsx(en,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Granted"})]}):p.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[p.jsx(ma,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Denied"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Billing & Timesheet"}),_.permissions.canAccessBilling?p.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[p.jsx(en,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Granted"})]}):p.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[p.jsx(ma,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Denied"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm",children:"Admin Functions"}),_.permissions.isAdmin?p.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[p.jsx(en,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Granted"})]}):p.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[p.jsx(ma,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Denied"})]})]})]}),_.permissions.isAdmin&&p.jsxs("div",{className:"mt-4 p-2 bg-red-500/10 border border-red-500/20 rounded-md",children:[p.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[p.jsx(Eo,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs font-medium",children:"Admin Privileges Active"})]}),p.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Full system access and user management"})]})]})})]})}function D8({onNavigate:_}){const{user:d}=Cn();if(!d)return null;const e=()=>{const c=new Date().getHours();return`${c<12?"Good morning":c<18?"Good afternoon":"Good evening"}, ${d.name}!`},h=()=>{const c=[];return d.permissions.canAccessER&&c.push({title:"Employee Relations",description:"Generate and manage employee letters",icon:p.jsx(Pr,{className:"h-6 w-6 text-blue-400"}),onClick:()=>_("er","dashboard"),color:"bg-blue-500/20 border-blue-500/30 hover:bg-blue-500/30"}),d.permissions.canAccessBilling&&c.push({title:"Billing & Timesheet",description:"Process timesheets and manage billing",icon:p.jsx(Wl,{className:"h-6 w-6 text-green-400"}),onClick:()=>_("billing","dashboard"),color:"bg-green-500/20 border-green-500/30 hover:bg-green-500/30"}),c},m=()=>d.permissions.isAdmin?[{label:"Total Users",value:"24",icon:p.jsx(Pr,{className:"h-4 w-4"})},{label:"System Uptime",value:"99.9%",icon:p.jsx(fa,{className:"h-4 w-4"})},{label:"Storage Used",value:"67%",icon:p.jsx(xo,{className:"h-4 w-4"})},{label:"Active Sessions",value:"12",icon:p.jsx(gn,{className:"h-4 w-4"})}]:d.permissions.canAccessER?[{label:"Letters Generated",value:"156",icon:p.jsx(Pr,{className:"h-4 w-4"})},{label:"Pending Requests",value:"8",icon:p.jsx(gn,{className:"h-4 w-4"})},{label:"This Month",value:"42",icon:p.jsx(xo,{className:"h-4 w-4"})},{label:"Success Rate",value:"98%",icon:p.jsx(fa,{className:"h-4 w-4"})}]:[{label:"Timesheets Processed",value:"234",icon:p.jsx(Wl,{className:"h-4 w-4"})},{label:"Pending Downloads",value:"5",icon:p.jsx(gn,{className:"h-4 w-4"})},{label:"This Month",value:"67",icon:p.jsx(xo,{className:"h-4 w-4"})},{label:"Success Rate",value:"96%",icon:p.jsx(fa,{className:"h-4 w-4"})}];return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:e()}),p.jsxs("p",{className:"text-muted-foreground mt-2",children:["Welcome to DocHub. ",d.permissions.isAdmin?"You have full administrative access to the system.":"Here's what you can do with your current permissions."]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsx(P8,{currentUser:d})}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(fa,{className:"h-5 w-5 text-neon-blue"}),"Quick Overview"]}),p.jsx(Nr,{children:d.permissions.isAdmin?"System-wide statistics and metrics":"Your activity and performance metrics"})]}),p.jsx(tt,{children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m().map((c,s)=>p.jsxs("div",{className:"text-center p-4 glass-panel rounded-lg border-glass-border",children:[p.jsx("div",{className:"flex justify-center mb-2 text-neon-blue",children:c.icon}),p.jsx("div",{className:"text-2xl font-bold",children:c.value}),p.jsx("div",{className:"text-sm text-muted-foreground",children:c.label})]},s))})})]})})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsxs(er,{children:[p.jsx(Yt,{children:"Quick Actions"}),p.jsx(Nr,{children:"Access the modules you have permissions for"})]}),p.jsx(tt,{children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h().map((c,s)=>p.jsx("div",{className:`p-6 rounded-lg border cursor-pointer transition-all duration-300 ${c.color}`,onClick:c.onClick,children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"p-2 glass-panel rounded-lg border-glass-border",children:c.icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-1",children:c.title}),p.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})]})},s)),(!d.permissions.canAccessER||!d.permissions.canAccessBilling)&&p.jsx("div",{className:"p-6 rounded-lg border border-muted bg-muted/10 opacity-50",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"p-2 glass-panel rounded-lg border-glass-border",children:p.jsx(Eo,{className:"h-6 w-6 text-muted-foreground"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-1 text-muted-foreground",children:d.permissions.canAccessER?"Billing & Timesheet":"Employee Relations"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Access restricted - Contact administrator for permissions"})]})]})})]})})]}),d.permissions.isAdmin&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx(Eo,{className:"h-5 w-5 text-red-400"}),"System Health"]})}),p.jsxs(tt,{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm",children:"Database Status"}),p.jsx("span",{className:"text-green-400 text-sm",children:"Healthy"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm",children:"API Response Time"}),p.jsx("span",{className:"text-neon-blue text-sm",children:"125ms"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm",children:"Active Users"}),p.jsx("span",{className:"text-neon-green text-sm",children:"12"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm",children:"Error Rate"}),p.jsx("span",{className:"text-yellow-400 text-sm",children:"0.1%"})]})]})]}),p.jsxs(et,{className:"glass-panel border-glass-border",children:[p.jsx(er,{children:p.jsx(Yt,{children:"Recent Activity"})}),p.jsxs(tt,{className:"space-y-3",children:[p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-blue-400",children:"HR Manager"})," generated document",p.jsx("div",{className:"text-muted-foreground text-xs",children:"2 minutes ago"})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-green-400",children:"Finance Manager"})," processed timesheet batch",p.jsx("div",{className:"text-muted-foreground text-xs",children:"15 minutes ago"})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-neon-blue",children:"System"})," completed automated backup",p.jsx("div",{className:"text-muted-foreground text-xs",children:"1 hour ago"})]})]})]})]})]})}function db({title:_}){return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:_}),p.jsx("p",{className:"text-muted-foreground",children:"This page is under development"})]})}),p.jsx("div",{className:"glass-panel border-glass-border rounded-lg p-12 text-center",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"mx-auto w-24 h-24 bg-neon-blue/20 rounded-full flex items-center justify-center",children:p.jsx("div",{className:"text-4xl",children:"🚧"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold",children:_}),p.jsx("p",{className:"text-muted-foreground mt-2",children:"This feature is coming soon! Our development team is working hard to bring you this functionality."})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-neon-blue",children:[p.jsx("div",{className:"w-2 h-2 bg-neon-blue rounded-full animate-pulse"}),"Under Development"]})})]})})]})}function vo({module:_}){return p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),p.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this module"})]})}),p.jsx("div",{className:"glass-panel border-glass-border rounded-lg p-12 text-center",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"mx-auto w-24 h-24 bg-red-500/20 rounded-full flex items-center justify-center",children:p.jsx("div",{className:"text-4xl",children:"🔒"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-red-400",children:"Unauthorized Access"}),p.jsxs("p",{className:"text-muted-foreground mt-2",children:["You don't have permission to access ",p.jsx("strong",{children:_}),". Please contact your administrator to request access."]})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-red-400",children:[p.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),"Access Restricted"]})})]})})]})}function O8({open:_,onOpenChange:d,letterType:e,onTemplateSelect:h,onComplete:m,initialTemplate:c=null,initialSignature:s=null}){const[i,r]=Z.useState([]),[t,n]=Z.useState([]),[l,o]=Z.useState(!1),[a,g]=Z.useState(null),[b,f]=Z.useState(""),[v,x]=Z.useState(!1),[j,C]=Z.useState(null),[M,$]=Z.useState(""),[V,B]=Z.useState(!1),[U,q]=Z.useState("existing"),[Y,W]=Z.useState("existing"),R=Be.useRef(null),D=Be.useRef(null),[E,w]=Z.useState(1),[k,S]=Z.useState(c),[N,A]=Z.useState(s);Z.useEffect(()=>{_&&(P(),L(),c&&s?(console.log("🔍 [MultiStepTemplateDialog] Both template and signature provided, starting at step 3"),w(3),S(c),A(s)):c?(console.log("🔍 [MultiStepTemplateDialog] Template provided, starting at step 2"),w(2),S(c),A(s)):(console.log("🔍 [MultiStepTemplateDialog] No initial values, starting at step 1"),w(1),S(null),A(null)))},[_,e,c,s]);const P=async()=>{o(!0);try{const le=await Bs.getTemplates(e);r(le)}catch(le){console.error("Failed to load templates:",le)}finally{o(!1)}},L=async()=>{try{console.log("🔍 [MultiStepTemplateDialog] Loading signatures...");const le=await Bs.getSignatures();console.log("🔍 [MultiStepTemplateDialog] Signatures loaded:",le),console.log("🔍 [MultiStepTemplateDialog] Number of signatures:",le.length),n(le)}catch(le){console.error("❌ [MultiStepTemplateDialog] Failed to load signatures:",le)}},X=le=>{const ge=le.target.files?.[0];ge&&(g(ge),f(ge.name.replace(/\.[^/.]+$/,"")))},K=()=>{R.current?.click()},te=le=>{const ge=le.target.files?.[0];ge&&(C(ge),$(ge.name.replace(/\.[^/.]+$/,"")))},z=()=>{D.current?.click()},Q=async()=>{if(!(!a||!b.trim())){x(!0);try{const le=await Bs.uploadTemplate(a,e,b.trim());r([le,...i]),g(null),f(""),q("existing"),setTimeout(()=>{ee(le)},500)}catch(le){console.error("Failed to upload template:",le)}finally{x(!1)}}},O=async()=>{if(console.log("🔍 [MultiStepTemplateDialog] Starting signature upload"),console.log("🔍 [MultiStepTemplateDialog] Upload file:",j),console.log("🔍 [MultiStepTemplateDialog] Upload name:",M),!j||!M.trim()){console.warn("⚠️ [MultiStepTemplateDialog] Missing file or name for signature upload");return}B(!0);try{console.log("🔍 [MultiStepTemplateDialog] Calling documentService.uploadSignature");const le=await Bs.uploadSignature(j,M.trim());console.log("✅ [MultiStepTemplateDialog] Signature uploaded successfully:",le),n([le,...t]),C(null),$(""),W("existing"),console.log("🔍 [MultiStepTemplateDialog] Auto-selecting uploaded signature"),A(le),w(3)}catch(le){console.error("❌ [MultiStepTemplateDialog] Failed to upload signature:",le)}finally{B(!1)}},I=le=>{le.fileUrl&&window.open(le.fileUrl,"_blank")},H=async le=>{try{if(le.fileUrl){const ge=document.createElement("a");ge.href=le.fileUrl,ge.download=le.fileName||`${le.name}.docx`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)}}catch(ge){console.error("Failed to download template:",ge)}},ee=le=>{console.log("🔍 [MultiStepTemplateDialog] Template selected:",le),S(le),h(le),w(2)},ne=le=>{console.log("🔍 [MultiStepTemplateDialog] Signature selected:",le),A(le),w(3)},re=()=>{console.log("🔍 [MultiStepTemplateDialog] Complete button clicked"),console.log("🔍 [MultiStepTemplateDialog] Selected template:",k),console.log("🔍 [MultiStepTemplateDialog] Selected signature:",N),k?(m(k,N),d(!1)):console.error("❌ [MultiStepTemplateDialog] No template selected")},oe=()=>{E>1&&w(E-1)},he=()=>{E<3&&w(E+1)},pe=le=>({transfer_letter:"Transfer Letter",mutual_cessation:"Mutual Cessation Letter",confirmation_letter:"Confirmation Letter",experience_letter:"Experience Letter"})[le]||le.replace(/_/g," ").replace(/\b\w/g,Ne=>Ne.toUpperCase()),ie=le=>{if(!le)return"Unknown date";try{const ge=typeof le=="string"?new Date(le):le;return isNaN(ge.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(ge)}catch(ge){return console.warn("Error formatting date:",ge),"Invalid date"}},ue=()=>{switch(E){case 1:return p.jsx("div",{className:"flex flex-col h-full",children:p.jsxs(Li,{value:U,onValueChange:q,className:"w-full flex flex-col h-full",children:[p.jsxs(Fi,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[p.jsx(Hr,{value:"existing",children:"Existing Templates"}),p.jsx(Hr,{value:"upload",children:"Upload New"})]}),p.jsx(Vr,{value:"existing",className:"flex-1 min-h-0 mt-4",children:l?p.jsx("div",{className:"flex items-center justify-center py-8",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length===0?p.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[p.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsxs("p",{children:["No templates found for ",pe(e).toLowerCase(),"."]}),p.jsx("p",{className:"text-sm",children:"Upload a new template to get started."})]}):p.jsx(mn,{className:"h-full pr-4",children:p.jsx("div",{className:"grid gap-4",children:i.map(le=>p.jsx(et,{className:`dialog-content-solid hover:bg-muted/20 transition-colors ${k?.id===le.id?"ring-2 ring-primary":""}`,children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>ee(le),children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(lr,{className:"h-5 w-5 text-primary"}),p.jsx(Yt,{className:"text-lg",children:le.name}),p.jsx(Jt,{variant:"secondary",className:"text-xs",children:le.type}),k?.id===le.id&&p.jsx(yo,{className:"h-4 w-4 text-primary"})]}),p.jsx(Nr,{className:"mb-4",children:le.description||"No description available"}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Pr,{className:"h-3 w-3"}),p.jsx("span",{children:le.createdBy})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(_v,{className:"h-3 w-3"}),p.jsx("span",{children:ie(le.createdAt)})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{className:"text-xs font-medium text-muted-foreground",children:"Available Placeholders:"}),p.jsxs("div",{className:"flex flex-wrap gap-1",children:[(le.placeholders||[]).slice(0,8).map(ge=>p.jsx(Jt,{variant:"outline",className:"text-xs font-mono",children:"{"+ge+"}"},ge)),(le.placeholders||[]).length>8&&p.jsxs(Jt,{variant:"outline",className:"text-xs",children:["+",(le.placeholders||[]).length-8," more"]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[p.jsxs(Ve,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:ge=>{ge.stopPropagation(),I(le)},children:[p.jsx(Un,{className:"h-3 w-3"}),"Preview"]}),p.jsxs(Ve,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:ge=>{ge.stopPropagation(),H(le)},children:[p.jsx(No,{className:"h-3 w-3"}),"Download"]})]})]})})},le.id))})})}),p.jsx(Vr,{value:"upload",className:"flex-1 min-h-0 mt-4",children:p.jsx(mn,{className:"h-full pr-4",children:p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"template-file",children:"Template File"}),p.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center cursor-pointer hover:border-muted-foreground/50 transition-colors",onClick:K,children:[p.jsx("input",{ref:R,type:"file",accept:".docx",onChange:X,className:"hidden"}),a?p.jsxs("div",{className:"space-y-2",children:[p.jsx(lr,{className:"h-8 w-8 mx-auto text-primary"}),p.jsx("p",{className:"font-medium",children:a.name}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(a.size/1024).toFixed(1)," KB"]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx(es,{className:"h-8 w-8 mx-auto text-muted-foreground"}),p.jsx("p",{className:"font-medium",children:"Click to select a .docx file"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Only Word documents (.docx) are supported"})]})]})]}),p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"template-name",children:"Template Name"}),p.jsx(Ir,{id:"template-name",placeholder:"Enter a name for this template",value:b,onChange:le=>f(le.target.value)})]}),p.jsx(Ve,{onClick:Q,disabled:!a||!b.trim()||v,className:"w-full",children:v?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(es,{className:"h-4 w-4 mr-2"}),"Upload Template"]})})]})})})})]})});case 2:return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center py-4 flex-shrink-0",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select Signature (Optional)"}),p.jsx("p",{className:"text-muted-foreground",children:"Choose a signature to include in the generated letters, or skip this step."})]}),p.jsxs(Li,{value:Y,onValueChange:W,className:"flex-1 min-h-0 flex flex-col",children:[p.jsxs(Fi,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[p.jsx(Hr,{value:"existing",children:"Existing Signatures"}),p.jsx(Hr,{value:"upload",children:"Upload New"})]}),p.jsx(Vr,{value:"existing",className:"flex-1 min-h-0 mt-4",children:(console.log("🔍 [MultiStepTemplateDialog] Rendering signatures section, count:",t.length),console.log("🔍 [MultiStepTemplateDialog] Signatures data:",t),t.length===0?p.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[p.jsx(Pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No signatures available."}),p.jsx("p",{className:"text-sm",children:"You can skip this step and add signatures later."})]}):p.jsx(mn,{className:"h-full pr-4",children:p.jsxs("div",{className:"grid gap-4",children:[p.jsx(et,{className:`dialog-content-solid cursor-pointer hover:bg-muted/20 transition-colors ${N===null?"ring-2 ring-primary":""}`,onClick:()=>A(null),children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(ws,{className:"h-5 w-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx(Yt,{className:"text-lg",children:"No Signature"}),p.jsx(Nr,{children:"Generate letters without signature"})]}),N===null&&p.jsx(yo,{className:"h-4 w-4 text-primary ml-auto"})]})})},"no-signature"),t.map(le=>p.jsx(et,{className:`dialog-content-solid cursor-pointer hover:bg-muted/20 transition-colors ${N?.id===le.id?"ring-2 ring-primary":""}`,onClick:()=>ne(le),children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Pr,{className:"h-5 w-5 text-primary"}),p.jsxs("div",{className:"flex-1",children:[p.jsx(Yt,{className:"text-lg",children:le.name}),p.jsx(Nr,{children:le.description||"Digital signature"})]}),N?.id===le.id&&p.jsx(yo,{className:"h-4 w-4 text-primary"})]})})},le.id))]})}))}),p.jsx(Vr,{value:"upload",className:"flex-1 min-h-0 mt-4",children:p.jsx(mn,{className:"h-full pr-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"signature-file",className:"text-sm font-medium",children:"Signature File"}),p.jsxs("div",{className:"border-2 border-dashed border-primary/30 rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 transition-colors bg-muted/5",onClick:z,children:[p.jsx("input",{ref:D,type:"file",accept:".png,.jpg,.jpeg",onChange:te,className:"hidden"}),j?p.jsxs("div",{className:"space-y-2",children:[p.jsx(Pr,{className:"h-8 w-8 mx-auto text-primary"}),p.jsx("p",{className:"font-medium",children:j.name}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(j.size/1024).toFixed(1)," KB"]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx(es,{className:"h-10 w-10 mx-auto text-primary"}),p.jsx("p",{className:"font-medium text-primary",children:"Click to select an image file"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG, and JPEG files are supported"})]})]})]}),p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"signature-name",children:"Signature Name"}),p.jsx(Ir,{id:"signature-name",placeholder:"Enter a name for this signature",value:M,onChange:le=>$(le.target.value)})]}),p.jsx(Ve,{onClick:O,disabled:!j||!M.trim()||V,className:"w-full",children:V?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(es,{className:"h-4 w-4 mr-2"}),"Upload Signature"]})})]})})})]})]});case 3:return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center py-4 flex-shrink-0",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Generate"}),p.jsx("p",{className:"text-muted-foreground",children:"Review your selections and generate the letters."})]}),p.jsx(mn,{className:"flex-1 pr-4",children:p.jsx("div",{className:"space-y-4",children:p.jsx(et,{children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qt,{className:"text-sm font-medium text-muted-foreground",children:"Selected Template"}),p.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[p.jsx(lr,{className:"h-4 w-4 text-primary"}),p.jsx("span",{className:"font-medium",children:k?.name})]})]}),p.jsxs("div",{children:[p.jsx(qt,{className:"text-sm font-medium text-muted-foreground",children:"Selected Signature"}),p.jsx("div",{className:"flex items-center gap-3 mt-1",children:N?p.jsxs(p.Fragment,{children:[p.jsx(Pr,{className:"h-4 w-4 text-primary"}),p.jsx("span",{className:"font-medium",children:N.name})]}):p.jsxs(p.Fragment,{children:[p.jsx(ws,{className:"h-4 w-4 text-muted-foreground"}),p.jsx("span",{className:"text-muted-foreground",children:"No signature"})]})})]})]})})})})})]});default:return null}},de=()=>{switch(E){case 1:return`Select ${pe(e)} Template`;case 2:return"Select Signature (Optional)";case 3:return"Ready to Generate";default:return"Template Selection"}},ve=()=>{switch(E){case 1:return`Choose a template for generating ${pe(e).toLowerCase()}s or upload a new one.`;case 2:return"Choose a signature to include in the generated letters, or skip this step.";case 3:return"Review your selections and generate the letters.";default:return""}};return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"max-w-6xl h-[90vh] dialog-panel flex flex-col",children:[p.jsxs(os,{className:"flex-shrink-0",children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(lr,{className:"h-5 w-5"}),de()]}),p.jsx(Ss,{children:ve()})]}),p.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:ue()}),p.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between pt-4 border-t",children:[p.jsxs(Ve,{variant:"outline",onClick:oe,disabled:E===1,className:"flex items-center gap-2",children:[p.jsx(Qm,{className:"h-4 w-4"}),"Back"]}),p.jsx("div",{className:"flex items-center gap-2",children:[1,2,3].map(le=>p.jsx("div",{className:`w-2 h-2 rounded-full ${le<=E?"bg-primary":"bg-muted"}`},le))}),E<3?p.jsxs(Ve,{onClick:he,disabled:E===1&&!k,className:"flex items-center gap-2",children:["Next",p.jsx(e0,{className:"h-4 w-4"})]}):p.jsxs(Ve,{onClick:re,disabled:!k,className:"flex items-center gap-2",children:[p.jsx(yo,{className:"h-4 w-4"}),"Generate Letters"]})]})]})})}function L8({open:_,onOpenChange:d,template:e,signature:h,employees:m,tabId:c,onGenerate:s,onDownload:i}){console.log("🔍 [SimplePreviewDialog] Dialog opened"),console.log("🔍 [SimplePreviewDialog] Template:",e),console.log("🔍 [SimplePreviewDialog] Signature:",h),console.log("🔍 [SimplePreviewDialog] Employees:",m),console.log("🔍 [SimplePreviewDialog] TabId:",c);const[r,t]=Z.useState(m[0]||null),[n,l]=Z.useState(null),[o,a]=Z.useState(!1);Z.useEffect(()=>{m.length>0&&!r&&t(m[0])},[m,r]),Z.useEffect(()=>{r&&e&&c&&g()},[r,e,h,c]);const g=async()=>{if(!(!r||!e||!c)){console.log("🔍 [SimplePreviewDialog] Generating PDF preview for:",r.name),console.log("🔍 [SimplePreviewDialog] Selected employee details:",{id:r.id,employeeId:r.employeeId,name:r.name,client:r.client,designation:r.designation}),a(!0);try{const f={employeeId:r.employeeId,templateId:e.id,signaturePath:h?.fileId||null,employeeData:r.data||{}};console.log("🔍 [SimplePreviewDialog] Preview request data:",f),console.log("🔍 [SimplePreviewDialog] Selected employee details:",r),console.log("🔍 [SimplePreviewDialog] Employee data keys:",Object.keys(r.data||{})),console.log("🔍 [SimplePreviewDialog] Employee data values:",r.data),console.log("🔍 [SimplePreviewDialog] Template details:",e),console.log("🔍 [SimplePreviewDialog] Signature details:",h),console.log("🔍 [SimplePreviewDialog] Making request to:",`/Tab/${c}/generate-preview`);const v=await Nt.requestBinary(`/Tab/${c}/generate-preview`,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json"}});console.log("✅ [SimplePreviewDialog] Preview response received:",v);const x=new Blob([v],{type:"application/pdf"}),j=URL.createObjectURL(x);n&&URL.revokeObjectURL(n),l(j),console.log("✅ [SimplePreviewDialog] PDF preview URL created:",j)}catch(f){console.error("❌ [SimplePreviewDialog] Error generating preview:",f),f instanceof Error&&(console.error("❌ [SimplePreviewDialog] Error message:",f.message),console.error("❌ [SimplePreviewDialog] Error stack:",f.stack)),console.error("❌ [SimplePreviewDialog] Failed to generate PDF preview. Check console for details.")}finally{a(!1)}}},b=f=>{console.log("🔍 [SimplePreviewDialog] Employee selected:",f),t(f)};return Z.useEffect(()=>()=>{n&&URL.revokeObjectURL(n)},[n]),p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"max-w-7xl h-[90vh] dialog-panel flex flex-col",children:[p.jsxs(os,{className:"flex-shrink-0",children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(lr,{className:"h-5 w-5"}),"Letter Preview - ",e.name]}),p.jsx(Ss,{children:"Preview and generate letters for selected employees"})]}),p.jsxs("div",{className:"flex flex-1 gap-6 min-h-0 overflow-hidden",children:[p.jsxs("div",{className:"w-80 space-y-4 overflow-y-auto min-h-0 pr-2",children:[p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(lr,{className:"h-4 w-4"}),"Selected Template"]})}),p.jsxs(tt,{className:"space-y-2",children:[p.jsx("div",{className:"text-sm font-medium",children:e.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:e.type}),p.jsx(Jt,{variant:"secondary",className:"text-xs",children:e.fileName})]})]}),p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(Pr,{className:"h-4 w-4"}),"Selected Signature"]})}),p.jsx(tt,{className:"space-y-2",children:h?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-sm font-medium",children:h.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:h.fileName})]}):p.jsx("div",{className:"text-sm text-muted-foreground",children:"No signature selected"})})]}),p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(Pr,{className:"h-4 w-4"}),"Selected Employees (",m.length,")"]})}),p.jsx(tt,{className:"p-0",children:p.jsx(mn,{className:"h-64",children:p.jsx("div",{className:"space-y-1 p-4",children:m.map((f,v)=>p.jsxs("div",{className:`p-2 rounded cursor-pointer transition-colors ${r?.id===f.id?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,onClick:()=>b(f),children:[p.jsx("div",{className:"text-sm font-medium",children:f.name}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.employeeId," • ",f.client]})]},f.id))})})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Ve,{onClick:s,className:"w-full",disabled:m.length===0,children:[p.jsx(lr,{className:"h-4 w-4 mr-2"}),"Generate Letters (",m.length,")"]}),p.jsxs(Ve,{onClick:i,variant:"outline",className:"w-full",disabled:m.length===0,children:[p.jsx(No,{className:"h-4 w-4 mr-2"}),"Download All"]})]})]}),p.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:p.jsxs(et,{className:"h-full dialog-content-solid",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(Un,{className:"h-4 w-4"}),"Letter Preview"]}),p.jsx(Nr,{children:r?`Preview for ${r.name}`:"Select an employee to preview"})]}),p.jsx(tt,{className:"h-full overflow-hidden",children:r?p.jsx("div",{className:"h-full flex flex-col",children:o?p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(nn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Generating PDF preview..."})]})}):n?p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx("iframe",{src:`${n}#toolbar=0&navpanes=0&scrollbar=0&statusbar=0&messages=0&scrollbar=0&view=FitH`,className:"w-full h-full border-0",title:`Letter preview for ${r.name}`})}):p.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:p.jsxs("div",{className:"text-center",children:[p.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No preview available"}),p.jsx("p",{className:"text-sm",children:"Click on an employee to generate preview"})]})})}):p.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Select an employee to preview their letter"})]})})})]})})]})]})})}var F8="Separator",$m="horizontal",B8=["horizontal","vertical"],fb=Z.forwardRef((_,d)=>{const{decorative:e,orientation:h=$m,...m}=_,c=z8(h)?h:$m,i=e?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return p.jsx(Pt.div,{"data-orientation":c,...i,...m,ref:d})});fb.displayName=F8;function z8(_){return B8.includes(_)}var $8=fb;function hb({className:_,orientation:d="horizontal",decorative:e=!0,...h}){return p.jsx($8,{"data-slot":"separator-root",decorative:e,orientation:d,className:Et("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",_),...h})}var xf="Progress",wf=100,[U8,yS]=ls(xf),[H8,V8]=U8(xf),pb=Z.forwardRef((_,d)=>{const{__scopeProgress:e,value:h=null,max:m,getValueLabel:c=W8,...s}=_;(m||m===0)&&!Um(m)&&console.error(q8(`${m}`,"Progress"));const i=Um(m)?m:wf;h!==null&&!Hm(h,i)&&console.error(X8(`${h}`,"Progress"));const r=Hm(h,i)?h:null,t=sc(r)?c(r,i):void 0;return p.jsx(H8,{scope:e,value:r,max:i,children:p.jsx(Pt.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":sc(r)?r:void 0,"aria-valuetext":t,role:"progressbar","data-state":bb(r,i),"data-value":r??void 0,"data-max":i,...s,ref:d})})});pb.displayName=xf;var mb="ProgressIndicator",gb=Z.forwardRef((_,d)=>{const{__scopeProgress:e,...h}=_,m=V8(mb,e);return p.jsx(Pt.div,{"data-state":bb(m.value,m.max),"data-value":m.value??void 0,"data-max":m.max,...h,ref:d})});gb.displayName=mb;function W8(_,d){return`${Math.round(_/d*100)}%`}function bb(_,d){return _==null?"indeterminate":_===d?"complete":"loading"}function sc(_){return typeof _=="number"}function Um(_){return sc(_)&&!isNaN(_)&&_>0}function Hm(_,d){return sc(_)&&!isNaN(_)&&_<=d&&_>=0}function q8(_,d){return`Invalid prop \`max\` of value \`${_}\` supplied to \`${d}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wf}\`.`}function X8(_,d){return`Invalid prop \`value\` of value \`${_}\` supplied to \`${d}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var G8=pb,K8=gb;function _f({className:_,value:d,...e}){return p.jsx(G8,{"data-slot":"progress",className:Et("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",_),...e,children:p.jsx(K8,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(d||0)}%)`}})})}function Y8({open:_,onOpenChange:d,employees:e,onEmailsSent:h}){const{hasPermission:m}=Cn();if(!m("canAccessER"))return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsx(jn,{className:"max-w-4xl",children:p.jsx(vo,{module:"Email Composer"})})});const[c,s]=Z.useState([]),[i,r]=Z.useState([]),[t,n]=Z.useState(""),[l,o]=Z.useState(""),[a,g]=Z.useState([]),[b,f]=Z.useState(0),[v,x]=Z.useState(!1),[j,C]=Z.useState(0),[M,$]=Z.useState([]),[V,B]=Z.useState("compose"),[U,q]=Z.useState(!1),Y=Z.useRef(null);Z.useEffect(()=>{_&&(W(),R())},[_,e]);const W=async()=>{try{const[X,K]=await Promise.all([Bs.getTemplates(),Bs.getSignatures()]);s(X),r(K),X.length>0&&n(X[0].id),K.length>0&&o(K[0].id)}catch(X){console.error("Failed to load templates and signatures:",X)}},R=()=>{const X=e.map(K=>({employee:K,subject:`Document Request - ${K.name}`,content:`Dear ${K.name},

Please find attached your requested document.

Best regards,
HR Department`,attachments:[]}));g(X)},D=X=>{n(X);const K=c.find(te=>te.id===X);if(K){const te=a.map((z,Q)=>{const O=z.content!==E(K.content,z.employee),I=z.subject!==E(K.subject,z.employee);return{...z,subject:I?z.subject:E(K.subject,z.employee),content:O?z.content:E(K.content,z.employee)}});g(te)}},E=(X,K)=>X.replace(/\{EMPLOYEE_NAME\}/g,K.name).replace(/\{EMPLOYEE_ID\}/g,K.employeeId).replace(/\{COMPANY_NAME\}/g,"DocHub Technologies").replace(/\{DEPARTMENT\}/g,K.department).replace(/\{DESIGNATION\}/g,K.designation),w=(X,K,te)=>{const z=[...a];z[X]={...z[X],[K]:te},g(z)},k=async X=>{const K=X.target.files;if(!(!K||K.length===0)){q(!0);try{for(const te of Array.from(K)){const z={id:Date.now().toString()+Math.random(),fileName:te.name,fileUrl:URL.createObjectURL(te),fileSize:te.size,mimeType:te.type},Q=[...a];Q[b].attachments.push(z),g(Q)}}catch(te){console.error("Failed to upload attachment:",te)}finally{q(!1),Y.current&&(Y.current.value="")}}},S=()=>{Y.current&&Y.current.click()},N=async()=>{x(!0),C(0),B("sending");try{const X=await Nt.sendEmail({to:a.map(K=>K.employee.email).filter(K=>K),subject:a[0]?.subject||"Document Email",body:a[0]?.content||"Please find attached your document.",attachments:a.flatMap(K=>K.attachments.map(te=>te.fileUrl)),templateId:t||void 0});if(X.success){const K=a.map((te,z)=>({id:`job_${Date.now()}_${z}`,employeeId:te.employee.id,employeeName:te.employee.name,employeeEmail:te.employee.email,documentId:"DOC_"+Date.now()+"_"+te.employee.id,emailTemplateId:t||void 0,subject:te.subject,content:te.content,attachments:te.attachments,status:"sent",sentBy:"Current User",createdAt:new Date,sentAt:new Date}));$(K);for(let te=0;te<=100;te+=10)C(te),await new Promise(z=>setTimeout(z,200));h(K)}else throw new Error(X.error?.message||"Failed to send bulk emails")}catch(X){console.error("Failed to send emails:",X)}finally{x(!1)}},A=a[b],P=c.find(X=>X.id===t);i.find(X=>X.id===l);const L=X=>{if(X===0)return"0 B";const K=1024,te=["B","KB","MB","GB"],z=Math.floor(Math.log(X)/Math.log(K));return parseFloat((X/Math.pow(K,z)).toFixed(2))+" "+te[z]};return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"max-w-6xl h-[90vh] dialog-panel flex flex-col",children:[p.jsxs(os,{className:"flex-shrink-0",children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(Ur,{className:"h-5 w-5 text-neon-green"}),"Send Documents via Email"]}),p.jsxs(Ss,{children:["Compose and send emails with document attachments to ",e.length," employee",e.length!==1?"s":""]})]}),p.jsxs(Li,{value:V,onValueChange:B,className:"flex-1 flex flex-col min-h-0",children:[p.jsxs(Fi,{className:"grid w-full grid-cols-3",children:[p.jsx(Hr,{value:"compose",children:"Compose"}),p.jsx(Hr,{value:"preview",children:"Preview"}),p.jsx(Hr,{value:"sending",disabled:!v&&M.length===0,children:v?"Sending...":"Status"})]}),p.jsx(Vr,{value:"compose",className:"flex-1 mt-4 min-h-0",children:p.jsxs("div",{className:"flex gap-6 h-full min-h-0",children:[p.jsxs("div",{className:"w-80 space-y-4 overflow-y-auto min-h-0 pr-2",children:[p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsx(Yt,{className:"text-sm",children:"Email Template"})}),p.jsxs(tt,{className:"space-y-3",children:[p.jsxs(rs,{value:t,onValueChange:D,children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"Select template"})}),p.jsx($n,{children:c.map(X=>p.jsx(Ft,{value:X.id,children:X.name},X.id))})]}),P&&p.jsxs("div",{className:"text-xs text-muted-foreground",children:[p.jsxs("p",{children:["Subject: ",P.subject]}),p.jsxs("p",{className:"mt-1",children:["Placeholders: ",P.placeholders.join(", ")]})]})]})]}),p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-sm",children:["Recipients (",e.length,")"]})}),p.jsx(tt,{children:p.jsx(mn,{className:"h-64",children:p.jsx("div",{className:"space-y-2",children:e.map((X,K)=>p.jsx("div",{className:`p-3 dialog-content-solid rounded-lg cursor-pointer hover:bg-muted/20 transition-colors ${K===b?"ring-2 ring-neon-green":""}`,onClick:()=>f(K),children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-sm truncate",children:X.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:X.email||"No email"}),a[K]?.attachments.length>0&&p.jsxs(Jt,{variant:"outline",className:"text-xs mt-1",children:[a[K].attachments.length," attachment",a[K].attachments.length!==1?"s":""]})]}),!X.email&&p.jsx(sn,{className:"h-4 w-4 text-orange-400"})]})},X.id))})})})]})]}),p.jsx("div",{className:"flex-1 space-y-4 min-h-0 overflow-y-auto",children:A&&p.jsxs(et,{className:"dialog-content-solid",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(Pr,{className:"h-4 w-4"}),"Email for ",A.employee.name]}),p.jsx(Nr,{children:A.employee.email||"No email address available"})]}),p.jsxs(tt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx(qt,{className:"text-sm",children:"Attachments"}),p.jsxs("div",{className:"space-y-1",children:[A.attachments.length>0&&p.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:A.attachments.map(X=>p.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-muted/20 rounded text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[p.jsx(lr,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),p.jsx("span",{className:"truncate",children:X.fileName}),p.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:["(",L(X.fileSize),")"]})]}),p.jsx(Ve,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 flex-shrink-0",onClick:()=>{const K=[...a];K[b].attachments=K[b].attachments.filter(te=>te.id!==X.id),g(K)},children:p.jsx(ws,{className:"h-3 w-3"})})]},X.id))}),p.jsx(Ve,{variant:"outline",size:"sm",onClick:S,disabled:U,className:"w-full h-7 text-xs",children:U?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"mr-1 h-3 w-3 animate-spin"}),"Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(es,{className:"mr-1 h-3 w-3"}),"Add Files"]})}),p.jsx("input",{ref:Y,type:"file",multiple:!0,onChange:k,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"subject",children:"Subject"}),p.jsx(Ir,{id:"subject",value:A.subject,onChange:X=>w(b,"subject",X.target.value),placeholder:"Email subject"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"content",children:"Message"}),p.jsx(Ta,{id:"content",rows:10,value:A.content,onChange:X=>w(b,"content",X.target.value),placeholder:"Email content",className:"resize-none"})]})]})]})})]})}),p.jsx(Vr,{value:"preview",className:"flex-1 mt-4 min-h-0",children:p.jsxs(et,{className:"dialog-content-solid h-full flex flex-col",children:[p.jsx(er,{className:"flex-shrink-0",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Yt,{className:"text-sm",children:"Email Preview"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",disabled:b===0,onClick:()=>f(X=>X-1),children:"← Previous"}),p.jsxs("span",{className:"text-xs px-2",children:[b+1," / ",e.length]}),p.jsx(Ve,{size:"sm",variant:"outline",disabled:b===e.length-1,onClick:()=>f(X=>X+1),children:"Next →"})]})]})}),p.jsx(tt,{className:"flex-1 min-h-0 overflow-y-auto",children:A&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx(qt,{className:"text-xs text-muted-foreground",children:"To:"}),p.jsx("p",{children:A.employee.email||"No email"})]}),p.jsxs("div",{children:[p.jsx(qt,{className:"text-xs text-muted-foreground",children:"Subject:"}),p.jsx("p",{children:A.subject})]})]}),p.jsx(hb,{}),p.jsxs("div",{className:"bg-background text-foreground p-4 rounded border",children:[p.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:A.content}),A.attachments.length>0&&p.jsxs("div",{className:"mt-4 pt-4 border-t",children:[p.jsxs("p",{className:"text-sm font-medium mb-2",children:["Attachments (",A.attachments.length,"):"]}),p.jsx("ul",{className:"text-sm space-y-1",children:A.attachments.map(X=>p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx(r0,{className:"h-3 w-3"}),X.fileName," (",L(X.fileSize),")"]},X.id))})]})]})]})})]})}),p.jsx(Vr,{value:"sending",className:"flex-1 mt-4 min-h-0",children:p.jsxs(et,{className:"dialog-content-solid h-full flex flex-col",children:[p.jsxs(er,{className:"flex-shrink-0",children:[p.jsx(Yt,{className:"text-sm",children:"Email Status"}),p.jsx(Nr,{children:v?"Sending emails...":`Sent ${M.length} emails`})]}),p.jsxs(tt,{className:"flex-1 min-h-0 overflow-y-auto",children:[v&&p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsx(_f,{value:j,className:"w-full"}),p.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[j,"% complete"]})]}),p.jsx(mn,{className:"h-96",children:p.jsx("div",{className:"space-y-3",children:M.map((X,K)=>p.jsxs("div",{className:"flex items-center justify-between p-3 dialog-content-solid rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${X.status==="sent"?"bg-green-500/20":X.status==="failed"?"bg-red-500/20":X.status==="sending"?"bg-blue-500/20":"bg-orange-500/20"}`,children:X.status==="sent"?p.jsx(en,{className:"h-4 w-4 text-green-400"}):X.status==="failed"?p.jsx(sn,{className:"h-4 w-4 text-red-400"}):X.status==="sending"?p.jsx(nn,{className:"h-4 w-4 animate-spin text-blue-400"}):p.jsx(Ur,{className:"h-4 w-4 text-orange-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:X.employeeName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:X.employeeEmail})]})]}),p.jsx(Jt,{variant:"outline",className:X.status==="sent"?"text-green-400 border-green-500/30":X.status==="failed"?"text-red-400 border-red-500/30":X.status==="sending"?"text-blue-400 border-blue-500/30":"text-orange-400 border-orange-500/30",children:X.status})]},X.id))})})]})]})})]}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[p.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.filter(X=>X.email).length," of ",e.length," employees have email addresses"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),V==="compose"&&p.jsxs(Ve,{onClick:()=>B("preview"),className:"neon-border-blue bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-950 dark:text-blue-300 dark:hover:bg-blue-900",children:[p.jsx(Un,{className:"h-4 w-4 mr-2"}),"Preview All"]}),(V==="preview"||V==="compose")&&p.jsx(Ve,{onClick:N,disabled:v||e.filter(X=>X.email).length===0,className:"neon-border-green bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-950 dark:text-green-300 dark:hover:bg-green-900",children:v?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):p.jsxs(p.Fragment,{children:[p.jsx($d,{className:"h-4 w-4 mr-2"}),"Send All (",e.filter(X=>X.email).length,")"]})})]})]})]})})}function Z8({open:_,onOpenChange:d,employees:e,tabId:h,onEmailsSent:m,emailTemplate:c="",emailTemplateSubject:s=""}){const{user:i}=Cn(),[r,t]=Z.useState([]),[n,l]=Z.useState([]),[o,a]=Z.useState([]),[g,b]=Z.useState(0),[f,v]=Z.useState(!1),[x,j]=Z.useState(0),[C,M]=Z.useState([]),[$,V]=Z.useState("compose"),[B,U]=Z.useState(!1),[q,Y]=Z.useState([]),[W,R]=Z.useState(!1),D=Z.useRef(null);Z.useEffect(()=>(_?(w(),o.length===0&&k(),E()):(a([]),M([]),b(0)),()=>{ur.emailStatusCallback&&(ur.offEmailStatusUpdated(ur.emailStatusCallback),ur.emailStatusCallback=null)}),[_]),Z.useEffect(()=>{_&&e.length>0&&o.length===0&&(console.log("🔄 [EMAIL-DIALOG] Initializing email data from employees change"),k())},[e]),Z.useEffect(()=>{_&&e.length>0&&o.length>0&&console.log("🔄 [EMAIL-DIALOG] Templates changed but email data exists, skipping initialization")},[c,s]);const E=async()=>{try{await ur.start();const H=ee=>{console.log("📧 [ENHANCED-EMAIL] Received email status update:",ee),M(ne=>ne.map(re=>re.id===ee.emailJobId?{...re,status:ee.status}:re)),ee.status!=="pending"&&It.success(`Email status updated to ${ee.status} for ${ee.employeeName||"employee"}`)};ur.onEmailStatusUpdated(H),ur.emailStatusCallback=H,i?.id&&await ur.joinUserGroup(i.id)}catch(H){console.error("Failed to initialize SignalR for email dialog:",H)}},w=async()=>{try{const[H,ee]=await Promise.all([Bs.getTemplates(),Bs.getSignatures()]);t(H),l(ee)}catch(H){console.error("Failed to load templates and signatures:",H),It.error("Failed to load templates and signatures")}},k=()=>{if(console.log("🔄 [EMAIL-DIALOG] initializeEmailData called - this will reset form data!"),console.log("🔄 [EMAIL-DIALOG] Current emailData length:",o.length),console.log("🔄 [EMAIL-DIALOG] Employees length:",e.length),o.some((ne,re)=>ne&&(L(re)||X(re)))){console.log("⚠️ [EMAIL-DIALOG] User has made changes, skipping initialization to preserve edits");return}const ee=e.map(ne=>{let re=c||`Dear ${ne.name},

Please find attached your requested document.

Best regards,
HR Department`,oe=s||`Document Request - ${ne.name}`;return c&&(re=c.replace(/\{employeeName\}/g,ne.name||"Employee").replace(/\{employeeEmail\}/g,ne.email||"").replace(/\{employeeId\}/g,ne.employeeId||"").replace(/\{department\}/g,ne.department||"").replace(/\{designation\}/g,ne.designation||"").replace(/\{firstName\}/g,ne.firstName||ne.name?.split(" ")[0]||"").replace(/\{lastName\}/g,ne.lastName||ne.name?.split(" ").slice(1).join(" ")||"")),s&&(oe=s.replace(/\{employeeName\}/g,ne.name||"Employee").replace(/\{employeeEmail\}/g,ne.email||"").replace(/\{employeeId\}/g,ne.employeeId||"").replace(/\{department\}/g,ne.department||"").replace(/\{designation\}/g,ne.designation||"").replace(/\{firstName\}/g,ne.firstName||ne.name?.split(" ")[0]||"").replace(/\{lastName\}/g,ne.lastName||ne.name?.split(" ").slice(1).join(" ")||"")),{employee:ne,subject:oe,content:re,cc:"",attachments:[],selectedTemplate:null,selectedSignature:null,generatedPdfUrl:void 0,isGeneratingPdf:!1}});a(ee)},S=(H,ee)=>{const ne=r.find(re=>re.id===H);if(ne){const re=[...o];re[ee].selectedTemplate=ne,X(ee)||(re[ee].subject=A(ne.name,re[ee].employee)),L(ee)||(re[ee].content=A(ne.description||"",re[ee].employee)),a(re)}},N=(H,ee)=>{const ne=n.find(re=>re.id===H);if(ne){const re=[...o];re[ee].selectedSignature=ne,a(re)}},A=(H,ee)=>H.replace(/\{EMPLOYEE_NAME\}/g,ee.name).replace(/\{EMPLOYEE_ID\}/g,ee.employeeId).replace(/\{COMPANY_NAME\}/g,"DocHub Technologies").replace(/\{DEPARTMENT\}/g,ee.department).replace(/\{DESIGNATION\}/g,ee.designation),P=(H,ee,ne)=>{const re=[...o];re[H]={...re[H],[ee]:ne},a(re)},L=H=>{if(H>=e.length)return!1;const ee=e[H],ne=o[H];if(!ne||!ee)return!1;let re=c||`Dear ${ee.name},

Please find attached your requested document.

Best regards,
HR Department`;ne.selectedTemplate&&(re=ne.selectedTemplate.description||re);const oe=re.replace(/\{employeeName\}/g,ee.name||"Employee").replace(/\{employeeEmail\}/g,ee.email||"").replace(/\{employeeId\}/g,ee.employeeId||"").replace(/\{department\}/g,ee.department||"").replace(/\{designation\}/g,ee.designation||"").replace(/\{firstName\}/g,ee.firstName||ee.name?.split(" ")[0]||"").replace(/\{lastName\}/g,ee.lastName||ee.name?.split(" ").slice(1).join(" ")||"");return ne.content!==oe},X=H=>{if(H>=e.length)return!1;const ee=e[H],ne=o[H];if(!ne||!ee)return!1;let re=s||`Document Request - ${ee.name}`;ne.selectedTemplate&&(re=ne.selectedTemplate.name||re);const oe=re.replace(/\{employeeName\}/g,ee.name||"Employee").replace(/\{employeeEmail\}/g,ee.email||"").replace(/\{employeeId\}/g,ee.employeeId||"").replace(/\{department\}/g,ee.department||"").replace(/\{designation\}/g,ee.designation||"").replace(/\{firstName\}/g,ee.firstName||ee.name?.split(" ")[0]||"").replace(/\{lastName\}/g,ee.lastName||ee.name?.split(" ").slice(1).join(" ")||"");return ne.subject!==oe},K=async H=>{const ee=H.target.files;if(!(!ee||ee.length===0)){U(!0);try{for(const ne of Array.from(ee)){const re={id:Date.now().toString()+Math.random(),fileName:ne.name,fileUrl:URL.createObjectURL(ne),fileSize:ne.size,mimeType:ne.type},oe=[...o];oe[g].attachments.push(re),a(oe)}}catch(ne){console.error("Failed to upload attachment:",ne),It.error("Failed to upload attachment")}finally{U(!1),D.current&&(D.current.value="")}}},te=(H,ee)=>{const ne=[...o];ne[H].attachments=ne[H].attachments.filter(re=>re.id!==ee),a(ne)},z=async()=>{R(!0);try{const H=[];for(let ee=0;ee<o.length;ee++){const ne=o[ee];if(!ne.selectedTemplate||!ne.selectedSignature){It.error(`Please select template and signature for ${ne.employee.name}`);continue}const re=[...o];re[ee].isGeneratingPdf=!0,a(re);try{const oe=await Nt.requestBinary(`/Tab/${h}/generate-preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:ne.employee.employeeId,templateId:ne.selectedTemplate.id,signaturePath:ne.selectedSignature.fileId,employeeData:ne.employee.data||{}})}),he=URL.createObjectURL(oe);H.push({employee:ne.employee,pdfUrl:he,subject:ne.subject,content:ne.content,attachments:ne.attachments}),re[ee].generatedPdfUrl=he,re[ee].isGeneratingPdf=!1,a(re)}catch(oe){console.error(`Failed to generate PDF for ${ne.employee.name}:`,oe),re[ee].isGeneratingPdf=!1,a(re),It.error(`Failed to generate PDF for ${ne.employee.name}`)}}Y(H),V("preview"),It.success("PDF previews generated successfully")}catch(H){console.error("Failed to generate PDF previews:",H),It.error("Failed to generate PDF previews")}finally{R(!1)}},Q=async()=>{v(!0),j(0),V("sending");try{const H=[];for(let re=0;re<o.length;re++){const oe=o[re];if(!oe.employee.email){console.warn(`No email address for employee: ${oe.employee.name}`);continue}if(!oe.selectedTemplate||!oe.selectedSignature){console.warn(`Missing template or signature for employee: ${oe.employee.name}`);continue}const he=[...oe.attachments];if(oe.generatedPdfUrl){const ue=await(await fetch(oe.generatedPdfUrl)).blob(),de={id:`pdf_${oe.employee.id}`,fileName:`${oe.employee.name}_Document.pdf`,fileUrl:oe.generatedPdfUrl,fileSize:ue.size,mimeType:"application/pdf"};he.push(de)}const pe={id:`job_${Date.now()}_${re}`,letterTypeDefinitionId:oe.selectedTemplate.id,letterTypeName:oe.selectedTemplate.name,tabDataRecordId:h,employeeId:oe.employee.id,employeeName:oe.employee.name,employeeEmail:oe.employee.email,documentId:`DOC_${Date.now()}_${oe.employee.id}`,subject:oe.subject,content:oe.content,attachments:JSON.stringify(he),status:"pending",sentBy:"Current User",sentByName:"Current User",createdAt:new Date,updatedAt:new Date};H.push(pe)}const ee=[];let ne=0;for(let re=0;re<H.length;re++){const oe=H[re],he=o[re];try{const pe=he.attachments.map(de=>new Promise(ve=>{fetch(de.fileUrl).then(le=>le.blob()).then(le=>{const ge=new FileReader;ge.onload=()=>{ve({fileName:de.fileName,filePath:de.fileUrl,contentType:de.mimeType,mimeType:de.mimeType,isInline:!1,content:ge.result.split(",")[1]})},ge.readAsDataURL(le)})})),ie=await Promise.all(pe);console.log("📧 [ENHANCED-EMAIL] Sending email for employee:",he.employee.name,"to:",he.employee.email),console.log("📧 [ENHANCED-EMAIL] Request details:",{tabId:h,employeeId:he.employee.employeeId,templateId:he.selectedTemplate.id,signaturePath:he.selectedSignature?.id,subject:he.subject,content:he.content,contentLength:he.content?.length||0});const ue=await Nt.sendEmailWithPdf(h,{employeeId:he.employee.employeeId,templateId:he.selectedTemplate.id,signaturePath:he.selectedSignature?.id,subject:he.subject,content:he.content,cc:he.cc,employeeData:he.employee.data||{},extraAttachments:ie});if(console.log("📧 [ENHANCED-EMAIL] Email response received:",ue),ue.success&&ue.data){const de={...oe,id:ue.data.id,status:ue.data.status,sentAt:ue.data.sentAt?new Date(ue.data.sentAt):new Date};ee.push(de),ne++}else throw new Error(ue.error?.message||"Failed to send email");j(Math.round((re+1)/H.length*100))}catch(pe){console.error(`❌ [ENHANCED-EMAIL] Failed to send email to ${oe.employeeEmail}:`,pe),pe instanceof Error&&console.error("❌ [ENHANCED-EMAIL] Error details:",{name:pe.name,message:pe.message,stack:pe.stack});const ie={...oe,status:"failed",sentAt:new Date};ee.push(ie)}}M(ee),m(ee),It.success(`Successfully sent ${ne} out of ${H.length} emails`)}catch(H){console.error("Failed to send emails:",H),It.error("Failed to send emails")}finally{v(!1)}},O=o[g],I=H=>{if(H===0)return"0 B";const ee=1024,ne=["B","KB","MB","GB"],re=Math.floor(Math.log(H)/Math.log(ee));return parseFloat((H/Math.pow(ee,re)).toFixed(2))+" "+ne[re]};return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"max-w-7xl h-[95vh] dialog-panel flex flex-col",children:[p.jsxs(os,{className:"flex-shrink-0",children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(Ur,{className:"h-5 w-5 text-neon-green"}),"Send Documents via Email with PDF Generation"]}),p.jsxs(Ss,{children:["Select templates and signatures, generate PDFs, and send emails to ",e.length," employee",e.length!==1?"s":""]})]}),p.jsxs(Li,{value:$,onValueChange:V,className:"flex-1 flex flex-col min-h-0",children:[p.jsxs(Fi,{className:"grid w-full grid-cols-3",children:[p.jsx(Hr,{value:"compose",children:"Compose"}),p.jsx(Hr,{value:"preview",children:"PDF Preview"}),p.jsx(Hr,{value:"sending",disabled:!f&&C.length===0,children:f?"Sending...":"Status"})]}),p.jsx(Vr,{value:"compose",className:"flex-1 mt-4 min-h-0",children:p.jsxs("div",{className:"flex gap-6 h-full min-h-0",children:[p.jsx("div",{className:"w-80 space-y-4 overflow-y-auto min-h-0 pr-2",children:p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsxs(Yt,{className:"text-sm",children:["Recipients (",e.length,")"]})}),p.jsx(tt,{children:p.jsx(mn,{className:"h-64",children:p.jsx("div",{className:"space-y-2",children:e.map((H,ee)=>p.jsx("div",{className:`p-3 dialog-content-solid rounded-lg cursor-pointer hover:bg-muted/20 transition-colors ${ee===g?"ring-2 ring-neon-green":""}`,onClick:()=>b(ee),children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-sm truncate",children:H.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:H.email||"No email"}),p.jsxs("div",{className:"flex gap-1 mt-1",children:[o[ee]?.selectedTemplate&&p.jsx(Jt,{variant:"outline",className:"text-xs",children:"Template"}),o[ee]?.selectedSignature&&p.jsx(Jt,{variant:"outline",className:"text-xs",children:"Signature"}),o[ee]?.attachments.length>0&&p.jsxs(Jt,{variant:"outline",className:"text-xs",children:[o[ee].attachments.length," file",o[ee].attachments.length!==1?"s":""]})]})]}),!H.email&&p.jsx(sn,{className:"h-4 w-4 text-orange-400"})]})},H.id))})})})]})}),p.jsx("div",{className:"flex-1 space-y-4 min-h-0 overflow-y-auto",children:O&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs(et,{className:"dialog-content-solid",children:[p.jsx(er,{children:p.jsx(Yt,{className:"text-sm",children:"Template & Signature Selection"})}),p.jsx(tt,{className:"space-y-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{children:"Document Template"}),p.jsxs(rs,{value:O.selectedTemplate?.id||"",onValueChange:H=>S(H,g),children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"Select template"})}),p.jsx($n,{children:r.map(H=>p.jsx(Ft,{value:H.id,children:H.name},H.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{children:"Signature"}),p.jsxs(rs,{value:O.selectedSignature?.id||"",onValueChange:H=>N(H,g),children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"Select signature"})}),p.jsx($n,{children:n.map(H=>p.jsx(Ft,{value:H.id,children:H.name},H.id))})]})]})]})})]}),p.jsxs(et,{className:"dialog-content-solid",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"text-sm flex items-center gap-2",children:[p.jsx(Pr,{className:"h-4 w-4"}),"Email for ",O.employee.name]}),p.jsx(Nr,{children:O.employee.email||"No email address available"})]}),p.jsxs(tt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx(qt,{className:"text-sm",children:"Extra Attachments"}),p.jsxs("div",{className:"space-y-1",children:[O.attachments.length>0&&p.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:O.attachments.map(H=>p.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-muted/20 rounded text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[p.jsx(lr,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),p.jsx("span",{className:"truncate",children:H.fileName}),p.jsxs("span",{className:"text-muted-foreground flex-shrink-0",children:["(",I(H.fileSize),")"]})]}),p.jsx(Ve,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 flex-shrink-0",onClick:()=>te(g,H.id),children:p.jsx(ws,{className:"h-3 w-3"})})]},H.id))}),p.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>D.current?.click(),disabled:B,className:"w-full h-7 text-xs",children:B?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"mr-1 h-3 w-3 animate-spin"}),"Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(es,{className:"mr-1 h-3 w-3"}),"Add Files"]})}),p.jsx("input",{ref:D,type:"file",multiple:!0,onChange:K,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(qt,{htmlFor:"subject",children:"Subject"}),X(g)&&p.jsx(Jt,{variant:"secondary",className:"text-xs",children:"Modified"})]}),p.jsx(Ve,{type:"button",variant:"outline",size:"sm",onClick:()=>{const H=e[g];if(H){const ne=(s||`Document Request - ${H.name}`).replace(/\{employeeName\}/g,H.name||"Employee").replace(/\{employeeEmail\}/g,H.email||"").replace(/\{employeeId\}/g,H.employeeId||"").replace(/\{department\}/g,H.department||"").replace(/\{designation\}/g,H.designation||"").replace(/\{firstName\}/g,H.firstName||H.name?.split(" ")[0]||"").replace(/\{lastName\}/g,H.lastName||H.name?.split(" ").slice(1).join(" ")||"");P(g,"subject",ne)}},children:"Reset to Template"})]}),p.jsx(Ir,{id:"subject",value:O.subject,onChange:H=>P(g,"subject",H.target.value),placeholder:"Email subject"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"cc",children:"CC"}),p.jsx(Ir,{id:"cc",value:O.cc,onChange:H=>P(g,"cc",H.target.value),placeholder:"CC recipients (comma-separated emails)"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(qt,{htmlFor:"content",children:"Message"}),L(g)&&p.jsx(Jt,{variant:"secondary",className:"text-xs",children:"Modified"})]}),p.jsx(Ve,{type:"button",variant:"outline",size:"sm",onClick:()=>{const H=e[g];if(H){const ne=(c||`Dear ${H.name},

Please find attached your requested document.

Best regards,
HR Department`).replace(/\{employeeName\}/g,H.name||"Employee").replace(/\{employeeEmail\}/g,H.email||"").replace(/\{employeeId\}/g,H.employeeId||"").replace(/\{department\}/g,H.department||"").replace(/\{designation\}/g,H.designation||"").replace(/\{firstName\}/g,H.firstName||H.name?.split(" ")[0]||"").replace(/\{lastName\}/g,H.lastName||H.name?.split(" ").slice(1).join(" ")||"");P(g,"content",ne)}},children:"Reset to Template"})]}),p.jsx(Ta,{id:"content",rows:8,value:O.content,onChange:H=>P(g,"content",H.target.value),placeholder:"Email content",className:"resize-none"})]})]})]})]})})]})}),p.jsx(Vr,{value:"preview",className:"flex-1 mt-4 min-h-0",children:p.jsxs(et,{className:"dialog-content-solid h-full flex flex-col",children:[p.jsx(er,{className:"flex-shrink-0",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Yt,{className:"text-sm",children:"PDF Preview"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{size:"sm",variant:"outline",disabled:g===0,onClick:()=>b(H=>H-1),children:"← Previous"}),p.jsxs("span",{className:"text-xs px-2",children:[g+1," / ",e.length]}),p.jsx(Ve,{size:"sm",variant:"outline",disabled:g===e.length-1,onClick:()=>b(H=>H+1),children:"Next →"})]})]})}),p.jsx(tt,{className:"flex-1 min-h-0 overflow-y-auto",children:O&&p.jsx("div",{className:"space-y-4",children:O.isGeneratingPdf?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx(nn,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),p.jsxs("p",{children:["Generating PDF for ",O.employee.name,"..."]})]})}):O.generatedPdfUrl?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx(qt,{className:"text-xs text-muted-foreground",children:"To:"}),p.jsx("p",{children:O.employee.email||"No email"})]}),p.jsxs("div",{children:[p.jsx(qt,{className:"text-xs text-muted-foreground",children:"Subject:"}),p.jsx("p",{children:O.subject})]}),O.cc&&p.jsxs("div",{className:"col-span-2",children:[p.jsx(qt,{className:"text-xs text-muted-foreground",children:"CC:"}),p.jsx("p",{children:O.cc})]})]}),p.jsx(hb,{}),p.jsxs("div",{className:"bg-background text-foreground p-4 rounded border",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"font-medium mb-2",children:"Email Content:"}),p.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm",children:O.content})]}),p.jsxs("div",{className:"border-t pt-4",children:[p.jsx("h4",{className:"font-medium mb-2",children:"Generated Document:"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(lr,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-sm",children:[O.employee.name,"_Document.pdf"]}),p.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>window.open(O.generatedPdfUrl,"_blank"),children:[p.jsx(Un,{className:"h-3 w-3 mr-1"}),"Preview"]}),p.jsxs(Ve,{size:"sm",variant:"outline",onClick:()=>{const H=document.createElement("a");H.href=O.generatedPdfUrl,H.download=`${O.employee.name}_Document.pdf`,H.click()},children:[p.jsx(No,{className:"h-3 w-3 mr-1"}),"Download"]})]})]}),O.attachments.length>0&&p.jsxs("div",{className:"mt-4 pt-4 border-t",children:[p.jsxs("h4",{className:"font-medium mb-2",children:["Extra Attachments (",O.attachments.length,"):"]}),p.jsx("ul",{className:"text-sm space-y-1",children:O.attachments.map(H=>p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx(r0,{className:"h-3 w-3"}),H.fileName," (",I(H.fileSize),")"]},H.id))})]})]})]}):p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx(lr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),p.jsx("p",{className:"text-muted-foreground",children:"No PDF generated yet"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Generate PDF Preview" to create the document'})]})})})})]})}),p.jsx(Vr,{value:"sending",className:"flex-1 mt-4 min-h-0",children:p.jsxs(et,{className:"dialog-content-solid h-full flex flex-col",children:[p.jsxs(er,{className:"flex-shrink-0",children:[p.jsx(Yt,{className:"text-sm",children:"Email Status"}),p.jsx(Nr,{children:f?"Sending emails...":`Sent ${C.length} emails`})]}),p.jsxs(tt,{className:"flex-1 min-h-0 overflow-y-auto",children:[f&&p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsx(_f,{value:x,className:"w-full"}),p.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[x,"% complete"]})]}),p.jsx(mn,{className:"h-96",children:p.jsx("div",{className:"space-y-3",children:C.map((H,ee)=>p.jsxs("div",{className:"flex items-center justify-between p-3 dialog-content-solid rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${H.status==="sent"?"bg-green-500/20":H.status==="failed"?"bg-red-500/20":H.status==="sending"?"bg-blue-500/20":"bg-orange-500/20"}`,children:H.status==="sent"?p.jsx(en,{className:"h-4 w-4 text-green-400"}):H.status==="failed"?p.jsx(sn,{className:"h-4 w-4 text-red-400"}):H.status==="sending"?p.jsx(nn,{className:"h-4 w-4 animate-spin text-blue-400"}):p.jsx(Ur,{className:"h-4 w-4 text-orange-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:H.employeeName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:H.employeeEmail})]})]}),p.jsx(Jt,{variant:"outline",className:H.status==="sent"?"text-green-400 border-green-500/30":H.status==="failed"?"text-red-400 border-red-500/30":H.status==="sending"?"text-blue-400 border-blue-500/30":"text-orange-400 border-orange-500/30",children:H.status})]},H.id))})})]})]})})]}),p.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[p.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.filter(H=>H.email).length," of ",e.length," employees have email addresses"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),$==="compose"&&p.jsx(Ve,{onClick:z,disabled:W||o.some(H=>!H.selectedTemplate||!H.selectedSignature),className:"neon-border-blue bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-950 dark:text-blue-300 dark:hover:bg-blue-900",children:W?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating PDFs..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Un,{className:"h-4 w-4 mr-2"}),"Generate PDF Preview"]})}),($==="preview"||$==="compose")&&p.jsx(Ve,{onClick:Q,disabled:f||e.filter(H=>H.email).length===0||!o.some(H=>H.generatedPdfUrl),className:"neon-border-green bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-950 dark:text-green-300 dark:hover:bg-green-900",children:f?p.jsxs(p.Fragment,{children:[p.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):p.jsxs(p.Fragment,{children:[p.jsx($d,{className:"h-4 w-4 mr-2"}),"Send All (",e.filter(H=>H.email).length,")"]})})]})]})]})})}function J8(_,d=1,e=10){const[h,m]=Z.useState([]),[c,s]=Z.useState(!0),[i,r]=Z.useState(null),[t,n]=Z.useState(0),[l,o]=Z.useState(d),[a,g]=Z.useState(0),b=async()=>{try{s(!0),r(null),console.log("🔍 [USE-TAB-DATA] Fetching data for tab:",_,"page:",d,"pageSize:",e);const f=await Nt.getTabData(_,{page:d,pageSize:e});console.log("📊 [USE-TAB-DATA] API response:",f),f.success&&f.data?(console.log("✅ [USE-TAB-DATA] Data received:",f.data.items?.length||0,"items"),m(f.data.items||[]),n(f.data.pagination?.totalRecords||0),o(f.data.pagination?.currentPage||1),g(f.data.pagination?.totalPages||0)):(console.log("❌ [USE-TAB-DATA] No data in response:",f),r("Failed to fetch tab data"))}catch(f){console.error("❌ [USE-TAB-DATA] Error fetching tab data:",f),r(f instanceof Error?f.message:"An error occurred")}finally{s(!1)}};return Z.useEffect(()=>{_&&b()},[_,d,e]),{data:h,loading:c,error:i,refetch:b,totalCount:t,page:l,totalPages:a}}function $l(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _d={exports:{}};/*! ExcelJS 19-10-2023 */var Vm;function Q8(){return Vm||(Vm=1,(function(_,d){(function(e){_.exports=e()})((function(){return(function e(h,m,c){function s(t,n){if(!m[t]){if(!h[t]){var l=typeof $l=="function"&&$l;if(!n&&l)return l(t,!0);if(i)return i(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var a=m[t]={exports:{}};h[t][0].call(a.exports,(function(g){return s(h[t][1][g]||g)}),a,a.exports,e,h,m,c)}return m[t].exports}for(var i=typeof $l=="function"&&$l,r=0;r<c.length;r++)s(c[r]);return s})({1:[function(e,h,m){const c=e("fs"),s=e("fast-csv"),i=e("dayjs/plugin/customParseFormat"),r=e("dayjs/plugin/utc"),t=e("dayjs").extend(i).extend(r),n=e("../utils/stream-buf"),{fs:{exists:l}}=e("../utils/utils"),o={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};h.exports=class{constructor(a){this.workbook=a,this.worksheet=null}async readFile(a,g){if(g=g||{},!await l(a))throw new Error("File not found: "+a);const b=c.createReadStream(a),f=await this.read(b,g);return b.close(),f}read(a,g){return g=g||{},new Promise((b,f)=>{const v=this.workbook.addWorksheet(g.sheetName),x=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],j=g.map||function(M){if(M==="")return null;const $=Number(M);if(!Number.isNaN($)&&$!==1/0)return $;const V=x.reduce((U,q)=>{if(U)return U;const Y=t(M,q,!0);return Y.isValid()?Y:null},null);if(V)return new Date(V.valueOf());const B=o[M];return B!==void 0?B:M},C=s.parse(g.parserOptions).on("data",M=>{v.addRow(M.map(j))}).on("end",()=>{C.emit("worksheet",v)});C.on("worksheet",b).on("error",f),a.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(a,g){return new Promise((b,f)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),x=s.format(g.formatterOptions);a.on("finish",()=>{b()}),x.on("error",f),x.pipe(a);const{dateFormat:j,dateUTC:C}=g,M=g.map||(B=>{if(B){if(B.text||B.hyperlink)return B.hyperlink||B.text||"";if(B.formula||B.result)return B.result||"";if(B instanceof Date)return j?C?t.utc(B).format(j):t(B).format(j):C?t.utc(B).format():t(B).format();if(B.error)return B.error;if(typeof B=="object")return JSON.stringify(B)}return B}),$=g.includeEmptyRows===void 0||g.includeEmptyRows;let V=1;v&&v.eachRow((B,U)=>{if($)for(;V++<U-1;)x.write([]);const{values:q}=B;q.shift(),x.write(q.map(M)),V=U}),x.end()})}writeFile(a,g){const b={encoding:(g=g||{}).encoding||"utf8"},f=c.createWriteStream(a,b);return this.write(f,g)}async writeBuffer(a){const g=new n;return await this.write(g,a),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,h,m){const c=e("../utils/col-cache");class s{constructor(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=r,t)if(typeof t=="string"){const l=c.decodeAddress(t);this.nativeCol=l.col+n,this.nativeColOff=0,this.nativeRow=l.row+n,this.nativeRowOff=0}else t.nativeCol!==void 0?(this.nativeCol=t.nativeCol||0,this.nativeColOff=t.nativeColOff||0,this.nativeRow=t.nativeRow||0,this.nativeRowOff=t.nativeRowOff||0):t.col!==void 0?(this.col=t.col+n,this.row=t.row+n):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(r){return r instanceof s||r==null?r:new s(r)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(r){this.nativeCol=Math.floor(r),this.nativeColOff=Math.floor((r-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(r){this.nativeRow=Math.floor(r),this.nativeRowOff=Math.floor((r-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(r){this.nativeCol=r.nativeCol,this.nativeColOff=r.nativeColOff,this.nativeRow=r.nativeRow,this.nativeRowOff=r.nativeRowOff}}h.exports=s},{"../utils/col-cache":19}],3:[function(e,h,m){const c=e("../utils/col-cache"),s=e("../utils/under-dash"),i=e("./enums"),{slideFormula:r}=e("../utils/shared-formula"),t=e("./note");class n{constructor(a,g,b){if(!a||!g)throw new Error("A Cell needs a Row");this._row=a,this._column=g,c.validateAddress(b),this._address=b,this._value=l.create(n.Types.Null,this),this.style=this._mergeStyle(a.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(a){this.style.numFmt=a}get font(){return this.style.font}set font(a){this.style.font=a}get alignment(){return this.style.alignment}set alignment(a){this.style.alignment=a}get border(){return this.style.border}set border(a){this.style.border=a}get fill(){return this.style.fill}set fill(a){this.style.fill=a}get protection(){return this.style.protection}set protection(a){this.style.protection=a}_mergeStyle(a,g,b){const f=a&&a.numFmt||g&&g.numFmt;f&&(b.numFmt=f);const v=a&&a.font||g&&g.font;v&&(b.font=v);const x=a&&a.alignment||g&&g.alignment;x&&(b.alignment=x);const j=a&&a.border||g&&g.border;j&&(b.border=j);const C=a&&a.fill||g&&g.fill;C&&(b.fill=C);const M=a&&a.protection||g&&g.protection;return M&&(b.protection=M),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===n.Types.Merge}merge(a,g){this._value.release(),this._value=l.create(n.Types.Merge,this,a),g||(this.style=a.style)}unmerge(){this.type===n.Types.Merge&&(this._value.release(),this._value=l.create(n.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(a){return this._value.type===n.Types.Merge&&this._value.isMergedTo(a)}get master(){return this.type===n.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===n.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(a){this.type!==n.Types.Merge?(this._value.release(),this._value=l.create(l.getType(a),this,a)):this._value.master.value=a}get note(){return this._comment&&this._comment.note}set note(a){this._comment=new t(a)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(a){this.type===n.Types.String&&(this._value=l.create(n.Types.Hyperlink,this,{text:this._value.value,hyperlink:a}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:a}=this._row;return{sheetName:a.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(a){this.names=[a]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(a){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),a.forEach(b=>{g.addEx(this.fullAddress,b)})}addName(a){this.workbook.definedNames.addEx(this.fullAddress,a)}removeName(a){this.workbook.definedNames.removeEx(this.fullAddress,a)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(a){this._dataValidations.add(this.address,a)}get model(){const{model:a}=this._value;return a.style=this.style,this._comment&&(a.comment=this._comment.model),a}set model(a){if(this._value.release(),this._value=l.create(a.type,this),this._value.model=a,a.comment)switch(a.comment.type){case"note":this._comment=t.fromModel(a.comment)}a.style?this.style=a.style:this.style={}}}n.Types=i.ValueType;const l={getType:o=>o==null?n.Types.Null:o instanceof String||typeof o=="string"?n.Types.String:typeof o=="number"?n.Types.Number:typeof o=="boolean"?n.Types.Boolean:o instanceof Date?n.Types.Date:o.text&&o.hyperlink?n.Types.Hyperlink:o.formula||o.sharedFormula?n.Types.Formula:o.richText?n.Types.RichText:o.sharedString?n.Types.SharedString:o.error?n.Types.Error:n.Types.JSON,types:[{t:n.Types.Null,f:class{constructor(o){this.model={address:o.address,type:n.Types.Null}}get value(){return null}set value(o){}get type(){return n.Types.Null}get effectiveType(){return n.Types.Null}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return""}release(){}toString(){return""}}},{t:n.Types.Number,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Number,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Number}get effectiveType(){return n.Types.Number}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.String,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.String,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:n.Types.Date,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Date,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Date}get effectiveType(){return n.Types.Date}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Hyperlink,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Hyperlink,text:a?a.text:void 0,hyperlink:a?a.hyperlink:void 0},a&&a.tooltip&&(this.model.tooltip=a.tooltip)}get value(){const o={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(o.tooltip=this.model.tooltip),o}set value(o){this.model={text:o.text,hyperlink:o.hyperlink},o.tooltip&&(this.model.tooltip=o.tooltip)}get text(){return this.model.text}set text(o){this.model.text=o}get hyperlink(){return this.model.hyperlink}set hyperlink(o){this.model.hyperlink=o}get type(){return n.Types.Hyperlink}get effectiveType(){return n.Types.Hyperlink}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:n.Types.Formula,f:class{constructor(o,a){this.cell=o,this.model={address:o.address,type:n.Types.Formula,shareType:a?a.shareType:void 0,ref:a?a.ref:void 0,formula:a?a.formula:void 0,sharedFormula:a?a.sharedFormula:void 0,result:a?a.result:void 0}}_copyModel(o){const a={},g=b=>{const f=o[b];f&&(a[b]=f)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),a}get value(){return this._copyModel(this.model)}set value(o){this.model=this._copyModel(o)}validate(o){switch(l.getType(o)){case n.Types.Null:case n.Types.String:case n.Types.Number:case n.Types.Date:break;case n.Types.Hyperlink:case n.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(o){this.model.formula=o}get formulaType(){return this.model.formula?i.FormulaType.Master:this.model.sharedFormula?i.FormulaType.Shared:i.FormulaType.None}get result(){return this.model.result}set result(o){this.model.result=o}get type(){return n.Types.Formula}get effectiveType(){const o=this.model.result;return o==null?i.ValueType.Null:o instanceof String||typeof o=="string"?i.ValueType.String:typeof o=="number"?i.ValueType.Number:o instanceof Date?i.ValueType.Date:o.text&&o.hyperlink?i.ValueType.Hyperlink:o.formula?i.ValueType.Formula:i.ValueType.Null}get address(){return this.model.address}set address(o){this.model.address=o}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:o}=this.cell,a=o.findCell(this.model.sharedFormula);this._translatedFormula=a&&r(a.formula,a.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:n.Types.Merge,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Merge,master:a?a.address:void 0},this._master=a,a&&a.addMergeRef()}get value(){return this._master.value}set value(o){o instanceof n?(this._master&&this._master.releaseMergeRef(),o.addMergeRef(),this._master=o):this._master.value=o}isMergedTo(o){return o===this._master}get master(){return this._master}get type(){return n.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:n.Types.JSON,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.String,value:JSON.stringify(a),rawValue:a}}get value(){return this.model.rawValue}set value(o){this.model.rawValue=o,this.model.value=JSON.stringify(o)}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:n.Types.SharedString,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.SharedString,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.SharedString}get effectiveType(){return n.Types.SharedString}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.RichText,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.String,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}toString(){return this.model.value.richText.map(o=>o.text).join("")}get type(){return n.Types.RichText}get effectiveType(){return n.Types.RichText}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:n.Types.Boolean,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Boolean,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Boolean}get effectiveType(){return n.Types.Boolean}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Error,f:class{constructor(o,a){this.model={address:o.address,type:n.Types.Error,value:a}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Error}get effectiveType(){return n.Types.Error}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((o,a)=>(o[a.t]=a.f,o),[]),create(o,a,g){const b=this.types[o];if(!b)throw new Error("Could not create Value of type "+o);return new b(a,g)}};h.exports=n},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,h,m){const c=e("../utils/under-dash"),s=e("./enums"),i=e("../utils/col-cache");class r{constructor(n,l,o){this._worksheet=n,this._number=l,o!==!1&&(this.defn=o)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return i.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(n){n?(this.key=n.key,this.width=n.width!==void 0?n.width:9,this.outlineLevel=n.outlineLevel,n.style?this.style=n.style:this.style={},this.header=n.header,this._hidden=!!n.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(n){n!==void 0?(this._header=n,this.headers.forEach((l,o)=>{this._worksheet.getCell(o+1,this.number).value=l})):this._header=void 0}get key(){return this._key}set key(n){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=n,n&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(n){return this.width===n.width&&this.hidden===n.hidden&&this.outlineLevel===n.outlineLevel&&c.isEqual(this.style,n.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const n=this.style;return!n||!(n.font||n.numFmt||n.alignment||n.border||n.fill||n.protection)}get headerCount(){return this.headers.length}eachCell(n,l){const o=this.number;l||(l=n,n=null),this._worksheet.eachRow(n,(a,g)=>{l(a.getCell(o),g)})}get values(){const n=[];return this.eachCell((l,o)=>{l&&l.type!==s.ValueType.Null&&(n[o]=l.value)}),n}set values(n){if(!n)return;const l=this.number;let o=0;n.hasOwnProperty("0")&&(o=1),n.forEach((a,g)=>{this._worksheet.getCell(g+o,l).value=a})}_applyStyle(n,l){return this.style[n]=l,this.eachCell(o=>{o[n]=l}),l}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}static toModel(n){const l=[];let o=null;return n&&n.forEach((a,g)=>{a.isDefault?o&&(o=null):o&&a.equivalentTo(o)?o.max=g+1:(o={min:g+1,max:g+1,width:a.width!==void 0?a.width:9,style:a.style,isCustomWidth:a.isCustomWidth,hidden:a.hidden,outlineLevel:a.outlineLevel,collapsed:a.collapsed},l.push(o))}),l.length?l:void 0}static fromModel(n,l){const o=[];let a=1,g=0;for(l=(l=l||[]).sort((function(b,f){return b.min-f.min}));g<l.length;){const b=l[g++];for(;a<b.min;)o.push(new r(n,a++));for(;a<=b.max;)o.push(new r(n,a++,b))}return o.length?o:null}}h.exports=r},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,h,m){h.exports=class{constructor(c){this.model=c||{}}add(c,s){return this.model[c]=s}find(c){return this.model[c]}remove(c){this.model[c]=void 0}}},{}],6:[function(e,h,m){const c=e("../utils/under-dash"),s=e("../utils/col-cache"),i=e("../utils/cell-matrix"),r=e("./range"),t=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;h.exports=class{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new i)}add(n,l){const o=s.decodeEx(n);this.addEx(o,l)}addEx(n,l){const o=this.getMatrix(l);if(n.top)for(let a=n.left;a<=n.right;a++)for(let g=n.top;g<=n.bottom;g++){const b={sheetName:n.sheetName,address:s.n2l(a)+g,row:g,col:a};o.addCellEx(b)}else o.addCellEx(n)}remove(n,l){const o=s.decodeEx(n);this.removeEx(o,l)}removeEx(n,l){this.getMatrix(l).removeCellEx(n)}removeAllNames(n){c.each(this.matrixMap,l=>{l.removeCellEx(n)})}forEach(n){c.each(this.matrixMap,(l,o)=>{l.forEach(a=>{n(o,a)})})}getNames(n){return this.getNamesEx(s.decodeEx(n))}getNamesEx(n){return c.map(this.matrixMap,(l,o)=>l.findCellEx(n)&&o).filter(Boolean)}_explore(n,l){l.mark=!1;const{sheetName:o}=l,a=new r(l.row,l.col,l.row,l.col,o);let g,b;function f(x,j){const C=n.findCellAt(o,x,l.col);return!(!C||!C.mark)&&(a[j]=x,C.mark=!1,!0)}for(b=l.row-1;f(b,"top");b--);for(b=l.row+1;f(b,"bottom");b++);function v(x,j){const C=[];for(b=a.top;b<=a.bottom;b++){const M=n.findCellAt(o,b,x);if(!M||!M.mark)return!1;C.push(M)}a[j]=x;for(let M=0;M<C.length;M++)C[M].mark=!1;return!0}for(g=l.col-1;v(g,"left");g--);for(g=l.col+1;v(g,"right");g++);return a}getRanges(n,l){return(l=l||this.matrixMap[n])?(l.forEach(o=>{o.mark=!0}),{name:n,ranges:l.map(o=>o.mark&&this._explore(l,o)).filter(Boolean).map(o=>o.$shortRange)}):{name:n,ranges:[]}}normaliseMatrix(n,l){n.forEachInSheet(l,(o,a,g)=>{o&&(o.row===a&&o.col===g||(o.row=a,o.col=g,o.address=s.n2l(g)+a))})}spliceRows(n,l,o,a){c.each(this.matrixMap,g=>{g.spliceRows(n,l,o,a),this.normaliseMatrix(g,n)})}spliceColumns(n,l,o,a){c.each(this.matrixMap,g=>{g.spliceColumns(n,l,o,a),this.normaliseMatrix(g,n)})}get model(){return c.map(this.matrixMap,(n,l)=>this.getRanges(l,n)).filter(n=>n.ranges.length)}set model(n){const l=this.matrixMap={};n.forEach(o=>{const a=l[o.name]=new i;o.ranges.forEach(g=>{t.test(g.split("!").pop()||"")&&a.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,h,m){h.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,h,m){const c=e("../utils/col-cache"),s=e("./anchor");h.exports=class{constructor(i,r){this.worksheet=i,this.model=r}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(i){let{type:r,imageId:t,range:n,hyperlinks:l}=i;if(this.type=r,this.imageId=t,r==="image")if(typeof n=="string"){const o=c.decode(n);this.range={tl:new s(this.worksheet,{col:o.left,row:o.top},-1),br:new s(this.worksheet,{col:o.right,row:o.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,n.tl,0),br:n.br&&new s(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:l||n.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,h,m){const c=e("../utils/under-dash");class s{constructor(r){this.note=r}get model(){let r=null;switch(typeof this.note){case"string":r={type:"note",note:{texts:[{text:this.note}]}};break;default:r={type:"note",note:this.note}}return c.deepMerge({},s.DEFAULT_CONFIGS,r)}set model(r){const{note:t}=r,{texts:n}=t;n.length===1&&Object.keys(n[0]).length===1?this.note=n[0].text:this.note=t}static fromModel(r){const t=new s;return t.model=r,t}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},h.exports=s},{"../utils/under-dash":26}],10:[function(e,h,m){const c=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(r,t,n,l,o){if(arguments.length<4){const a=c.decodeAddress(r),g=c.decodeAddress(t);this.model={top:Math.min(a.row,g.row),left:Math.min(a.col,g.col),bottom:Math.max(a.row,g.row),right:Math.max(a.col,g.col),sheetName:n},this.setTLBR(a.row,a.col,g.row,g.col,o)}else this.model={top:Math.min(r,n),left:Math.min(t,l),bottom:Math.max(r,n),right:Math.max(t,l),sheetName:o}}decode(r){switch(r.length){case 5:this.setTLBR(r[0],r[1],r[2],r[3],r[4]);break;case 4:this.setTLBR(r[0],r[1],r[2],r[3]);break;case 3:this.setTLBR(r[0],r[1],r[2]);break;case 2:this.setTLBR(r[0],r[1]);break;case 1:{const t=r[0];if(t instanceof s)this.model={top:t.model.top,left:t.model.left,bottom:t.model.bottom,right:t.model.right,sheetName:t.sheetName};else if(t instanceof Array)this.decode(t);else if(t.top&&t.left&&t.bottom&&t.right)this.model={top:t.top,left:t.left,bottom:t.bottom,right:t.right,sheetName:t.sheetName};else{const n=c.decodeEx(t);n.top?this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName}:this.model={top:n.row,left:n.col,bottom:n.row,right:n.col,sheetName:n.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+r.length)}}get top(){return this.model.top||1}set top(r){this.model.top=r}get left(){return this.model.left||1}set left(r){this.model.left=r}get bottom(){return this.model.bottom||1}set bottom(r){this.model.bottom=r}get right(){return this.model.right||1}set right(r){this.model.right=r}get sheetName(){return this.model.sheetName}set sheetName(r){this.model.sheetName=r}get _serialisedSheetName(){const{sheetName:r}=this.model;return r?/^[a-zA-Z0-9]*$/.test(r)?r+"!":`'${r}'!`:""}expand(r,t,n,l){(!this.model.top||r<this.top)&&(this.top=r),(!this.model.left||t<this.left)&&(this.left=t),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||l>this.right)&&(this.right=l)}expandRow(r){if(r){const{dimensions:t,number:n}=r;t&&this.expand(n,t.min,n,t.max)}}expandToAddress(r){const t=c.decodeEx(r);this.expand(t.row,t.col,t.row,t.col)}get tl(){return c.n2l(this.left)+this.top}get $t$l(){return`$${c.n2l(this.left)}$${this.top}`}get br(){return c.n2l(this.right)+this.bottom}get $b$r(){return`$${c.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(r){return(!r.sheetName||!this.sheetName||r.sheetName===this.sheetName)&&!(r.bottom<this.top)&&!(r.top>this.bottom)&&!(r.right<this.left)&&!(r.left>this.right)}contains(r){const t=c.decodeEx(r);return this.containsEx(t)}containsEx(r){return(!r.sheetName||!this.sheetName||r.sheetName===this.sheetName)&&r.row>=this.top&&r.row<=this.bottom&&r.col>=this.left&&r.col<=this.right}forEachAddress(r){for(let t=this.left;t<=this.right;t++)for(let n=this.top;n<=this.bottom;n++)r(c.encodeAddress(n,t),n,t)}}h.exports=s},{"../utils/col-cache":19}],11:[function(e,h,m){const c=e("../utils/under-dash"),s=e("./enums"),i=e("../utils/col-cache"),r=e("./cell");h.exports=class{constructor(t,n){this._worksheet=t,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(t){return this._cells[t-1]}getCellEx(t){let n=this._cells[t.col-1];if(!n){const l=this._worksheet.getColumn(t.col);n=new r(this,l,t.address),this._cells[t.col-1]=n}return n}getCell(t){if(typeof t=="string"){const n=this._worksheet.getColumnKey(t);t=n?n.number:i.l2n(t)}return this._cells[t-1]||this.getCellEx({address:i.encodeAddress(this._number,t),row:this._number,col:t})}splice(t,n){const l=t+n;for(var o=arguments.length,a=new Array(o>2?o-2:0),g=2;g<o;g++)a[g-2]=arguments[g];const b=a.length-n,f=this._cells.length;let v,x,j;if(b<0)for(v=t+a.length;v<=f;v++)j=this._cells[v-1],x=this._cells[v-b-1],x?(j=this.getCell(v),j.value=x.value,j.style=x.style,j._comment=x._comment):j&&(j.value=null,j.style={},j._comment=void 0);else if(b>0)for(v=f;v>=l;v--)x=this._cells[v-1],x?(j=this.getCell(v+b),j.value=x.value,j.style=x.style,j._comment=x._comment):this._cells[v+b-1]=void 0;for(v=0;v<a.length;v++)j=this.getCell(t+v),j.value=a[v],j.style={},j._comment=void 0}eachCell(t,n){if(n||(n=t,t=null),t&&t.includeEmpty){const l=this._cells.length;for(let o=1;o<=l;o++)n(this.getCell(o),o)}else this._cells.forEach((l,o)=>{l&&l.type!==s.ValueType.Null&&n(l,o+1)})}addPageBreak(t,n){const l=this._worksheet,o=Math.max(0,t-1)||0,a=Math.max(0,n-1)||16838,g={id:this._number,max:a,man:1};o&&(g.min=o),l.rowBreaks.push(g)}get values(){const t=[];return this._cells.forEach(n=>{n&&n.type!==s.ValueType.Null&&(t[n.col]=n.value)}),t}set values(t){if(this._cells=[],t)if(t instanceof Array){let n=0;t.hasOwnProperty("0")&&(n=1),t.forEach((l,o)=>{l!==void 0&&(this.getCellEx({address:i.encodeAddress(this._number,o+n),row:this._number,col:o+n}).value=l)})}else this._worksheet.eachColumnKey((n,l)=>{t[l]!==void 0&&(this.getCellEx({address:i.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=t[l])})}get hasValues(){return c.some(this._cells,t=>t&&t.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let t=0;return this.eachCell(()=>{t++}),t}get dimensions(){let t=0,n=0;return this._cells.forEach(l=>{l&&l.type!==s.ValueType.Null&&((!t||t>l.col)&&(t=l.col),n<l.col&&(n=l.col))}),t>0?{min:t,max:n}:null}_applyStyle(t,n){return this.style[t]=n,this._cells.forEach(l=>{l&&(l[t]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(t){this._applyStyle("numFmt",t)}get font(){return this.style.font}set font(t){this._applyStyle("font",t)}get alignment(){return this.style.alignment}set alignment(t){this._applyStyle("alignment",t)}get protection(){return this.style.protection}set protection(t){this._applyStyle("protection",t)}get border(){return this.style.border}set border(t){this._applyStyle("border",t)}get fill(){return this.style.fill}set fill(t){this._applyStyle("fill",t)}get hidden(){return!!this._hidden}set hidden(t){this._hidden=t}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(t){this._outlineLevel=t}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const t=[];let n=0,l=0;return this._cells.forEach(o=>{if(o){const a=o.model;a&&((!n||n>o.col)&&(n=o.col),l<o.col&&(l=o.col),t.push(a))}}),this.height||t.length?{cells:t,number:this.number,min:n,max:l,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(t){if(t.number!==this._number)throw new Error("Invalid row number in model");let n;this._cells=[],t.cells.forEach(l=>{switch(l.type){case r.Types.Merge:break;default:{let o;if(l.address)o=i.decodeAddress(l.address);else if(n){const{row:a}=n,g=n.col+1;o={row:a,col:g,address:i.encodeAddress(a,g),$col$row:`$${i.n2l(g)}$${a}`}}n=o,this.getCellEx(o).model=l;break}}}),t.height?this.height=t.height:delete this.height,this.hidden=t.hidden,this.outlineLevel=t.outlineLevel||0,this.style=t.style&&JSON.parse(JSON.stringify(t.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,h,m){const c=e("../utils/col-cache");class s{constructor(r,t,n){this.table=r,this.column=t,this.index=n}_set(r,t){this.table.cacheState(),this.column[r]=t}get name(){return this.column.name}set name(r){this._set("name",r)}get filterButton(){return this.column.filterButton}set filterButton(r){this.column.filterButton=r}get style(){return this.column.style}set style(r){this.column.style=r}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(r){this._set("totalsRowLabel",r)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(r){this._set("totalsRowFunction",r)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(r){this._set("totalsRowResult",r)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(r){this._set("totalsRowFormula",r)}}h.exports=class{constructor(i,r){this.worksheet=i,r&&(this.table=r,this.validate(),this.store())}getFormula(i){switch(i.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${i.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${i.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${i.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${i.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${i.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${i.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${i.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${i.name}])`;case"custom":return i.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+i.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:i}=this,r=(b,f,v)=>{b[f]===void 0&&(b[f]=v)};r(i,"headerRow",!0),r(i,"totalsRow",!1),r(i,"style",{}),r(i.style,"theme","TableStyleMedium2"),r(i.style,"showFirstColumn",!1),r(i.style,"showLastColumn",!1),r(i.style,"showRowStripes",!1),r(i.style,"showColumnStripes",!1);const t=(b,f)=>{if(!b)throw new Error(f)};t(i.ref,"Table must have ref"),t(i.columns,"Table must have column definitions"),t(i.rows,"Table must have row definitions"),i.tl=c.decodeAddress(i.ref);const{row:n,col:l}=i.tl;t(n>0,"Table must be on valid row"),t(l>0,"Table must be on valid col");const{width:o,filterHeight:a,tableHeight:g}=this;i.autoFilterRef=c.encode(n,l,n+a-1,l+o-1),i.tableRef=c.encode(n,l,n+g-1,l+o-1),i.columns.forEach((b,f)=>{t(b.name,`Column ${f} must have a name`),f===0?r(b,"totalsRowLabel","Total"):(r(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const i=(a,g)=>{g&&Object.keys(g).forEach(b=>{a[b]=g[b]})},{worksheet:r,table:t}=this,{row:n,col:l}=t.tl;let o=0;if(t.headerRow){const a=r.getRow(n+o++);t.columns.forEach((g,b)=>{const{style:f,name:v}=g,x=a.getCell(l+b);x.value=v,i(x,f)})}if(t.rows.forEach(a=>{const g=r.getRow(n+o++);a.forEach((b,f)=>{const v=g.getCell(l+f);v.value=b,i(v,t.columns[f].style)})}),t.totalsRow){const a=r.getRow(n+o++);t.columns.forEach((g,b)=>{const f=a.getCell(l+b);if(b===0)f.value=g.totalsRowLabel;else{const v=this.getFormula(g);f.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}i(f,g.style)})}}load(i){const{table:r}=this,{row:t,col:n}=r.tl;let l=0;if(r.headerRow){const o=i.getRow(t+l++);r.columns.forEach((a,g)=>{o.getCell(n+g).value=a.name})}if(r.rows.forEach(o=>{const a=i.getRow(t+l++);o.forEach((g,b)=>{a.getCell(n+b).value=g})}),r.totalsRow){const o=i.getRow(t+l++);r.columns.forEach((a,g)=>{const b=o.getCell(n+g);g===0?b.value=a.totalsRowLabel:this.getFormula(a)&&(b.value={formula:a.totalsRowFormula,result:a.totalsRowResult})})}}get model(){return this.table}set model(i){this.table=i}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const i=c.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let r=0;r<this._cache.tableHeight;r++){const t=this.worksheet.getRow(i.row+r);for(let n=0;n<this._cache.width;n++)t.getCell(i.col+n).value=null}else{for(let r=this.tableHeight;r<this._cache.tableHeight;r++){const t=this.worksheet.getRow(i.row+r);for(let n=0;n<this._cache.width;n++)t.getCell(i.col+n).value=null}for(let r=0;r<this.tableHeight;r++){const t=this.worksheet.getRow(i.row+r);for(let n=this.width;n<this._cache.width;n++)t.getCell(i.col+n).value=null}}this.store()}addRow(i,r){this.cacheState(),r===void 0?this.table.rows.push(i):this.table.rows.splice(r,0,i)}removeRows(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(i,r)}getColumn(i){const r=this.table.columns[i];return new s(this,r,i)}addColumn(i,r,t){this.cacheState(),t===void 0?(this.table.columns.push(i),this.table.rows.forEach((n,l)=>{n.push(r[l])})):(this.table.columns.splice(t,0,i),this.table.rows.forEach((n,l)=>{n.splice(t,0,r[l])}))}removeColumns(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(i,r),this.table.rows.forEach(t=>{t.splice(i,r)})}_assign(i,r,t){this.cacheState(),i[r]=t}get ref(){return this.table.ref}set ref(i){this._assign(this.table,"ref",i)}get name(){return this.table.name}set name(i){this.table.name=i}get displayName(){return this.table.displyName||this.table.name}set displayNamename(i){this.table.displayName=i}get headerRow(){return this.table.headerRow}set headerRow(i){this._assign(this.table,"headerRow",i)}get totalsRow(){return this.table.totalsRow}set totalsRow(i){this._assign(this.table,"totalsRow",i)}get theme(){return this.table.style.name}set theme(i){this.table.style.name=i}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(i){this.table.style.showFirstColumn=i}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(i){this.table.style.showLastColumn=i}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(i){this.table.style.showRowStripes=i}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(i){this.table.style.showColumnStripes=i}}},{"../utils/col-cache":19}],13:[function(e,h,m){const c=e("./worksheet"),s=e("./defined-names"),i=e("../xlsx/xlsx"),r=e("../csv/csv");h.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new i(this)),this._xlsx}get csv(){return this._csv||(this._csv=new r(this)),this._csv}get nextId(){for(let t=1;t<this._worksheets.length;t++)if(!this._worksheets[t])return t;return this._worksheets.length||1}addWorksheet(t,n){const l=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const o=this._worksheets.reduce((b,f)=>(f&&f.orderNo)>b?f.orderNo:b,0),a=Object.assign({},n,{id:l,name:t,orderNo:o+1,workbook:this}),g=new c(a);return this._worksheets[l]=g,g}removeWorksheetEx(t){delete this._worksheets[t.id]}removeWorksheet(t){const n=this.getWorksheet(t);n&&n.destroy()}getWorksheet(t){return t===void 0?this._worksheets.find(Boolean):typeof t=="number"?this._worksheets[t]:typeof t=="string"?this._worksheets.find(n=>n&&n.name===t):void 0}get worksheets(){return this._worksheets.slice(1).sort((t,n)=>t.orderNo-n.orderNo).filter(Boolean)}eachSheet(t){this.worksheets.forEach(n=>{t(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(t){const n=this.media.length;return this.media.push(Object.assign({},t,{type:"image"})),n}getImage(t){return this.media[t]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(t=>t.model),sheets:this.worksheets.map(t=>t.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(t){this.creator=t.creator,this.lastModifiedBy=t.lastModifiedBy,this.lastPrinted=t.lastPrinted,this.created=t.created,this.modified=t.modified,this.company=t.company,this.manager=t.manager,this.title=t.title,this.subject=t.subject,this.keywords=t.keywords,this.category=t.category,this.description=t.description,this.language=t.language,this.revision=t.revision,this.contentStatus=t.contentStatus,this.properties=t.properties,this.calcProperties=t.calcProperties,this._worksheets=[],t.worksheets.forEach(n=>{const{id:l,name:o,state:a}=n,g=t.sheets&&t.sheets.findIndex(b=>b.id===l);(this._worksheets[l]=new c({id:l,name:o,orderNo:g,state:a,workbook:this})).model=n}),this._definedNames.model=t.definedNames,this.views=t.views,this._themes=t.themes,this.media=t.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,h,m){const c=e("../utils/under-dash"),s=e("../utils/col-cache"),i=e("./range"),r=e("./row"),t=e("./column"),n=e("./enums"),l=e("./image"),o=e("./table"),a=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:b}=e("../utils/copy-style");h.exports=class{constructor(f){f=f||{},this._workbook=f.workbook,this.id=f.id,this.orderNo=f.orderNo,this.name=f.name,this.state=f.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},f.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!f.pageSetup||!f.pageSetup.fitToWidth&&!f.pageSetup.fitToHeight||f.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},f.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},f.headerFooter),this.dataValidations=new a,this.views=f.views||[],this.autoFilter=f.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(f){if(f===void 0&&(f="sheet"+this.id),this._name!==f){if(typeof f!="string")throw new Error("The name has to be a string.");if(f==="")throw new Error("The name can't be empty.");if(f==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(f))throw new Error(`Worksheet name ${f} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(f))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+f);if(f&&f.length>31&&(console.warn(`Worksheet name ${f} exceeds 31 chars. This will be truncated`),f=f.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===f.toLowerCase()))throw new Error("Worksheet name already exists: "+f);this._name=f}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const f=new i;return this._rows.forEach(v=>{if(v){const x=v.dimensions;x&&f.expand(v.number,x.min,v.number,x.max)}}),f}get columns(){return this._columns}set columns(f){this._headerRowCount=f.reduce((j,C)=>{const M=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(j,M)},0);let v=1;const x=this._columns=[];f.forEach(j=>{const C=new t(this,v++,!1);x.push(C),C.defn=j})}getColumnKey(f){return this._keys[f]}setColumnKey(f,v){this._keys[f]=v}deleteColumnKey(f){delete this._keys[f]}eachColumnKey(f){c.each(this._keys,f)}getColumn(f){if(typeof f=="string"){const v=this._keys[f];if(v)return v;f=s.l2n(f)}if(this._columns||(this._columns=[]),f>this._columns.length){let v=this._columns.length+1;for(;v<=f;)this._columns.push(new t(this,v++))}return this._columns[f-1]}spliceColumns(f,v){const x=this._rows.length;for(var j=arguments.length,C=new Array(j>2?j-2:0),M=2;M<j;M++)C[M-2]=arguments[M];if(C.length>0)for(let U=0;U<x;U++){const q=[f,v];C.forEach(W=>{q.push(W[U]||null)});const Y=this.getRow(U+1);Y.splice.apply(Y,q)}else this._rows.forEach(U=>{U&&U.splice(f,v)});const $=C.length-v,V=f+v,B=this._columns.length;if($<0)for(let U=f+C.length;U<=B;U++)this.getColumn(U).defn=this.getColumn(U-$).defn;else if($>0)for(let U=B;U>=V;U--)this.getColumn(U+$).defn=this.getColumn(U).defn;for(let U=f;U<f+C.length;U++)this.getColumn(U).defn=null;this.workbook.definedNames.spliceColumns(this.name,f,v,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let f=0;return this.eachRow(v=>{f=Math.max(f,v.cellCount)}),f}get actualColumnCount(){const f=[];let v=0;return this.eachRow(x=>{x.eachCell(j=>{let{col:C}=j;f[C]||(f[C]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const f=this._rows;let v=f.length;for(;v>0&&f[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(f){return this._rows[f-1]}findRows(f,v){return this._rows.slice(f-1,f-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let f=0;return this.eachRow(()=>{f++}),f}getRow(f){let v=this._rows[f-1];return v||(v=this._rows[f-1]=new r(this,f)),v}getRows(f,v){if(v<1)return;const x=[];for(let j=f;j<f+v;j++)x.push(this.getRow(j));return x}addRow(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,j=this.getRow(x);return j.values=f,this._setStyleOption(x,v[0]==="i"?v:"n"),j}addRows(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return f.forEach(j=>{x.push(this.addRow(j,v))}),x}insertRow(f,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(f,0,v),this._setStyleOption(f,x),this.getRow(f)}insertRows(f,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(f,0,...v),x!=="n")for(let j=0;j<v.length;j++)x[0]==="o"&&this.findRow(v.length+f+j)!==void 0?this._copyStyle(v.length+f+j,f+j,x[1]==="+"):x[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f+j,x[1]==="+");return this.getRows(f,v.length)}_setStyleOption(f){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(f+1)!==void 0?this._copyStyle(f+1,f,v[1]==="+"):v[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f,v[1]==="+")}_copyStyle(f,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this.getRow(f),C=this.getRow(v);C.style=b(j.style),j.eachCell({includeEmpty:x},(M,$)=>{C.getCell($).style=b(M.style)}),C.height=j.height}duplicateRow(f,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this._rows[f-1],C=new Array(v).fill(j.values);this.spliceRows(f+1,x?0:v,...C);for(let M=0;M<v;M++){const $=this._rows[f+M];$.style=j.style,$.height=j.height,j.eachCell({includeEmpty:!0},(V,B)=>{$.getCell(B).style=V.style})}}spliceRows(f,v){const x=f+v;for(var j=arguments.length,C=new Array(j>2?j-2:0),M=2;M<j;M++)C[M-2]=arguments[M];const $=C.length,V=$-v,B=this._rows.length;let U,q;if(V<0)for(f===B&&(this._rows[B-1]=void 0),U=x;U<=B;U++)if(q=this._rows[U-1],q){const Y=this.getRow(U+V);Y.values=q.values,Y.style=q.style,Y.height=q.height,q.eachCell({includeEmpty:!0},(W,R)=>{Y.getCell(R).style=W.style}),this._rows[U-1]=void 0}else this._rows[U+V-1]=void 0;else if(V>0)for(U=B;U>=x;U--)if(q=this._rows[U-1],q){const Y=this.getRow(U+V);Y.values=q.values,Y.style=q.style,Y.height=q.height,q.eachCell({includeEmpty:!0},(W,R)=>{if(Y.getCell(R).style=W.style,W._value.constructor.name==="MergeValue"){const D=this.getRow(W._row._number+$).getCell(R),E=W._value._master,w=this.getRow(E._row._number+$).getCell(E._column._number);D.merge(w)}})}else this._rows[U+V-1]=void 0;for(U=0;U<$;U++){const Y=this.getRow(f+U);Y.style={},Y.values=C[U]}this.workbook.definedNames.spliceRows(this.name,f,v,$)}eachRow(f,v){if(v||(v=f,f=void 0),f&&f.includeEmpty){const x=this._rows.length;for(let j=1;j<=x;j++)v(this.getRow(j),j)}else this._rows.forEach(x=>{x&&x.hasValues&&v(x,x.number)})}getSheetValues(){const f=[];return this._rows.forEach(v=>{v&&(f[v.number]=v.values)}),f}findCell(f,v){const x=s.getAddress(f,v),j=this._rows[x.row-1];return j?j.findCell(x.col):void 0}getCell(f,v){const x=s.getAddress(f,v);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var f=arguments.length,v=new Array(f),x=0;x<f;x++)v[x]=arguments[x];const j=new i(v);this._mergeCellsInternal(j)}mergeCellsWithoutStyle(){for(var f=arguments.length,v=new Array(f),x=0;x<f;x++)v[x]=arguments[x];const j=new i(v);this._mergeCellsInternal(j,!0)}_mergeCellsInternal(f,v){c.each(this._merges,j=>{if(j.intersects(f))throw new Error("Cannot merge already merged cells")});const x=this.getCell(f.top,f.left);for(let j=f.top;j<=f.bottom;j++)for(let C=f.left;C<=f.right;C++)(j>f.top||C>f.left)&&this.getCell(j,C).merge(x,v);this._merges[x.address]=f}_unMergeMaster(f){const v=this._merges[f.address];if(v){for(let x=v.top;x<=v.bottom;x++)for(let j=v.left;j<=v.right;j++)this.getCell(x,j).unmerge();delete this._merges[f.address]}}get hasMerges(){return c.some(this._merges,Boolean)}unMergeCells(){for(var f=arguments.length,v=new Array(f),x=0;x<f;x++)v[x]=arguments[x];const j=new i(v);for(let C=j.top;C<=j.bottom;C++)for(let M=j.left;M<=j.right;M++){const $=this.findCell(C,M);$&&($.type===n.ValueType.Merge?this._unMergeMaster($.master):this._merges[$.address]&&this._unMergeMaster($))}}fillFormula(f,v,x){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=s.decode(f),{top:M,left:$,bottom:V,right:B}=C,U=B-$+1,q=s.encodeAddress(M,$),Y=j==="shared";let W;W=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(D,E)=>x[D-M][E-$]:(D,E)=>x[(D-M)*U+(E-$)]:()=>{};let R=!0;for(let D=M;D<=V;D++)for(let E=$;E<=B;E++)R?(this.getCell(D,E).value={shareType:j,formula:v,ref:f,result:W(D,E)},R=!1):this.getCell(D,E).value=Y?{sharedFormula:q,result:W(D,E)}:W(D,E)}addImage(f,v){const x={type:"image",imageId:f,range:v};this._media.push(new l(this,x))}getImages(){return this._media.filter(f=>f.type==="image")}addBackgroundImage(f){const v={type:"background",imageId:f};this._media.push(new l(this,v))}getBackgroundImageId(){const f=this._media.find(v=>v.type==="background");return f&&f.imageId}protect(f,v){return new Promise(x=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),f&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(f,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!f&&"spinCount"in v&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(f){const v=new o(this,f);return this.tables[f.name]=v,v}getTable(f){return this.tables[f]}removeTable(f){delete this.tables[f]}getTables(){return Object.values(this.tables)}addConditionalFormatting(f){this.conditionalFormattings.push(f)}removeConditionalFormatting(f){typeof f=="number"?this.conditionalFormattings.splice(f,1):this.conditionalFormattings=f instanceof Function?this.conditionalFormattings.filter(f):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(f){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=f}get model(){const f={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(j=>j.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(j=>j.model),conditionalFormattings:this.conditionalFormattings};f.cols=t.toModel(this.columns);const v=f.rows=[],x=f.dimensions=new i;return this._rows.forEach(j=>{const C=j&&j.model;C&&(x.expand(C.number,C.min,C.number,C.max),v.push(C))}),f.merges=[],c.each(this._merges,j=>{f.merges.push(j.range)}),f}_parseRows(f){this._rows=[],f.rows.forEach(v=>{const x=new r(this,v.number);this._rows[x.number-1]=x,x.model=v})}_parseMergeCells(f){c.each(f.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(f){this.name=f.name,this._columns=t.fromModel(this,f.cols),this._parseRows(f),this._parseMergeCells(f),this.dataValidations=new a(f.dataValidations),this.properties=f.properties,this.pageSetup=f.pageSetup,this.headerFooter=f.headerFooter,this.views=f.views,this.autoFilter=f.autoFilter,this._media=f.media.map(v=>new l(this,v)),this.sheetProtection=f.sheetProtection,this.tables=f.tables.reduce((v,x)=>{const j=new o;return j.model=x,v[x.name]=j,v},{}),this.conditionalFormattings=f.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,h,m){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const c={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(i=>{c[i]=s[i]}),h.exports=c},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,h,m){const c=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");m.bufferToString=function(s){return typeof s=="string"?s:c?c.decode(s):s.toString()}},{}],17:[function(e,h,m){const c=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");m.stringToBuffer=function(i){return typeof i!="string"?i:c?s.from(c.encode(i).buffer):s.from(i)}},{buffer:220}],18:[function(e,h,m){const c=e("./under-dash"),s=e("./col-cache");h.exports=class{constructor(i){this.template=i,this.sheets={}}addCell(i){this.addCellEx(s.decodeEx(i))}getCell(i){return this.findCellEx(s.decodeEx(i),!0)}findCell(i){return this.findCellEx(s.decodeEx(i),!1)}findCellAt(i,r,t){const n=this.sheets[i],l=n&&n[r];return l&&l[t]}addCellEx(i){if(i.top)for(let r=i.top;r<=i.bottom;r++)for(let t=i.left;t<=i.right;t++)this.getCellAt(i.sheetName,r,t);else this.findCellEx(i,!0)}getCellEx(i){return this.findCellEx(i,!0)}findCellEx(i,r){const t=this.findSheet(i,r),n=this.findSheetRow(t,i,r);return this.findRowCell(n,i,r)}getCellAt(i,r,t){const n=this.sheets[i]||(this.sheets[i]=[]),l=n[r]||(n[r]=[]);return l[t]||(l[t]={sheetName:i,address:s.n2l(t)+r,row:r,col:t})}removeCellEx(i){const r=this.findSheet(i);if(!r)return;const t=this.findSheetRow(r,i);t&&delete t[i.col]}forEachInSheet(i,r){const t=this.sheets[i];t&&t.forEach((n,l)=>{n&&n.forEach((o,a)=>{o&&r(o,l,a)})})}forEach(i){c.each(this.sheets,(r,t)=>{this.forEachInSheet(t,i)})}map(i){const r=[];return this.forEach(t=>{r.push(i(t))}),r}findSheet(i,r){const t=i.sheetName;return this.sheets[t]?this.sheets[t]:r?this.sheets[t]=[]:void 0}findSheetRow(i,r,t){const{row:n}=r;return i&&i[n]?i[n]:t?i[n]=[]:void 0}findRowCell(i,r,t){const{col:n}=r;return i&&i[n]?i[n]:t?i[n]=this.template?Object.assign(r,JSON.parse(JSON.stringify(this.template))):r:void 0}spliceRows(i,r,t,n){const l=this.sheets[i];if(l){const o=[];for(let a=0;a<n;a++)o.push([]);l.splice(r,t,...o)}}spliceColumns(i,r,t,n){const l=this.sheets[i];if(l){const o=[];for(let a=0;a<n;a++)o.push(null);c.each(l,a=>{a.splice(r,t,...o)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,h,m){const c=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:i=>i<=26?1:i<=676?2:3,_fill(i){let r,t,n,l,o,a=1;if(i>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&i>=1){for(;a<=26;)r=this._dictionary[a-1],this._n2l[a]=r,this._l2n[r]=a,a++;this._l2nFill=1}if(this._l2nFill<2&&i>=2){for(a=27;a<=702;)t=a-27,n=t%26,l=Math.floor(t/26),r=this._dictionary[l]+this._dictionary[n],this._n2l[a]=r,this._l2n[r]=a,a++;this._l2nFill=2}if(this._l2nFill<3&&i>=3){for(a=703;a<=16384;)t=a-703,n=t%26,l=Math.floor(t/26)%26,o=Math.floor(t/676),r=this._dictionary[o]+this._dictionary[l]+this._dictionary[n],this._n2l[a]=r,this._l2n[r]=a,a++;this._l2nFill=3}},l2n(i){if(this._l2n[i]||this._fill(i.length),!this._l2n[i])throw new Error("Out of bounds. Invalid column letter: "+i);return this._l2n[i]},n2l(i){if(i<1||i>16384)throw new Error(i+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[i]||this._fill(this._level(i)),this._n2l[i]},_hash:{},validateAddress(i){if(!c.test(i))throw new Error("Invalid Address: "+i);return!0},decodeAddress(i){const r=i.length<5&&this._hash[i];if(r)return r;let t=!1,n="",l=0,o=!1,a="",g=0;for(let f,v=0;v<i.length;v++)if(f=i.charCodeAt(v),!o&&f>=65&&f<=90)t=!0,n+=i[v],l=26*l+f-64;else if(f>=48&&f<=57)o=!0,a+=i[v],g=10*g+f-48;else if(o&&t&&f!==36)break;if(t){if(l>16384)throw new Error("Out of bounds. Invalid column letter: "+n)}else l=void 0;o||(g=void 0);const b={address:i=n+a,col:l,row:g,$col$row:`$${n}$${a}`};return l<=100&&g<=100&&(this._hash[i]=b,this._hash[b.$col$row]=b),b},getAddress(i,r){if(r){const t=this.n2l(r)+i;return this.decodeAddress(t)}return this.decodeAddress(i)},decode(i){const r=i.split(":");if(r.length===2){const t=this.decodeAddress(r[0]),n=this.decodeAddress(r[1]),l={top:Math.min(t.row,n.row),left:Math.min(t.col,n.col),bottom:Math.max(t.row,n.row),right:Math.max(t.col,n.col)};return l.tl=this.n2l(l.left)+l.top,l.br=this.n2l(l.right)+l.bottom,l.dimensions=`${l.tl}:${l.br}`,l}return this.decodeAddress(i)},decodeEx(i){const r=i.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),t=r[1]||r[2],n=r[3],l=n.split(":");if(l.length>1){let a=this.decodeAddress(l[0]),g=this.decodeAddress(l[1]);const b=Math.min(a.row,g.row),f=Math.min(a.col,g.col),v=Math.max(a.row,g.row),x=Math.max(a.col,g.col);return a=this.n2l(f)+b,g=this.n2l(x)+v,{top:b,left:f,bottom:v,right:x,sheetName:t,tl:{address:a,col:f,row:b,$col$row:`$${this.n2l(f)}$${b}`,sheetName:t},br:{address:g,col:x,row:v,$col$row:`$${this.n2l(x)}$${v}`,sheetName:t},dimensions:`${a}:${g}`}}if(n.startsWith("#"))return t?{sheetName:t,error:n}:{error:n};const o=this.decodeAddress(n);return t?{sheetName:t,...o}:o},encodeAddress:(i,r)=>s.n2l(r)+i,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(i,r){const[t,n,,l,o]=i,[a,g]=r;return a>=t&&a<=l&&g>=n&&g<=o}};h.exports=s},{}],20:[function(e,h,m){const c=(i,r)=>({...i,...r.reduce((t,n)=>(i[n]&&(t[n]={...i[n]}),t),{})}),s=function(i,r,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];i[t]&&(r[t]=c(i[t],n))};m.copyStyle=i=>{if(!i)return i;if(r=i,Object.keys(r).length===0)return{};var r;const t={...i};return s(i,t,"font",["color"]),s(i,t,"alignment"),s(i,t,"protection"),i.border&&(s(i,t,"border"),s(i.border,t.border,"top",["color"]),s(i.border,t.border,"left",["color"]),s(i.border,t.border,"bottom",["color"]),s(i.border,t.border,"right",["color"]),s(i.border,t.border,"diagonal",["color"])),i.fill&&(s(i,t,"fill",["fgColor","bgColor","center"]),i.fill.stops&&(t.fill.stops=i.fill.stops.map(n=>c(n,["color"])))),t}},{}],21:[function(e,h,m){(function(c){(function(){const s=e("crypto"),i={hash(r){const t=s.createHash(r);for(var n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];return t.update(c.concat(l)),t.digest()},convertPasswordToHash(r,t,n,l){if(t=t.toLowerCase(),s.getHashes().indexOf(t)<0)throw new Error(`Hash algorithm '${t}' not supported!`);const o=c.from(r,"utf16le");let a=this.hash(t,c.from(n,"base64"),o);for(let g=0;g<l;g++){const b=c.alloc(4);b.writeUInt32LE(g,0),a=this.hash(t,a,b)}return a.toString("base64")},randomBytes:r=>s.randomBytes(r)};h.exports=i}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,h,m){const{SaxesParser:c}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:i}=e("./browser-buffer-decode");h.exports=async function*(r){r.pipe&&!r[Symbol.asyncIterator]&&(r=r.pipe(new s));const t=new c;let n;t.on("error",o=>{n=o});let l=[];t.on("opentag",o=>l.push({eventType:"opentag",value:o})),t.on("text",o=>l.push({eventType:"text",value:o})),t.on("closetag",o=>l.push({eventType:"closetag",value:o}));for await(const o of r){if(t.write(i(o)),n)throw n;yield l,l=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,h,m){const c=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,i=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;h.exports={slideFormula:function(r,t,n){const l=c.decode(t),o=c.decode(n);return r.replace(s,(a,g,b,f,v)=>{if(v)return a;const x=i.exec(f);if(x){const j=x[1],C=x[2].toUpperCase(),M=x[3],$=x[4];if(C.length>3||C.length===3&&C>"XFD")return a;let V=c.l2n(C),B=parseInt($,10);return j||(V+=o.col-l.col),M||(B+=o.row-l.row),(g||"")+(j||"")+c.n2l(V)+(M||"")+B}return a})}}},{"./col-cache":19}],24:[function(e,h,m){(function(c,s){(function(){const i=e("readable-stream"),r=e("./utils"),t=e("./string-buf");class n{constructor(f,v){this._data=f,this._encoding=v}get length(){return this.toBuffer().length}copy(f,v,x,j){return this.toBuffer().copy(f,v,x,j)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class l{constructor(f){this._data=f}get length(){return this._data.length}copy(f,v,x,j){return this._data._buf.copy(f,v,x,j)}toBuffer(){return this._data.toBuffer()}}class o{constructor(f){this._data=f}get length(){return this._data.length}copy(f,v,x,j){this._data.copy(f,v,x,j)}toBuffer(){return this._data}}class a{constructor(f){this.size=f,this.buffer=s.alloc(f),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const f=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(f,0,this.iRead,this.iWrite),f}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(f){let v;return f===0?null:f===void 0||f>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=s.alloc(f),this.buffer.copy(v,0,this.iRead,f),this.iRead+=f,v)}write(f,v,x){const j=Math.min(x,this.size-this.iWrite);return f.copy(this.buffer,this.iWrite,v,v+j),this.iWrite+=j,j}}const g=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};r.inherits(g,i.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const f=this.buffers[this.buffers.length-1];if(!f.full)return f}const b=new a(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map((function(f){return new Promise(v=>{f.write(b.toBuffer(),()=>{v()})})})))},_writeToBuffers(b){let f=0;const v=b.length;for(;f<v;)f+=this._getWritableBuffer().write(b,f,v-f)},async write(b,f,v){let x;if(f instanceof Function&&(v=f,f="utf8"),v=v||r.nop,b instanceof t)x=new l(b);else if(b instanceof s)x=new o(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new n(b,f)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),c.nextTick(v)):(await this._pipe(x),v());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,f,v){const x=j=>{j?v(j):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};b?this.write(b,f,x):x()},read(b){let f;if(b){for(f=[];b&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],x=v.read(b);b-=x.length,f.push(x),v.eod&&v.full&&this.buffers.shift()}return s.concat(f)}return f=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],s.concat(f)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(f=>f!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),h.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,h,m){(function(c){(function(){h.exports=class{constructor(s){this._buf=c.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=c.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let i=2*this._buf.length;for(;i<s;)i*=2;const r=c.alloc(i);this._buf.copy(r,0),this._buf=r}addText(s){this._buffer=void 0;let i=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;i>=this._buf.length-4;)this._grow(this._inPos+s.length),i=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=i}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,h,m){const{toString:c}=Object.prototype,s=/["&<>]/,i={each:function(r,t){r&&(Array.isArray(r)?r.forEach(t):Object.keys(r).forEach(n=>{t(r[n],n)}))},some:function(r,t){return!!r&&(Array.isArray(r)?r.some(t):Object.keys(r).some(n=>t(r[n],n)))},every:function(r,t){return!r||(Array.isArray(r)?r.every(t):Object.keys(r).every(n=>t(r[n],n)))},map:function(r,t){return r?Array.isArray(r)?r.map(t):Object.keys(r).map(n=>t(r[n],n)):[]},keyBy:(r,t)=>r.reduce((n,l)=>(n[l[t]]=l,n),{}),isEqual:function(r,t){const n=typeof r,l=typeof t,o=Array.isArray(r),a=Array.isArray(t);let g;if(n!==l)return!1;switch(typeof r){case"object":if(o||a)return!(!o||!a)&&r.length===t.length&&r.every((b,f)=>{const v=t[f];return i.isEqual(b,v)});if(r===null||t===null)return r===t;if(g=Object.keys(r),Object.keys(t).length!==g.length)return!1;for(const b of g)if(!t.hasOwnProperty(b))return!1;return i.every(r,(b,f)=>{const v=t[f];return i.isEqual(b,v)});default:return r===t}},escapeHtml(r){const t=s.exec(r);if(!t)return r;let n="",l="",o=0,a=t.index;for(;a<r.length;a++){switch(r.charAt(a)){case'"':l="&quot;";break;case"&":l="&amp;";break;case"'":l="&apos;";break;case"<":l="&lt;";break;case">":l="&gt;";break;default:continue}o!==a&&(n+=r.substring(o,a)),o=a+1,n+=l}return o!==a?n+r.substring(o,a):n},strcmp:(r,t)=>r<t?-1:r>t?1:0,isUndefined:r=>c.call(r)==="[object Undefined]",isObject:r=>c.call(r)==="[object Object]",deepMerge(){const r=arguments[0]||{},{length:t}=arguments;let n,l,o;function a(g,b){n=r[b],o=Array.isArray(g),i.isObject(g)||o?(o?(o=!1,l=n&&Array.isArray(n)?n:[]):l=n&&i.isObject(n)?n:{},r[b]=i.deepMerge(l,g)):i.isUndefined(g)||(r[b]=g)}for(let g=0;g<t;g++)i.each(arguments[g],a);return r}};h.exports=i},{}],27:[function(e,h,m){(function(c,s){(function(){const i=e("fs"),r=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,t={nop(){},promiseImmediate:n=>new Promise(l=>{c.setImmediate?s(()=>{l(n)}):setTimeout(()=>{l(n)},1)}),inherits:function(n,l,o,a){n.super_=l,a||(a=o,o=null),o&&Object.keys(o).forEach(b=>{Object.defineProperty(n,b,Object.getOwnPropertyDescriptor(o,b))});const g={constructor:{value:n,enumerable:!1,writable:!1,configurable:!0}};a&&Object.keys(a).forEach(b=>{g[b]=Object.getOwnPropertyDescriptor(a,b)}),n.prototype=Object.create(l.prototype,g)},dateToExcel:(n,l)=>25569+n.getTime()/864e5-(l?1462:0),excelToDate(n,l){const o=Math.round(24*(n-25569+(l?1462:0))*3600*1e3);return new Date(o)},parsePath(n){const l=n.lastIndexOf("/");return{path:n.substring(0,l),name:n.substring(l+1)}},getRelsPath(n){const l=t.parsePath(n);return`${l.path}/_rels/${l.name}.rels`},xmlEncode(n){const l=r.exec(n);if(!l)return n;let o="",a="",g=0,b=l.index;for(;b<n.length;b++){const f=n.charCodeAt(b);switch(f){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&apos;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;case 127:a="";break;default:if(f<=31&&(f<=8||f>=11&&f!==13)){a="";break}continue}g!==b&&(o+=n.substring(g,b)),g=b+1,a&&(o+=a)}return g!==b?o+n.substring(g,b):o},xmlDecode:n=>n.replace(/&([a-z]*);/g,l=>{switch(l){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return l}}),validInt(n){const l=parseInt(n,10);return Number.isNaN(l)?0:l},isDateFmt(n){return n?(n=(n=n.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:n=>new Promise(l=>{i.access(n,i.constants.F_OK,o=>{l(!o)})})},toIsoDateString:n=>n.toIsoString().subsstr(0,10),parseBoolean:n=>n===!0||n==="true"||n===1||n==="1"};h.exports=t}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,h,m){const c=e("./under-dash"),s=e("./utils");function i(n,l,o){n.push(` ${l}="${s.xmlEncode(o.toString())}"`)}function r(n,l){if(l){const o=[];c.each(l,(a,g)=>{a!==void 0&&i(o,g,a)}),n.push(o.join(""))}}class t{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(l){const o=this._xml;o.push("<?xml"),r(o,l),o.push(`?>
`)}openNode(l,o){const a=this.tos,g=this._xml;a&&this.open&&g.push(">"),this._stack.push(l),g.push("<"),g.push(l),r(g,o),this.leaf=!0,this.open=!0}addAttribute(l,o){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o!==void 0&&i(this._xml,l,o)}addAttributes(l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");r(this._xml,l)}writeText(l){const o=this._xml;this.open&&(o.push(">"),this.open=!1),this.leaf=!1,o.push(s.xmlEncode(l.toString()))}writeXml(l){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(l)}closeNode(){const l=this._stack.pop(),o=this._xml;this.leaf?o.push("/>"):(o.push("</"),o.push(l),o.push(">")),this.open=!1,this.leaf=!1}leafNode(l,o,a){this.openNode(l,o),a!==void 0&&this.writeText(a),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const l=this._rollbacks.pop();this._xml.length>l.xml&&this._xml.splice(l.xml,this._xml.length-l.xml),this._stack.length>l.stack&&this._stack.splice(l.stack,this._stack.length-l.stack),this.leaf=l.leaf,this.open=l.open}get xml(){return this.closeAll(),this._xml.join("")}}t.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},h.exports=t},{"./under-dash":26,"./utils":27}],29:[function(e,h,m){(function(c){(function(){const s=e("events"),i=e("jszip"),r=e("./stream-buf"),{stringToBuffer:t}=e("./browser-buffer-encode");class n extends s.EventEmitter{constructor(o){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},o),this.zip=new i,this.stream=new r}append(o,a){a.hasOwnProperty("base64")&&a.base64?this.zip.file(a.name,o,{base64:!0}):(c.browser&&typeof o=="string"&&(o=t(o)),this.zip.file(a.name,o))}async finalize(){const o=await this.zip.generateAsync(this.options);this.stream.end(o),this.emit("finish")}read(o){return this.stream.read(o)}setEncoding(o){return this.stream.setEncoding(o)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(o,a){return this.stream.pipe(o,a)}unpipe(o){return this.stream.unpipe(o)}unshift(o){return this.stream.unshift(o)}wrap(o){return this.stream.wrap(o)}}h.exports={ZipWriter:n}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,h,m){h.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,h,m){h.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,h,m){const c=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class i{prepare(){}render(){}parseOpen(t){}parseText(t){}parseClose(t){}reconcile(t,n){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(t=>{t instanceof i?t.reset():t.xform&&t.xform.reset()})}mergeModel(t){this.model=Object.assign(this.model||{},t)}async parse(t){for await(const n of t)for(const{eventType:l,value:o}of n)if(l==="opentag")this.parseOpen(o);else if(l==="text")this.parseText(o);else if(l==="closetag"&&!this.parseClose(o.name))return this.model;return this.model}async parseStream(t){return this.parse(c(t))}get xml(){return this.toXml(this.model)}toXml(t){const n=new s;return this.render(n,t),n.xml}static toAttribute(t,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t===void 0){if(l)return n}else if(l||t!==n)return t.toString()}static toStringAttribute(t,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(t,n,l)}static toStringValue(t,n){return t===void 0?n:t}static toBoolAttribute(t,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t===void 0){if(l)return n}else if(l||t!==n)return t?"1":"0"}static toBoolValue(t,n){return t===void 0?n:t==="1"}static toIntAttribute(t,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(t,n,l)}static toIntValue(t,n){return t===void 0?n:parseInt(t,10)}static toFloatAttribute(t,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.toAttribute(t,n,l)}static toFloatValue(t,n){return t===void 0?n:parseFloat(t)}}h.exports=i},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,h,m){const c=e("../base-xform"),s=e("../../../utils/col-cache");function i(t){try{return s.decodeEx(t),!0}catch{return!1}}function r(t){const n=[];let l=!1,o="";return t.split(",").forEach(a=>{if(!a)return;const g=(a.match(/'/g)||[]).length;if(!g)return void(l?o+=a+",":i(a)&&n.push(a));const b=g%2==0;!l&&b&&i(a)?n.push(a):l&&!b?(l=!1,i(o+a)&&n.push(o+a),o=""):(l=!0,o+=a+",")}),n}h.exports=class extends c{render(t,n){t.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),t.writeText(n.ranges.join(",")),t.closeNode()}parseOpen(t){switch(t.name){case"definedName":return this._parsedName=t.attributes.name,this._parsedLocalSheetId=t.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(t){this._parsedText.push(t)}parseClose(){return this.model={name:this._parsedName,ranges:r(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,h,m){const c=e("../../../utils/utils"),s=e("../base-xform");h.exports=class extends s{render(i,r){i.leafNode("sheet",{sheetId:r.id,name:r.name,state:r.state,"r:id":r.rId})}parseOpen(i){return i.name==="sheet"&&(this.model={name:c.xmlDecode(i.attributes.name),id:parseInt(i.attributes.sheetId,10),state:i.attributes.state,rId:i.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:i.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){s.leafNode("workbookPr",{date1904:i.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){const r={xWindow:i.x||0,yWindow:i.y||0,windowWidth:i.width||12e3,windowHeight:i.height||24e3,firstSheet:i.firstSheet,activeTab:i.activeTab};i.visibility&&i.visibility!=="visible"&&(r.visibility=i.visibility),s.leafNode("workbookView",r)}parseOpen(s){if(s.name==="workbookView"){const i=this.model={},r=function(n,l,o){const a=l!==void 0?i[n]=l:o;a!==void 0&&(i[n]=a)},t=function(n,l,o){const a=l!==void 0?i[n]=parseInt(l,10):o;a!==void 0&&(i[n]=a)};return t("x",s.attributes.xWindow,0),t("y",s.attributes.yWindow,0),t("width",s.attributes.windowWidth,25e3),t("height",s.attributes.windowHeight,1e4),r("visibility",s.attributes.visibility,"visible"),t("activeTab",s.attributes.activeTab,void 0),t("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),r=e("../base-xform"),t=e("../static-xform"),n=e("../list-xform"),l=e("./defined-name-xform"),o=e("./sheet-xform"),a=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),b=e("./workbook-calc-properties-xform");class f extends r{constructor(){super(),this.map={fileVersion:f.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new n({tag:"bookViews",count:!1,childXform:new a}),sheets:new n({tag:"sheets",count:!1,childXform:new o}),definedNames:new n({tag:"definedNames",count:!1,childXform:new l}),calcPr:new b}}prepare(x){x.sheets=x.worksheets;const j=[];let C=0;x.sheets.forEach(M=>{if(M.pageSetup&&M.pageSetup.printArea&&M.pageSetup.printArea.split("&&").forEach($=>{const V=$.split(":"),B={name:"_xlnm.Print_Area",ranges:[`'${M.name}'!$${V[0]}:$${V[1]}`],localSheetId:C};j.push(B)}),M.pageSetup&&(M.pageSetup.printTitlesRow||M.pageSetup.printTitlesColumn)){const $=[];if(M.pageSetup.printTitlesColumn){const B=M.pageSetup.printTitlesColumn.split(":");$.push(`'${M.name}'!$${B[0]}:$${B[1]}`)}if(M.pageSetup.printTitlesRow){const B=M.pageSetup.printTitlesRow.split(":");$.push(`'${M.name}'!$${B[0]}:$${B[1]}`)}const V={name:"_xlnm.Print_Titles",ranges:$,localSheetId:C};j.push(V)}C++}),j.length&&(x.definedNames=x.definedNames.concat(j)),(x.media||[]).forEach((M,$)=>{M.name=M.type+($+1)})}render(x,j){x.openXml(i.StdDocAttributes),x.openNode("workbook",f.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,j.properties),this.map.bookViews.render(x,j.views),this.map.sheets.render(x,j.sheets),this.map.definedNames.render(x,j.definedNames),this.map.calcPr.render(x,j.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const j=(x.workbookRels||[]).reduce((B,U)=>(B[U.Id]=U,B),{}),C=[];let M,$=0;(x.sheets||[]).forEach(B=>{const U=j[B.rId];U&&(M=x.worksheetHash["xl/"+U.Target.replace(/^(\s|\/xl\/)+/,"")],M&&(M.name=B.name,M.id=B.id,M.state=B.state,C[$++]=M))});const V=[];c.each(x.definedNames,B=>{if(B.name==="_xlnm.Print_Area"){if(M=C[B.localSheetId],M){M.pageSetup||(M.pageSetup={});const U=s.decodeEx(B.ranges[0]);M.pageSetup.printArea=M.pageSetup.printArea?`${M.pageSetup.printArea}&&${U.dimensions}`:U.dimensions}}else if(B.name==="_xlnm.Print_Titles"){if(M=C[B.localSheetId],M){M.pageSetup||(M.pageSetup={});const U=B.ranges.join(","),q=/\$/g,Y=/\$\d+:\$\d+/,W=U.match(Y);if(W&&W.length){const E=W[0];M.pageSetup.printTitlesRow=E.replace(q,"")}const R=/\$[A-Z]+:\$[A-Z]+/,D=U.match(R);if(D&&D.length){const E=D[0];M.pageSetup.printTitlesColumn=E.replace(q,"")}}}else V.push(B)}),x.definedNames=V,x.media.forEach((B,U)=>{B.index=U})}}f.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},f.STATIC_XFORMS={fileVersion:new t({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},h.exports=f},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,h,m){const c=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),i=e("../base-xform"),r=h.exports=function(t){this.model=t};s.inherits(r,i,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new c),this._richTextXform},render(t,n){n=n||this.model,t.openNode("comment",{ref:n.ref,authorId:0}),t.openNode("text"),n&&n.note&&n.note.texts&&n.note.texts.forEach(l=>{this.richTextXform.render(t,l)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model={type:"note",note:{texts:[]},...t.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),i=e("../base-xform"),r=e("./comment-xform"),t=h.exports=function(){this.map={comment:new r}};s.inherits(t,i,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(n,l){l=l||this.model,n.openXml(c.StdDocAttributes),n.openNode("comments",t.COMMENTS_ATTRIBUTES),n.openNode("authors"),n.leafNode("author",null,"Author"),n.closeNode(),n.openNode("commentList"),l.comments.forEach(o=>{this.map.comment.render(n,o)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,i,r){(i===r[2]||this.tag==="x:SizeWithCells"&&i===r[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,i){s.leafNode(this.tag,null,i)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"x:Anchor"}getAnchorRect(s){const i=Math.floor(s.left),r=Math.floor(68*(s.left-i)),t=Math.floor(s.top),n=Math.floor(18*(s.top-t)),l=Math.floor(s.right),o=Math.floor(68*(s.right-l)),a=Math.floor(s.bottom);return[i,r,t,n,l,o,a,Math.floor(18*(s.bottom-a))]}getDefaultRect(s){const i=s.col,r=Math.max(s.row-2,0);return[i,6,r,14,i+2,2,r+4,16]}render(s,i){const r=i.anchor?this.getAnchorRect(i.anchor):this.getDefaultRect(i.refAddress);s.leafNode("x:Anchor",null,r.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,h,m){const c=e("../base-xform"),s=e("./vml-anchor-xform"),i=e("./style/vml-protection-xform"),r=e("./style/vml-position-xform"),t=["twoCells","oneCells","absolute"];h.exports=class extends c{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new i({tag:"x:Locked"}),"x:LockText":new i({tag:"x:LockText"}),"x:SizeWithCells":new r({tag:"x:SizeWithCells"}),"x:MoveWithCells":new r({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,l){const{protection:o,editAs:a}=l.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,a,t),this.map["x:SizeWithCells"].render(n,a,t),this.map["x:Anchor"].render(n,l),this.map["x:Locked"].render(n,o.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,o.lockText),n.leafNode("x:Row",null,l.refAddress.row-1),n.leafNode("x:Column",null,l.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),l=Object.keys(n).length;this.model.editAs=t[l],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("./vml-shape-xform");class r extends s{constructor(){super(),this.map={"v:shape":new i}}get tag(){return"xml"}render(n,l){n.openXml(c.StdDocAttributes),n.openNode(this.tag,r.DRAWING_ATTRIBUTES),n.openNode("o:shapelayout",{"v:ext":"edit"}),n.leafNode("o:idmap",{"v:ext":"edit",data:1}),n.closeNode(),n.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),n.leafNode("v:stroke",{joinstyle:"miter"}),n.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),n.closeNode(),l.comments.forEach((o,a)=>{this.map["v:shape"].render(n,o,a)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}reconcile(n,l){n.anchors.forEach(o=>{o.br?this.map["xdr:twoCellAnchor"].reconcile(o,l):this.map["xdr:oneCellAnchor"].reconcile(o,l)})}}r.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},h.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,h,m){const c=e("../base-xform"),s=e("./vml-textbox-xform"),i=e("./vml-client-data-xform");class r extends c{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new i}}get tag(){return"v:shape"}render(n,l,o){n.openNode("v:shape",r.V_SHAPE_ATTRIBUTES(l,o)),n.leafNode("v:fill",{color2:"infoBackground [80]"}),n.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),n.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(n,l),this.map["x:ClientData"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={margins:{insetmode:n.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}r.V_SHAPE_ATTRIBUTES=(t,n)=>({id:"_x0000_s"+(1025+n),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode}),h.exports=r},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"v:textbox"}conversionUnit(s,i,r){return`${parseFloat(s)*i.toFixed(2)}${r}`}reverseConversionUnit(s){return(s||"").split(",").map(i=>Number(parseFloat(this.conversionUnit(parseFloat(i),.1,"")).toFixed(2)))}render(s,i){const r={style:"mso-direction-alt:auto"};if(i&&i.note){let{inset:t}=i.note&&i.note.margins;Array.isArray(t)&&(t=t.map(n=>this.conversionUnit(n,10,"mm")).join(",")),t&&(r.inset=t)}s.openNode("v:textbox",r),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,h,m){const c=e("./base-xform");h.exports=class extends c{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,i){this.model[s]=i.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,i.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:i.length,baseType:"lpstr"}),i.forEach(r=>{s.leafNode("vt:lpstr",void 0,r.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("../simple/string-xform"),r=e("./app-heading-pairs-xform"),t=e("./app-titles-of-parts-xform");class n extends s{constructor(){super(),this.map={Company:new i({tag:"Company"}),Manager:new i({tag:"Manager"}),HeadingPairs:new r,TitleOfParts:new t}}render(o,a){o.openXml(c.StdDocAttributes),o.openNode("Properties",n.PROPERTY_ATTRIBUTES),o.leafNode("Application",void 0,"Microsoft Excel"),o.leafNode("DocSecurity",void 0,"0"),o.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(o,a.worksheets),this.map.TitleOfParts.render(o,a.worksheets),this.map.Company.render(o,a.company||""),this.map.Manager.render(o,a.manager),o.leafNode("LinksUpToDate",void 0,"false"),o.leafNode("SharedDoc",void 0,"false"),o.leafNode("HyperlinksChanged",void 0,"false"),o.leafNode("AppVersion",void 0,"16.0300"),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"Properties":return!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}n.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3,6}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},h.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform");class i extends s{render(t,n){t.openXml(c.StdDocAttributes),t.openNode("Types",i.PROPERTY_ATTRIBUTES);const l={};(n.media||[]).forEach(o=>{if(o.type==="image"){const a=o.extension;l[a]||(l[a]=!0,t.leafNode("Default",{Extension:a,ContentType:"image/"+a}))}}),t.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),t.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),t.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),n.worksheets.forEach(o=>{const a=`/xl/worksheets/sheet${o.id}.xml`;t.leafNode("Override",{PartName:a,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),t.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),t.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),n.sharedStrings&&n.sharedStrings.count&&t.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),n.tables&&n.tables.forEach(o=>{t.leafNode("Override",{PartName:"/xl/tables/"+o.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),n.drawings&&n.drawings.forEach(o=>{t.leafNode("Override",{PartName:`/xl/drawings/${o.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),n.commentRefs&&(t.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),n.commentRefs.forEach(o=>{let{commentName:a}=o;t.leafNode("Override",{PartName:`/xl/${a}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),t.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),t.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),t.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}i.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},h.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("../simple/date-xform"),r=e("../simple/string-xform"),t=e("../simple/integer-xform");class n extends s{constructor(){super(),this.map={"dc:creator":new r({tag:"dc:creator"}),"dc:title":new r({tag:"dc:title"}),"dc:subject":new r({tag:"dc:subject"}),"dc:description":new r({tag:"dc:description"}),"dc:identifier":new r({tag:"dc:identifier"}),"dc:language":new r({tag:"dc:language"}),"cp:keywords":new r({tag:"cp:keywords"}),"cp:category":new r({tag:"cp:category"}),"cp:lastModifiedBy":new r({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new i({tag:"cp:lastPrinted",format:n.DateFormat}),"cp:revision":new t({tag:"cp:revision"}),"cp:version":new r({tag:"cp:version"}),"cp:contentStatus":new r({tag:"cp:contentStatus"}),"cp:contentType":new r({tag:"cp:contentType"}),"dcterms:created":new i({tag:"dcterms:created",attrs:n.DateAttrs,format:n.DateFormat}),"dcterms:modified":new i({tag:"dcterms:modified",attrs:n.DateAttrs,format:n.DateFormat})}}render(o,a){o.openXml(c.StdDocAttributes),o.openNode("cp:coreProperties",n.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(o,a.creator),this.map["dc:title"].render(o,a.title),this.map["dc:subject"].render(o,a.subject),this.map["dc:description"].render(o,a.description),this.map["dc:identifier"].render(o,a.identifier),this.map["dc:language"].render(o,a.language),this.map["cp:keywords"].render(o,a.keywords),this.map["cp:category"].render(o,a.category),this.map["cp:lastModifiedBy"].render(o,a.lastModifiedBy),this.map["cp:lastPrinted"].render(o,a.lastPrinted),this.map["cp:revision"].render(o,a.revision),this.map["cp:version"].render(o,a.version),this.map["cp:contentStatus"].render(o,a.contentStatus),this.map["cp:contentType"].render(o,a.contentType),this.map["dcterms:created"].render(o,a.created),this.map["dcterms:modified"].render(o,a.modified),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[o.name],this.parser)return this.parser.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}n.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},h.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{render(s,i){s.leafNode("Relationship",i)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("./relationship-xform");class r extends s{constructor(){super(),this.map={Relationship:new i}}render(n,l){l=l||this._values,n.openXml(c.StdDocAttributes),n.openNode("Relationships",r.RELATIONSHIPS_ATTRIBUTES),l.forEach(o=>{this.map.Relationship.render(n,o)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(n){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}r.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},h.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,i){if(s&&s.rId){const r=i.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(r){const t=r[1],n=i.mediaIndex[t];return i.media[n]}}}}},{"../base-xform":32}],57:[function(e,h,m){const c=e("../base-xform"),s=e("./blip-xform");h.exports=class extends c{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(i,r){i.openNode(this.tag),this.map["a:blip"].render(i,r),i.openNode("a:stretch"),i.leafNode("a:fillRect"),i.closeNode(),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"a:blip"}render(s,i){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":i.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,h,m){const c=e("../base-xform"),s=e("./hlink-click-xform"),i=e("./ext-lst-xform");h.exports=class extends c{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new i}}get tag(){return"xdr:cNvPr"}render(r,t){r.openNode(this.tag,{id:t.index,name:"Picture "+t.index}),this.map["a:hlinkClick"].render(r,t),this.map["a:extLst"].render(r,t),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset();break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,h,m){const c=e("../base-xform"),s=e("../simple/integer-xform");h.exports=class extends c{constructor(i){super(),this.tag=i.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(i,r){i.openNode(this.tag),this.map["xdr:col"].render(i,r.nativeCol),this.map["xdr:colOff"].render(i,r.nativeColOff),this.map["xdr:row"].render(i,r.nativeRow),this.map["xdr:rowOff"].render(i,r.nativeRowOff),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,h,m){const c=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),i=e("../base-xform"),r=e("./two-cell-anchor-xform"),t=e("./one-cell-anchor-xform");class n extends i{constructor(){super(),this.map={"xdr:twoCellAnchor":new r,"xdr:oneCellAnchor":new t}}prepare(o){o.anchors.forEach((a,g)=>{a.anchorType=(function(b){return(typeof b.range=="string"?c.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(a),this.map[a.anchorType].prepare(a,{index:g})})}get tag(){return"xdr:wsDr"}render(o,a){o.openXml(s.StdDocAttributes),o.openNode(this.tag,n.DRAWING_ATTRIBUTES),a.anchors.forEach(g=>{this.map[g.anchorType].render(o,g)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:return!0}}reconcile(o,a){o.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,a):this.map["xdr:oneCellAnchor"].reconcile(g,a)})}}n.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},h.exports=n},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,i){s.openNode(this.tag);const r=Math.floor(9525*i.width),t=Math.floor(9525*i.height);s.addAttribute("cx",r),s.addAttribute("cy",t),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"a:hlinkClick"}render(s,i){i.hyperlinks&&i.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":i.hyperlinks.rId,tooltip:i.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,h,m){const c=e("../base-xform"),s=e("./c-nv-pr-xform"),i=e("./c-nv-pic-pr-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new i}}get tag(){return"xdr:nvPicPr"}render(r,t){r.openNode(this.tag),this.map["xdr:cNvPr"].render(r,t),this.map["xdr:cNvPicPr"].render(r,t),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset();break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,h,m){const c=e("./base-cell-anchor-xform"),s=e("../static-xform"),i=e("./cell-position-xform"),r=e("./ext-xform"),t=e("./pic-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:from":new i({tag:"xdr:from"}),"xdr:ext":new r({tag:"xdr:ext"}),"xdr:pic":new t,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,l){this.map["xdr:pic"].prepare(n.picture,l)}render(n,l){n.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,l.range.tl),this.map["xdr:ext"].render(n,l.range.ext),this.map["xdr:pic"].render(n,l.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,l){n.medium=this.reconcilePicture(n.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,h,m){const c=e("../base-xform"),s=e("../static-xform"),i=e("./blip-fill-xform"),r=e("./nv-pic-pr-xform"),t=e("./sp-pr");h.exports=class extends c{constructor(){super(),this.map={"xdr:nvPicPr":new r,"xdr:blipFill":new i,"xdr:spPr":new s(t)}}get tag(){return"xdr:pic"}prepare(n,l){n.index=l.index+1}render(n,l){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,l),this.map["xdr:blipFill"].render(n,l),this.map["xdr:spPr"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,h,m){h.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,h,m){const c=e("./base-cell-anchor-xform"),s=e("../static-xform"),i=e("./cell-position-xform"),r=e("./pic-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:from":new i({tag:"xdr:from"}),"xdr:to":new i({tag:"xdr:to"}),"xdr:pic":new r,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(t,n){this.map["xdr:pic"].prepare(t.picture,n)}render(t,n){t.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(t,n.range.tl),this.map["xdr:to"].render(t,n.range.br),this.map["xdr:pic"].render(t,n.picture),this.map["xdr:clientData"].render(t,{}),t.closeNode()}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(t,n){t.medium=this.reconcilePicture(t.picture,n)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,h,m){const c=e("./base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,i){const{childXform:r}=this;s&&s.forEach((t,n)=>{i.index=n,r.prepare(t,i)})}render(s,i){if(this.always||i&&i.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,i&&i.length||0);const{childXform:r}=this;(i||[]).forEach((t,n)=>{r.render(s,t,n)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,i){if(s){const{childXform:r}=this;s.forEach(t=>{r.reconcile(t,i)})}}}},{"./base-xform":32}],72:[function(e,h,m){const c=e("../../../utils/col-cache"),s=e("../base-xform");h.exports=class extends s{get tag(){return"autoFilter"}render(i,r){if(r)if(typeof r=="string")i.leafNode("autoFilter",{ref:r});else{const t=function(o){return typeof o=="string"?o:c.getAddress(o.row,o.column).address},n=t(r.from),l=t(r.to);n&&l&&i.leafNode("autoFilter",{ref:`${n}:${l}`})}}parseOpen(i){i.name==="autoFilter"&&(this.model=i.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,h,m){const c=e("../../../utils/utils"),s=e("../base-xform"),i=e("../../../doc/range"),r=e("../../../doc/enums"),t=e("../strings/rich-text-xform");function n(l){if(l==null)return r.ValueType.Null;if(l instanceof String||typeof l=="string")return r.ValueType.String;if(typeof l=="number")return r.ValueType.Number;if(typeof l=="boolean")return r.ValueType.Boolean;if(l instanceof Date)return r.ValueType.Date;if(l.text&&l.hyperlink)return r.ValueType.Hyperlink;if(l.formula)return r.ValueType.Formula;if(l.error)return r.ValueType.Error;throw new Error("I could not understand type of value")}h.exports=class extends s{constructor(){super(),this.richTextXForm=new t}get tag(){return"c"}prepare(l,o){const a=o.styles.addStyleModel(l.style||{},(function(g){switch(g.type){case r.ValueType.Formula:return n(g.result);default:return g.type}})(l));switch(a&&(l.styleId=a),l.comment&&o.comments.push({...l.comment,ref:l.address}),l.type){case r.ValueType.String:case r.ValueType.RichText:o.sharedStrings&&(l.ssId=o.sharedStrings.add(l.value));break;case r.ValueType.Date:o.date1904&&(l.date1904=!0);break;case r.ValueType.Hyperlink:o.sharedStrings&&l.text!==void 0&&l.text!==null&&(l.ssId=o.sharedStrings.add(l.text)),o.hyperlinks.push({address:l.address,target:l.hyperlink,tooltip:l.tooltip});break;case r.ValueType.Merge:o.merges.add(l);break;case r.ValueType.Formula:if(o.date1904&&(l.date1904=!0),l.shareType==="shared"&&(l.si=o.siFormulae++),l.formula)o.formulae[l.address]=l;else if(l.sharedFormula){const g=o.formulae[l.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+l.address);g.si===void 0?(g.shareType="shared",g.si=o.siFormulae++,g.range=new i(g.address,l.address)):g.range&&g.range.expandToAddress(l.address),l.si=g.si}}}renderFormula(l,o){let a=null;switch(o.shareType){case"shared":a={t:"shared",ref:o.ref||o.range.range,si:o.si};break;case"array":a={t:"array",ref:o.ref};break;default:o.si!==void 0&&(a={t:"shared",si:o.si})}switch(n(o.result)){case r.ValueType.Null:l.leafNode("f",a,o.formula);break;case r.ValueType.String:l.addAttribute("t","str"),l.leafNode("f",a,o.formula),l.leafNode("v",null,o.result);break;case r.ValueType.Number:l.leafNode("f",a,o.formula),l.leafNode("v",null,o.result);break;case r.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("f",a,o.formula),l.leafNode("v",null,o.result?1:0);break;case r.ValueType.Error:l.addAttribute("t","e"),l.leafNode("f",a,o.formula),l.leafNode("v",null,o.result.error);break;case r.ValueType.Date:l.leafNode("f",a,o.formula),l.leafNode("v",null,c.dateToExcel(o.result,o.date1904));break;default:throw new Error("I could not understand type of value")}}render(l,o){if(o.type!==r.ValueType.Null||o.styleId){switch(l.openNode("c"),l.addAttribute("r",o.address),o.styleId&&l.addAttribute("s",o.styleId),o.type){case r.ValueType.Null:break;case r.ValueType.Number:l.leafNode("v",null,o.value);break;case r.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("v",null,o.value?"1":"0");break;case r.ValueType.Error:l.addAttribute("t","e"),l.leafNode("v",null,o.value.error);break;case r.ValueType.String:case r.ValueType.RichText:o.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,o.ssId)):o.value&&o.value.richText?(l.addAttribute("t","inlineStr"),l.openNode("is"),o.value.richText.forEach(a=>{this.richTextXForm.render(l,a)}),l.closeNode("is")):(l.addAttribute("t","str"),l.leafNode("v",null,o.value));break;case r.ValueType.Date:l.leafNode("v",null,c.dateToExcel(o.value,o.date1904));break;case r.ValueType.Hyperlink:o.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,o.ssId)):(l.addAttribute("t","str"),l.leafNode("v",null,o.text));break;case r.ValueType.Formula:this.renderFormula(l,o);break;case r.ValueType.Merge:}l.closeNode()}}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"c":return this.model={address:l.attributes.r},this.t=l.attributes.t,l.attributes.s&&(this.model.styleId=parseInt(l.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=l.attributes.si,this.model.shareType=l.attributes.t,this.model.ref=l.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){if(this.parser)this.parser.parseText(l);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+l:l;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+l:l:this.model.value=this.model.value?this.model.value+l:l}}parseClose(l){switch(l){case"c":{const{model:o}=this;if(o.formula||o.shareType)o.type=r.ValueType.Formula,o.value&&(this.t==="str"?o.result=c.xmlDecode(o.value):this.t==="b"?o.result=parseInt(o.value,10)!==0:this.t==="e"?o.result={error:o.value}:o.result=parseFloat(o.value),o.value=void 0);else if(o.value!==void 0)switch(this.t){case"s":o.type=r.ValueType.String,o.value=parseInt(o.value,10);break;case"str":o.type=r.ValueType.String,o.value=c.xmlDecode(o.value);break;case"inlineStr":o.type=r.ValueType.String;break;case"b":o.type=r.ValueType.Boolean,o.value=parseInt(o.value,10)!==0;break;case"e":o.type=r.ValueType.Error,o.value={error:o.value};break;default:o.type=r.ValueType.Number,o.value=parseFloat(o.value)}else o.styleId?o.type=r.ValueType.Null:o.type=r.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(l),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(l),!0)}}reconcile(l,o){const a=l.styleId&&o.styles&&o.styles.getStyleModel(l.styleId);switch(a&&(l.style=a),l.styleId!==void 0&&(l.styleId=void 0),l.type){case r.ValueType.String:typeof l.value=="number"&&o.sharedStrings&&(l.value=o.sharedStrings.getString(l.value)),l.value.richText&&(l.type=r.ValueType.RichText);break;case r.ValueType.Number:a&&c.isDateFmt(a.numFmt)&&(l.type=r.ValueType.Date,l.value=c.excelToDate(l.value,o.date1904));break;case r.ValueType.Formula:l.result!==void 0&&a&&c.isDateFmt(a.numFmt)&&(l.result=c.excelToDate(l.result,o.date1904)),l.shareType==="shared"&&(l.ref?o.formulae[l.si]=l.address:(l.sharedFormula=o.formulae[l.si],delete l.shareType),delete l.si)}const g=o.hyperlinkMap[l.address];g&&(l.type===r.ValueType.Formula?(l.text=l.result,l.result=void 0):(l.text=l.value,l.value=void 0),l.type=r.ValueType.Hyperlink,l.hyperlink=g);const b=o.commentsMap&&o.commentsMap[l.address];b&&(l.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{get tag(){return"x14:cfIcon"}render(s,i){s.leafNode(this.tag,{iconSet:i.iconSet,iconId:i.iconId})}parseOpen(s){let{attributes:i}=s;this.model={iconSet:i.iconSet,iconId:c.toIntValue(i.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,h,m){const{v4:c}=e("uuid"),s=e("../../base-xform"),i=e("../../composite-xform"),r=e("./databar-ext-xform"),t=e("./icon-set-ext-xform"),n={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class l extends i{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new r,"x14:iconSet":this.iconSetXform=new t}}get tag(){return"x14:cfRule"}static isExt(a){return a.type==="dataBar"?r.isExt(a):!(a.type!=="iconSet"||!a.custom&&!n[a.iconSet])}prepare(a){l.isExt(a)&&(a.x14Id=`{${c()}}`.toUpperCase())}render(a,g){if(l.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(a,g);break;case"iconSet":this.renderIconSet(a,g)}}renderDataBar(a,g){a.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(a,g),a.closeNode()}renderIconSet(a,g){a.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${c()}}`}),this.iconSetXform.render(a,g),a.closeNode()}createNewModel(a){let{attributes:g}=a;return{type:g.type,x14Id:g.id,priority:s.toIntValue(g.priority)}}onParserClose(a,g){Object.assign(this.model,g.model)}}h.exports=l},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,h,m){const c=e("../../composite-xform"),s=e("./f-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(i,r){i.openNode(this.tag,{type:r.type}),r.value!==void 0&&this.fExtXform.render(i,r.value),i.closeNode()}createNewModel(i){return{type:i.attributes.type}}onParserClose(i,r){switch(i){case"xm:f":this.model.value=r.model?parseFloat(r.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,h,m){const c=e("../../composite-xform"),s=e("./sqref-ext-xform"),i=e("./cf-rule-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new i}}get tag(){return"x14:conditionalFormatting"}prepare(r,t){r.rules.forEach(n=>{this.cfRule.prepare(n,t)})}render(r,t){t.rules.some(i.isExt)&&(r.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),t.rules.filter(i.isExt).forEach(n=>this.cfRule.render(r,n)),this.sqRef.render(r,t.ref),r.closeNode())}createNewModel(){return{rules:[]}}onParserClose(r,t){switch(r){case"xm:sqref":this.model.ref=t.model;break;case"x14:cfRule":this.model.rules.push(t.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,h,m){const c=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),i=e("./conditional-formatting-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new i}}get tag(){return"x14:conditionalFormattings"}hasContent(r){return r.hasExtContent===void 0&&(r.hasExtContent=r.some(t=>t.rules.some(s.isExt))),r.hasExtContent}prepare(r,t){r.forEach(n=>{this.cfXform.prepare(n,t)})}render(r,t){this.hasContent(t)&&(r.openNode(this.tag),t.forEach(n=>this.cfXform.render(r,n)),r.closeNode())}createNewModel(){return[]}onParserClose(r,t){this.model.push(t.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,h,m){const c=e("../../base-xform"),s=e("../../composite-xform"),i=e("../../style/color-xform"),r=e("./cfvo-ext-xform");h.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new r,"x14:borderColor":this.borderColorXform=new i("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new i("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new i("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new i("x14:axisColor")}}static isExt(t){return!t.gradient}get tag(){return"x14:dataBar"}render(t,n){t.openNode(this.tag,{minLength:c.toIntAttribute(n.minLength,0,!0),maxLength:c.toIntAttribute(n.maxLength,100,!0),border:c.toBoolAttribute(n.border,!1),gradient:c.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:c.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:c.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:c.toAttribute(n.axisPosition,"auto"),direction:c.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(l=>{this.cfvoXform.render(t,l)}),this.borderColorXform.render(t,n.borderColor),this.negativeBorderColorXform.render(t,n.negativeBorderColor),this.negativeFillColorXform.render(t,n.negativeFillColor),this.axisColorXform.render(t,n.axisColor),t.closeNode()}createNewModel(t){let{attributes:n}=t;return{cfvo:[],minLength:c.toIntValue(n.minLength,0),maxLength:c.toIntValue(n.maxLength,100),border:c.toBoolValue(n.border,!1),gradient:c.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:c.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:c.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:c.toStringValue(n.axisPosition,"auto"),direction:c.toStringValue(n.direction,"leftToRight")}}onParserClose(t,n){const[,l]=t.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[l]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{get tag(){return"xm:f"}render(s,i){s.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,h,m){const c=e("../../base-xform"),s=e("../../composite-xform"),i=e("./cfvo-ext-xform"),r=e("./cf-icon-ext-xform");h.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new i,"x14:cfIcon":this.cfIconXform=new r}}get tag(){return"x14:iconSet"}render(t,n){t.openNode(this.tag,{iconSet:c.toStringAttribute(n.iconSet),reverse:c.toBoolAttribute(n.reverse,!1),showValue:c.toBoolAttribute(n.showValue,!0),custom:c.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(l=>{this.cfvoXform.render(t,l)}),n.icons&&n.icons.forEach((l,o)=>{l.iconId=o,this.cfIconXform.render(t,l)}),t.closeNode()}createNewModel(t){let{attributes:n}=t;return{cfvo:[],iconSet:c.toStringValue(n.iconSet,"3TrafficLights"),reverse:c.toBoolValue(n.reverse,!1),showValue:c.toBoolValue(n.showValue,!0)}}onParserClose(t,n){const[,l]=t.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[l]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{get tag(){return"xm:sqref"}render(s,i){s.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,h,m){const c=e("../../base-xform"),s=e("../../composite-xform"),i=e("../../../../doc/range"),r=e("./databar-xform"),t=e("./ext-lst-ref-xform"),n=e("./formula-xform"),l=e("./color-scale-xform"),o=e("./icon-set-xform"),a={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=f=>{const{type:v,operator:x}=f;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:x}}};class b extends s{constructor(){super(),this.map={dataBar:this.databarXform=new r,extLst:this.extLstRefXform=new t,formula:this.formulaXform=new n,colorScale:this.colorScaleXform=new l,iconSet:this.iconSetXform=new o}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!a[v.iconSet]}render(v,x){switch(x.type){case"expression":this.renderExpression(v,x);break;case"cellIs":this.renderCellIs(v,x);break;case"top10":this.renderTop10(v,x);break;case"aboveAverage":this.renderAboveAverage(v,x);break;case"dataBar":this.renderDataBar(v,x);break;case"colorScale":this.renderColorScale(v,x);break;case"iconSet":this.renderIconSet(v,x);break;case"containsText":this.renderText(v,x);break;case"timePeriod":this.renderTimePeriod(v,x)}}renderExpression(v,x){v.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(v,x.formulae[0]),v.closeNode()}renderCellIs(v,x){v.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(j=>{this.formulaXform.render(v,j)}),v.closeNode()}renderTop10(v,x){v.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:c.toBoolAttribute(x.percent,!1),bottom:c.toBoolAttribute(x.bottom,!1),rank:c.toIntValue(x.rank,10,!0)})}renderAboveAverage(v,x){v.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:c.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(v,x){v.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(v,x),this.extLstRefXform.render(v,x),v.closeNode()}renderColorScale(v,x){v.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(v,x),v.closeNode()}renderIconSet(v,x){b.isPrimitive(x)&&(v.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(v,x),v.closeNode())}renderText(v,x){v.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:c.toStringAttribute(x.operator,"containsText")});const j=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const M=new i(C.ref),{tl:$}=M;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${$})))`;case"containsBlanks":return`LEN(TRIM(${$}))=0`;case"notContainsBlanks":return`LEN(TRIM(${$}))>0`;case"containsErrors":return`ISERROR(${$})`;case"notContainsErrors":return`NOT(ISERROR(${$}))`;default:return}})(x);j&&this.formulaXform.render(v,j),v.closeNode()}renderTimePeriod(v,x){v.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const j=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const M=new i(C.ref),{tl:$}=M;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${$},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${$},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${$},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${$},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${$},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${$},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${$},1)=TODAY()-1`;case"today":return`FLOOR(${$},1)=TODAY()`;case"tomorrow":return`FLOOR(${$},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${$},1)<=6,FLOOR(${$},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${$})=MONTH(EDATE(TODAY(),0-1)),YEAR(${$})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${$})=MONTH(TODAY()),YEAR(${$})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${$})=MONTH(EDATE(TODAY(),0+1)),YEAR(${$})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);j&&this.formulaXform.render(v,j),v.closeNode()}createNewModel(v){let{attributes:x}=v;return{...g(x),dxfId:c.toIntValue(x.dxfId),priority:c.toIntValue(x.priority),timePeriod:x.timePeriod,percent:c.toBoolValue(x.percent),bottom:c.toBoolValue(x.bottom),rank:c.toIntValue(x.rank),aboveAverage:c.toBoolValue(x.aboveAverage)}}onParserClose(v,x){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}h.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{get tag(){return"cfvo"}render(s,i){s.leafNode(this.tag,{type:i.type,val:i.value})}parseOpen(s){this.model={type:s.attributes.type,value:c.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,h,m){const c=e("../../composite-xform"),s=e("../../style/color-xform"),i=e("./cfvo-xform");h.exports=class extends c{constructor(){super(),this.map={cfvo:this.cfvoXform=new i,color:this.colorXform=new s}}get tag(){return"colorScale"}render(r,t){r.openNode(this.tag),t.cfvo.forEach(n=>{this.cfvoXform.render(r,n)}),t.color.forEach(n=>{this.colorXform.render(r,n)}),r.closeNode()}createNewModel(r){return{cfvo:[],color:[]}}onParserClose(r,t){this.model[r].push(t.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,h,m){const c=e("../../composite-xform"),s=e("./cf-rule-xform");h.exports=class extends c{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(i,r){r.rules.some(s.isPrimitive)&&(i.openNode(this.tag,{sqref:r.ref}),r.rules.forEach(t=>{s.isPrimitive(t)&&(t.ref=r.ref,this.map.cfRule.render(i,t))}),i.closeNode())}createNewModel(i){let{attributes:r}=i;return{ref:r.sqref,rules:[]}}onParserClose(i,r){this.model.rules.push(r.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,h,m){const c=e("../../base-xform"),s=e("./conditional-formatting-xform");h.exports=class extends c{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(i,r){let t=i.reduce((n,l)=>Math.max(n,...l.rules.map(o=>o.priority||0)),1);i.forEach(n=>{n.rules.forEach(l=>{l.priority||(l.priority=t++),l.style&&(l.dxfId=r.styles.addDxfStyle(l.style))})})}render(i,r){r.forEach(t=>{this.cfXform.render(i,t)})}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return!!this.parser&&(!!this.parser.parseClose(i)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(i,r){i.forEach(t=>{t.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=r.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,h,m){const c=e("../../composite-xform"),s=e("../../style/color-xform"),i=e("./cfvo-xform");h.exports=class extends c{constructor(){super(),this.map={cfvo:this.cfvoXform=new i,color:this.colorXform=new s}}get tag(){return"dataBar"}render(r,t){r.openNode(this.tag),t.cfvo.forEach(n=>{this.cfvoXform.render(r,n)}),this.colorXform.render(r,t.color),r.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(r,t){switch(r){case"cfvo":this.model.cfvo.push(t.model);break;case"color":this.model.color=t.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,h,m){const c=e("../../base-xform"),s=e("../../composite-xform");class i extends c{get tag(){return"x14:id"}render(n,l){n.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}class r extends s{constructor(){super(),this.map={"x14:id":this.idXform=new i}}get tag(){return"ext"}render(n,l){n.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(n,l.x14Id),n.closeNode()}createNewModel(){return{}}onParserClose(n,l){this.model.x14Id=l.model}}h.exports=class extends s{constructor(){super(),this.map={ext:new r}}get tag(){return"extLst"}render(t,n){t.openNode(this.tag),this.map.ext.render(t,n),t.closeNode()}createNewModel(){return{}}onParserClose(t,n){Object.assign(this.model,n.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,h,m){const c=e("../../base-xform");h.exports=class extends c{get tag(){return"formula"}render(s,i){s.leafNode(this.tag,null,i)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,h,m){const c=e("../../base-xform"),s=e("../../composite-xform"),i=e("./cfvo-xform");h.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new i}}get tag(){return"iconSet"}render(r,t){r.openNode(this.tag,{iconSet:c.toStringAttribute(t.iconSet,"3TrafficLights"),reverse:c.toBoolAttribute(t.reverse,!1),showValue:c.toBoolAttribute(t.showValue,!0)}),t.cfvo.forEach(n=>{this.cfvoXform.render(r,n)}),r.closeNode()}createNewModel(r){let{attributes:t}=r;return{iconSet:c.toStringValue(t.iconSet,"3TrafficLights"),reverse:c.toBoolValue(t.reverse),showValue:c.toBoolValue(t.showValue),cfvo:[]}}onParserClose(r,t){this.model[r].push(t.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,h,m){const c=e("../../../utils/utils"),s=e("../base-xform");h.exports=class extends s{get tag(){return"col"}prepare(i,r){const t=r.styles.addStyleModel(i.style||{});t&&(i.styleId=t)}render(i,r){i.openNode("col"),i.addAttribute("min",r.min),i.addAttribute("max",r.max),r.width&&i.addAttribute("width",r.width),r.styleId&&i.addAttribute("style",r.styleId),r.hidden&&i.addAttribute("hidden","1"),r.bestFit&&i.addAttribute("bestFit","1"),r.outlineLevel&&i.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&i.addAttribute("collapsed","1"),i.addAttribute("customWidth","1"),i.closeNode()}parseOpen(i){if(i.name==="col"){const r=this.model={min:parseInt(i.attributes.min||"0",10),max:parseInt(i.attributes.max||"0",10),width:i.attributes.width===void 0?void 0:parseFloat(i.attributes.width||"0")};return i.attributes.style&&(r.styleId=parseInt(i.attributes.style,10)),c.parseBoolean(i.attributes.hidden)&&(r.hidden=!0),c.parseBoolean(i.attributes.bestFit)&&(r.bestFit=!0),i.attributes.outlineLevel&&(r.outlineLevel=parseInt(i.attributes.outlineLevel,10)),c.parseBoolean(i.attributes.collapsed)&&(r.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(i,r){i.styleId&&(i.style=r.styles.getStyleModel(i.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../../../utils/utils"),i=e("../../../utils/col-cache"),r=e("../base-xform"),t=e("../../../doc/range");function n(o,a,g,b){const f=a[g];f!==void 0?o[g]=f:b!==void 0&&(o[g]=b)}function l(o,a,g,b){const f=a[g];f!==void 0&&(o[g]=s.parseBoolean(f))}h.exports=class extends r{get tag(){return"dataValidations"}render(o,a){const g=(function(b){const f=c.map(b,(j,C)=>({address:C,dataValidation:j,marked:!1})).sort((j,C)=>c.strcmp(j.address,C.address)),v=c.keyBy(f,"address"),x=(j,C,M)=>{for(let $=0;$<C;$++){const V=i.encodeAddress(j.row+$,M);if(!b[V]||!c.isEqual(b[j.address],b[V]))return!1}return!0};return f.map(j=>{if(!j.marked){const C=i.decodeEx(j.address);if(C.dimensions)return v[C.dimensions].marked=!0,{...j.dataValidation,sqref:j.address};let M=1,$=i.encodeAddress(C.row+M,C.col);for(;b[$]&&c.isEqual(j.dataValidation,b[$]);)M++,$=i.encodeAddress(C.row+M,C.col);let V=1;for(;x(C,M,C.col+V);)V++;for(let B=0;B<M;B++)for(let U=0;U<V;U++)$=i.encodeAddress(C.row+B,C.col+U),v[$].marked=!0;if(M>1||V>1){const B=C.row+(M-1),U=C.col+(V-1);return{...j.dataValidation,sqref:`${j.address}:${i.encodeAddress(B,U)}`}}return{...j.dataValidation,sqref:j.address}}return null}).filter(Boolean)})(a);g.length&&(o.openNode("dataValidations",{count:g.length}),g.forEach(b=>{o.openNode("dataValidation"),b.type!=="any"&&(o.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&o.addAttribute("operator",b.operator),b.allowBlank&&o.addAttribute("allowBlank","1")),b.showInputMessage&&o.addAttribute("showInputMessage","1"),b.promptTitle&&o.addAttribute("promptTitle",b.promptTitle),b.prompt&&o.addAttribute("prompt",b.prompt),b.showErrorMessage&&o.addAttribute("showErrorMessage","1"),b.errorStyle&&o.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&o.addAttribute("errorTitle",b.errorTitle),b.error&&o.addAttribute("error",b.error),o.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((f,v)=>{o.openNode("formula"+(v+1)),b.type==="date"?o.writeText(s.dateToExcel(new Date(f))):o.writeText(f),o.closeNode()}),o.closeNode()}),o.closeNode())}parseOpen(o){switch(o.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=o.attributes.sqref;const a={type:o.attributes.type||"any",formulae:[]};switch(o.attributes.type&&l(a,o.attributes,"allowBlank"),l(a,o.attributes,"showInputMessage"),l(a,o.attributes,"showErrorMessage"),a.type){case"any":case"list":case"custom":break;default:n(a,o.attributes,"operator","between")}return n(a,o.attributes,"promptTitle"),n(a,o.attributes,"prompt"),n(a,o.attributes,"errorStyle"),n(a,o.attributes,"errorTitle"),n(a,o.attributes,"error"),this._dataValidation=a,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(o){this._formula&&this._formula.push(o)}parseClose(o){switch(o){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(a=>{a.includes(":")?new t(a).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[a]=this._dataValidation}),!0;case"formula1":case"formula2":{let a=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":a=parseInt(a,10);break;case"decimal":a=parseFloat(a);break;case"date":a=s.excelToDate(parseFloat(a))}return this._dataValidation.formulae.push(a),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"dimension"}render(s,i){i&&s.leafNode("dimension",{ref:i})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"drawing"}render(s,i){i&&s.leafNode(this.tag,{"r:id":i.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,h,m){const c=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class i extends c{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(t){return this.conditionalFormattings.hasContent(t.conditionalFormattings)}prepare(t,n){this.conditionalFormattings.prepare(t.conditionalFormattings,n)}render(t,n){t.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(t,n.conditionalFormattings),t.closeNode()}createNewModel(){return{}}onParserClose(t,n){this.model[t]=n.model}}h.exports=class extends c{constructor(){super(),this.map={ext:this.ext=new i}}get tag(){return"extLst"}prepare(r,t){this.ext.prepare(r,t)}hasContent(r){return this.ext.hasContent(r)}render(r,t){this.hasContent(t)&&(r.openNode("extLst"),this.ext.render(r,t),r.closeNode())}createNewModel(){return{}}onParserClose(r,t){Object.assign(this.model,t.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"headerFooter"}render(s,i){if(i){s.addRollback();let r=!1;s.openNode("headerFooter"),i.differentFirst&&(s.addAttribute("differentFirst","1"),r=!0),i.differentOddEven&&(s.addAttribute("differentOddEven","1"),r=!0),i.oddHeader&&typeof i.oddHeader=="string"&&(s.leafNode("oddHeader",null,i.oddHeader),r=!0),i.oddFooter&&typeof i.oddFooter=="string"&&(s.leafNode("oddFooter",null,i.oddFooter),r=!0),i.evenHeader&&typeof i.evenHeader=="string"&&(s.leafNode("evenHeader",null,i.evenHeader),r=!0),i.evenFooter&&typeof i.evenFooter=="string"&&(s.leafNode("evenFooter",null,i.evenFooter),r=!0),i.firstHeader&&typeof i.firstHeader=="string"&&(s.leafNode("firstHeader",null,i.firstHeader),r=!0),i.firstFooter&&typeof i.firstFooter=="string"&&(s.leafNode("firstFooter",null,i.firstFooter),r=!0),r?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"hyperlink"}render(s,i){this.isInternalLink(i)?s.leafNode("hyperlink",{ref:i.address,"r:id":i.rId,tooltip:i.tooltip,location:i.target}):s.leafNode("hyperlink",{ref:i.address,"r:id":i.rId,tooltip:i.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"mergeCell"}render(s,i){s.leafNode("mergeCell",{ref:i})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../../../doc/range"),i=e("../../../utils/col-cache"),r=e("../../../doc/enums");h.exports=class{constructor(){this.merges={}}add(t){if(this.merges[t.master])this.merges[t.master].expandToAddress(t.address);else{const n=`${t.master}:${t.address}`;this.merges[t.master]=new s(n)}}get mergeCells(){return c.map(this.merges,t=>t.range)}reconcile(t,n){c.each(t,l=>{const o=i.decode(l);for(let a=o.top;a<=o.bottom;a++){const g=n[a-1];for(let b=o.left;b<=o.right;b++){const f=g.cells[b-1];f?f.type===r.ValueType.Merge&&(f.master=o.tl):g.cells[b]={type:r.ValueType.Null,address:i.encodeAddress(a,b)}}}})}getMasterAddress(t){const n=this.hash[t];return n&&n.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,h,m){const c=e("../base-xform"),s=i=>i!==void 0;h.exports=class extends c{get tag(){return"outlinePr"}render(i,r){return!(!r||!s(r.summaryBelow)&&!s(r.summaryRight))&&(i.leafNode(this.tag,{summaryBelow:s(r.summaryBelow)?Number(r.summaryBelow):void 0,summaryRight:s(r.summaryRight)?Number(r.summaryRight):void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={summaryBelow:s(i.attributes.summaryBelow)?!!Number(i.attributes.summaryBelow):void 0,summaryRight:s(i.attributes.summaryRight)?!!Number(i.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"brk"}render(s,i){s.leafNode("brk",i)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../base-xform");h.exports=class extends s{get tag(){return"pageMargins"}render(i,r){if(r){const t={left:r.left,right:r.right,top:r.top,bottom:r.bottom,header:r.header,footer:r.footer};c.some(t,n=>n!==void 0)&&i.leafNode(this.tag,t)}}parseOpen(i){switch(i.name){case this.tag:return this.model={left:parseFloat(i.attributes.left||.7),right:parseFloat(i.attributes.right||.7),top:parseFloat(i.attributes.top||.75),bottom:parseFloat(i.attributes.bottom||.75),header:parseFloat(i.attributes.header||.3),footer:parseFloat(i.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"pageSetUpPr"}render(s,i){return!(!i||!i.fitToPage)&&(s.leafNode(this.tag,{fitToPage:i.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../base-xform");function i(l){return l?"1":void 0}function r(l){switch(l){case"overThenDown":return l;default:return}}function t(l){switch(l){case"atEnd":case"asDisplyed":return l;default:return}}function n(l){switch(l){case"dash":case"blank":case"NA":return l;default:return}}h.exports=class extends s{get tag(){return"pageSetup"}render(l,o){if(o){const a={paperSize:o.paperSize,orientation:o.orientation,horizontalDpi:o.horizontalDpi,verticalDpi:o.verticalDpi,pageOrder:r(o.pageOrder),blackAndWhite:i(o.blackAndWhite),draft:i(o.draft),cellComments:t(o.cellComments),errors:n(o.errors),scale:o.scale,fitToWidth:o.fitToWidth,fitToHeight:o.fitToHeight,firstPageNumber:o.firstPageNumber,useFirstPageNumber:i(o.firstPageNumber),usePrinterDefaults:i(o.usePrinterDefaults),copies:o.copies};c.some(a,g=>g!==void 0)&&l.leafNode(this.tag,a)}}parseOpen(l){switch(l.name){case this.tag:return this.model={paperSize:(o=l.attributes.paperSize,o!==void 0?parseInt(o,10):void 0),orientation:l.attributes.orientation||"portrait",horizontalDpi:parseInt(l.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(l.attributes.verticalDpi||"4294967295",10),pageOrder:l.attributes.pageOrder||"downThenOver",blackAndWhite:l.attributes.blackAndWhite==="1",draft:l.attributes.draft==="1",cellComments:l.attributes.cellComments||"None",errors:l.attributes.errors||"displayed",scale:parseInt(l.attributes.scale||"100",10),fitToWidth:parseInt(l.attributes.fitToWidth||"1",10),fitToHeight:parseInt(l.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(l.attributes.firstPageNumber||"1",10),useFirstPageNumber:l.attributes.useFirstPageNumber==="1",usePrinterDefaults:l.attributes.usePrinterDefaults==="1",copies:parseInt(l.attributes.copies||"1",10)},!0;default:return!1}var o}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"picture"}render(s,i){i&&s.leafNode(this.tag,{"r:id":i.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../base-xform");function i(r){return r?"1":void 0}h.exports=class extends s{get tag(){return"printOptions"}render(r,t){if(t){const n={headings:i(t.showRowColHeaders),gridLines:i(t.showGridLines),horizontalCentered:i(t.horizontalCentered),verticalCentered:i(t.verticalCentered)};c.some(n,l=>l!==void 0)&&r.leafNode(this.tag,n)}}parseOpen(r){switch(r.name){case this.tag:return this.model={showRowColHeaders:r.attributes.headings==="1",showGridLines:r.attributes.gridLines==="1",horizontalCentered:r.attributes.horizontalCentered==="1",verticalCentered:r.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,h,m){const c=e("./page-breaks-xform"),s=e("../list-xform");h.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new c})}render(i,r){if(r&&r.length){i.openNode(this.tag,this.$),this.count&&(i.addAttribute(this.$count,r.length),i.addAttribute("manualBreakCount",r.length));const{childXform:t}=this;r.forEach(n=>{t.render(i,n)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,h,m){const c=e("../base-xform"),s=e("../../../utils/utils"),i=e("./cell-xform");h.exports=class extends c{constructor(r){super(),this.maxItems=r&&r.maxItems,this.map={c:new i}}get tag(){return"row"}prepare(r,t){const n=t.styles.addStyleModel(r.style);n&&(r.styleId=n);const l=this.map.c;r.cells.forEach(o=>{l.prepare(o,t)})}render(r,t,n){r.openNode("row"),r.addAttribute("r",t.number),t.height&&(r.addAttribute("ht",t.height),r.addAttribute("customHeight","1")),t.hidden&&r.addAttribute("hidden","1"),t.min>0&&t.max>0&&t.min<=t.max&&r.addAttribute("spans",`${t.min}:${t.max}`),t.styleId&&(r.addAttribute("s",t.styleId),r.addAttribute("customFormat","1")),r.addAttribute("x14ac:dyDescent","0.25"),t.outlineLevel&&r.addAttribute("outlineLevel",t.outlineLevel),t.collapsed&&r.addAttribute("collapsed","1");const l=this.map.c;t.cells.forEach(o=>{l.render(r,o,n)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;if(r.name==="row"){this.numRowsSeen+=1;const t=r.attributes.spans?r.attributes.spans.split(":").map(l=>parseInt(l,10)):[void 0,void 0],n=this.model={number:parseInt(r.attributes.r,10),min:t[0],max:t[1],cells:[]};return r.attributes.s&&(n.styleId=parseInt(r.attributes.s,10)),s.parseBoolean(r.attributes.hidden)&&(n.hidden=!0),s.parseBoolean(r.attributes.bestFit)&&(n.bestFit=!0),r.attributes.ht&&(n.height=parseFloat(r.attributes.ht)),r.attributes.outlineLevel&&(n.outlineLevel=parseInt(r.attributes.outlineLevel,10)),s.parseBoolean(r.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(r,t){r.style=r.styleId?t.styles.getStyleModel(r.styleId):{},r.styleId!==void 0&&(r.styleId=void 0);const n=this.map.c;r.cells.forEach(l=>{n.reconcile(l,t)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../base-xform");h.exports=class extends s{get tag(){return"sheetFormatPr"}render(i,r){if(r){const t={defaultRowHeight:r.defaultRowHeight,outlineLevelRow:r.outlineLevelRow,outlineLevelCol:r.outlineLevelCol,"x14ac:dyDescent":r.dyDescent};r.defaultColWidth&&(t.defaultColWidth=r.defaultColWidth),r.defaultRowHeight&&r.defaultRowHeight===15||(t.customHeight="1"),c.some(t,n=>n!==void 0)&&i.leafNode("sheetFormatPr",t)}}parseOpen(i){return i.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(i.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(i.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(i.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(i.attributes.outlineLevelCol||"0",10)},i.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(i.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,h,m){const c=e("../base-xform"),s=e("../style/color-xform"),i=e("./page-setup-properties-xform"),r=e("./outline-properties-xform");h.exports=class extends c{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new i,outlinePr:new r}}get tag(){return"sheetPr"}render(t,n){if(n){t.addRollback(),t.openNode("sheetPr");let l=!1;l=this.map.tabColor.render(t,n.tabColor)||l,l=this.map.pageSetUpPr.render(t,n.pageSetup)||l,l=this.map.outlinePr.render(t,n.outlineProperties)||l,l?(t.closeNode(),t.commit()):t.rollback()}}parseOpen(t){return this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag?(this.reset(),!0):!!this.map[t.name]&&(this.parser=this.map[t.name],this.parser.parseOpen(t),!0)}parseText(t){return!!this.parser&&(this.parser.parseText(t),!0)}parseClose(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../base-xform");function i(t,n){return t?n:void 0}function r(t,n){return t===n||void 0}h.exports=class extends s{get tag(){return"sheetProtection"}render(t,n){if(n){const l={sheet:i(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:i(n.formatCells,"0"),formatColumns:i(n.formatColumns,"0"),formatRows:i(n.formatRows,"0"),insertColumns:i(n.insertColumns,"0"),insertRows:i(n.insertRows,"0"),insertHyperlinks:i(n.insertHyperlinks,"0"),deleteColumns:i(n.deleteColumns,"0"),deleteRows:i(n.deleteRows,"0"),sort:i(n.sort,"0"),autoFilter:i(n.autoFilter,"0"),pivotTables:i(n.pivotTables,"0")};n.sheet&&(l.algorithmName=n.algorithmName,l.hashValue=n.hashValue,l.saltValue=n.saltValue,l.spinCount=n.spinCount,l.objects=i(n.objects===!1,"1"),l.scenarios=i(n.scenarios===!1,"1")),c.some(l,o=>o!==void 0)&&t.leafNode(this.tag,l)}}parseOpen(t){switch(t.name){case this.tag:return this.model={sheet:r(t.attributes.sheet,"1"),objects:t.attributes.objects!=="1"&&void 0,scenarios:t.attributes.scenarios!=="1"&&void 0,selectLockedCells:t.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:t.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:r(t.attributes.formatCells,"0"),formatColumns:r(t.attributes.formatColumns,"0"),formatRows:r(t.attributes.formatRows,"0"),insertColumns:r(t.attributes.insertColumns,"0"),insertRows:r(t.attributes.insertRows,"0"),insertHyperlinks:r(t.attributes.insertHyperlinks,"0"),deleteColumns:r(t.attributes.deleteColumns,"0"),deleteRows:r(t.attributes.deleteRows,"0"),sort:r(t.attributes.sort,"0"),autoFilter:r(t.attributes.autoFilter,"0"),pivotTables:r(t.attributes.pivotTables,"0")},t.attributes.algorithmName&&(this.model.algorithmName=t.attributes.algorithmName,this.model.hashValue=t.attributes.hashValue,this.model.saltValue=t.attributes.saltValue,this.model.spinCount=parseInt(t.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,h,m){const c=e("../../../utils/col-cache"),s=e("../base-xform"),i={frozen:"frozen",frozenSplit:"frozen",split:"split"};h.exports=class extends s{get tag(){return"sheetView"}prepare(r){switch(r.state){case"frozen":case"split":break;default:r.state="normal"}}render(r,t){r.openNode("sheetView",{workbookViewId:t.workbookViewId||0});const n=function(b,f,v){v&&r.addAttribute(b,f)};let l,o,a,g;switch(n("rightToLeft","1",t.rightToLeft===!0),n("tabSelected","1",t.tabSelected),n("showRuler","0",t.showRuler===!1),n("showRowColHeaders","0",t.showRowColHeaders===!1),n("showGridLines","0",t.showGridLines===!1),n("zoomScale",t.zoomScale,t.zoomScale),n("zoomScaleNormal",t.zoomScaleNormal,t.zoomScaleNormal),n("view",t.style,t.style),t.state){case"frozen":o=t.xSplit||0,a=t.ySplit||0,l=t.topLeftCell||c.getAddress(a+1,o+1).address,g=(t.xSplit&&t.ySplit?"bottomRight":t.xSplit&&"topRight")||"bottomLeft",r.leafNode("pane",{xSplit:t.xSplit||void 0,ySplit:t.ySplit||void 0,topLeftCell:l,activePane:g,state:"frozen"}),r.leafNode("selection",{pane:g,activeCell:t.activeCell,sqref:t.activeCell});break;case"split":t.activePane==="topLeft"&&(t.activePane=void 0),r.leafNode("pane",{xSplit:t.xSplit||void 0,ySplit:t.ySplit||void 0,topLeftCell:t.topLeftCell,activePane:t.activePane}),r.leafNode("selection",{pane:t.activePane,activeCell:t.activeCell,sqref:t.activeCell});break;case"normal":t.activeCell&&r.leafNode("selection",{activeCell:t.activeCell,sqref:t.activeCell})}r.closeNode()}parseOpen(r){switch(r.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(r.attributes.workbookViewId,10),rightToLeft:r.attributes.rightToLeft==="1",tabSelected:r.attributes.tabSelected==="1",showRuler:r.attributes.showRuler!=="0",showRowColHeaders:r.attributes.showRowColHeaders!=="0",showGridLines:r.attributes.showGridLines!=="0",zoomScale:parseInt(r.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(r.attributes.zoomScaleNormal||"100",10),style:r.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(r.attributes.xSplit||"0",10),ySplit:parseInt(r.attributes.ySplit||"0",10),topLeftCell:r.attributes.topLeftCell,activePane:r.attributes.activePane||"topLeft",state:r.attributes.state},!0;case"selection":{const t=r.attributes.pane||"topLeft";return this.selections[t]={pane:t,activeCell:r.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(r){let t,n;switch(r){case"sheetView":return this.sheetView&&this.pane?(t=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:i[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(t.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(t.activeCell=n.activeCell),this.sheetView.style&&(t.style=this.sheetView.style)):(t=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(t.activeCell=n.activeCell),this.sheetView.style&&(t.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"tablePart"}render(s,i){i&&s.leafNode(this.tag,{"r:id":i.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),r=e("../../rel-type"),t=e("./merges"),n=e("../base-xform"),l=e("../list-xform"),o=e("./row-xform"),a=e("./col-xform"),g=e("./dimension-xform"),b=e("./hyperlink-xform"),f=e("./merge-cell-xform"),v=e("./data-validations-xform"),x=e("./sheet-properties-xform"),j=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),M=e("./sheet-protection-xform"),$=e("./page-margins-xform"),V=e("./page-setup-xform"),B=e("./print-options-xform"),U=e("./auto-filter-xform"),q=e("./picture-xform"),Y=e("./drawing-xform"),W=e("./table-part-xform"),R=e("./row-breaks-xform"),D=e("./header-footer-xform"),E=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),k=(N,A)=>{if(!A||!A.length)return N;if(!N||!N.length)return A;const P={},L={};return N.forEach(X=>{P[X.ref]=X,X.rules.forEach(K=>{const{x14Id:te}=K;te&&(L[te]=K)})}),A.forEach(X=>{X.rules.forEach(K=>{const te=L[K.x14Id];te?((z,Q)=>{Object.keys(Q).forEach(O=>{const I=z[O],H=Q[O];I===void 0&&H!==void 0&&(z[O]=H)})})(te,K):P[X.ref]?P[X.ref].rules.push(K):N.push({ref:X.ref,rules:[K]})})}),N};class S extends n{constructor(A){super();const{maxRows:P,maxCols:L,ignoreNodes:X}=A||{};this.ignoreNodes=X||[],this.map={sheetPr:new x,dimension:new g,sheetViews:new l({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new j,cols:new l({tag:"cols",count:!1,childXform:new a}),sheetData:new l({tag:"sheetData",count:!1,empty:!0,childXform:new o({maxItems:L}),maxItems:P}),autoFilter:new U,mergeCells:new l({tag:"mergeCells",count:!0,childXform:new f}),rowBreaks:new R,hyperlinks:new l({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new $,dataValidations:new v,pageSetup:new V,headerFooter:new D,printOptions:new B,picture:new q,drawing:new Y,sheetProtection:new M,tableParts:new l({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new E,extLst:new w}}prepare(A,P){P.merges=new t,A.hyperlinks=P.hyperlinks=[],A.comments=P.comments=[],P.formulae={},P.siFormulae=0,this.map.cols.prepare(A.cols,P),this.map.sheetData.prepare(A.rows,P),this.map.conditionalFormatting.prepare(A.conditionalFormattings,P),A.mergeCells=P.merges.mergeCells;const L=A.rels=[];function X(z){return"rId"+(z.length+1)}if(A.hyperlinks.forEach(z=>{const Q=X(L);z.rId=Q,L.push({Id:Q,Type:r.Hyperlink,Target:z.target,TargetMode:"External"})}),A.comments.length>0){const z={Id:X(L),Type:r.Comments,Target:`../comments${A.id}.xml`};L.push(z);const Q={Id:X(L),Type:r.VmlDrawing,Target:`../drawings/vmlDrawing${A.id}.vml`};L.push(Q),A.comments.forEach(O=>{O.refAddress=s.decodeAddress(O.ref)}),P.commentRefs.push({commentName:"comments"+A.id,vmlDrawing:"vmlDrawing"+A.id})}const K=[];let te;A.media.forEach(z=>{if(z.type==="background"){const Q=X(L);te=P.media[z.imageId],L.push({Id:Q,Type:r.Image,Target:`../media/${te.name}.${te.extension}`}),A.background={rId:Q},A.image=P.media[z.imageId]}else if(z.type==="image"){let{drawing:Q}=A;te=P.media[z.imageId],Q||(Q=A.drawing={rId:X(L),name:"drawing"+ ++P.drawingsCount,anchors:[],rels:[]},P.drawings.push(Q),L.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let O=this.preImageId===z.imageId?K[z.imageId]:K[Q.rels.length];O||(O=X(Q.rels),K[Q.rels.length]=O,Q.rels.push({Id:O,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const I={picture:{rId:O},range:z.range};if(z.hyperlinks&&z.hyperlinks.hyperlink){const H=X(Q.rels);K[Q.rels.length]=H,I.picture.hyperlinks={tooltip:z.hyperlinks.tooltip,rId:H},Q.rels.push({Id:H,Type:r.Hyperlink,Target:z.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=z.imageId,Q.anchors.push(I)}}),A.tables.forEach(z=>{const Q=X(L);z.rId=Q,L.push({Id:Q,Type:r.Table,Target:"../tables/"+z.target}),z.columns.forEach(O=>{const{style:I}=O;I&&(O.dxfId=P.styles.addDxfStyle(I))})}),this.map.extLst.prepare(A,P)}render(A,P){A.openXml(i.StdDocAttributes),A.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const L=P.properties?{defaultRowHeight:P.properties.defaultRowHeight,dyDescent:P.properties.dyDescent,outlineLevelCol:P.properties.outlineLevelCol,outlineLevelRow:P.properties.outlineLevelRow}:void 0;P.properties&&P.properties.defaultColWidth&&(L.defaultColWidth=P.properties.defaultColWidth);const X={outlineProperties:P.properties&&P.properties.outlineProperties,tabColor:P.properties&&P.properties.tabColor,pageSetup:P.pageSetup&&P.pageSetup.fitToPage?{fitToPage:P.pageSetup.fitToPage}:void 0},K=P.pageSetup&&P.pageSetup.margins,te={showRowColHeaders:P.pageSetup&&P.pageSetup.showRowColHeaders,showGridLines:P.pageSetup&&P.pageSetup.showGridLines,horizontalCentered:P.pageSetup&&P.pageSetup.horizontalCentered,verticalCentered:P.pageSetup&&P.pageSetup.verticalCentered},z=P.sheetProtection;this.map.sheetPr.render(A,X),this.map.dimension.render(A,P.dimensions),this.map.sheetViews.render(A,P.views),this.map.sheetFormatPr.render(A,L),this.map.cols.render(A,P.cols),this.map.sheetData.render(A,P.rows),this.map.sheetProtection.render(A,z),this.map.autoFilter.render(A,P.autoFilter),this.map.mergeCells.render(A,P.mergeCells),this.map.conditionalFormatting.render(A,P.conditionalFormattings),this.map.dataValidations.render(A,P.dataValidations),this.map.hyperlinks.render(A,P.hyperlinks),this.map.printOptions.render(A,te),this.map.pageMargins.render(A,K),this.map.pageSetup.render(A,P.pageSetup),this.map.headerFooter.render(A,P.headerFooter),this.map.rowBreaks.render(A,P.rowBreaks),this.map.drawing.render(A,P.drawing),this.map.picture.render(A,P.background),this.map.tableParts.render(A,P.tables),this.map.extLst.render(A,P),P.rels&&P.rels.forEach(Q=>{Q.Type===r.VmlDrawing&&A.leafNode("legacyDrawing",{"r:id":Q.Id})}),A.closeNode()}parseOpen(A){return this.parser?(this.parser.parseOpen(A),!0):A.name==="worksheet"?(c.each(this.map,P=>{P.reset()}),!0):(this.map[A.name]&&!this.ignoreNodes.includes(A.name)&&(this.parser=this.map[A.name],this.parser.parseOpen(A)),!0)}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser)return this.parser.parseClose(A)||(this.parser=void 0),!0;switch(A){case"worksheet":{const P=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(P.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(P.outlineProperties=this.map.sheetPr.model.outlineProperties);const L={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},X=Object.assign(L,this.map.pageSetup.model,this.map.printOptions.model),K=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:P,views:this.map.sheetViews.model,pageSetup:X,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:K},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(A,P){const L=(A.relationships||[]).reduce((K,te)=>{if(K[te.Id]=te,te.Type===r.Comments&&(A.comments=P.comments[te.Target].comments),te.Type===r.VmlDrawing&&A.comments&&A.comments.length){const z=P.vmlDrawings[te.Target].comments;A.comments.forEach((Q,O)=>{Q.note=Object.assign({},Q.note,z[O])})}return K},{});if(P.commentsMap=(A.comments||[]).reduce((K,te)=>(te.ref&&(K[te.ref]=te),K),{}),P.hyperlinkMap=(A.hyperlinks||[]).reduce((K,te)=>(te.rId&&(K[te.address]=L[te.rId].Target),K),{}),P.formulae={},A.rows=A.rows&&A.rows.filter(Boolean)||[],A.rows.forEach(K=>{K.cells=K.cells&&K.cells.filter(Boolean)||[]}),this.map.cols.reconcile(A.cols,P),this.map.sheetData.reconcile(A.rows,P),this.map.conditionalFormatting.reconcile(A.conditionalFormattings,P),A.media=[],A.drawing){const K=L[A.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(K){const te=K[1];P.drawings[te].anchors.forEach(z=>{if(z.medium){const Q={type:"image",imageId:z.medium.index,range:z.range,hyperlinks:z.picture.hyperlinks};A.media.push(Q)}})}}const X=A.background&&L[A.background.rId];if(X){const K=X.Target.split("/media/")[1],te=P.mediaIndex&&P.mediaIndex[K];te!==void 0&&A.media.push({type:"background",imageId:te})}A.tables=(A.tables||[]).map(K=>{const te=L[K.rId];return P.tables[te.Target]}),delete A.relationships,delete A.hyperlinks,delete A.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},h.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,i){i&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(i){try{return Number.isNaN(i.getTime())?"":i.toISOString()}catch{return""}},this._parse=s.parse||function(i){return new Date(i)}}render(s,i){i&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(i)):s.writeText(this._format(i)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,i){(i||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,i):s.writeText(i),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,i){i!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,i):s.writeText(i),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,h,m){const c=e("./base-xform"),s=e("../../utils/xml-stream");h.exports=class extends c{constructor(i){super(),this._model=i}render(i){if(!this._xml){const r=new s;(function t(n,l){n.openNode(l.tag,l.$),l.c&&l.c.forEach(o=>{t(n,o)}),l.t&&n.writeText(l.t),n.closeNode()})(r,this._model),this._xml=r.xml}i.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(i){switch(i){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,h,m){const c=e("./text-xform"),s=e("./rich-text-xform"),i=e("../base-xform");h.exports=class extends i{constructor(){super(),this.map={r:new s,t:new c}}get tag(){return"rPh"}render(r,t){if(r.openNode(this.tag,{sb:t.sb||0,eb:t.eb||0}),t&&t.hasOwnProperty("richText")&&t.richText){const{r:n}=this.map;t.richText.forEach(l=>{n.render(r,l)})}else t&&this.map.t.render(r,t.text);r.closeNode()}parseOpen(r){const{name:t}=r;return this.parser?(this.parser.parseOpen(r),!0):t===this.tag?(this.model={sb:parseInt(r.attributes.sb,10),eb:parseInt(r.attributes.eb,10)},!0):(this.parser=this.map[t],!!this.parser&&(this.parser.parseOpen(r),!0))}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let t=this.model.richText;t||(t=this.model.richText=[]),t.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,h,m){const c=e("./text-xform"),s=e("../style/font-xform"),i=e("../base-xform");class r extends i{constructor(n){super(),this.model=n}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new c)}get fontXform(){return this._fontXform||(this._fontXform=new s(r.FONT_OPTIONS))}render(n,l){l=l||this.model,n.openNode("r"),l.font&&this.fontXform.render(n,l.font),this.textXform.render(n,l.text),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(n),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){switch(n){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}}r.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},h.exports=r},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,h,m){const c=e("./text-xform"),s=e("./rich-text-xform"),i=e("./phonetic-text-xform"),r=e("../base-xform");h.exports=class extends r{constructor(t){super(),this.model=t,this.map={r:new s,t:new c,rPh:new i}}get tag(){return"si"}render(t,n){t.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(l=>{this.map.r.render(t,l)}):this.map.t.render(t,""):n!=null&&this.map.t.render(t,n),t.closeNode()}parseOpen(t){const{name:n}=t;return this.parser?(this.parser.parseOpen(t),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(t),!0))}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser){if(!this.parser.parseClose(t)){switch(t){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(t){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("./shared-string-xform");h.exports=class extends s{constructor(r){super(),this.model=r||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new i)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(r){return this.model.values[r]}add(r){return r.richText?this.addRichText(r):this.addText(r)}addText(r){let t=this.hash[r];return t===void 0&&(t=this.hash[r]=this.model.values.length,this.model.values.push(r)),this.model.count++,t}addRichText(r){const t=this.sharedStringXform.toXml(r);let n=this.rich[t];return n===void 0&&(n=this.rich[t]=this.model.values.length,this.model.values.push(r)),this.model.count++,n}render(r,t){t=t||this._values,r.openXml(c.StdDocAttributes),r.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.count,uniqueCount:t.values.length});const n=this.sharedStringXform;t.values.forEach(l=>{n.render(r,l)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(r),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(r){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+r)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"t"}render(s,i){s.openNode("t"),/^\s|\n|\s$/.test(i)&&s.addAttribute("xml:space","preserve"),s.writeText(i),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,i)=>String.fromCharCode(parseInt(i,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,h,m){const c=e("../../../doc/enums"),s=e("../../../utils/utils"),i=e("../base-xform"),r={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((n,l)=>(n[l]=!0,n),{}),horizontal(n){return this.horizontalValues[n]?n:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((n,l)=>(n[l]=!0,n),{}),vertical(n){return n==="middle"?"center":this.verticalValues[n]?n:void 0},wrapText:n=>!!n||void 0,shrinkToFit:n=>!!n||void 0,textRotation(n){switch(n){case"vertical":return n;default:return(n=s.validInt(n))>=-90&&n<=90?n:void 0}},indent:n=>(n=s.validInt(n),Math.max(0,n)),readingOrder(n){switch(n){case"ltr":return c.ReadingOrder.LeftToRight;case"rtl":return c.ReadingOrder.RightToLeft;default:return}}},t={toXml(n){if(n=r.textRotation(n)){if(n==="vertical")return 255;const l=Math.round(n);if(l>=0&&l<=90)return l;if(l<0&&l>=-90)return 90-l}},toModel(n){const l=s.validInt(n);if(l!==void 0){if(l===255)return"vertical";if(l>=0&&l<=90)return l;if(l>90&&l<=180)return 90-l}}};h.exports=class extends i{get tag(){return"alignment"}render(n,l){n.addRollback(),n.openNode("alignment");let o=!1;function a(g,b){b&&(n.addAttribute(g,b),o=!0)}a("horizontal",r.horizontal(l.horizontal)),a("vertical",r.vertical(l.vertical)),a("wrapText",!!r.wrapText(l.wrapText)&&"1"),a("shrinkToFit",!!r.shrinkToFit(l.shrinkToFit)&&"1"),a("indent",r.indent(l.indent)),a("textRotation",t.toXml(l.textRotation)),a("readingOrder",r.readingOrder(l.readingOrder)),n.closeNode(),o?n.commit():n.rollback()}parseOpen(n){const l={};let o=!1;function a(g,b,f){g&&(l[b]=f,o=!0)}a(n.attributes.horizontal,"horizontal",n.attributes.horizontal),a(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),a(n.attributes.wrapText,"wrapText",s.parseBoolean(n.attributes.wrapText)),a(n.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(n.attributes.shrinkToFit)),a(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),a(n.attributes.textRotation,"textRotation",t.toModel(n.attributes.textRotation)),a(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=o?l:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,h,m){const c=e("../base-xform"),s=e("../../../utils/utils"),i=e("./color-xform");class r extends c{constructor(n){super(),this.name=n,this.map={color:new i}}get tag(){return this.name}render(n,l,o){const a=l&&l.color||o||this.defaultColor;n.openNode(this.name),l&&l.style&&(n.addAttribute("style",l.style),a&&this.map.color.render(n,a)),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.name:{const{style:l}=n.attributes;return this.model=l?{style:l}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(n===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(n){return r.validStyleValues[n]}}r.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((t,n)=>(t[n]=!0,t),{}),h.exports=class extends c{constructor(){super(),this.map={top:new r("top"),left:new r("left"),bottom:new r("bottom"),right:new r("right"),diagonal:new r("diagonal")}}render(t,n){const{color:l}=n;function o(a,g){a&&!a.color&&n.color&&(a={...a,color:n.color}),g.render(t,a,l)}t.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&t.addAttribute("diagonalUp","1"),n.diagonal.down&&t.addAttribute("diagonalDown","1")),o(n.left,this.map.left),o(n.right,this.map.right),o(n.top,this.map.top),o(n.bottom,this.map.bottom),o(n.diagonal,this.map.diagonal),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(t.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(t.attributes.diagonalDown),!0;default:return this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0)}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;if(t==="border"){const n=this.model={},l=function(o,a,g){a&&(g&&Object.assign(a,g),n[o]=a)};l("left",this.map.left.model),l("right",this.map.right.model),l("top",this.map.top.model),l("bottom",this.map.bottom.model),l("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,i){return!!i&&(s.openNode(this.name),i.argb?s.addAttribute("rgb",i.argb):i.theme!==void 0?(s.addAttribute("theme",i.theme),i.tint!==void 0&&s.addAttribute("tint",i.tint)):i.indexed!==void 0?s.addAttribute("indexed",i.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,h,m){const c=e("../base-xform"),s=e("./alignment-xform"),i=e("./border-xform"),r=e("./fill-xform"),t=e("./font-xform"),n=e("./numfmt-xform"),l=e("./protection-xform");h.exports=class extends c{constructor(){super(),this.map={alignment:new s,border:new i,fill:new r,font:new t,numFmt:new n,protection:new l}}get tag(){return"dxf"}render(o,a){if(o.openNode(this.tag),a.font&&this.map.font.render(o,a.font),a.numFmt&&a.numFmtId){const g={id:a.numFmtId,formatCode:a.numFmt};this.map.numFmt.render(o,g)}a.fill&&this.map.fill.render(o,a.fill),a.alignment&&this.map.alignment.render(o,a.alignment),a.border&&this.map.border.render(o,a.border),a.protection&&this.map.protection.render(o,a.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o),!0}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):o!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,h,m){const c=e("../base-xform"),s=e("./color-xform");class i extends c{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(o,a){o.openNode("stop"),o.addAttribute("position",a.position),this.map.color.render(o,a.color),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"stop":return this.model={position:parseFloat(o.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(o),!0;default:return!1}}parseText(){}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class r extends c{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(o,a){o.openNode("patternFill"),o.addAttribute("patternType",a.pattern),a.fgColor&&this.map.fgColor.render(o,a.fgColor),a.bgColor&&this.map.bgColor.render(o,a.bgColor),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"patternFill":return this.model={type:"pattern",pattern:o.attributes.patternType},!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.parser.model&&(this.model[o]=this.parser.model),this.parser=void 0),!0)}}class t extends c{constructor(){super(),this.map={stop:new i}}get name(){return"gradient"}get tag(){return"gradientFill"}render(o,a){switch(o.openNode("gradientFill"),a.gradient){case"angle":o.addAttribute("degree",a.degree);break;case"path":o.addAttribute("type","path"),a.center.left&&(o.addAttribute("left",a.center.left),a.center.right===void 0&&o.addAttribute("right",a.center.left)),a.center.right&&o.addAttribute("right",a.center.right),a.center.top&&(o.addAttribute("top",a.center.top),a.center.bottom===void 0&&o.addAttribute("bottom",a.center.top)),a.center.bottom&&o.addAttribute("bottom",a.center.bottom)}const g=this.map.stop;a.stops.forEach(b=>{g.render(o,b)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"gradientFill":{const a=this.model={stops:[]};return o.attributes.degree?(a.gradient="angle",a.degree=parseInt(o.attributes.degree,10)):o.attributes.type==="path"&&(a.gradient="path",a.center={left:o.attributes.left?parseFloat(o.attributes.left):0,top:o.attributes.top?parseFloat(o.attributes.top):0},o.attributes.right!==o.attributes.left&&(a.center.right=o.attributes.right?parseFloat(o.attributes.right):0),o.attributes.bottom!==o.attributes.top&&(a.center.bottom=o.attributes.bottom?parseFloat(o.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class n extends c{constructor(){super(),this.map={patternFill:new r,gradientFill:new t}}get tag(){return"fill"}render(o,a){switch(o.addRollback(),o.openNode("fill"),a.type){case"pattern":this.map.patternFill.render(o,a);break;case"gradient":this.map.gradientFill.render(o,a);break;default:return void o.rollback()}o.closeNode(),o.commit()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"fill":return this.model={},!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(o){return n.validPatternValues[o]}}n.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((l,o)=>(l[o]=!0,l),{}),n.StopXform=i,n.PatternFillXform=r,n.GradientFillXform=t,h.exports=n},{"../base-xform":32,"./color-xform":128}],131:[function(e,h,m){const c=e("./color-xform"),s=e("../simple/boolean-xform"),i=e("../simple/integer-xform"),r=e("../simple/string-xform"),t=e("./underline-xform"),n=e("../../../utils/under-dash"),l=e("../base-xform");class o extends l{constructor(g){super(),this.options=g||o.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new t},charset:{prop:"charset",xform:new i({tag:"charset",attr:"val"})},color:{prop:"color",xform:new c},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new i({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new r({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new r({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new i({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new r({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,b){const{map:f}=this;g.openNode(this.options.tagName),n.each(this.map,(v,x)=>{f[x].xform.render(g,b[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const b=this.map[g];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}o.OPTIONS={tagName:"font",fontNameTag:"name"},h.exports=o},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,h,m){const c=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),i=e("../base-xform"),r=(function(){const n={};return c.each(s,(l,o)=>{l.f&&(n[l.f]=parseInt(o,10))}),n})();class t extends i{constructor(l,o){super(),this.id=l,this.formatCode=o}get tag(){return"numFmt"}render(l,o){l.leafNode("numFmt",{numFmtId:o.id,formatCode:o.formatCode})}parseOpen(l){switch(l.name){case"numFmt":return this.model={id:parseInt(l.attributes.numFmtId,10),formatCode:l.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}t.getDefaultFmtId=function(n){return r[n]},t.getDefaultFmtCode=function(n){return s[n]&&s[n].f},h.exports=t},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,h,m){const c=e("../base-xform"),s={boolean:(i,r)=>i===void 0?r:i};h.exports=class extends c{get tag(){return"protection"}render(i,r){i.addRollback(),i.openNode("protection");let t=!1;function n(l,o){o!==void 0&&(i.addAttribute(l,o),t=!0)}n("locked",s.boolean(r.locked,!0)?void 0:"0"),n("hidden",s.boolean(r.hidden,!1)?"1":void 0),i.closeNode(),t?i.commit():i.rollback()}parseOpen(i){const r={locked:i.attributes.locked!=="0",hidden:i.attributes.hidden==="1"},t=!r.locked||r.hidden;this.model=t?r:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,h,m){const c=e("../base-xform"),s=e("./alignment-xform"),i=e("./protection-xform");h.exports=class extends c{constructor(r){super(),this.xfId=!(!r||!r.xfId),this.map={alignment:new s,protection:new i}}get tag(){return"xf"}render(r,t){r.openNode("xf",{numFmtId:t.numFmtId||0,fontId:t.fontId||0,fillId:t.fillId||0,borderId:t.borderId||0}),this.xfId&&r.addAttribute("xfId",t.xfId||0),t.numFmtId&&r.addAttribute("applyNumberFormat","1"),t.fontId&&r.addAttribute("applyFont","1"),t.fillId&&r.addAttribute("applyFill","1"),t.borderId&&r.addAttribute("applyBorder","1"),t.alignment&&r.addAttribute("applyAlignment","1"),t.protection&&r.addAttribute("applyProtection","1"),t.alignment&&this.map.alignment.render(r,t.alignment),t.protection&&this.map.protection.render(r,t.protection),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"xf":return this.model={numFmtId:parseInt(r.attributes.numFmtId,10),fontId:parseInt(r.attributes.fontId,10),fillId:parseInt(r.attributes.fillId,10),borderId:parseInt(r.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(r.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(r),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):r!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,h,m){const c=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),i=e("../base-xform"),r=e("../static-xform"),t=e("../list-xform"),n=e("./font-xform"),l=e("./fill-xform"),o=e("./border-xform"),a=e("./numfmt-xform"),g=e("./style-xform"),b=e("./dxf-xform");class f extends i{constructor(x){super(),this.map={numFmts:new t({tag:"numFmts",count:!0,childXform:new a}),fonts:new t({tag:"fonts",count:!0,childXform:new n,$:{"x14ac:knownFonts":1}}),fills:new t({tag:"fills",count:!0,childXform:new l}),borders:new t({tag:"borders",count:!0,childXform:new o}),cellStyleXfs:new t({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new t({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new t({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new a,font:new n,fill:new l,border:new o,style:new g({xfId:!0}),cellStyles:f.STATIC_XFORMS.cellStyles,tableStyles:f.STATIC_XFORMS.tableStyles,extLst:f.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,j){j=j||this.model,x.openXml(s.StdDocAttributes),x.openNode("styleSheet",f.STYLESHEET_ATTRIBUTES),this.index?(j.numFmts&&j.numFmts.length&&(x.openNode("numFmts",{count:j.numFmts.length}),j.numFmts.forEach(C=>{x.writeXml(C)}),x.closeNode()),j.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:j.fonts.length,"x14ac:knownFonts":1}),j.fonts.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("fills",{count:j.fills.length}),j.fills.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("borders",{count:j.borders.length}),j.borders.forEach(C=>{x.writeXml(C)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:j.styles.length}),j.styles.forEach(C=>{x.writeXml(C)}),x.closeNode()):(this.map.numFmts.render(x,j.numFmts),this.map.fonts.render(x,j.fonts),this.map.fills.render(x,j.fills),this.map.borders.render(x,j.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,j.styles)),f.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,j.dxfs),f.STATIC_XFORMS.tableStyles.render(x),f.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const j=(C,M)=>{M.model&&M.model.length&&(this.model[C]=M.model)};if(j("numFmts",this.map.numFmts),j("fonts",this.map.fonts),j("fills",this.map.fills),j("borders",this.map.borders),j("styles",this.map.cellXfs),j("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(M=>{C[M.id]=M.formatCode})}return!1}default:return!0}}addStyleModel(x,j){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const C={};if(j=j||c.ValueType.Number,x.numFmt)C.numFmtId=this._addNumFmtStr(x.numFmt);else switch(j){case c.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case c.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(C.fontId=this._addFont(x.font)),x.border&&(C.borderId=this._addBorder(x.border)),x.fill&&(C.fillId=this._addFill(x.fill)),x.alignment&&(C.alignment=x.alignment),x.protection&&(C.protection=x.protection);const M=this._addStyle(C);return this.weakMap&&this.weakMap.set(x,M),M}getStyleModel(x){const j=this.model.styles[x];if(!j)return null;let C=this.index.model[x];if(C)return C;if(C=this.index.model[x]={},j.numFmtId){const $=this.index.numFmt[j.numFmtId]||a.getDefaultFmtCode(j.numFmtId);$&&(C.numFmt=$)}function M($,V,B){if(B||B===0){const U=V[B];U&&(C[$]=U)}}return M("font",this.model.fonts,j.fontId),M("border",this.model.borders,j.borderId),M("fill",this.model.fills,j.fillId),j.alignment&&(C.alignment=j.alignment),j.protection&&(C.protection=j.protection),C}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const j=this.map.style.toXml(x);let C=this.index.style[j];return C===void 0&&(C=this.index.style[j]=this.model.styles.length,this.model.styles.push(j)),C}_addNumFmtStr(x){let j=a.getDefaultFmtId(x);if(j!==void 0||(j=this.index.numFmt[x],j!==void 0))return j;j=this.index.numFmt[x]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:j,formatCode:x});return this.model.numFmts.push(C),j}_addFont(x){const j=this.map.font.toXml(x);let C=this.index.font[j];return C===void 0&&(C=this.index.font[j]=this.model.fonts.length,this.model.fonts.push(j)),C}_addBorder(x){const j=this.map.border.toXml(x);let C=this.index.border[j];return C===void 0&&(C=this.index.border[j]=this.model.borders.length,this.model.borders.push(j)),C}_addFill(x){const j=this.map.fill.toXml(x);let C=this.index.fill[j];return C===void 0&&(C=this.index.fill[j]=this.model.fills.length,this.model.fills.push(j)),C}}f.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},f.STATIC_XFORMS={cellStyles:new r({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new r({tag:"dxfs",$:{count:0}}),tableStyles:new r({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new r({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},f.Mock=class extends f{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,x){switch(x){case c.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:a.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},h.exports=f},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,h,m){const c=e("../base-xform");class s extends c{constructor(r){super(),this.model=r}get tag(){return"u"}render(r,t){if((t=t||this.model)===!0)r.leafNode("u");else{const n=s.Attributes[t];n&&r.leafNode("u",n)}}parseOpen(r){r.name==="u"&&(this.model=r.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},h.exports=s},{"../base-xform":32}],137:[function(e,h,m){const c=e("../base-xform"),s=e("./filter-column-xform");h.exports=class extends c{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(i){i.columns.forEach((r,t)=>{this.map.filterColumn.prepare(r,{index:t})})}render(i,r){return i.openNode(this.tag,{ref:r.autoFilterRef}),r.columns.forEach(t=>{this.map.filterColumn.render(i,t)}),i.closeNode(),!0}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model={autoFilterRef:i.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[i.name],this.parser)return this.parseOpen(i),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"customFilter"}render(s,i){s.leafNode(this.tag,{val:i.val,operator:i.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,h,m){const c=e("../base-xform"),s=e("../list-xform"),i=e("./custom-filter-xform"),r=e("./filter-xform");h.exports=class extends c{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new i}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new r})}}get tag(){return"filterColumn"}prepare(t,n){t.colId=n.index.toString()}render(t,n){return n.customFilters?(t.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(t,n.customFilters),t.closeNode(),!0):(t.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;const{attributes:n}=t;switch(t.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}}parseText(){}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"filter"}render(s,i){s.leafNode(this.tag,{val:i.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"tableColumn"}prepare(s,i){s.id=i.index+1}render(s,i){return s.leafNode(this.tag,{id:i.id.toString(),name:i.name,totalsRowLabel:i.totalsRowLabel,totalsRowFunction:i.totalsRowFunction,dxfId:i.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:i}=s;return this.model={name:i.name,totalsRowLabel:i.totalsRowLabel,totalsRowFunction:i.totalsRowFunction,dxfId:i.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,h,m){const c=e("../base-xform");h.exports=class extends c{get tag(){return"tableStyleInfo"}render(s,i){return s.leafNode(this.tag,{name:i.theme?i.theme:void 0,showFirstColumn:i.showFirstColumn?"1":"0",showLastColumn:i.showLastColumn?"1":"0",showRowStripes:i.showRowStripes?"1":"0",showColumnStripes:i.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:i}=s;return this.model={theme:i.name?i.name:null,showFirstColumn:i.showFirstColumn==="1",showLastColumn:i.showLastColumn==="1",showRowStripes:i.showRowStripes==="1",showColumnStripes:i.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,h,m){const c=e("../../../utils/xml-stream"),s=e("../base-xform"),i=e("../list-xform"),r=e("./auto-filter-xform"),t=e("./table-column-xform"),n=e("./table-style-info-xform");class l extends s{constructor(){super(),this.map={autoFilter:new r,tableColumns:new i({tag:"tableColumns",count:!0,empty:!0,childXform:new t}),tableStyleInfo:new n}}prepare(a,g){this.map.autoFilter.prepare(a),this.map.tableColumns.prepare(a.columns,g)}get tag(){return"table"}render(a,g){a.openXml(c.StdDocAttributes),a.openNode(this.tag,{...l.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(a,g),this.map.tableColumns.render(a,g.columns),this.map.tableStyleInfo.render(a,g.style),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{name:g,attributes:b}=a;switch(g){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,b)=>{this.model.columns[b].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(a,g){a.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=g.styles.getDxfStyle(b.dxfId))})}}l.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},h.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,h,m){(function(c,s){(function(){const i=e("fs"),r=e("jszip"),{PassThrough:t}=e("readable-stream"),n=e("../utils/zip-stream"),l=e("../utils/stream-buf"),o=e("../utils/utils"),a=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),b=e("./xform/style/styles-xform"),f=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),x=e("./xform/core/relationships-xform"),j=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),M=e("./xform/book/workbook-xform"),$=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),B=e("./xform/table/table-xform"),U=e("./xform/comment/comments-xform"),q=e("./xform/comment/vml-notes-xform"),Y=e("./xml/theme1");class W{constructor(D){this.workbook=D}async readFile(D,E){if(!await o.fs.exists(D))throw new Error("File not found: "+D);const w=i.createReadStream(D);try{const k=await this.read(w,E);return w.close(),k}catch(k){throw w.close(),k}}parseRels(D){return new x().parseStream(D)}parseWorkbook(D){return new M().parseStream(D)}parseSharedStrings(D){return new v().parseStream(D)}reconcile(D,E){const w=new M,k=new $(E),S=new V,N=new B;w.reconcile(D);const A={media:D.media,mediaIndex:D.mediaIndex};Object.keys(D.drawings).forEach(X=>{const K=D.drawings[X],te=D.drawingRels[X];te&&(A.rels=te.reduce((z,Q)=>(z[Q.Id]=Q,z),{}),(K.anchors||[]).forEach(z=>{const Q=z.picture&&z.picture.hyperlinks;Q&&A.rels[Q.rId]&&(Q.hyperlink=A.rels[Q.rId].Target,delete Q.rId)}),S.reconcile(K,A))});const P={styles:D.styles};Object.values(D.tables).forEach(X=>{N.reconcile(X,P)});const L={styles:D.styles,sharedStrings:D.sharedStrings,media:D.media,mediaIndex:D.mediaIndex,date1904:D.properties&&D.properties.date1904,drawings:D.drawings,comments:D.comments,tables:D.tables,vmlDrawings:D.vmlDrawings};D.worksheets.forEach(X=>{X.relationships=D.worksheetRels[X.sheetNo],k.reconcile(X,L)}),delete D.worksheetHash,delete D.worksheetRels,delete D.globalRels,delete D.sharedStrings,delete D.workbookRels,delete D.sheetDefs,delete D.styles,delete D.mediaIndex,delete D.drawings,delete D.drawingRels,delete D.vmlDrawings}async _processWorksheetEntry(D,E,w,k,S){const N=new $(k),A=await N.parseStream(D);A.sheetNo=w,E.worksheetHash[S]=A,E.worksheets.push(A)}async _processCommentEntry(D,E,w){const k=new U,S=await k.parseStream(D);E.comments[`../${w}.xml`]=S}async _processTableEntry(D,E,w){const k=new B,S=await k.parseStream(D);E.tables[`../tables/${w}.xml`]=S}async _processWorksheetRelsEntry(D,E,w){const k=new x,S=await k.parseStream(D);E.worksheetRels[w]=S}async _processMediaEntry(D,E,w){const k=w.lastIndexOf(".");if(k>=1){const S=w.substr(k+1),N=w.substr(0,k);await new Promise((A,P)=>{const L=new l;L.on("finish",()=>{E.mediaIndex[w]=E.media.length,E.mediaIndex[N]=E.media.length;const X={type:"image",name:N,extension:S,buffer:L.toBuffer()};E.media.push(X),A()}),D.on("error",X=>{P(X)}),D.pipe(L)})}}async _processDrawingEntry(D,E,w){const k=new V,S=await k.parseStream(D);E.drawings[w]=S}async _processDrawingRelsEntry(D,E,w){const k=new x,S=await k.parseStream(D);E.drawingRels[w]=S}async _processVmlDrawingEntry(D,E,w){const k=new q,S=await k.parseStream(D);E.vmlDrawings[`../drawings/${w}.vml`]=S}async _processThemeEntry(D,E,w){await new Promise((k,S)=>{const N=new l;D.on("error",S),N.on("error",S),N.on("finish",()=>{E.themes[w]=N.read().toString(),k()}),D.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(D,E){!D[Symbol.asyncIterator]&&D.pipe&&(D=D.pipe(new t));const w=[];for await(const k of D)w.push(k);return this.load(s.concat(w),E)}async load(D,E){let w;w=E&&E.base64?s.from(D.toString(),"base64"):D;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await r.loadAsync(w);for(const N of Object.values(S.files))if(!N.dir){let A,P=N.name;if(P[0]==="/"&&(P=P.substr(1)),P.match(/xl\/media\//)||P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))A=new t,A.write(await N.async("nodebuffer"));else{let L;A=new t({writableObjectMode:!0,readableObjectMode:!0}),L=c.browser?g(await N.async("nodebuffer")):await N.async("string");const X=16384;for(let K=0;K<L.length;K+=X)A.write(L.substring(K,K+X))}switch(A.end(),P){case"_rels/.rels":k.globalRels=await this.parseRels(A);break;case"xl/workbook.xml":{const L=await this.parseWorkbook(A);k.sheets=L.sheets,k.definedNames=L.definedNames,k.views=L.views,k.properties=L.properties,k.calcProperties=L.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(A);break;case"xl/sharedStrings.xml":k.sharedStrings=new v,await k.sharedStrings.parseStream(A);break;case"xl/styles.xml":k.styles=new b,await k.styles.parseStream(A);break;case"docProps/app.xml":{const L=new C,X=await L.parseStream(A);k.company=X.company,k.manager=X.manager;break}case"docProps/core.xml":{const L=new f,X=await L.parseStream(A);Object.assign(k,X);break}default:{let L=P.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(L){await this._processWorksheetEntry(A,k,L[1],E,P);break}if(L=P.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),L){await this._processWorksheetRelsEntry(A,k,L[1]);break}if(L=P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),L){await this._processThemeEntry(A,k,L[1]);break}if(L=P.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),L){await this._processMediaEntry(A,k,L[1]);break}if(L=P.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),L){await this._processDrawingEntry(A,k,L[1]);break}if(L=P.match(/xl\/(comments\d+)[.]xml/),L){await this._processCommentEntry(A,k,L[1]);break}if(L=P.match(/xl\/tables\/(table\d+)[.]xml/),L){await this._processTableEntry(A,k,L[1]);break}if(L=P.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),L){await this._processDrawingRelsEntry(A,k,L[1]);break}if(L=P.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),L){await this._processVmlDrawingEntry(A,k,L[1]);break}}}}return this.reconcile(k,E),this.workbook.model=k,this.workbook}async addMedia(D,E){await Promise.all(E.media.map(async w=>{if(w.type==="image"){const k=`xl/media/${w.name}.${w.extension}`;if(w.filename){const S=await(function(N,A){return new Promise((P,L)=>{i.readFile(N,A,(X,K)=>{X?L(X):P(K)})})})(w.filename);return D.append(S,{name:k})}if(w.buffer)return D.append(w.buffer,{name:k});if(w.base64){const S=w.base64,N=S.substring(S.indexOf(",")+1);return D.append(N,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(D,E){const w=new V,k=new x;E.worksheets.forEach(S=>{const{drawing:N}=S;if(N){w.prepare(N,{});let A=w.toXml(N);D.append(A,{name:`xl/drawings/${N.name}.xml`}),A=k.toXml(N.rels),D.append(A,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(D,E){const w=new B;E.worksheets.forEach(k=>{const{tables:S}=k;S.forEach(N=>{w.prepare(N,{});const A=w.toXml(N);D.append(A,{name:"xl/tables/"+N.target})})})}async addContentTypes(D,E){const w=new j().toXml(E);D.append(w,{name:"[Content_Types].xml"})}async addApp(D,E){const w=new C().toXml(E);D.append(w,{name:"docProps/app.xml"})}async addCore(D,E){const w=new f;D.append(w.toXml(E),{name:"docProps/core.xml"})}async addThemes(D,E){const w=E.themes||{theme1:Y};Object.keys(w).forEach(k=>{const S=w[k],N=`xl/theme/${k}.xml`;D.append(S,{name:N})})}async addOfficeRels(D){const E=new x().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);D.append(E,{name:"_rels/.rels"})}async addWorkbookRels(D,E){let w=1;const k=[{Id:"rId"+w++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&k.push({Id:"rId"+w++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(N=>{N.rId="rId"+w++,k.push({Id:N.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const S=new x().toXml(k);D.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(D,E){E.sharedStrings&&E.sharedStrings.count&&D.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(D,E){const{xml:w}=E.styles;w&&D.append(w,{name:"xl/styles.xml"})}async addWorkbook(D,E){const w=new M;D.append(w.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(D,E){const w=new $,k=new x,S=new U,N=new q;E.worksheets.forEach(A=>{let P=new a;w.render(P,A),D.append(P.xml,{name:`xl/worksheets/sheet${A.id}.xml`}),A.rels&&A.rels.length&&(P=new a,k.render(P,A.rels),D.append(P.xml,{name:`xl/worksheets/_rels/sheet${A.id}.xml.rels`})),A.comments.length>0&&(P=new a,S.render(P,A),D.append(P.xml,{name:`xl/comments${A.id}.xml`}),P=new a,N.render(P,A),D.append(P.xml,{name:`xl/drawings/vmlDrawing${A.id}.vml`}))})}_finalize(D){return new Promise((E,w)=>{D.on("finish",()=>{E(this)}),D.on("error",w),D.finalize()})}prepareModel(D,E){D.creator=D.creator||"ExcelJS",D.lastModifiedBy=D.lastModifiedBy||"ExcelJS",D.created=D.created||new Date,D.modified=D.modified||new Date,D.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,D.useStyles=E.useStyles===void 0||E.useStyles,D.sharedStrings=new v,D.styles=D.useStyles?new b(!0):new b.Mock;const w=new M,k=new $;w.prepare(D);const S={sharedStrings:D.sharedStrings,styles:D.styles,date1904:D.properties.date1904,drawingsCount:0,media:D.media};S.drawings=D.drawings=[],S.commentRefs=D.commentRefs=[];let N=0;D.tables=[],D.worksheets.forEach(A=>{A.tables.forEach(P=>{N++,P.target=`table${N}.xml`,P.id=N,D.tables.push(P)}),k.prepare(A,S)})}async write(D,E){E=E||{};const{model:w}=this.workbook,k=new n.ZipWriter(E.zip);return k.pipe(D),this.prepareModel(w,E),await this.addContentTypes(k,w),await this.addOfficeRels(k,w),await this.addWorkbookRels(k,w),await this.addWorksheets(k,w),await this.addSharedStrings(k,w),await this.addDrawings(k,w),await this.addTables(k,w),await Promise.all([this.addThemes(k,w),this.addStyles(k,w)]),await this.addMedia(k,w),await Promise.all([this.addApp(k,w),this.addCore(k,w)]),await this.addWorkbook(k,w),this._finalize(k)}writeFile(D,E){const w=i.createWriteStream(D);return new Promise((k,S)=>{w.on("finish",()=>{k()}),w.on("error",N=>{S(N)}),this.write(w,E).then(()=>{w.end()}).catch(N=>{S(N)})})}async writeBuffer(D){const E=new l;return await this.write(E,D),E.read()}}W.RelType=e("./rel-type"),h.exports=W}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,h,m){h.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,h,m){(function(c){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvFormatterStream=void 0;const s=e("stream"),i=e("./formatter");class r extends s.Transform{constructor(n){super({writableObjectMode:n.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=n,this.rowFormatter=new i.RowFormatter(n),this.hasWrittenBOM=!n.writeBOM}transform(n){return this.rowFormatter.rowTransform=n,this}_transform(n,l,o){let a=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(n,(g,b)=>g?(a=!0,o(g)):(b&&b.forEach(f=>{this.push(c.from(f,"utf8"))}),a=!0,o()))}catch(g){if(a)throw g;o(g)}}_flush(n){this.rowFormatter.finish((l,o)=>l?n(l):(o&&o.forEach(a=>{this.push(c.from(a,"utf8"))}),n()))}}m.CsvFormatterStream=r}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FormatterOptions=void 0,m.FormatterOptions=class{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,c||{}),c?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),c?.quote===!0?this.quote='"':c?.quote===!1&&(this.quote=""),typeof c?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=c.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,h,m){var c=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=void 0;const s=c(e("lodash.isboolean")),i=c(e("lodash.isnil")),r=c(e("lodash.escaperegexp"));m.FieldFormatter=class{constructor(t){this._headers=null,this.formatterOptions=t,t.headers!==null&&(this.headers=t.headers),this.REPLACE_REGEXP=new RegExp(t.quote,"g");const n=`[${t.delimiter}${r.default(t.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(t){this._headers=t}shouldQuote(t,n){const l=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(l)?l:Array.isArray(l)?l[t]:this._headers!==null&&l[this._headers[t]]}format(t,n,l){const o=(""+(i.default(t)?"":t)).replace(/\0/g,""),{formatterOptions:a}=this;return a.quote!==""&&o.indexOf(a.quote)!==-1?this.quoteField(o.replace(this.REPLACE_REGEXP,a.escapedQuote)):o.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,l)?this.quoteField(o):o}quoteField(t){const{quote:n}=this.formatterOptions;return`${n}${t}${n}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,h,m){var c=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowFormatter=void 0;const s=c(e("lodash.isfunction")),i=c(e("lodash.isequal")),r=e("./FieldFormatter"),t=e("../types");class n{constructor(o){this.rowCount=0,this.formatterOptions=o,this.fieldFormatter=new r.FieldFormatter(o),this.headers=o.headers,this.shouldWriteHeaders=o.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),o.transform&&(this.rowTransform=o.transform)}static isRowHashArray(o){return!!Array.isArray(o)&&Array.isArray(o[0])&&o[0].length===2}static isRowArray(o){return Array.isArray(o)&&!this.isRowHashArray(o)}static gatherHeaders(o){return n.isRowHashArray(o)?o.map(a=>a[0]):Array.isArray(o)?o:Object.keys(o)}static createTransform(o){return t.isSyncTransform(o)?(a,g)=>{let b=null;try{b=o(a)}catch(f){return g(f)}return g(null,b)}:(a,g)=>{o(a,g)}}set rowTransform(o){if(!s.default(o))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(o)}format(o,a){this.callTransformer(o,(g,b)=>{if(g)return a(g);if(!o)return a(null);const f=[];if(b){const{shouldFormatColumns:v,headers:x}=this.checkHeaders(b);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(f.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),v){const j=this.gatherColumns(b);f.push(this.formatColumns(j,!1))}}return a(null,f)})}finish(o){const a=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return o(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));a.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&a.push(this.formatterOptions.rowDelimiter),o(null,a)}checkHeaders(o){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const a=n.gatherHeaders(o);return this.headers=a,this.fieldFormatter.headers=a,this.shouldWriteHeaders?{shouldFormatColumns:!i.default(a,o),headers:a}:{shouldFormatColumns:!0,headers:null}}gatherColumns(o){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(o)?n.isRowHashArray(o)?this.headers.map((a,g)=>{const b=o[g];return b?b[1]:""}):n.isRowArray(o)&&!this.shouldWriteHeaders?o:this.headers.map((a,g)=>o[g]):this.headers.map(a=>o[a])}callTransformer(o,a){return this._rowTransform?this._rowTransform(o,a):a(null,o)}formatColumns(o,a){const g=o.map((f,v)=>this.fieldFormatter.format(f,v,a)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,g].join(""):g}}m.RowFormatter=n},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=m.RowFormatter=void 0;var c=e("./RowFormatter");Object.defineProperty(m,"RowFormatter",{enumerable:!0,get:function(){return c.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(m,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,h,m){(function(c){(function(){var s=Object.create?function(v,x,j,C){C===void 0&&(C=j),Object.defineProperty(v,C,{enumerable:!0,get:function(){return x[j]}})}:function(v,x,j,C){C===void 0&&(C=j),v[C]=x[j]},i=Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x},r=function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var j in v)j!=="default"&&Object.prototype.hasOwnProperty.call(v,j)&&s(x,v,j);return i(x,v),x},t=function(v,x){for(var j in v)j==="default"||Object.prototype.hasOwnProperty.call(x,j)||s(x,v,j)};Object.defineProperty(m,"__esModule",{value:!0}),m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=m.FormatterOptions=m.CsvFormatterStream=void 0;const n=e("util"),l=e("stream"),o=r(e("fs")),a=e("./FormatterOptions"),g=e("./CsvFormatterStream");t(e("./types"),m);var b=e("./CsvFormatterStream");Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var f=e("./FormatterOptions");Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}}),m.format=v=>new g.CsvFormatterStream(new a.FormatterOptions(v)),m.write=(v,x)=>{const j=m.format(x),C=n.promisify((M,$)=>{j.write(M,void 0,$)});return v.reduce((M,$)=>M.then(()=>C($)),Promise.resolve()).then(()=>j.end()).catch(M=>{j.emit("error",M)}),j},m.writeToStream=(v,x,j)=>m.write(x,j).pipe(v),m.writeToBuffer=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=[],C=new l.Writable({write(M,$,V){j.push(M),V()}});return new Promise((M,$)=>{C.on("error",$).on("finish",()=>M(c.concat(j))),m.write(v,x).pipe(C)})},m.writeToString=(v,x)=>m.writeToBuffer(v,x).then(j=>j.toString()),m.writeToPath=(v,x,j)=>{const C=o.createWriteStream(v,{encoding:"utf8"});return m.write(x,j).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncTransform=void 0,m.isSyncTransform=c=>c.length===1},{}],153:[function(e,h,m){(function(c){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=void 0;const s=e("string_decoder"),i=e("stream"),r=e("./transforms"),t=e("./parser");class n extends i.Transform{constructor(o){super({objectMode:o.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=o,this.parser=new t.Parser(o),this.headerTransformer=new r.HeaderTransformer(o),this.decoder=new s.StringDecoder(o.encoding),this.rowTransformerValidator=new r.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(o){return this.rowTransformerValidator.rowTransform=o,this}validate(o){return this.rowTransformerValidator.rowValidator=o,this}emit(o){if(o==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var a=arguments.length,g=new Array(a>1?a-1:0),b=1;b<a;b++)g[b-1]=arguments[b];return super.emit(o,...g)}_transform(o,a,g){if(this.hasHitRowLimit)return g();const b=n.wrapDoneCallback(g);try{const{lines:f}=this,v=f+this.decoder.write(o),x=this.parse(v,!0);return this.processRows(x,b)}catch(f){return b(f)}}_flush(o){const a=n.wrapDoneCallback(o);if(this.hasHitRowLimit)return a();try{const g=this.lines+this.decoder.end(),b=this.parse(g,!1);return this.processRows(b,a)}catch(g){return a(g)}}parse(o,a){if(!o)return[];const{line:g,rows:b}=this.parser.parse(o,a);return this.lines=g,b}processRows(o,a){const g=o.length,b=f=>{const v=C=>C?a(C):f%100!=0?b(f+1):void c(()=>b(f+1));if(this.checkAndEmitHeaders(),f>=g||this.hasHitRowLimit)return a();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const x=o[f];this.rowCount+=1,this.parsedRowCount+=1;const j=this.rowCount;return this.transformRow(x,(C,M)=>{if(C)return this.rowCount-=1,v(C);if(!M)return v(new Error("expected transform result"));if(M.isValid){if(M.row)return this.pushRow(M.row,v)}else this.emit("data-invalid",M.row,j,M.reason);return v()})};b(0)}transformRow(o,a){try{this.headerTransformer.transform(o,(g,b)=>g?a(g):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,a):this.skipRow(a):(this.rowCount-=1,this.parsedRowCount-=1,a(null,{row:null,isValid:!0})):this.shouldEmitRows?a(null,{isValid:!1,row:o}):this.skipRow(a):a(new Error("Expected result from header transform")))}catch(g){a(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(o){return this.rowCount-=1,o(null,{row:null,isValid:!0})}pushRow(o,a){try{this.parserOptions.objectMode?this.push(o):this.push(JSON.stringify(o)),a()}catch(g){a(g)}}static wrapDoneCallback(o){let a=!1;return function(g){if(g){if(a)throw g;return a=!0,void o(g)}for(var b=arguments.length,f=new Array(b>1?b-1:0),v=1;v<b;v++)f[v-1]=arguments[v];o(...f)}}}m.CsvParserStream=n}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,h,m){var c=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(m,"__esModule",{value:!0}),m.ParserOptions=void 0;const s=c(e("lodash.escaperegexp")),i=c(e("lodash.isnil"));m.ParserOptions=class{constructor(r){var t;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,r||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(t=this.escape)!==null&&t!==void 0?t:this.quote,this.supportsComments=!i.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,h,m){var c=Object.create?function(b,f,v,x){x===void 0&&(x=v),Object.defineProperty(b,x,{enumerable:!0,get:function(){return f[v]}})}:function(b,f,v,x){x===void 0&&(x=v),b[x]=f[v]},s=Object.create?function(b,f){Object.defineProperty(b,"default",{enumerable:!0,value:f})}:function(b,f){b.default=f},i=function(b){if(b&&b.__esModule)return b;var f={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&c(f,b,v);return s(f,b),f},r=function(b,f){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(f,v)||c(f,b,v)};Object.defineProperty(m,"__esModule",{value:!0}),m.parseString=m.parseFile=m.parseStream=m.parse=m.ParserOptions=m.CsvParserStream=void 0;const t=i(e("fs")),n=e("stream"),l=e("./ParserOptions"),o=e("./CsvParserStream");r(e("./types"),m);var a=e("./CsvParserStream");Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),m.parse=b=>new o.CsvParserStream(new l.ParserOptions(b)),m.parseStream=(b,f)=>b.pipe(new o.CsvParserStream(new l.ParserOptions(f))),m.parseFile=function(b){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.createReadStream(b).pipe(new o.CsvParserStream(new l.ParserOptions(f)))},m.parseString=(b,f)=>{const v=new n.Readable;return v.push(b),v.push(null),v.pipe(new o.CsvParserStream(new l.ParserOptions(f)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Parser=void 0;const c=e("./Scanner"),s=e("./RowParser"),i=e("./Token");class r{constructor(n){this.parserOptions=n,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(n){return n&&n.charCodeAt(0)===65279?n.slice(1):n}parse(n,l){const o=new c.Scanner({line:r.removeBOM(n),parserOptions:this.parserOptions,hasMoreData:l});return this.parserOptions.supportsComments?this.parseWithComments(o):this.parseWithoutComments(o)}parseWithoutComments(n){const l=[];let o=!0;for(;o;)o=this.parseRow(n,l);return{line:n.line,rows:l}}parseWithComments(n){const{parserOptions:l}=this,o=[];for(let a=n.nextCharacterToken;a!==null;a=n.nextCharacterToken)if(i.Token.isTokenComment(a,l)){if(n.advancePastLine()===null)return{line:n.lineFromCursor,rows:o};if(!n.hasMoreCharacters)return{line:n.lineFromCursor,rows:o};n.truncateToCursor()}else if(!this.parseRow(n,o))break;return{line:n.line,rows:o}}parseRow(n,l){if(!n.nextNonSpaceToken)return!1;const o=this.rowParser.parse(n);return o!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(o)||l.push(o),!0)}}m.Parser=r},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.RowParser=void 0;const c=e("./column"),s=e("./Token");m.RowParser=class{constructor(i){this.parserOptions=i,this.columnParser=new c.ColumnParser(i)}static isEmptyRow(i){return i.join("").replace(/\s+/g,"")===""}parse(i){const{parserOptions:r}=this,{hasMoreData:t}=i,n=i,l=[];let o=this.getStartToken(n,l);for(;o;){if(s.Token.isTokenRowDelimiter(o))return n.advancePastToken(o),!n.hasMoreCharacters&&s.Token.isTokenCarriageReturn(o,r)&&t?null:(n.truncateToCursor(),l);if(!this.shouldSkipColumnParse(n,o,l)){const a=this.columnParser.parse(n);if(a===null)return null;l.push(a)}o=n.nextNonSpaceToken}return t?null:(n.truncateToCursor(),l)}getStartToken(i,r){const t=i.nextNonSpaceToken;return t!==null&&s.Token.isTokenDelimiter(t,this.parserOptions)?(r.push(""),i.nextNonSpaceToken):t}shouldSkipColumnParse(i,r,t){const{parserOptions:n}=this;if(s.Token.isTokenDelimiter(r,n)){i.advancePastToken(r);const l=i.nextCharacterToken;if(!i.hasMoreCharacters||l!==null&&s.Token.isTokenRowDelimiter(l)||l!==null&&s.Token.isTokenDelimiter(l,n))return t.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Scanner=void 0;const c=e("./Token"),s=/((?:\r\n)|\n|\r)/;m.Scanner=class{constructor(i){this.cursor=0,this.line=i.line,this.lineLength=this.line.length,this.parserOptions=i.parserOptions,this.hasMoreData=i.hasMoreData,this.cursor=i.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:i}=this,r=this.parserOptions.NEXT_TOKEN_REGEXP;if(i.search(r)===-1)return null;const t=r.exec(i);if(t==null)return null;const n=t[1],l=this.cursor+(t.index||0);return new c.Token({token:n,startCursor:l,endCursor:l+n.length-1})}get nextCharacterToken(){const{cursor:i,lineLength:r}=this;return r<=i?null:new c.Token({token:this.line[i],startCursor:i,endCursor:i})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const i=s.exec(this.lineFromCursor);return i?(this.cursor+=(i.index||0)+i[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(i){return this.cursor=i,this}advanceToToken(i){return this.cursor=i.startCursor,this}advancePastToken(i){return this.cursor=i.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Token=void 0,m.Token=class{constructor(c){this.token=c.token,this.startCursor=c.startCursor,this.endCursor=c.endCursor}static isTokenRowDelimiter(c){const s=c.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(c,s){return c.token===s.carriageReturn}static isTokenComment(c,s){return s.supportsComments&&!!c&&c.token===s.comment}static isTokenEscapeCharacter(c,s){return c.token===s.escapeChar}static isTokenQuote(c,s){return c.token===s.quote}static isTokenDelimiter(c,s){return c.token===s.delimiter}}},{}],160:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=void 0,m.ColumnFormatter=class{constructor(c){c.trim?this.format=s=>s.trim():c.ltrim?this.format=s=>s.trimLeft():c.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnParser=void 0;const c=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),i=e("../Token");m.ColumnParser=class{constructor(r){this.parserOptions=r,this.quotedColumnParser=new s.QuotedColumnParser(r),this.nonQuotedColumnParser=new c.NonQuotedColumnParser(r)}parse(r){const{nextNonSpaceToken:t}=r;return t!==null&&i.Token.isTokenQuote(t,this.parserOptions)?(r.advanceToToken(t),this.quotedColumnParser.parse(r)):this.nonQuotedColumnParser.parse(r)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.NonQuotedColumnParser=void 0;const c=e("./ColumnFormatter"),s=e("../Token");m.NonQuotedColumnParser=class{constructor(i){this.parserOptions=i,this.columnFormatter=new c.ColumnFormatter(i)}parse(i){if(!i.hasMoreCharacters)return null;const{parserOptions:r}=this,t=[];let n=i.nextCharacterToken;for(;n&&!s.Token.isTokenDelimiter(n,r)&&!s.Token.isTokenRowDelimiter(n);n=i.nextCharacterToken)t.push(n.token),i.advancePastToken(n);return this.columnFormatter.format(t.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=void 0;const c=e("./ColumnFormatter"),s=e("../Token");m.QuotedColumnParser=class{constructor(i){this.parserOptions=i,this.columnFormatter=new c.ColumnFormatter(i)}parse(i){if(!i.hasMoreCharacters)return null;const r=i.cursor,{foundClosingQuote:t,col:n}=this.gatherDataBetweenQuotes(i);if(!t){if(i.advanceTo(r),!i.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${i.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(i),n}gatherDataBetweenQuotes(i){const{parserOptions:r}=this;let t=!1,n=!1;const l=[];let o=i.nextCharacterToken;for(;!n&&o!==null;o=i.nextCharacterToken){const a=s.Token.isTokenQuote(o,r);if(!t&&a)t=!0;else if(t)if(s.Token.isTokenEscapeCharacter(o,r)){i.advancePastToken(o);const g=i.nextCharacterToken;g!==null&&(s.Token.isTokenQuote(g,r)||s.Token.isTokenEscapeCharacter(g,r))?(l.push(g.token),o=g):a?n=!0:l.push(o.token)}else a?n=!0:l.push(o.token);i.advancePastToken(o)}return{col:this.columnFormatter.format(l.join("")),foundClosingQuote:n}}checkForMalformedColumn(i){const{parserOptions:r}=this,{nextNonSpaceToken:t}=i;if(t){const n=s.Token.isTokenDelimiter(t,r),l=s.Token.isTokenRowDelimiter(t);if(!n&&!l){const o=i.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${r.escapedDelimiter}' OR new line got: '${t.token}'. at '${o}`)}i.advanceToToken(t)}else i.hasMoreData||i.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=void 0;var c=e("./ColumnParser");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var i=e("./QuotedColumnParser");Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return i.QuotedColumnParser}});var r=e("./ColumnFormatter");Object.defineProperty(m,"ColumnFormatter",{enumerable:!0,get:function(){return r.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=m.Token=m.Scanner=m.RowParser=m.Parser=void 0;var c=e("./Parser");Object.defineProperty(m,"Parser",{enumerable:!0,get:function(){return c.Parser}});var s=e("./RowParser");Object.defineProperty(m,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var i=e("./Scanner");Object.defineProperty(m,"Scanner",{enumerable:!0,get:function(){return i.Scanner}});var r=e("./Token");Object.defineProperty(m,"Token",{enumerable:!0,get:function(){return r.Token}});var t=e("./column");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return t.ColumnParser}}),Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return t.NonQuotedColumnParser}}),Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return t.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,h,m){var c=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=void 0;const s=c(e("lodash.isundefined")),i=c(e("lodash.isfunction")),r=c(e("lodash.uniq")),t=c(e("lodash.groupby"));m.HeaderTransformer=class{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):i.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,l){return this.shouldMapRow(n)?l(null,this.processRow(n)):l(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:l}=this;if(!this.headersTransform&&l.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(n)}return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:l}=this;if(!l.discardUnmappedColumns&&n.length>this.headersLength){if(!l.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return l.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const l={},{headers:o,headersLength:a}=this;for(let g=0;g<a;g+=1){const b=o[g];if(!s.default(b)){const f=n[g];s.default(f)?l[b]="":l[b]=f}}return l}setHeaders(n){var l;const o=n.filter(a=>!!a);if(r.default(o).length!==o.length){const a=t.default(o),g=Object.keys(a).filter(b=>a[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=n,this.receivedHeaders=!0,this.headersLength=((l=this.headers)===null||l===void 0?void 0:l.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,h,m){var c=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowTransformerValidator=void 0;const s=c(e("lodash.isfunction")),i=e("../types");class r{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(n){return i.isSyncTransform(n)?(l,o)=>{let a=null;try{a=n(l)}catch(g){return o(g)}return o(null,a)}:n}static createValidator(n){return i.isSyncValidate(n)?(l,o)=>{o(null,{row:l,isValid:n(l)})}:(l,o)=>{n(l,(a,g,b)=>a?o(a):o(null,g?{row:l,isValid:g,reason:b}:{row:l,isValid:!1,reason:b}))}}set rowTransform(n){if(!s.default(n))throw new TypeError("The transform should be a function");this._rowTransform=r.createTransform(n)}set rowValidator(n){if(!s.default(n))throw new TypeError("The validate should be a function");this._rowValidator=r.createValidator(n)}transformAndValidate(n,l){return this.callTransformer(n,(o,a)=>o?l(o):a?this.callValidator(a,(g,b)=>g?l(g):b&&!b.isValid?l(null,{row:a,isValid:!1,reason:b.reason}):l(null,{row:a,isValid:!0})):l(null,{row:null,isValid:!0}))}callTransformer(n,l){return this._rowTransform?this._rowTransform(n,l):l(null,n)}callValidator(n,l){return this._rowValidator?this._rowValidator(n,l):l(null,{row:n,isValid:!0})}}m.RowTransformerValidator=r},{"../types":169,"lodash.isfunction":446}],168:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=m.RowTransformerValidator=void 0;var c=e("./RowTransformerValidator");Object.defineProperty(m,"RowTransformerValidator",{enumerable:!0,get:function(){return c.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(m,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncValidate=m.isSyncTransform=void 0,m.isSyncTransform=c=>c.length===1,m.isSyncValidate=c=>c.length===1},{}],170:[function(e,h,m){const c=m;c.bignum=e("bn.js"),c.define=e("./asn1/api").define,c.base=e("./asn1/base"),c.constants=e("./asn1/constants"),c.decoders=e("./asn1/decoders"),c.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,h,m){const c=e("./encoders"),s=e("./decoders"),i=e("inherits");function r(t,n){this.name=t,this.body=n,this.decoders={},this.encoders={}}m.define=function(t,n){return new r(t,n)},r.prototype._createNamed=function(t){const n=this.name;function l(o){this._initNamed(o,n)}return i(l,t),l.prototype._initNamed=function(o,a){t.call(this,o,a)},new l(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(s[t])),this.decoders[t]},r.prototype.decode=function(t,n,l){return this._getDecoder(n).decode(t,l)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(c[t])),this.encoders[t]},r.prototype.encode=function(t,n,l){return this._getEncoder(n).encode(t,l)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,h,m){const c=e("inherits"),s=e("../base/reporter").Reporter,i=e("safer-buffer").Buffer;function r(n,l){s.call(this,l),i.isBuffer(n)?(this.base=n,this.offset=0,this.length=n.length):this.error("Input not Buffer")}function t(n,l){if(Array.isArray(n))this.length=0,this.value=n.map((function(o){return t.isEncoderBuffer(o)||(o=new t(o,l)),this.length+=o.length,o}),this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return l.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=i.byteLength(n);else{if(!i.isBuffer(n))return l.error("Unsupported type: "+typeof n);this.value=n,this.length=n.length}}c(r,s),m.DecoderBuffer=r,r.isDecoderBuffer=function(n){return n instanceof r?!0:typeof n=="object"&&i.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},r.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},r.prototype.restore=function(n){const l=new r(this.base);return l.offset=n.offset,l.length=this.offset,this.offset=n.offset,s.prototype.restore.call(this,n.reporter),l},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},r.prototype.skip=function(n,l){if(!(this.offset+n<=this.length))return this.error(l||"DecoderBuffer overrun");const o=new r(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+n,this.offset+=n,o},r.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)},m.EncoderBuffer=t,t.isEncoderBuffer=function(n){return n instanceof t?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},t.prototype.join=function(n,l){return n||(n=i.alloc(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(o){o.join(n,l),l+=o.length})):(typeof this.value=="number"?n[l]=this.value:typeof this.value=="string"?n.write(this.value,l):i.isBuffer(this.value)&&this.value.copy(n,l),l+=this.length)),n}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,h,m){const c=m;c.Reporter=e("./reporter").Reporter,c.DecoderBuffer=e("./buffer").DecoderBuffer,c.EncoderBuffer=e("./buffer").EncoderBuffer,c.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,h,m){const c=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,i=e("../base/buffer").DecoderBuffer,r=e("minimalistic-assert"),t=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(t);function l(a,g,b){const f={};this._baseState=f,f.name=b,f.enc=a,f.parent=g||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}h.exports=l;const o=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const a=this._baseState,g={};o.forEach((function(f){g[f]=a[f]}));const b=new this.constructor(g.parent);return b._baseState=g,b},l.prototype._wrap=function(){const a=this._baseState;n.forEach((function(g){this[g]=function(){const b=new this.constructor(this);return a.children.push(b),b[g].apply(b,arguments)}}),this)},l.prototype._init=function(a){const g=this._baseState;r(g.parent===null),a.call(this),g.children=g.children.filter((function(b){return b._baseState.parent===this}),this),r.equal(g.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(a){const g=this._baseState,b=a.filter((function(f){return f instanceof this.constructor}),this);a=a.filter((function(f){return!(f instanceof this.constructor)}),this),b.length!==0&&(r(g.children===null),g.children=b,b.forEach((function(f){f._baseState.parent=this}),this)),a.length!==0&&(r(g.args===null),g.args=a,g.reverseArgs=a.map((function(f){if(typeof f!="object"||f.constructor!==Object)return f;const v={};return Object.keys(f).forEach((function(x){x==(0|x)&&(x|=0);const j=f[x];v[j]=x})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(a){l.prototype[a]=function(){const g=this._baseState;throw new Error(a+" not implemented for encoding: "+g.enc)}})),t.forEach((function(a){l.prototype[a]=function(){const g=this._baseState,b=Array.prototype.slice.call(arguments);return r(g.tag===null),g.tag=a,this._useArgs(b),this}})),l.prototype.use=function(a){r(a);const g=this._baseState;return r(g.use===null),g.use=a,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(a){const g=this._baseState;return r(g.default===null),g.default=a,g.optional=!0,this},l.prototype.explicit=function(a){const g=this._baseState;return r(g.explicit===null&&g.implicit===null),g.explicit=a,this},l.prototype.implicit=function(a){const g=this._baseState;return r(g.explicit===null&&g.implicit===null),g.implicit=a,this},l.prototype.obj=function(){const a=this._baseState,g=Array.prototype.slice.call(arguments);return a.obj=!0,g.length!==0&&this._useArgs(g),this},l.prototype.key=function(a){const g=this._baseState;return r(g.key===null),g.key=a,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(a){const g=this._baseState;return r(g.choice===null),g.choice=a,this._useArgs(Object.keys(a).map((function(b){return a[b]}))),this},l.prototype.contains=function(a){const g=this._baseState;return r(g.use===null),g.contains=a,this},l.prototype._decode=function(a,g){const b=this._baseState;if(b.parent===null)return a.wrapResult(b.children[0]._decode(a,g));let f,v=b.default,x=!0,j=null;if(b.key!==null&&(j=a.enterKey(b.key)),b.optional){let C=null;if(b.explicit!==null?C=b.explicit:b.implicit!==null?C=b.implicit:b.tag!==null&&(C=b.tag),C!==null||b.any){if(x=this._peekTag(a,C,b.any),a.isError(x))return x}else{const M=a.save();try{b.choice===null?this._decodeGeneric(b.tag,a,g):this._decodeChoice(a,g),x=!0}catch{x=!1}a.restore(M)}}if(b.obj&&x&&(f=a.enterObject()),x){if(b.explicit!==null){const M=this._decodeTag(a,b.explicit);if(a.isError(M))return M;a=M}const C=a.offset;if(b.use===null&&b.choice===null){let M;b.any&&(M=a.save());const $=this._decodeTag(a,b.implicit!==null?b.implicit:b.tag,b.any);if(a.isError($))return $;b.any?v=a.raw(M):a=$}if(g&&g.track&&b.tag!==null&&g.track(a.path(),C,a.length,"tagged"),g&&g.track&&b.tag!==null&&g.track(a.path(),a.offset,a.length,"content"),b.any||(v=b.choice===null?this._decodeGeneric(b.tag,a,g):this._decodeChoice(a,g)),a.isError(v))return v;if(b.any||b.choice!==null||b.children===null||b.children.forEach((function(M){M._decode(a,g)})),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const M=new i(v);v=this._getUse(b.contains,a._reporterState.obj)._decode(M,g)}}return b.obj&&x&&(v=a.leaveObject(f)),b.key===null||v===null&&x!==!0?j!==null&&a.exitKey(j):a.leaveKey(j,b.key,v),v},l.prototype._decodeGeneric=function(a,g,b){const f=this._baseState;return a==="seq"||a==="set"?null:a==="seqof"||a==="setof"?this._decodeList(g,a,f.args[0],b):/str$/.test(a)?this._decodeStr(g,a,b):a==="objid"&&f.args?this._decodeObjid(g,f.args[0],f.args[1],b):a==="objid"?this._decodeObjid(g,null,null,b):a==="gentime"||a==="utctime"?this._decodeTime(g,a,b):a==="null_"?this._decodeNull(g,b):a==="bool"?this._decodeBool(g,b):a==="objDesc"?this._decodeStr(g,a,b):a==="int"||a==="enum"?this._decodeInt(g,f.args&&f.args[0],b):f.use!==null?this._getUse(f.use,g._reporterState.obj)._decode(g,b):g.error("unknown tag: "+a)},l.prototype._getUse=function(a,g){const b=this._baseState;return b.useDecoder=this._use(a,g),r(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},l.prototype._decodeChoice=function(a,g){const b=this._baseState;let f=null,v=!1;return Object.keys(b.choice).some((function(x){const j=a.save(),C=b.choice[x];try{const M=C._decode(a,g);if(a.isError(M))return!1;f={type:x,value:M},v=!0}catch{return a.restore(j),!1}return!0}),this),v?f:a.error("Choice not matched")},l.prototype._createEncoderBuffer=function(a){return new s(a,this.reporter)},l.prototype._encode=function(a,g,b){const f=this._baseState;if(f.default!==null&&f.default===a)return;const v=this._encodeValue(a,g,b);return v===void 0||this._skipDefault(v,g,b)?void 0:v},l.prototype._encodeValue=function(a,g,b){const f=this._baseState;if(f.parent===null)return f.children[0]._encode(a,g||new c);let v=null;if(this.reporter=g,f.optional&&a===void 0){if(f.default===null)return;a=f.default}let x=null,j=!1;if(f.any)v=this._createEncoderBuffer(a);else if(f.choice)v=this._encodeChoice(a,g);else if(f.contains)x=this._getUse(f.contains,b)._encode(a,g),j=!0;else if(f.children)x=f.children.map((function(C){if(C._baseState.tag==="null_")return C._encode(null,g,a);if(C._baseState.key===null)return g.error("Child should have a key");const M=g.enterKey(C._baseState.key);if(typeof a!="object")return g.error("Child expected, but input is not object");const $=C._encode(a[C._baseState.key],g,a);return g.leaveKey(M),$}),this).filter((function(C){return C})),x=this._createEncoderBuffer(x);else if(f.tag==="seqof"||f.tag==="setof"){if(!f.args||f.args.length!==1)return g.error("Too many args for : "+f.tag);if(!Array.isArray(a))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,x=this._createEncoderBuffer(a.map((function(M){const $=this._baseState;return this._getUse($.args[0],a)._encode(M,g)}),C))}else f.use!==null?v=this._getUse(f.use,b)._encode(a,g):(x=this._encodePrimitive(f.tag,a),j=!0);if(!f.any&&f.choice===null){const C=f.implicit!==null?f.implicit:f.tag,M=f.implicit===null?"universal":"context";C===null?f.use===null&&g.error("Tag could be omitted only for .use()"):f.use===null&&(v=this._encodeComposite(C,j,M,x))}return f.explicit!==null&&(v=this._encodeComposite(f.explicit,!1,"context",v)),v},l.prototype._encodeChoice=function(a,g){const b=this._baseState,f=b.choice[a.type];return f||r(!1,a.type+" not found in "+JSON.stringify(Object.keys(b.choice))),f._encode(a.value,g)},l.prototype._encodePrimitive=function(a,g){const b=this._baseState;if(/str$/.test(a))return this._encodeStr(g,a);if(a==="objid"&&b.args)return this._encodeObjid(g,b.reverseArgs[0],b.args[1]);if(a==="objid")return this._encodeObjid(g,null,null);if(a==="gentime"||a==="utctime")return this._encodeTime(g,a);if(a==="null_")return this._encodeNull();if(a==="int"||a==="enum")return this._encodeInt(g,b.args&&b.reverseArgs[0]);if(a==="bool")return this._encodeBool(g);if(a==="objDesc")return this._encodeStr(g,a);throw new Error("Unsupported tag: "+a)},l.prototype._isNumstr=function(a){return/^[0-9 ]*$/.test(a)},l.prototype._isPrintstr=function(a){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(a)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,h,m){const c=e("inherits");function s(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function i(r,t){this.path=r,this.rethrow(t)}m.Reporter=s,s.prototype.isError=function(r){return r instanceof i},s.prototype.save=function(){const r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},s.prototype.restore=function(r){const t=this._reporterState;t.obj=r.obj,t.path=t.path.slice(0,r.pathLen)},s.prototype.enterKey=function(r){return this._reporterState.path.push(r)},s.prototype.exitKey=function(r){const t=this._reporterState;t.path=t.path.slice(0,r-1)},s.prototype.leaveKey=function(r,t,n){const l=this._reporterState;this.exitKey(r),l.obj!==null&&(l.obj[t]=n)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const r=this._reporterState,t=r.obj;return r.obj={},t},s.prototype.leaveObject=function(r){const t=this._reporterState,n=t.obj;return t.obj=r,n},s.prototype.error=function(r){let t;const n=this._reporterState,l=r instanceof i;if(t=l?r:new i(n.path.map((function(o){return"["+JSON.stringify(o)+"]"})).join(""),r.message||r,r.stack),!n.options.partial)throw t;return l||n.errors.push(t),t},s.prototype.wrapResult=function(r){const t=this._reporterState;return t.options.partial?{result:this.isError(r)?null:r,errors:t.errors}:r},c(i,Error),i.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},{inherits:440}],176:[function(e,h,m){function c(s){const i={};return Object.keys(s).forEach((function(r){(0|r)==r&&(r|=0);const t=s[r];i[t]=r})),i}m.tagClass={0:"universal",1:"application",2:"context",3:"private"},m.tagClassByName=c(m.tagClass),m.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},m.tagByName=c(m.tag)},{}],177:[function(e,h,m){const c=m;c._reverse=function(s){const i={};return Object.keys(s).forEach((function(r){(0|r)==r&&(r|=0);const t=s[r];i[t]=r})),i},c.der=e("./der")},{"./der":176}],178:[function(e,h,m){const c=e("inherits"),s=e("bn.js"),i=e("../base/buffer").DecoderBuffer,r=e("../base/node"),t=e("../constants/der");function n(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new l,this.tree._init(g.body)}function l(g){r.call(this,"der",g)}function o(g,b){let f=g.readUInt8(b);if(g.isError(f))return f;const v=t.tagClass[f>>6],x=(32&f)==0;if((31&f)==31){let j=f;for(f=0;(128&j)==128;){if(j=g.readUInt8(b),g.isError(j))return j;f<<=7,f|=127&j}}else f&=31;return{cls:v,primitive:x,tag:f,tagStr:t.tag[f]}}function a(g,b,f){let v=g.readUInt8(f);if(g.isError(v))return v;if(!b&&v===128)return null;if((128&v)==0)return v;const x=127&v;if(x>4)return g.error("length octect is too long");v=0;for(let j=0;j<x;j++){v<<=8;const C=g.readUInt8(f);if(g.isError(C))return C;v|=C}return v}h.exports=n,n.prototype.decode=function(g,b){return i.isDecoderBuffer(g)||(g=new i(g,b)),this.tree._decode(g,b)},c(l,r),l.prototype._peekTag=function(g,b,f){if(g.isEmpty())return!1;const v=g.save(),x=o(g,'Failed to peek tag: "'+b+'"');return g.isError(x)?x:(g.restore(v),x.tag===b||x.tagStr===b||x.tagStr+"of"===b||f)},l.prototype._decodeTag=function(g,b,f){const v=o(g,'Failed to decode tag of "'+b+'"');if(g.isError(v))return v;let x=a(g,v.primitive,'Failed to get length of "'+b+'"');if(g.isError(x))return x;if(!f&&v.tag!==b&&v.tagStr!==b&&v.tagStr+"of"!==b)return g.error('Failed to match tag: "'+b+'"');if(v.primitive||x!==null)return g.skip(x,'Failed to match body of: "'+b+'"');const j=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(x=g.offset-j.offset,g.restore(j),g.skip(x,'Failed to match body of: "'+b+'"'))},l.prototype._skipUntilEnd=function(g,b){for(;;){const f=o(g,b);if(g.isError(f))return f;const v=a(g,f.primitive,b);if(g.isError(v))return v;let x;if(x=f.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,b),g.isError(x))return x;if(f.tagStr==="end")break}},l.prototype._decodeList=function(g,b,f,v){const x=[];for(;!g.isEmpty();){const j=this._peekTag(g,"end");if(g.isError(j))return j;const C=f.decode(g,"der",v);if(g.isError(C)&&j)break;x.push(C)}return x},l.prototype._decodeStr=function(g,b){if(b==="bitstr"){const f=g.readUInt8();return g.isError(f)?f:{unused:f,data:g.raw()}}if(b==="bmpstr"){const f=g.raw();if(f.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let x=0;x<f.length/2;x++)v+=String.fromCharCode(f.readUInt16BE(2*x));return v}if(b==="numstr"){const f=g.raw().toString("ascii");return this._isNumstr(f)?f:g.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return g.raw();if(b==="printstr"){const f=g.raw().toString("ascii");return this._isPrintstr(f)?f:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?g.raw().toString():g.error("Decoding of string type: "+b+" unsupported")},l.prototype._decodeObjid=function(g,b,f){let v;const x=[];let j=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),j<<=7,j|=127&C,(128&C)==0&&(x.push(j),j=0);128&C&&x.push(j);const M=x[0]/40|0,$=x[0]%40;if(v=f?x:[M,$].concat(x.slice(1)),b){let V=b[v.join(" ")];V===void 0&&(V=b[v.join(".")]),V!==void 0&&(v=V)}return v},l.prototype._decodeTime=function(g,b){const f=g.raw().toString();let v,x,j,C,M,$;if(b==="gentime")v=0|f.slice(0,4),x=0|f.slice(4,6),j=0|f.slice(6,8),C=0|f.slice(8,10),M=0|f.slice(10,12),$=0|f.slice(12,14);else{if(b!=="utctime")return g.error("Decoding "+b+" time is not supported yet");v=0|f.slice(0,2),x=0|f.slice(2,4),j=0|f.slice(4,6),C=0|f.slice(6,8),M=0|f.slice(8,10),$=0|f.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,x-1,j,C,M,$,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(g){const b=g.readUInt8();return g.isError(b)?b:b!==0},l.prototype._decodeInt=function(g,b){const f=g.raw();let v=new s(f);return b&&(v=b[v.toString(10)]||v),v},l.prototype._use=function(g,b){return typeof g=="function"&&(g=g(b)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,h,m){const c=m;c.der=e("./der"),c.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,h,m){const c=e("inherits"),s=e("safer-buffer").Buffer,i=e("./der");function r(t){i.call(this,t),this.enc="pem"}c(r,i),h.exports=r,r.prototype.decode=function(t,n){const l=t.toString().split(/[\r\n]+/g),o=n.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,b=-1;for(let x=0;x<l.length;x++){const j=l[x].match(a);if(j!==null&&j[2]===o){if(g!==-1){if(j[1]!=="END")break;b=x;break}if(j[1]!=="BEGIN")break;g=x}}if(g===-1||b===-1)throw new Error("PEM section not found for: "+o);const f=l.slice(g+1,b).join("");f.replace(/[^a-z0-9+/=]+/gi,"");const v=s.from(f,"base64");return i.prototype.decode.call(this,v,n)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,h,m){const c=e("inherits"),s=e("safer-buffer").Buffer,i=e("../base/node"),r=e("../constants/der");function t(o){this.enc="der",this.name=o.name,this.entity=o,this.tree=new n,this.tree._init(o.body)}function n(o){i.call(this,"der",o)}function l(o){return o<10?"0"+o:o}h.exports=t,t.prototype.encode=function(o,a){return this.tree._encode(o,a).join()},c(n,i),n.prototype._encodeComposite=function(o,a,g,b){const f=(function(j,C,M,$){let V;if(j==="seqof"?j="seq":j==="setof"&&(j="set"),r.tagByName.hasOwnProperty(j))V=r.tagByName[j];else{if(typeof j!="number"||(0|j)!==j)return $.error("Unknown tag: "+j);V=j}return V>=31?$.error("Multi-octet tag encoding unsupported"):(C||(V|=32),V|=r.tagClassByName[M||"universal"]<<6,V)})(o,a,g,this.reporter);if(b.length<128){const j=s.alloc(2);return j[0]=f,j[1]=b.length,this._createEncoderBuffer([j,b])}let v=1;for(let j=b.length;j>=256;j>>=8)v++;const x=s.alloc(2+v);x[0]=f,x[1]=128|v;for(let j=1+v,C=b.length;C>0;j--,C>>=8)x[j]=255&C;return this._createEncoderBuffer([x,b])},n.prototype._encodeStr=function(o,a){if(a==="bitstr")return this._createEncoderBuffer([0|o.unused,o.data]);if(a==="bmpstr"){const g=s.alloc(2*o.length);for(let b=0;b<o.length;b++)g.writeUInt16BE(o.charCodeAt(b),2*b);return this._createEncoderBuffer(g)}return a==="numstr"?this._isNumstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: numstr supports only digits and space"):a==="printstr"?this._isPrintstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(a)||a==="objDesc"?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: "+a+" unsupported")},n.prototype._encodeObjid=function(o,a,g){if(typeof o=="string"){if(!a)return this.reporter.error("string objid given, but no values map found");if(!a.hasOwnProperty(o))return this.reporter.error("objid not found in values map");o=a[o].split(/[\s.]+/g);for(let x=0;x<o.length;x++)o[x]|=0}else if(Array.isArray(o)){o=o.slice();for(let x=0;x<o.length;x++)o[x]|=0}if(!Array.isArray(o))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(o));if(!g){if(o[1]>=40)return this.reporter.error("Second objid identifier OOB");o.splice(0,2,40*o[0]+o[1])}let b=0;for(let x=0;x<o.length;x++){let j=o[x];for(b++;j>=128;j>>=7)b++}const f=s.alloc(b);let v=f.length-1;for(let x=o.length-1;x>=0;x--){let j=o[x];for(f[v--]=127&j;(j>>=7)>0;)f[v--]=128|127&j}return this._createEncoderBuffer(f)},n.prototype._encodeTime=function(o,a){let g;const b=new Date(o);return a==="gentime"?g=[l(b.getUTCFullYear()),l(b.getUTCMonth()+1),l(b.getUTCDate()),l(b.getUTCHours()),l(b.getUTCMinutes()),l(b.getUTCSeconds()),"Z"].join(""):a==="utctime"?g=[l(b.getUTCFullYear()%100),l(b.getUTCMonth()+1),l(b.getUTCDate()),l(b.getUTCHours()),l(b.getUTCMinutes()),l(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+a+" time is not supported yet"),this._encodeStr(g,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(o,a){if(typeof o=="string"){if(!a)return this.reporter.error("String int or enum given, but no values map");if(!a.hasOwnProperty(o))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(o));o=a[o]}if(typeof o!="number"&&!s.isBuffer(o)){const f=o.toArray();!o.sign&&128&f[0]&&f.unshift(0),o=s.from(f)}if(s.isBuffer(o)){let f=o.length;o.length===0&&f++;const v=s.alloc(f);return o.copy(v),o.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(o<128)return this._createEncoderBuffer(o);if(o<256)return this._createEncoderBuffer([0,o]);let g=1;for(let f=o;f>=256;f>>=8)g++;const b=new Array(g);for(let f=b.length-1;f>=0;f--)b[f]=255&o,o>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(s.from(b))},n.prototype._encodeBool=function(o){return this._createEncoderBuffer(o?255:0)},n.prototype._use=function(o,a){return typeof o=="function"&&(o=o(a)),o._getEncoder("der").tree},n.prototype._skipDefault=function(o,a,g){const b=this._baseState;let f;if(b.default===null)return!1;const v=o.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,a,g).join()),v.length!==b.defaultBuffer.length)return!1;for(f=0;f<v.length;f++)if(v[f]!==b.defaultBuffer[f])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,h,m){const c=m;c.der=e("./der"),c.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,h,m){const c=e("inherits"),s=e("./der");function i(r){s.call(this,r),this.enc="pem"}c(i,s),h.exports=i,i.prototype.encode=function(r,t){const n=s.prototype.encode.call(this,r).toString("base64"),l=["-----BEGIN "+t.label+"-----"];for(let o=0;o<n.length;o+=64)l.push(n.slice(o,o+64));return l.push("-----END "+t.label+"-----"),l.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,h,m){(function(c,s){function i(R,D){if(!R)throw new Error(D||"Assertion failed")}function r(R,D){R.super_=D;var E=function(){};E.prototype=D.prototype,R.prototype=new E,R.prototype.constructor=R}function t(R,D,E){if(t.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(D!=="le"&&D!=="be"||(E=D,D=10),this._init(R||0,D||10,E||"be"))}var n;typeof c=="object"?c.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function l(R,D){var E=R.charCodeAt(D);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function o(R,D,E){var w=l(R,E);return E-1>=D&&(w|=l(R,E-1)<<4),w}function a(R,D,E,w){for(var k=0,S=Math.min(R.length,E),N=D;N<S;N++){var A=R.charCodeAt(N)-48;k*=w,k+=A>=49?A-49+10:A>=17?A-17+10:A}return k}t.isBN=function(R){return R instanceof t||R!==null&&typeof R=="object"&&R.constructor.wordSize===t.wordSize&&Array.isArray(R.words)},t.max=function(R,D){return R.cmp(D)>0?R:D},t.min=function(R,D){return R.cmp(D)<0?R:D},t.prototype._init=function(R,D,E){if(typeof R=="number")return this._initNumber(R,D,E);if(typeof R=="object")return this._initArray(R,D,E);D==="hex"&&(D=16),i(D===(0|D)&&D>=2&&D<=36);var w=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<R.length&&(D===16?this._parseHex(R,w,E):(this._parseBase(R,D,w),E==="le"&&this._initArray(this.toArray(),D,E)))},t.prototype._initNumber=function(R,D,E){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(i(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),D,E)},t.prototype._initArray=function(R,D,E){if(i(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var k,S,N=0;if(E==="be")for(w=R.length-1,k=0;w>=0;w-=3)S=R[w]|R[w-1]<<8|R[w-2]<<16,this.words[k]|=S<<N&67108863,this.words[k+1]=S>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);else if(E==="le")for(w=0,k=0;w<R.length;w+=3)S=R[w]|R[w+1]<<8|R[w+2]<<16,this.words[k]|=S<<N&67108863,this.words[k+1]=S>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);return this.strip()},t.prototype._parseHex=function(R,D,E){this.length=Math.ceil((R.length-D)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var k,S=0,N=0;if(E==="be")for(w=R.length-1;w>=D;w-=2)k=o(R,D,w)<<S,this.words[N]|=67108863&k,S>=18?(S-=18,N+=1,this.words[N]|=k>>>26):S+=8;else for(w=(R.length-D)%2==0?D+1:D;w<R.length;w+=2)k=o(R,D,w)<<S,this.words[N]|=67108863&k,S>=18?(S-=18,N+=1,this.words[N]|=k>>>26):S+=8;this.strip()},t.prototype._parseBase=function(R,D,E){this.words=[0],this.length=1;for(var w=0,k=1;k<=67108863;k*=D)w++;w--,k=k/D|0;for(var S=R.length-E,N=S%w,A=Math.min(S,S-N)+E,P=0,L=E;L<A;L+=w)P=a(R,L,L+w,D),this.imuln(k),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(N!==0){var X=1;for(P=a(R,L,R.length,D),L=0;L<N;L++)X*=D;this.imuln(X),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},t.prototype.copy=function(R){R.words=new Array(this.length);for(var D=0;D<this.length;D++)R.words[D]=this.words[D];R.length=this.length,R.negative=this.negative,R.red=this.red},t.prototype.clone=function(){var R=new t(null);return this.copy(R),R},t.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(R,D,E){E.negative=D.negative^R.negative;var w=R.length+D.length|0;E.length=w,w=w-1|0;var k=0|R.words[0],S=0|D.words[0],N=k*S,A=67108863&N,P=N/67108864|0;E.words[0]=A;for(var L=1;L<w;L++){for(var X=P>>>26,K=67108863&P,te=Math.min(L,D.length-1),z=Math.max(0,L-R.length+1);z<=te;z++){var Q=L-z|0;X+=(N=(k=0|R.words[Q])*(S=0|D.words[z])+K)/67108864|0,K=67108863&N}E.words[L]=0|K,P=0|X}return P!==0?E.words[L]=0|P:E.length--,E.strip()}t.prototype.toString=function(R,D){var E;if(D=0|D||1,(R=R||10)===16||R==="hex"){E="";for(var w=0,k=0,S=0;S<this.length;S++){var N=this.words[S],A=(16777215&(N<<w|k)).toString(16);E=(k=N>>>24-w&16777215)!==0||S!==this.length-1?g[6-A.length]+A+E:A+E,(w+=2)>=26&&(w-=26,S--)}for(k!==0&&(E=k.toString(16)+E);E.length%D!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(R===(0|R)&&R>=2&&R<=36){var P=b[R],L=f[R];E="";var X=this.clone();for(X.negative=0;!X.isZero();){var K=X.modn(L).toString(R);E=(X=X.idivn(L)).isZero()?K+E:g[P-K.length]+K+E}for(this.isZero()&&(E="0"+E);E.length%D!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}i(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(R,D){return i(n!==void 0),this.toArrayLike(n,R,D)},t.prototype.toArray=function(R,D){return this.toArrayLike(Array,R,D)},t.prototype.toArrayLike=function(R,D,E){var w=this.byteLength(),k=E||Math.max(1,w);i(w<=k,"byte array longer than desired length"),i(k>0,"Requested array length <= 0"),this.strip();var S,N,A=D==="le",P=new R(k),L=this.clone();if(A){for(N=0;!L.isZero();N++)S=L.andln(255),L.iushrn(8),P[N]=S;for(;N<k;N++)P[N]=0}else{for(N=0;N<k-w;N++)P[N]=0;for(N=0;!L.isZero();N++)S=L.andln(255),L.iushrn(8),P[k-N-1]=S}return P},Math.clz32?t.prototype._countBits=function(R){return 32-Math.clz32(R)}:t.prototype._countBits=function(R){var D=R,E=0;return D>=4096&&(E+=13,D>>>=13),D>=64&&(E+=7,D>>>=7),D>=8&&(E+=4,D>>>=4),D>=2&&(E+=2,D>>>=2),E+D},t.prototype._zeroBits=function(R){if(R===0)return 26;var D=R,E=0;return(8191&D)==0&&(E+=13,D>>>=13),(127&D)==0&&(E+=7,D>>>=7),(15&D)==0&&(E+=4,D>>>=4),(3&D)==0&&(E+=2,D>>>=2),(1&D)==0&&E++,E},t.prototype.bitLength=function(){var R=this.words[this.length-1],D=this._countBits(R);return 26*(this.length-1)+D},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,D=0;D<this.length;D++){var E=this._zeroBits(this.words[D]);if(R+=E,E!==26)break}return R},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},t.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var D=0;D<R.length;D++)this.words[D]=this.words[D]|R.words[D];return this.strip()},t.prototype.ior=function(R){return i((this.negative|R.negative)==0),this.iuor(R)},t.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},t.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},t.prototype.iuand=function(R){var D;D=this.length>R.length?R:this;for(var E=0;E<D.length;E++)this.words[E]=this.words[E]&R.words[E];return this.length=D.length,this.strip()},t.prototype.iand=function(R){return i((this.negative|R.negative)==0),this.iuand(R)},t.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},t.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},t.prototype.iuxor=function(R){var D,E;this.length>R.length?(D=this,E=R):(D=R,E=this);for(var w=0;w<E.length;w++)this.words[w]=D.words[w]^E.words[w];if(this!==D)for(;w<D.length;w++)this.words[w]=D.words[w];return this.length=D.length,this.strip()},t.prototype.ixor=function(R){return i((this.negative|R.negative)==0),this.iuxor(R)},t.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},t.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},t.prototype.inotn=function(R){i(typeof R=="number"&&R>=0);var D=0|Math.ceil(R/26),E=R%26;this._expand(D),E>0&&D--;for(var w=0;w<D;w++)this.words[w]=67108863&~this.words[w];return E>0&&(this.words[w]=~this.words[w]&67108863>>26-E),this.strip()},t.prototype.notn=function(R){return this.clone().inotn(R)},t.prototype.setn=function(R,D){i(typeof R=="number"&&R>=0);var E=R/26|0,w=R%26;return this._expand(E+1),this.words[E]=D?this.words[E]|1<<w:this.words[E]&~(1<<w),this.strip()},t.prototype.iadd=function(R){var D,E,w;if(this.negative!==0&&R.negative===0)return this.negative=0,D=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,D=this.isub(R),R.negative=1,D._normSign();this.length>R.length?(E=this,w=R):(E=R,w=this);for(var k=0,S=0;S<w.length;S++)D=(0|E.words[S])+(0|w.words[S])+k,this.words[S]=67108863&D,k=D>>>26;for(;k!==0&&S<E.length;S++)D=(0|E.words[S])+k,this.words[S]=67108863&D,k=D>>>26;if(this.length=E.length,k!==0)this.words[this.length]=k,this.length++;else if(E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this},t.prototype.add=function(R){var D;return R.negative!==0&&this.negative===0?(R.negative=0,D=this.sub(R),R.negative^=1,D):R.negative===0&&this.negative!==0?(this.negative=0,D=R.sub(this),this.negative=1,D):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},t.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var D=this.iadd(R);return R.negative=1,D._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var E,w,k=this.cmp(R);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(E=this,w=R):(E=R,w=this);for(var S=0,N=0;N<w.length;N++)S=(D=(0|E.words[N])-(0|w.words[N])+S)>>26,this.words[N]=67108863&D;for(;S!==0&&N<E.length;N++)S=(D=(0|E.words[N])+S)>>26,this.words[N]=67108863&D;if(S===0&&N<E.length&&E!==this)for(;N<E.length;N++)this.words[N]=E.words[N];return this.length=Math.max(this.length,N),E!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(R){return this.clone().isub(R)};var x=function(R,D,E){var w,k,S,N=R.words,A=D.words,P=E.words,L=0,X=0|N[0],K=8191&X,te=X>>>13,z=0|N[1],Q=8191&z,O=z>>>13,I=0|N[2],H=8191&I,ee=I>>>13,ne=0|N[3],re=8191&ne,oe=ne>>>13,he=0|N[4],pe=8191&he,ie=he>>>13,ue=0|N[5],de=8191&ue,ve=ue>>>13,le=0|N[6],ge=8191&le,Ne=le>>>13,je=0|N[7],Re=8191&je,$e=je>>>13,He=0|N[8],Le=8191&He,ot=He>>>13,Ze=0|N[9],Je=8191&Ze,rt=Ze>>>13,qe=0|A[0],Fe=8191&qe,Xe=qe>>>13,nt=0|A[1],Ke=8191&nt,_t=nt>>>13,Rt=0|A[2],ht=8191&Rt,Lt=Rt>>>13,Mt=0|A[3],yt=8191&Mt,Ge=Mt>>>13,gt=0|A[4],Ye=8191&gt,xt=gt>>>13,Vt=0|A[5],Qe=8191&Vt,wt=Vt>>>13,Wt=0|A[6],ut=8191&Wt,me=Wt>>>13,ae=0|A[7],ye=8191&ae,we=ae>>>13,Me=0|A[8],Ae=8191&Me,lt=Me>>>13,bt=0|A[9],it=8191&bt,jt=bt>>>13;E.negative=R.negative^D.negative,E.length=19;var Ct=(L+(w=Math.imul(K,Fe))|0)+((8191&(k=(k=Math.imul(K,Xe))+Math.imul(te,Fe)|0))<<13)|0;L=((S=Math.imul(te,Xe))+(k>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(Q,Fe),k=(k=Math.imul(Q,Xe))+Math.imul(O,Fe)|0,S=Math.imul(O,Xe);var $t=(L+(w=w+Math.imul(K,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(K,_t)|0)+Math.imul(te,Ke)|0))<<13)|0;L=((S=S+Math.imul(te,_t)|0)+(k>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(H,Fe),k=(k=Math.imul(H,Xe))+Math.imul(ee,Fe)|0,S=Math.imul(ee,Xe),w=w+Math.imul(Q,Ke)|0,k=(k=k+Math.imul(Q,_t)|0)+Math.imul(O,Ke)|0,S=S+Math.imul(O,_t)|0;var dr=(L+(w=w+Math.imul(K,ht)|0)|0)+((8191&(k=(k=k+Math.imul(K,Lt)|0)+Math.imul(te,ht)|0))<<13)|0;L=((S=S+Math.imul(te,Lt)|0)+(k>>>13)|0)+(dr>>>26)|0,dr&=67108863,w=Math.imul(re,Fe),k=(k=Math.imul(re,Xe))+Math.imul(oe,Fe)|0,S=Math.imul(oe,Xe),w=w+Math.imul(H,Ke)|0,k=(k=k+Math.imul(H,_t)|0)+Math.imul(ee,Ke)|0,S=S+Math.imul(ee,_t)|0,w=w+Math.imul(Q,ht)|0,k=(k=k+Math.imul(Q,Lt)|0)+Math.imul(O,ht)|0,S=S+Math.imul(O,Lt)|0;var ar=(L+(w=w+Math.imul(K,yt)|0)|0)+((8191&(k=(k=k+Math.imul(K,Ge)|0)+Math.imul(te,yt)|0))<<13)|0;L=((S=S+Math.imul(te,Ge)|0)+(k>>>13)|0)+(ar>>>26)|0,ar&=67108863,w=Math.imul(pe,Fe),k=(k=Math.imul(pe,Xe))+Math.imul(ie,Fe)|0,S=Math.imul(ie,Xe),w=w+Math.imul(re,Ke)|0,k=(k=k+Math.imul(re,_t)|0)+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,_t)|0,w=w+Math.imul(H,ht)|0,k=(k=k+Math.imul(H,Lt)|0)+Math.imul(ee,ht)|0,S=S+Math.imul(ee,Lt)|0,w=w+Math.imul(Q,yt)|0,k=(k=k+Math.imul(Q,Ge)|0)+Math.imul(O,yt)|0,S=S+Math.imul(O,Ge)|0;var _r=(L+(w=w+Math.imul(K,Ye)|0)|0)+((8191&(k=(k=k+Math.imul(K,xt)|0)+Math.imul(te,Ye)|0))<<13)|0;L=((S=S+Math.imul(te,xt)|0)+(k>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(de,Fe),k=(k=Math.imul(de,Xe))+Math.imul(ve,Fe)|0,S=Math.imul(ve,Xe),w=w+Math.imul(pe,Ke)|0,k=(k=k+Math.imul(pe,_t)|0)+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,_t)|0,w=w+Math.imul(re,ht)|0,k=(k=k+Math.imul(re,Lt)|0)+Math.imul(oe,ht)|0,S=S+Math.imul(oe,Lt)|0,w=w+Math.imul(H,yt)|0,k=(k=k+Math.imul(H,Ge)|0)+Math.imul(ee,yt)|0,S=S+Math.imul(ee,Ge)|0,w=w+Math.imul(Q,Ye)|0,k=(k=k+Math.imul(Q,xt)|0)+Math.imul(O,Ye)|0,S=S+Math.imul(O,xt)|0;var Sr=(L+(w=w+Math.imul(K,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(K,wt)|0)+Math.imul(te,Qe)|0))<<13)|0;L=((S=S+Math.imul(te,wt)|0)+(k>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,w=Math.imul(ge,Fe),k=(k=Math.imul(ge,Xe))+Math.imul(Ne,Fe)|0,S=Math.imul(Ne,Xe),w=w+Math.imul(de,Ke)|0,k=(k=k+Math.imul(de,_t)|0)+Math.imul(ve,Ke)|0,S=S+Math.imul(ve,_t)|0,w=w+Math.imul(pe,ht)|0,k=(k=k+Math.imul(pe,Lt)|0)+Math.imul(ie,ht)|0,S=S+Math.imul(ie,Lt)|0,w=w+Math.imul(re,yt)|0,k=(k=k+Math.imul(re,Ge)|0)+Math.imul(oe,yt)|0,S=S+Math.imul(oe,Ge)|0,w=w+Math.imul(H,Ye)|0,k=(k=k+Math.imul(H,xt)|0)+Math.imul(ee,Ye)|0,S=S+Math.imul(ee,xt)|0,w=w+Math.imul(Q,Qe)|0,k=(k=k+Math.imul(Q,wt)|0)+Math.imul(O,Qe)|0,S=S+Math.imul(O,wt)|0;var qr=(L+(w=w+Math.imul(K,ut)|0)|0)+((8191&(k=(k=k+Math.imul(K,me)|0)+Math.imul(te,ut)|0))<<13)|0;L=((S=S+Math.imul(te,me)|0)+(k>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(Re,Fe),k=(k=Math.imul(Re,Xe))+Math.imul($e,Fe)|0,S=Math.imul($e,Xe),w=w+Math.imul(ge,Ke)|0,k=(k=k+Math.imul(ge,_t)|0)+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,_t)|0,w=w+Math.imul(de,ht)|0,k=(k=k+Math.imul(de,Lt)|0)+Math.imul(ve,ht)|0,S=S+Math.imul(ve,Lt)|0,w=w+Math.imul(pe,yt)|0,k=(k=k+Math.imul(pe,Ge)|0)+Math.imul(ie,yt)|0,S=S+Math.imul(ie,Ge)|0,w=w+Math.imul(re,Ye)|0,k=(k=k+Math.imul(re,xt)|0)+Math.imul(oe,Ye)|0,S=S+Math.imul(oe,xt)|0,w=w+Math.imul(H,Qe)|0,k=(k=k+Math.imul(H,wt)|0)+Math.imul(ee,Qe)|0,S=S+Math.imul(ee,wt)|0,w=w+Math.imul(Q,ut)|0,k=(k=k+Math.imul(Q,me)|0)+Math.imul(O,ut)|0,S=S+Math.imul(O,me)|0;var ce=(L+(w=w+Math.imul(K,ye)|0)|0)+((8191&(k=(k=k+Math.imul(K,we)|0)+Math.imul(te,ye)|0))<<13)|0;L=((S=S+Math.imul(te,we)|0)+(k>>>13)|0)+(ce>>>26)|0,ce&=67108863,w=Math.imul(Le,Fe),k=(k=Math.imul(Le,Xe))+Math.imul(ot,Fe)|0,S=Math.imul(ot,Xe),w=w+Math.imul(Re,Ke)|0,k=(k=k+Math.imul(Re,_t)|0)+Math.imul($e,Ke)|0,S=S+Math.imul($e,_t)|0,w=w+Math.imul(ge,ht)|0,k=(k=k+Math.imul(ge,Lt)|0)+Math.imul(Ne,ht)|0,S=S+Math.imul(Ne,Lt)|0,w=w+Math.imul(de,yt)|0,k=(k=k+Math.imul(de,Ge)|0)+Math.imul(ve,yt)|0,S=S+Math.imul(ve,Ge)|0,w=w+Math.imul(pe,Ye)|0,k=(k=k+Math.imul(pe,xt)|0)+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,xt)|0,w=w+Math.imul(re,Qe)|0,k=(k=k+Math.imul(re,wt)|0)+Math.imul(oe,Qe)|0,S=S+Math.imul(oe,wt)|0,w=w+Math.imul(H,ut)|0,k=(k=k+Math.imul(H,me)|0)+Math.imul(ee,ut)|0,S=S+Math.imul(ee,me)|0,w=w+Math.imul(Q,ye)|0,k=(k=k+Math.imul(Q,we)|0)+Math.imul(O,ye)|0,S=S+Math.imul(O,we)|0;var _e=(L+(w=w+Math.imul(K,Ae)|0)|0)+((8191&(k=(k=k+Math.imul(K,lt)|0)+Math.imul(te,Ae)|0))<<13)|0;L=((S=S+Math.imul(te,lt)|0)+(k>>>13)|0)+(_e>>>26)|0,_e&=67108863,w=Math.imul(Je,Fe),k=(k=Math.imul(Je,Xe))+Math.imul(rt,Fe)|0,S=Math.imul(rt,Xe),w=w+Math.imul(Le,Ke)|0,k=(k=k+Math.imul(Le,_t)|0)+Math.imul(ot,Ke)|0,S=S+Math.imul(ot,_t)|0,w=w+Math.imul(Re,ht)|0,k=(k=k+Math.imul(Re,Lt)|0)+Math.imul($e,ht)|0,S=S+Math.imul($e,Lt)|0,w=w+Math.imul(ge,yt)|0,k=(k=k+Math.imul(ge,Ge)|0)+Math.imul(Ne,yt)|0,S=S+Math.imul(Ne,Ge)|0,w=w+Math.imul(de,Ye)|0,k=(k=k+Math.imul(de,xt)|0)+Math.imul(ve,Ye)|0,S=S+Math.imul(ve,xt)|0,w=w+Math.imul(pe,Qe)|0,k=(k=k+Math.imul(pe,wt)|0)+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,wt)|0,w=w+Math.imul(re,ut)|0,k=(k=k+Math.imul(re,me)|0)+Math.imul(oe,ut)|0,S=S+Math.imul(oe,me)|0,w=w+Math.imul(H,ye)|0,k=(k=k+Math.imul(H,we)|0)+Math.imul(ee,ye)|0,S=S+Math.imul(ee,we)|0,w=w+Math.imul(Q,Ae)|0,k=(k=k+Math.imul(Q,lt)|0)+Math.imul(O,Ae)|0,S=S+Math.imul(O,lt)|0;var Te=(L+(w=w+Math.imul(K,it)|0)|0)+((8191&(k=(k=k+Math.imul(K,jt)|0)+Math.imul(te,it)|0))<<13)|0;L=((S=S+Math.imul(te,jt)|0)+(k>>>13)|0)+(Te>>>26)|0,Te&=67108863,w=Math.imul(Je,Ke),k=(k=Math.imul(Je,_t))+Math.imul(rt,Ke)|0,S=Math.imul(rt,_t),w=w+Math.imul(Le,ht)|0,k=(k=k+Math.imul(Le,Lt)|0)+Math.imul(ot,ht)|0,S=S+Math.imul(ot,Lt)|0,w=w+Math.imul(Re,yt)|0,k=(k=k+Math.imul(Re,Ge)|0)+Math.imul($e,yt)|0,S=S+Math.imul($e,Ge)|0,w=w+Math.imul(ge,Ye)|0,k=(k=k+Math.imul(ge,xt)|0)+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,xt)|0,w=w+Math.imul(de,Qe)|0,k=(k=k+Math.imul(de,wt)|0)+Math.imul(ve,Qe)|0,S=S+Math.imul(ve,wt)|0,w=w+Math.imul(pe,ut)|0,k=(k=k+Math.imul(pe,me)|0)+Math.imul(ie,ut)|0,S=S+Math.imul(ie,me)|0,w=w+Math.imul(re,ye)|0,k=(k=k+Math.imul(re,we)|0)+Math.imul(oe,ye)|0,S=S+Math.imul(oe,we)|0,w=w+Math.imul(H,Ae)|0,k=(k=k+Math.imul(H,lt)|0)+Math.imul(ee,Ae)|0,S=S+Math.imul(ee,lt)|0;var Ie=(L+(w=w+Math.imul(Q,it)|0)|0)+((8191&(k=(k=k+Math.imul(Q,jt)|0)+Math.imul(O,it)|0))<<13)|0;L=((S=S+Math.imul(O,jt)|0)+(k>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,w=Math.imul(Je,ht),k=(k=Math.imul(Je,Lt))+Math.imul(rt,ht)|0,S=Math.imul(rt,Lt),w=w+Math.imul(Le,yt)|0,k=(k=k+Math.imul(Le,Ge)|0)+Math.imul(ot,yt)|0,S=S+Math.imul(ot,Ge)|0,w=w+Math.imul(Re,Ye)|0,k=(k=k+Math.imul(Re,xt)|0)+Math.imul($e,Ye)|0,S=S+Math.imul($e,xt)|0,w=w+Math.imul(ge,Qe)|0,k=(k=k+Math.imul(ge,wt)|0)+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,wt)|0,w=w+Math.imul(de,ut)|0,k=(k=k+Math.imul(de,me)|0)+Math.imul(ve,ut)|0,S=S+Math.imul(ve,me)|0,w=w+Math.imul(pe,ye)|0,k=(k=k+Math.imul(pe,we)|0)+Math.imul(ie,ye)|0,S=S+Math.imul(ie,we)|0,w=w+Math.imul(re,Ae)|0,k=(k=k+Math.imul(re,lt)|0)+Math.imul(oe,Ae)|0,S=S+Math.imul(oe,lt)|0;var dt=(L+(w=w+Math.imul(H,it)|0)|0)+((8191&(k=(k=k+Math.imul(H,jt)|0)+Math.imul(ee,it)|0))<<13)|0;L=((S=S+Math.imul(ee,jt)|0)+(k>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(Je,yt),k=(k=Math.imul(Je,Ge))+Math.imul(rt,yt)|0,S=Math.imul(rt,Ge),w=w+Math.imul(Le,Ye)|0,k=(k=k+Math.imul(Le,xt)|0)+Math.imul(ot,Ye)|0,S=S+Math.imul(ot,xt)|0,w=w+Math.imul(Re,Qe)|0,k=(k=k+Math.imul(Re,wt)|0)+Math.imul($e,Qe)|0,S=S+Math.imul($e,wt)|0,w=w+Math.imul(ge,ut)|0,k=(k=k+Math.imul(ge,me)|0)+Math.imul(Ne,ut)|0,S=S+Math.imul(Ne,me)|0,w=w+Math.imul(de,ye)|0,k=(k=k+Math.imul(de,we)|0)+Math.imul(ve,ye)|0,S=S+Math.imul(ve,we)|0,w=w+Math.imul(pe,Ae)|0,k=(k=k+Math.imul(pe,lt)|0)+Math.imul(ie,Ae)|0,S=S+Math.imul(ie,lt)|0;var ze=(L+(w=w+Math.imul(re,it)|0)|0)+((8191&(k=(k=k+Math.imul(re,jt)|0)+Math.imul(oe,it)|0))<<13)|0;L=((S=S+Math.imul(oe,jt)|0)+(k>>>13)|0)+(ze>>>26)|0,ze&=67108863,w=Math.imul(Je,Ye),k=(k=Math.imul(Je,xt))+Math.imul(rt,Ye)|0,S=Math.imul(rt,xt),w=w+Math.imul(Le,Qe)|0,k=(k=k+Math.imul(Le,wt)|0)+Math.imul(ot,Qe)|0,S=S+Math.imul(ot,wt)|0,w=w+Math.imul(Re,ut)|0,k=(k=k+Math.imul(Re,me)|0)+Math.imul($e,ut)|0,S=S+Math.imul($e,me)|0,w=w+Math.imul(ge,ye)|0,k=(k=k+Math.imul(ge,we)|0)+Math.imul(Ne,ye)|0,S=S+Math.imul(Ne,we)|0,w=w+Math.imul(de,Ae)|0,k=(k=k+Math.imul(de,lt)|0)+Math.imul(ve,Ae)|0,S=S+Math.imul(ve,lt)|0;var We=(L+(w=w+Math.imul(pe,it)|0)|0)+((8191&(k=(k=k+Math.imul(pe,jt)|0)+Math.imul(ie,it)|0))<<13)|0;L=((S=S+Math.imul(ie,jt)|0)+(k>>>13)|0)+(We>>>26)|0,We&=67108863,w=Math.imul(Je,Qe),k=(k=Math.imul(Je,wt))+Math.imul(rt,Qe)|0,S=Math.imul(rt,wt),w=w+Math.imul(Le,ut)|0,k=(k=k+Math.imul(Le,me)|0)+Math.imul(ot,ut)|0,S=S+Math.imul(ot,me)|0,w=w+Math.imul(Re,ye)|0,k=(k=k+Math.imul(Re,we)|0)+Math.imul($e,ye)|0,S=S+Math.imul($e,we)|0,w=w+Math.imul(ge,Ae)|0,k=(k=k+Math.imul(ge,lt)|0)+Math.imul(Ne,Ae)|0,S=S+Math.imul(Ne,lt)|0;var Xt=(L+(w=w+Math.imul(de,it)|0)|0)+((8191&(k=(k=k+Math.imul(de,jt)|0)+Math.imul(ve,it)|0))<<13)|0;L=((S=S+Math.imul(ve,jt)|0)+(k>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(Je,ut),k=(k=Math.imul(Je,me))+Math.imul(rt,ut)|0,S=Math.imul(rt,me),w=w+Math.imul(Le,ye)|0,k=(k=k+Math.imul(Le,we)|0)+Math.imul(ot,ye)|0,S=S+Math.imul(ot,we)|0,w=w+Math.imul(Re,Ae)|0,k=(k=k+Math.imul(Re,lt)|0)+Math.imul($e,Ae)|0,S=S+Math.imul($e,lt)|0;var Dt=(L+(w=w+Math.imul(ge,it)|0)|0)+((8191&(k=(k=k+Math.imul(ge,jt)|0)+Math.imul(Ne,it)|0))<<13)|0;L=((S=S+Math.imul(Ne,jt)|0)+(k>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,w=Math.imul(Je,ye),k=(k=Math.imul(Je,we))+Math.imul(rt,ye)|0,S=Math.imul(rt,we),w=w+Math.imul(Le,Ae)|0,k=(k=k+Math.imul(Le,lt)|0)+Math.imul(ot,Ae)|0,S=S+Math.imul(ot,lt)|0;var Tt=(L+(w=w+Math.imul(Re,it)|0)|0)+((8191&(k=(k=k+Math.imul(Re,jt)|0)+Math.imul($e,it)|0))<<13)|0;L=((S=S+Math.imul($e,jt)|0)+(k>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(Je,Ae),k=(k=Math.imul(Je,lt))+Math.imul(rt,Ae)|0,S=Math.imul(rt,lt);var vt=(L+(w=w+Math.imul(Le,it)|0)|0)+((8191&(k=(k=k+Math.imul(Le,jt)|0)+Math.imul(ot,it)|0))<<13)|0;L=((S=S+Math.imul(ot,jt)|0)+(k>>>13)|0)+(vt>>>26)|0,vt&=67108863;var Ut=(L+(w=Math.imul(Je,it))|0)+((8191&(k=(k=Math.imul(Je,jt))+Math.imul(rt,it)|0))<<13)|0;return L=((S=Math.imul(rt,jt))+(k>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,P[0]=Ct,P[1]=$t,P[2]=dr,P[3]=ar,P[4]=_r,P[5]=Sr,P[6]=qr,P[7]=ce,P[8]=_e,P[9]=Te,P[10]=Ie,P[11]=dt,P[12]=ze,P[13]=We,P[14]=Xt,P[15]=Dt,P[16]=Tt,P[17]=vt,P[18]=Ut,L!==0&&(P[19]=L,E.length++),E};function j(R,D,E){return new C().mulp(R,D,E)}function C(R,D){this.x=R,this.y=D}Math.imul||(x=v),t.prototype.mulTo=function(R,D){var E=this.length+R.length;return this.length===10&&R.length===10?x(this,R,D):E<63?v(this,R,D):E<1024?(function(w,k,S){S.negative=k.negative^w.negative,S.length=w.length+k.length;for(var N=0,A=0,P=0;P<S.length-1;P++){var L=A;A=0;for(var X=67108863&N,K=Math.min(P,k.length-1),te=Math.max(0,P-w.length+1);te<=K;te++){var z=P-te,Q=(0|w.words[z])*(0|k.words[te]),O=67108863&Q;X=67108863&(O=O+X|0),A+=(L=(L=L+(Q/67108864|0)|0)+(O>>>26)|0)>>>26,L&=67108863}S.words[P]=X,N=L,L=A}return N!==0?S.words[P]=N:S.length--,S.strip()})(this,R,D):j(this,R,D)},C.prototype.makeRBT=function(R){for(var D=new Array(R),E=t.prototype._countBits(R)-1,w=0;w<R;w++)D[w]=this.revBin(w,E,R);return D},C.prototype.revBin=function(R,D,E){if(R===0||R===E-1)return R;for(var w=0,k=0;k<D;k++)w|=(1&R)<<D-k-1,R>>=1;return w},C.prototype.permute=function(R,D,E,w,k,S){for(var N=0;N<S;N++)w[N]=D[R[N]],k[N]=E[R[N]]},C.prototype.transform=function(R,D,E,w,k,S){this.permute(S,R,D,E,w,k);for(var N=1;N<k;N<<=1)for(var A=N<<1,P=Math.cos(2*Math.PI/A),L=Math.sin(2*Math.PI/A),X=0;X<k;X+=A)for(var K=P,te=L,z=0;z<N;z++){var Q=E[X+z],O=w[X+z],I=E[X+z+N],H=w[X+z+N],ee=K*I-te*H;H=K*H+te*I,I=ee,E[X+z]=Q+I,w[X+z]=O+H,E[X+z+N]=Q-I,w[X+z+N]=O-H,z!==A&&(ee=P*K-L*te,te=P*te+L*K,K=ee)}},C.prototype.guessLen13b=function(R,D){var E=1|Math.max(D,R),w=1&E,k=0;for(E=E/2|0;E;E>>>=1)k++;return 1<<k+1+w},C.prototype.conjugate=function(R,D,E){if(!(E<=1))for(var w=0;w<E/2;w++){var k=R[w];R[w]=R[E-w-1],R[E-w-1]=k,k=D[w],D[w]=-D[E-w-1],D[E-w-1]=-k}},C.prototype.normalize13b=function(R,D){for(var E=0,w=0;w<D/2;w++){var k=8192*Math.round(R[2*w+1]/D)+Math.round(R[2*w]/D)+E;R[w]=67108863&k,E=k<67108864?0:k/67108864|0}return R},C.prototype.convert13b=function(R,D,E,w){for(var k=0,S=0;S<D;S++)k+=0|R[S],E[2*S]=8191&k,k>>>=13,E[2*S+1]=8191&k,k>>>=13;for(S=2*D;S<w;++S)E[S]=0;i(k===0),i((-8192&k)==0)},C.prototype.stub=function(R){for(var D=new Array(R),E=0;E<R;E++)D[E]=0;return D},C.prototype.mulp=function(R,D,E){var w=2*this.guessLen13b(R.length,D.length),k=this.makeRBT(w),S=this.stub(w),N=new Array(w),A=new Array(w),P=new Array(w),L=new Array(w),X=new Array(w),K=new Array(w),te=E.words;te.length=w,this.convert13b(R.words,R.length,N,w),this.convert13b(D.words,D.length,L,w),this.transform(N,S,A,P,w,k),this.transform(L,S,X,K,w,k);for(var z=0;z<w;z++){var Q=A[z]*X[z]-P[z]*K[z];P[z]=A[z]*K[z]+P[z]*X[z],A[z]=Q}return this.conjugate(A,P,w),this.transform(A,P,te,S,w,k),this.conjugate(te,S,w),this.normalize13b(te,w),E.negative=R.negative^D.negative,E.length=R.length+D.length,E.strip()},t.prototype.mul=function(R){var D=new t(null);return D.words=new Array(this.length+R.length),this.mulTo(R,D)},t.prototype.mulf=function(R){var D=new t(null);return D.words=new Array(this.length+R.length),j(this,R,D)},t.prototype.imul=function(R){return this.clone().mulTo(R,this)},t.prototype.imuln=function(R){i(typeof R=="number"),i(R<67108864);for(var D=0,E=0;E<this.length;E++){var w=(0|this.words[E])*R,k=(67108863&w)+(67108863&D);D>>=26,D+=w/67108864|0,D+=k>>>26,this.words[E]=67108863&k}return D!==0&&(this.words[E]=D,this.length++),this},t.prototype.muln=function(R){return this.clone().imuln(R)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(R){var D=(function(S){for(var N=new Array(S.bitLength()),A=0;A<N.length;A++){var P=A/26|0,L=A%26;N[A]=(S.words[P]&1<<L)>>>L}return N})(R);if(D.length===0)return new t(1);for(var E=this,w=0;w<D.length&&D[w]===0;w++,E=E.sqr());if(++w<D.length)for(var k=E.sqr();w<D.length;w++,k=k.sqr())D[w]!==0&&(E=E.mul(k));return E},t.prototype.iushln=function(R){i(typeof R=="number"&&R>=0);var D,E=R%26,w=(R-E)/26,k=67108863>>>26-E<<26-E;if(E!==0){var S=0;for(D=0;D<this.length;D++){var N=this.words[D]&k,A=(0|this.words[D])-N<<E;this.words[D]=A|S,S=N>>>26-E}S&&(this.words[D]=S,this.length++)}if(w!==0){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},t.prototype.ishln=function(R){return i(this.negative===0),this.iushln(R)},t.prototype.iushrn=function(R,D,E){var w;i(typeof R=="number"&&R>=0),w=D?(D-D%26)/26:0;var k=R%26,S=Math.min((R-k)/26,this.length),N=67108863^67108863>>>k<<k,A=E;if(w-=S,w=Math.max(0,w),A){for(var P=0;P<S;P++)A.words[P]=this.words[P];A.length=S}if(S!==0)if(this.length>S)for(this.length-=S,P=0;P<this.length;P++)this.words[P]=this.words[P+S];else this.words[0]=0,this.length=1;var L=0;for(P=this.length-1;P>=0&&(L!==0||P>=w);P--){var X=0|this.words[P];this.words[P]=L<<26-k|X>>>k,L=X&N}return A&&L!==0&&(A.words[A.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(R,D,E){return i(this.negative===0),this.iushrn(R,D,E)},t.prototype.shln=function(R){return this.clone().ishln(R)},t.prototype.ushln=function(R){return this.clone().iushln(R)},t.prototype.shrn=function(R){return this.clone().ishrn(R)},t.prototype.ushrn=function(R){return this.clone().iushrn(R)},t.prototype.testn=function(R){i(typeof R=="number"&&R>=0);var D=R%26,E=(R-D)/26,w=1<<D;return!(this.length<=E)&&!!(this.words[E]&w)},t.prototype.imaskn=function(R){i(typeof R=="number"&&R>=0);var D=R%26,E=(R-D)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(D!==0&&E++,this.length=Math.min(E,this.length),D!==0){var w=67108863^67108863>>>D<<D;this.words[this.length-1]&=w}return this.strip()},t.prototype.maskn=function(R){return this.clone().imaskn(R)},t.prototype.iaddn=function(R){return i(typeof R=="number"),i(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},t.prototype._iaddn=function(R){this.words[0]+=R;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},t.prototype.isubn=function(R){if(i(typeof R=="number"),i(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},t.prototype.addn=function(R){return this.clone().iaddn(R)},t.prototype.subn=function(R){return this.clone().isubn(R)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(R,D,E){var w,k,S=R.length+E;this._expand(S);var N=0;for(w=0;w<R.length;w++){k=(0|this.words[w+E])+N;var A=(0|R.words[w])*D;N=((k-=67108863&A)>>26)-(A/67108864|0),this.words[w+E]=67108863&k}for(;w<this.length-E;w++)N=(k=(0|this.words[w+E])+N)>>26,this.words[w+E]=67108863&k;if(N===0)return this.strip();for(i(N===-1),N=0,w=0;w<this.length;w++)N=(k=-(0|this.words[w])+N)>>26,this.words[w]=67108863&k;return this.negative=1,this.strip()},t.prototype._wordDiv=function(R,D){var E=(this.length,R.length),w=this.clone(),k=R,S=0|k.words[k.length-1];(E=26-this._countBits(S))!==0&&(k=k.ushln(E),w.iushln(E),S=0|k.words[k.length-1]);var N,A=w.length-k.length;if(D!=="mod"){(N=new t(null)).length=A+1,N.words=new Array(N.length);for(var P=0;P<N.length;P++)N.words[P]=0}var L=w.clone()._ishlnsubmul(k,1,A);L.negative===0&&(w=L,N&&(N.words[A]=1));for(var X=A-1;X>=0;X--){var K=67108864*(0|w.words[k.length+X])+(0|w.words[k.length+X-1]);for(K=Math.min(K/S|0,67108863),w._ishlnsubmul(k,K,X);w.negative!==0;)K--,w.negative=0,w._ishlnsubmul(k,1,X),w.isZero()||(w.negative^=1);N&&(N.words[X]=K)}return N&&N.strip(),w.strip(),D!=="div"&&E!==0&&w.iushrn(E),{div:N||null,mod:w}},t.prototype.divmod=function(R,D,E){return i(!R.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&R.negative===0?(S=this.neg().divmod(R,D),D!=="mod"&&(w=S.div.neg()),D!=="div"&&(k=S.mod.neg(),E&&k.negative!==0&&k.iadd(R)),{div:w,mod:k}):this.negative===0&&R.negative!==0?(S=this.divmod(R.neg(),D),D!=="mod"&&(w=S.div.neg()),{div:w,mod:S.mod}):(this.negative&R.negative)!=0?(S=this.neg().divmod(R.neg(),D),D!=="div"&&(k=S.mod.neg(),E&&k.negative!==0&&k.isub(R)),{div:S.div,mod:k}):R.length>this.length||this.cmp(R)<0?{div:new t(0),mod:this}:R.length===1?D==="div"?{div:this.divn(R.words[0]),mod:null}:D==="mod"?{div:null,mod:new t(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new t(this.modn(R.words[0]))}:this._wordDiv(R,D);var w,k,S},t.prototype.div=function(R){return this.divmod(R,"div",!1).div},t.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},t.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},t.prototype.divRound=function(R){var D=this.divmod(R);if(D.mod.isZero())return D.div;var E=D.div.negative!==0?D.mod.isub(R):D.mod,w=R.ushrn(1),k=R.andln(1),S=E.cmp(w);return S<0||k===1&&S===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},t.prototype.modn=function(R){i(R<=67108863);for(var D=(1<<26)%R,E=0,w=this.length-1;w>=0;w--)E=(D*E+(0|this.words[w]))%R;return E},t.prototype.idivn=function(R){i(R<=67108863);for(var D=0,E=this.length-1;E>=0;E--){var w=(0|this.words[E])+67108864*D;this.words[E]=w/R|0,D=w%R}return this.strip()},t.prototype.divn=function(R){return this.clone().idivn(R)},t.prototype.egcd=function(R){i(R.negative===0),i(!R.isZero());var D=this,E=R.clone();D=D.negative!==0?D.umod(R):D.clone();for(var w=new t(1),k=new t(0),S=new t(0),N=new t(1),A=0;D.isEven()&&E.isEven();)D.iushrn(1),E.iushrn(1),++A;for(var P=E.clone(),L=D.clone();!D.isZero();){for(var X=0,K=1;(D.words[0]&K)==0&&X<26;++X,K<<=1);if(X>0)for(D.iushrn(X);X-- >0;)(w.isOdd()||k.isOdd())&&(w.iadd(P),k.isub(L)),w.iushrn(1),k.iushrn(1);for(var te=0,z=1;(E.words[0]&z)==0&&te<26;++te,z<<=1);if(te>0)for(E.iushrn(te);te-- >0;)(S.isOdd()||N.isOdd())&&(S.iadd(P),N.isub(L)),S.iushrn(1),N.iushrn(1);D.cmp(E)>=0?(D.isub(E),w.isub(S),k.isub(N)):(E.isub(D),S.isub(w),N.isub(k))}return{a:S,b:N,gcd:E.iushln(A)}},t.prototype._invmp=function(R){i(R.negative===0),i(!R.isZero());var D=this,E=R.clone();D=D.negative!==0?D.umod(R):D.clone();for(var w,k=new t(1),S=new t(0),N=E.clone();D.cmpn(1)>0&&E.cmpn(1)>0;){for(var A=0,P=1;(D.words[0]&P)==0&&A<26;++A,P<<=1);if(A>0)for(D.iushrn(A);A-- >0;)k.isOdd()&&k.iadd(N),k.iushrn(1);for(var L=0,X=1;(E.words[0]&X)==0&&L<26;++L,X<<=1);if(L>0)for(E.iushrn(L);L-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);D.cmp(E)>=0?(D.isub(E),k.isub(S)):(E.isub(D),S.isub(k))}return(w=D.cmpn(1)===0?k:S).cmpn(0)<0&&w.iadd(R),w},t.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var D=this.clone(),E=R.clone();D.negative=0,E.negative=0;for(var w=0;D.isEven()&&E.isEven();w++)D.iushrn(1),E.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;E.isEven();)E.iushrn(1);var k=D.cmp(E);if(k<0){var S=D;D=E,E=S}else if(k===0||E.cmpn(1)===0)break;D.isub(E)}return E.iushln(w)},t.prototype.invm=function(R){return this.egcd(R).a.umod(R)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(R){return this.words[0]&R},t.prototype.bincn=function(R){i(typeof R=="number");var D=R%26,E=(R-D)/26,w=1<<D;if(this.length<=E)return this._expand(E+1),this.words[E]|=w,this;for(var k=w,S=E;k!==0&&S<this.length;S++){var N=0|this.words[S];k=(N+=k)>>>26,N&=67108863,this.words[S]=N}return k!==0&&(this.words[S]=k,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(R){var D,E=R<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)D=1;else{E&&(R=-R),i(R<=67108863,"Number is too big");var w=0|this.words[0];D=w===R?0:w<R?-1:1}return this.negative!==0?0|-D:D},t.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var D=this.ucmp(R);return this.negative!==0?0|-D:D},t.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var D=0,E=this.length-1;E>=0;E--){var w=0|this.words[E],k=0|R.words[E];if(w!==k){w<k?D=-1:w>k&&(D=1);break}}return D},t.prototype.gtn=function(R){return this.cmpn(R)===1},t.prototype.gt=function(R){return this.cmp(R)===1},t.prototype.gten=function(R){return this.cmpn(R)>=0},t.prototype.gte=function(R){return this.cmp(R)>=0},t.prototype.ltn=function(R){return this.cmpn(R)===-1},t.prototype.lt=function(R){return this.cmp(R)===-1},t.prototype.lten=function(R){return this.cmpn(R)<=0},t.prototype.lte=function(R){return this.cmp(R)<=0},t.prototype.eqn=function(R){return this.cmpn(R)===0},t.prototype.eq=function(R){return this.cmp(R)===0},t.red=function(R){return new Y(R)},t.prototype.toRed=function(R){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},t.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(R){return this.red=R,this},t.prototype.forceRed=function(R){return i(!this.red,"Already a number in reduction context"),this._forceRed(R)},t.prototype.redAdd=function(R){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},t.prototype.redIAdd=function(R){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},t.prototype.redSub=function(R){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},t.prototype.redISub=function(R){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},t.prototype.redShl=function(R){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},t.prototype.redMul=function(R){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},t.prototype.redIMul=function(R){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},t.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(R){return i(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var M={k256:null,p224:null,p192:null,p25519:null};function $(R,D){this.name=R,this.p=new t(D,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function q(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(R){if(typeof R=="string"){var D=t._prime(R);this.m=D.p,this.prime=D}else i(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function W(R){Y.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$.prototype._tmp=function(){var R=new t(null);return R.words=new Array(Math.ceil(this.n/13)),R},$.prototype.ireduce=function(R){var D,E=R;do this.split(E,this.tmp),D=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(D>this.n);var w=D<this.n?-1:E.ucmp(this.p);return w===0?(E.words[0]=0,E.length=1):w>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},$.prototype.split=function(R,D){R.iushrn(this.n,0,D)},$.prototype.imulK=function(R){return R.imul(this.k)},r(V,$),V.prototype.split=function(R,D){for(var E=Math.min(R.length,9),w=0;w<E;w++)D.words[w]=R.words[w];if(D.length=E,R.length<=9)return R.words[0]=0,void(R.length=1);var k=R.words[9];for(D.words[D.length++]=4194303&k,w=10;w<R.length;w++){var S=0|R.words[w];R.words[w-10]=(4194303&S)<<4|k>>>22,k=S}k>>>=22,R.words[w-10]=k,k===0&&R.length>10?R.length-=10:R.length-=9},V.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var D=0,E=0;E<R.length;E++){var w=0|R.words[E];D+=977*w,R.words[E]=67108863&D,D=64*w+(D/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},r(B,$),r(U,$),r(q,$),q.prototype.imulK=function(R){for(var D=0,E=0;E<R.length;E++){var w=19*(0|R.words[E])+D,k=67108863&w;w>>>=26,R.words[E]=k,D=w}return D!==0&&(R.words[R.length++]=D),R},t._prime=function(R){if(M[R])return M[R];var D;if(R==="k256")D=new V;else if(R==="p224")D=new B;else if(R==="p192")D=new U;else{if(R!=="p25519")throw new Error("Unknown prime "+R);D=new q}return M[R]=D,D},Y.prototype._verify1=function(R){i(R.negative===0,"red works only with positives"),i(R.red,"red works only with red numbers")},Y.prototype._verify2=function(R,D){i((R.negative|D.negative)==0,"red works only with positives"),i(R.red&&R.red===D.red,"red works only with red numbers")},Y.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},Y.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},Y.prototype.add=function(R,D){this._verify2(R,D);var E=R.add(D);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},Y.prototype.iadd=function(R,D){this._verify2(R,D);var E=R.iadd(D);return E.cmp(this.m)>=0&&E.isub(this.m),E},Y.prototype.sub=function(R,D){this._verify2(R,D);var E=R.sub(D);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},Y.prototype.isub=function(R,D){this._verify2(R,D);var E=R.isub(D);return E.cmpn(0)<0&&E.iadd(this.m),E},Y.prototype.shl=function(R,D){return this._verify1(R),this.imod(R.ushln(D))},Y.prototype.imul=function(R,D){return this._verify2(R,D),this.imod(R.imul(D))},Y.prototype.mul=function(R,D){return this._verify2(R,D),this.imod(R.mul(D))},Y.prototype.isqr=function(R){return this.imul(R,R.clone())},Y.prototype.sqr=function(R){return this.mul(R,R)},Y.prototype.sqrt=function(R){if(R.isZero())return R.clone();var D=this.m.andln(3);if(i(D%2==1),D===3){var E=this.m.add(new t(1)).iushrn(2);return this.pow(R,E)}for(var w=this.m.subn(1),k=0;!w.isZero()&&w.andln(1)===0;)k++,w.iushrn(1);i(!w.isZero());var S=new t(1).toRed(this),N=S.redNeg(),A=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new t(2*P*P).toRed(this);this.pow(P,A).cmp(N)!==0;)P.redIAdd(N);for(var L=this.pow(P,w),X=this.pow(R,w.addn(1).iushrn(1)),K=this.pow(R,w),te=k;K.cmp(S)!==0;){for(var z=K,Q=0;z.cmp(S)!==0;Q++)z=z.redSqr();i(Q<te);var O=this.pow(L,new t(1).iushln(te-Q-1));X=X.redMul(O),L=O.redSqr(),K=K.redMul(L),te=Q}return X},Y.prototype.invm=function(R){var D=R._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},Y.prototype.pow=function(R,D){if(D.isZero())return new t(1).toRed(this);if(D.cmpn(1)===0)return R.clone();var E=new Array(16);E[0]=new t(1).toRed(this),E[1]=R;for(var w=2;w<E.length;w++)E[w]=this.mul(E[w-1],R);var k=E[0],S=0,N=0,A=D.bitLength()%26;for(A===0&&(A=26),w=D.length-1;w>=0;w--){for(var P=D.words[w],L=A-1;L>=0;L--){var X=P>>L&1;k!==E[0]&&(k=this.sqr(k)),X!==0||S!==0?(S<<=1,S|=X,(++N===4||w===0&&L===0)&&(k=this.mul(k,E[S]),N=0,S=0)):N=0}A=26}return k},Y.prototype.convertTo=function(R){var D=R.umod(this.m);return D===R?D.clone():D},Y.prototype.convertFrom=function(R){var D=R.clone();return D.red=null,D},t.mont=function(R){return new W(R)},r(W,Y),W.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},W.prototype.convertFrom=function(R){var D=this.imod(R.mul(this.rinv));return D.red=null,D},W.prototype.imul=function(R,D){if(R.isZero()||D.isZero())return R.words[0]=0,R.length=1,R;var E=R.imul(D),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(w).iushrn(this.shift),S=k;return k.cmp(this.m)>=0?S=k.isub(this.m):k.cmpn(0)<0&&(S=k.iadd(this.m)),S._forceRed(this)},W.prototype.mul=function(R,D){if(R.isZero()||D.isZero())return new t(0)._forceRed(this);var E=R.mul(D),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(w).iushrn(this.shift),S=k;return k.cmp(this.m)>=0?S=k.isub(this.m):k.cmpn(0)<0&&(S=k.iadd(this.m)),S._forceRed(this)},W.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],185:[function(e,h,m){m.byteLength=function(a){var g=l(a),b=g[0],f=g[1];return 3*(b+f)/4-f},m.toByteArray=function(a){var g,b,f=l(a),v=f[0],x=f[1],j=new i((function($,V,B){return 3*(V+B)/4-B})(0,v,x)),C=0,M=x>0?v-4:v;for(b=0;b<M;b+=4)g=s[a.charCodeAt(b)]<<18|s[a.charCodeAt(b+1)]<<12|s[a.charCodeAt(b+2)]<<6|s[a.charCodeAt(b+3)],j[C++]=g>>16&255,j[C++]=g>>8&255,j[C++]=255&g;return x===2&&(g=s[a.charCodeAt(b)]<<2|s[a.charCodeAt(b+1)]>>4,j[C++]=255&g),x===1&&(g=s[a.charCodeAt(b)]<<10|s[a.charCodeAt(b+1)]<<4|s[a.charCodeAt(b+2)]>>2,j[C++]=g>>8&255,j[C++]=255&g),j},m.fromByteArray=function(a){for(var g,b=a.length,f=b%3,v=[],x=0,j=b-f;x<j;x+=16383)v.push(o(a,x,x+16383>j?j:x+16383));return f===1?(g=a[b-1],v.push(c[g>>2]+c[g<<4&63]+"==")):f===2&&(g=(a[b-2]<<8)+a[b-1],v.push(c[g>>10]+c[g>>4&63]+c[g<<2&63]+"=")),v.join("")};for(var c=[],s=[],i=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=r.length;t<n;++t)c[t]=r[t],s[r.charCodeAt(t)]=t;function l(a){var g=a.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=a.indexOf("=");return b===-1&&(b=g),[b,b===g?0:4-b%4]}function o(a,g,b){for(var f,v,x=[],j=g;j<b;j+=3)f=(a[j]<<16&16711680)+(a[j+1]<<8&65280)+(255&a[j+2]),x.push(c[(v=f)>>18&63]+c[v>>12&63]+c[v>>6&63]+c[63&v]);return x.join("")}s[45]=62,s[95]=63},{}],186:[function(e,h,m){(function(c,s){function i(E,w){if(!E)throw new Error(w||"Assertion failed")}function r(E,w){E.super_=w;var k=function(){};k.prototype=w.prototype,E.prototype=new k,E.prototype.constructor=E}function t(E,w,k){if(t.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(w!=="le"&&w!=="be"||(k=w,w=10),this._init(E||0,w||10,k||"be"))}var n;typeof c=="object"?c.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function l(E,w){var k=E.charCodeAt(w);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void i(!1,"Invalid character in "+E)}function o(E,w,k){var S=l(E,k);return k-1>=w&&(S|=l(E,k-1)<<4),S}function a(E,w,k,S){for(var N=0,A=0,P=Math.min(E.length,k),L=w;L<P;L++){var X=E.charCodeAt(L)-48;N*=S,A=X>=49?X-49+10:X>=17?X-17+10:X,i(X>=0&&A<S,"Invalid character"),N+=A}return N}function g(E,w){E.words=w.words,E.length=w.length,E.negative=w.negative,E.red=w.red}if(t.isBN=function(E){return E instanceof t||E!==null&&typeof E=="object"&&E.constructor.wordSize===t.wordSize&&Array.isArray(E.words)},t.max=function(E,w){return E.cmp(w)>0?E:w},t.min=function(E,w){return E.cmp(w)<0?E:w},t.prototype._init=function(E,w,k){if(typeof E=="number")return this._initNumber(E,w,k);if(typeof E=="object")return this._initArray(E,w,k);w==="hex"&&(w=16),i(w===(0|w)&&w>=2&&w<=36);var S=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<E.length&&(w===16?this._parseHex(E,S,k):(this._parseBase(E,w,S),k==="le"&&this._initArray(this.toArray(),w,k)))},t.prototype._initNumber=function(E,w,k){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(i(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),w,k)},t.prototype._initArray=function(E,w,k){if(i(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var N,A,P=0;if(k==="be")for(S=E.length-1,N=0;S>=0;S-=3)A=E[S]|E[S-1]<<8|E[S-2]<<16,this.words[N]|=A<<P&67108863,this.words[N+1]=A>>>26-P&67108863,(P+=24)>=26&&(P-=26,N++);else if(k==="le")for(S=0,N=0;S<E.length;S+=3)A=E[S]|E[S+1]<<8|E[S+2]<<16,this.words[N]|=A<<P&67108863,this.words[N+1]=A>>>26-P&67108863,(P+=24)>=26&&(P-=26,N++);return this._strip()},t.prototype._parseHex=function(E,w,k){this.length=Math.ceil((E.length-w)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var N,A=0,P=0;if(k==="be")for(S=E.length-1;S>=w;S-=2)N=o(E,w,S)<<A,this.words[P]|=67108863&N,A>=18?(A-=18,P+=1,this.words[P]|=N>>>26):A+=8;else for(S=(E.length-w)%2==0?w+1:w;S<E.length;S+=2)N=o(E,w,S)<<A,this.words[P]|=67108863&N,A>=18?(A-=18,P+=1,this.words[P]|=N>>>26):A+=8;this._strip()},t.prototype._parseBase=function(E,w,k){this.words=[0],this.length=1;for(var S=0,N=1;N<=67108863;N*=w)S++;S--,N=N/w|0;for(var A=E.length-k,P=A%S,L=Math.min(A,A-P)+k,X=0,K=k;K<L;K+=S)X=a(E,K,K+S,w),this.imuln(N),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(P!==0){var te=1;for(X=a(E,K,E.length,w),K=0;K<P;K++)te*=w;this.imuln(te),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},t.prototype.copy=function(E){E.words=new Array(this.length);for(var w=0;w<this.length;w++)E.words[w]=this.words[w];E.length=this.length,E.negative=this.negative,E.red=this.red},t.prototype._move=function(E){g(E,this)},t.prototype.clone=function(){var E=new t(null);return this.copy(E),E},t.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},t.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{t.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{t.prototype.inspect=b}else t.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(E,w){var k;if(w=0|w||1,(E=E||10)===16||E==="hex"){k="";for(var S=0,N=0,A=0;A<this.length;A++){var P=this.words[A],L=(16777215&(P<<S|N)).toString(16);N=P>>>24-S&16777215,(S+=2)>=26&&(S-=26,A--),k=N!==0||A!==this.length-1?f[6-L.length]+L+k:L+k}for(N!==0&&(k=N.toString(16)+k);k.length%w!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(E===(0|E)&&E>=2&&E<=36){var X=v[E],K=x[E];k="";var te=this.clone();for(te.negative=0;!te.isZero();){var z=te.modrn(K).toString(E);k=(te=te.idivn(K)).isZero()?z+k:f[X-z.length]+z+k}for(this.isZero()&&(k="0"+k);k.length%w!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}i(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},t.prototype.toJSON=function(){return this.toString(16,2)},n&&(t.prototype.toBuffer=function(E,w){return this.toArrayLike(n,E,w)}),t.prototype.toArray=function(E,w){return this.toArrayLike(Array,E,w)};function j(E,w,k){k.negative=w.negative^E.negative;var S=E.length+w.length|0;k.length=S,S=S-1|0;var N=0|E.words[0],A=0|w.words[0],P=N*A,L=67108863&P,X=P/67108864|0;k.words[0]=L;for(var K=1;K<S;K++){for(var te=X>>>26,z=67108863&X,Q=Math.min(K,w.length-1),O=Math.max(0,K-E.length+1);O<=Q;O++){var I=K-O|0;te+=(P=(N=0|E.words[I])*(A=0|w.words[O])+z)/67108864|0,z=67108863&P}k.words[K]=0|z,X=0|te}return X!==0?k.words[K]=0|X:k.length--,k._strip()}t.prototype.toArrayLike=function(E,w,k){this._strip();var S=this.byteLength(),N=k||Math.max(1,S);i(S<=N,"byte array longer than desired length"),i(N>0,"Requested array length <= 0");var A=(function(P,L){return P.allocUnsafe?P.allocUnsafe(L):new P(L)})(E,N);return this["_toArrayLike"+(w==="le"?"LE":"BE")](A,S),A},t.prototype._toArrayLikeLE=function(E,w){for(var k=0,S=0,N=0,A=0;N<this.length;N++){var P=this.words[N]<<A|S;E[k++]=255&P,k<E.length&&(E[k++]=P>>8&255),k<E.length&&(E[k++]=P>>16&255),A===6?(k<E.length&&(E[k++]=P>>24&255),S=0,A=0):(S=P>>>24,A+=2)}if(k<E.length)for(E[k++]=S;k<E.length;)E[k++]=0},t.prototype._toArrayLikeBE=function(E,w){for(var k=E.length-1,S=0,N=0,A=0;N<this.length;N++){var P=this.words[N]<<A|S;E[k--]=255&P,k>=0&&(E[k--]=P>>8&255),k>=0&&(E[k--]=P>>16&255),A===6?(k>=0&&(E[k--]=P>>24&255),S=0,A=0):(S=P>>>24,A+=2)}if(k>=0)for(E[k--]=S;k>=0;)E[k--]=0},Math.clz32?t.prototype._countBits=function(E){return 32-Math.clz32(E)}:t.prototype._countBits=function(E){var w=E,k=0;return w>=4096&&(k+=13,w>>>=13),w>=64&&(k+=7,w>>>=7),w>=8&&(k+=4,w>>>=4),w>=2&&(k+=2,w>>>=2),k+w},t.prototype._zeroBits=function(E){if(E===0)return 26;var w=E,k=0;return(8191&w)==0&&(k+=13,w>>>=13),(127&w)==0&&(k+=7,w>>>=7),(15&w)==0&&(k+=4,w>>>=4),(3&w)==0&&(k+=2,w>>>=2),(1&w)==0&&k++,k},t.prototype.bitLength=function(){var E=this.words[this.length-1],w=this._countBits(E);return 26*(this.length-1)+w},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,w=0;w<this.length;w++){var k=this._zeroBits(this.words[w]);if(E+=k,k!==26)break}return E},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},t.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var w=0;w<E.length;w++)this.words[w]=this.words[w]|E.words[w];return this._strip()},t.prototype.ior=function(E){return i((this.negative|E.negative)==0),this.iuor(E)},t.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},t.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},t.prototype.iuand=function(E){var w;w=this.length>E.length?E:this;for(var k=0;k<w.length;k++)this.words[k]=this.words[k]&E.words[k];return this.length=w.length,this._strip()},t.prototype.iand=function(E){return i((this.negative|E.negative)==0),this.iuand(E)},t.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},t.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},t.prototype.iuxor=function(E){var w,k;this.length>E.length?(w=this,k=E):(w=E,k=this);for(var S=0;S<k.length;S++)this.words[S]=w.words[S]^k.words[S];if(this!==w)for(;S<w.length;S++)this.words[S]=w.words[S];return this.length=w.length,this._strip()},t.prototype.ixor=function(E){return i((this.negative|E.negative)==0),this.iuxor(E)},t.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},t.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},t.prototype.inotn=function(E){i(typeof E=="number"&&E>=0);var w=0|Math.ceil(E/26),k=E%26;this._expand(w),k>0&&w--;for(var S=0;S<w;S++)this.words[S]=67108863&~this.words[S];return k>0&&(this.words[S]=~this.words[S]&67108863>>26-k),this._strip()},t.prototype.notn=function(E){return this.clone().inotn(E)},t.prototype.setn=function(E,w){i(typeof E=="number"&&E>=0);var k=E/26|0,S=E%26;return this._expand(k+1),this.words[k]=w?this.words[k]|1<<S:this.words[k]&~(1<<S),this._strip()},t.prototype.iadd=function(E){var w,k,S;if(this.negative!==0&&E.negative===0)return this.negative=0,w=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,w=this.isub(E),E.negative=1,w._normSign();this.length>E.length?(k=this,S=E):(k=E,S=this);for(var N=0,A=0;A<S.length;A++)w=(0|k.words[A])+(0|S.words[A])+N,this.words[A]=67108863&w,N=w>>>26;for(;N!==0&&A<k.length;A++)w=(0|k.words[A])+N,this.words[A]=67108863&w,N=w>>>26;if(this.length=k.length,N!==0)this.words[this.length]=N,this.length++;else if(k!==this)for(;A<k.length;A++)this.words[A]=k.words[A];return this},t.prototype.add=function(E){var w;return E.negative!==0&&this.negative===0?(E.negative=0,w=this.sub(E),E.negative^=1,w):E.negative===0&&this.negative!==0?(this.negative=0,w=E.sub(this),this.negative=1,w):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},t.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var w=this.iadd(E);return E.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var k,S,N=this.cmp(E);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(k=this,S=E):(k=E,S=this);for(var A=0,P=0;P<S.length;P++)A=(w=(0|k.words[P])-(0|S.words[P])+A)>>26,this.words[P]=67108863&w;for(;A!==0&&P<k.length;P++)A=(w=(0|k.words[P])+A)>>26,this.words[P]=67108863&w;if(A===0&&P<k.length&&k!==this)for(;P<k.length;P++)this.words[P]=k.words[P];return this.length=Math.max(this.length,P),k!==this&&(this.negative=1),this._strip()},t.prototype.sub=function(E){return this.clone().isub(E)};var C=function(E,w,k){var S,N,A,P=E.words,L=w.words,X=k.words,K=0,te=0|P[0],z=8191&te,Q=te>>>13,O=0|P[1],I=8191&O,H=O>>>13,ee=0|P[2],ne=8191&ee,re=ee>>>13,oe=0|P[3],he=8191&oe,pe=oe>>>13,ie=0|P[4],ue=8191&ie,de=ie>>>13,ve=0|P[5],le=8191&ve,ge=ve>>>13,Ne=0|P[6],je=8191&Ne,Re=Ne>>>13,$e=0|P[7],He=8191&$e,Le=$e>>>13,ot=0|P[8],Ze=8191&ot,Je=ot>>>13,rt=0|P[9],qe=8191&rt,Fe=rt>>>13,Xe=0|L[0],nt=8191&Xe,Ke=Xe>>>13,_t=0|L[1],Rt=8191&_t,ht=_t>>>13,Lt=0|L[2],Mt=8191&Lt,yt=Lt>>>13,Ge=0|L[3],gt=8191&Ge,Ye=Ge>>>13,xt=0|L[4],Vt=8191&xt,Qe=xt>>>13,wt=0|L[5],Wt=8191&wt,ut=wt>>>13,me=0|L[6],ae=8191&me,ye=me>>>13,we=0|L[7],Me=8191&we,Ae=we>>>13,lt=0|L[8],bt=8191&lt,it=lt>>>13,jt=0|L[9],Ct=8191&jt,$t=jt>>>13;k.negative=E.negative^w.negative,k.length=19;var dr=(K+(S=Math.imul(z,nt))|0)+((8191&(N=(N=Math.imul(z,Ke))+Math.imul(Q,nt)|0))<<13)|0;K=((A=Math.imul(Q,Ke))+(N>>>13)|0)+(dr>>>26)|0,dr&=67108863,S=Math.imul(I,nt),N=(N=Math.imul(I,Ke))+Math.imul(H,nt)|0,A=Math.imul(H,Ke);var ar=(K+(S=S+Math.imul(z,Rt)|0)|0)+((8191&(N=(N=N+Math.imul(z,ht)|0)+Math.imul(Q,Rt)|0))<<13)|0;K=((A=A+Math.imul(Q,ht)|0)+(N>>>13)|0)+(ar>>>26)|0,ar&=67108863,S=Math.imul(ne,nt),N=(N=Math.imul(ne,Ke))+Math.imul(re,nt)|0,A=Math.imul(re,Ke),S=S+Math.imul(I,Rt)|0,N=(N=N+Math.imul(I,ht)|0)+Math.imul(H,Rt)|0,A=A+Math.imul(H,ht)|0;var _r=(K+(S=S+Math.imul(z,Mt)|0)|0)+((8191&(N=(N=N+Math.imul(z,yt)|0)+Math.imul(Q,Mt)|0))<<13)|0;K=((A=A+Math.imul(Q,yt)|0)+(N>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(he,nt),N=(N=Math.imul(he,Ke))+Math.imul(pe,nt)|0,A=Math.imul(pe,Ke),S=S+Math.imul(ne,Rt)|0,N=(N=N+Math.imul(ne,ht)|0)+Math.imul(re,Rt)|0,A=A+Math.imul(re,ht)|0,S=S+Math.imul(I,Mt)|0,N=(N=N+Math.imul(I,yt)|0)+Math.imul(H,Mt)|0,A=A+Math.imul(H,yt)|0;var Sr=(K+(S=S+Math.imul(z,gt)|0)|0)+((8191&(N=(N=N+Math.imul(z,Ye)|0)+Math.imul(Q,gt)|0))<<13)|0;K=((A=A+Math.imul(Q,Ye)|0)+(N>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,S=Math.imul(ue,nt),N=(N=Math.imul(ue,Ke))+Math.imul(de,nt)|0,A=Math.imul(de,Ke),S=S+Math.imul(he,Rt)|0,N=(N=N+Math.imul(he,ht)|0)+Math.imul(pe,Rt)|0,A=A+Math.imul(pe,ht)|0,S=S+Math.imul(ne,Mt)|0,N=(N=N+Math.imul(ne,yt)|0)+Math.imul(re,Mt)|0,A=A+Math.imul(re,yt)|0,S=S+Math.imul(I,gt)|0,N=(N=N+Math.imul(I,Ye)|0)+Math.imul(H,gt)|0,A=A+Math.imul(H,Ye)|0;var qr=(K+(S=S+Math.imul(z,Vt)|0)|0)+((8191&(N=(N=N+Math.imul(z,Qe)|0)+Math.imul(Q,Vt)|0))<<13)|0;K=((A=A+Math.imul(Q,Qe)|0)+(N>>>13)|0)+(qr>>>26)|0,qr&=67108863,S=Math.imul(le,nt),N=(N=Math.imul(le,Ke))+Math.imul(ge,nt)|0,A=Math.imul(ge,Ke),S=S+Math.imul(ue,Rt)|0,N=(N=N+Math.imul(ue,ht)|0)+Math.imul(de,Rt)|0,A=A+Math.imul(de,ht)|0,S=S+Math.imul(he,Mt)|0,N=(N=N+Math.imul(he,yt)|0)+Math.imul(pe,Mt)|0,A=A+Math.imul(pe,yt)|0,S=S+Math.imul(ne,gt)|0,N=(N=N+Math.imul(ne,Ye)|0)+Math.imul(re,gt)|0,A=A+Math.imul(re,Ye)|0,S=S+Math.imul(I,Vt)|0,N=(N=N+Math.imul(I,Qe)|0)+Math.imul(H,Vt)|0,A=A+Math.imul(H,Qe)|0;var ce=(K+(S=S+Math.imul(z,Wt)|0)|0)+((8191&(N=(N=N+Math.imul(z,ut)|0)+Math.imul(Q,Wt)|0))<<13)|0;K=((A=A+Math.imul(Q,ut)|0)+(N>>>13)|0)+(ce>>>26)|0,ce&=67108863,S=Math.imul(je,nt),N=(N=Math.imul(je,Ke))+Math.imul(Re,nt)|0,A=Math.imul(Re,Ke),S=S+Math.imul(le,Rt)|0,N=(N=N+Math.imul(le,ht)|0)+Math.imul(ge,Rt)|0,A=A+Math.imul(ge,ht)|0,S=S+Math.imul(ue,Mt)|0,N=(N=N+Math.imul(ue,yt)|0)+Math.imul(de,Mt)|0,A=A+Math.imul(de,yt)|0,S=S+Math.imul(he,gt)|0,N=(N=N+Math.imul(he,Ye)|0)+Math.imul(pe,gt)|0,A=A+Math.imul(pe,Ye)|0,S=S+Math.imul(ne,Vt)|0,N=(N=N+Math.imul(ne,Qe)|0)+Math.imul(re,Vt)|0,A=A+Math.imul(re,Qe)|0,S=S+Math.imul(I,Wt)|0,N=(N=N+Math.imul(I,ut)|0)+Math.imul(H,Wt)|0,A=A+Math.imul(H,ut)|0;var _e=(K+(S=S+Math.imul(z,ae)|0)|0)+((8191&(N=(N=N+Math.imul(z,ye)|0)+Math.imul(Q,ae)|0))<<13)|0;K=((A=A+Math.imul(Q,ye)|0)+(N>>>13)|0)+(_e>>>26)|0,_e&=67108863,S=Math.imul(He,nt),N=(N=Math.imul(He,Ke))+Math.imul(Le,nt)|0,A=Math.imul(Le,Ke),S=S+Math.imul(je,Rt)|0,N=(N=N+Math.imul(je,ht)|0)+Math.imul(Re,Rt)|0,A=A+Math.imul(Re,ht)|0,S=S+Math.imul(le,Mt)|0,N=(N=N+Math.imul(le,yt)|0)+Math.imul(ge,Mt)|0,A=A+Math.imul(ge,yt)|0,S=S+Math.imul(ue,gt)|0,N=(N=N+Math.imul(ue,Ye)|0)+Math.imul(de,gt)|0,A=A+Math.imul(de,Ye)|0,S=S+Math.imul(he,Vt)|0,N=(N=N+Math.imul(he,Qe)|0)+Math.imul(pe,Vt)|0,A=A+Math.imul(pe,Qe)|0,S=S+Math.imul(ne,Wt)|0,N=(N=N+Math.imul(ne,ut)|0)+Math.imul(re,Wt)|0,A=A+Math.imul(re,ut)|0,S=S+Math.imul(I,ae)|0,N=(N=N+Math.imul(I,ye)|0)+Math.imul(H,ae)|0,A=A+Math.imul(H,ye)|0;var Te=(K+(S=S+Math.imul(z,Me)|0)|0)+((8191&(N=(N=N+Math.imul(z,Ae)|0)+Math.imul(Q,Me)|0))<<13)|0;K=((A=A+Math.imul(Q,Ae)|0)+(N>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul(Ze,nt),N=(N=Math.imul(Ze,Ke))+Math.imul(Je,nt)|0,A=Math.imul(Je,Ke),S=S+Math.imul(He,Rt)|0,N=(N=N+Math.imul(He,ht)|0)+Math.imul(Le,Rt)|0,A=A+Math.imul(Le,ht)|0,S=S+Math.imul(je,Mt)|0,N=(N=N+Math.imul(je,yt)|0)+Math.imul(Re,Mt)|0,A=A+Math.imul(Re,yt)|0,S=S+Math.imul(le,gt)|0,N=(N=N+Math.imul(le,Ye)|0)+Math.imul(ge,gt)|0,A=A+Math.imul(ge,Ye)|0,S=S+Math.imul(ue,Vt)|0,N=(N=N+Math.imul(ue,Qe)|0)+Math.imul(de,Vt)|0,A=A+Math.imul(de,Qe)|0,S=S+Math.imul(he,Wt)|0,N=(N=N+Math.imul(he,ut)|0)+Math.imul(pe,Wt)|0,A=A+Math.imul(pe,ut)|0,S=S+Math.imul(ne,ae)|0,N=(N=N+Math.imul(ne,ye)|0)+Math.imul(re,ae)|0,A=A+Math.imul(re,ye)|0,S=S+Math.imul(I,Me)|0,N=(N=N+Math.imul(I,Ae)|0)+Math.imul(H,Me)|0,A=A+Math.imul(H,Ae)|0;var Ie=(K+(S=S+Math.imul(z,bt)|0)|0)+((8191&(N=(N=N+Math.imul(z,it)|0)+Math.imul(Q,bt)|0))<<13)|0;K=((A=A+Math.imul(Q,it)|0)+(N>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(qe,nt),N=(N=Math.imul(qe,Ke))+Math.imul(Fe,nt)|0,A=Math.imul(Fe,Ke),S=S+Math.imul(Ze,Rt)|0,N=(N=N+Math.imul(Ze,ht)|0)+Math.imul(Je,Rt)|0,A=A+Math.imul(Je,ht)|0,S=S+Math.imul(He,Mt)|0,N=(N=N+Math.imul(He,yt)|0)+Math.imul(Le,Mt)|0,A=A+Math.imul(Le,yt)|0,S=S+Math.imul(je,gt)|0,N=(N=N+Math.imul(je,Ye)|0)+Math.imul(Re,gt)|0,A=A+Math.imul(Re,Ye)|0,S=S+Math.imul(le,Vt)|0,N=(N=N+Math.imul(le,Qe)|0)+Math.imul(ge,Vt)|0,A=A+Math.imul(ge,Qe)|0,S=S+Math.imul(ue,Wt)|0,N=(N=N+Math.imul(ue,ut)|0)+Math.imul(de,Wt)|0,A=A+Math.imul(de,ut)|0,S=S+Math.imul(he,ae)|0,N=(N=N+Math.imul(he,ye)|0)+Math.imul(pe,ae)|0,A=A+Math.imul(pe,ye)|0,S=S+Math.imul(ne,Me)|0,N=(N=N+Math.imul(ne,Ae)|0)+Math.imul(re,Me)|0,A=A+Math.imul(re,Ae)|0,S=S+Math.imul(I,bt)|0,N=(N=N+Math.imul(I,it)|0)+Math.imul(H,bt)|0,A=A+Math.imul(H,it)|0;var dt=(K+(S=S+Math.imul(z,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(z,$t)|0)+Math.imul(Q,Ct)|0))<<13)|0;K=((A=A+Math.imul(Q,$t)|0)+(N>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(qe,Rt),N=(N=Math.imul(qe,ht))+Math.imul(Fe,Rt)|0,A=Math.imul(Fe,ht),S=S+Math.imul(Ze,Mt)|0,N=(N=N+Math.imul(Ze,yt)|0)+Math.imul(Je,Mt)|0,A=A+Math.imul(Je,yt)|0,S=S+Math.imul(He,gt)|0,N=(N=N+Math.imul(He,Ye)|0)+Math.imul(Le,gt)|0,A=A+Math.imul(Le,Ye)|0,S=S+Math.imul(je,Vt)|0,N=(N=N+Math.imul(je,Qe)|0)+Math.imul(Re,Vt)|0,A=A+Math.imul(Re,Qe)|0,S=S+Math.imul(le,Wt)|0,N=(N=N+Math.imul(le,ut)|0)+Math.imul(ge,Wt)|0,A=A+Math.imul(ge,ut)|0,S=S+Math.imul(ue,ae)|0,N=(N=N+Math.imul(ue,ye)|0)+Math.imul(de,ae)|0,A=A+Math.imul(de,ye)|0,S=S+Math.imul(he,Me)|0,N=(N=N+Math.imul(he,Ae)|0)+Math.imul(pe,Me)|0,A=A+Math.imul(pe,Ae)|0,S=S+Math.imul(ne,bt)|0,N=(N=N+Math.imul(ne,it)|0)+Math.imul(re,bt)|0,A=A+Math.imul(re,it)|0;var ze=(K+(S=S+Math.imul(I,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(I,$t)|0)+Math.imul(H,Ct)|0))<<13)|0;K=((A=A+Math.imul(H,$t)|0)+(N>>>13)|0)+(ze>>>26)|0,ze&=67108863,S=Math.imul(qe,Mt),N=(N=Math.imul(qe,yt))+Math.imul(Fe,Mt)|0,A=Math.imul(Fe,yt),S=S+Math.imul(Ze,gt)|0,N=(N=N+Math.imul(Ze,Ye)|0)+Math.imul(Je,gt)|0,A=A+Math.imul(Je,Ye)|0,S=S+Math.imul(He,Vt)|0,N=(N=N+Math.imul(He,Qe)|0)+Math.imul(Le,Vt)|0,A=A+Math.imul(Le,Qe)|0,S=S+Math.imul(je,Wt)|0,N=(N=N+Math.imul(je,ut)|0)+Math.imul(Re,Wt)|0,A=A+Math.imul(Re,ut)|0,S=S+Math.imul(le,ae)|0,N=(N=N+Math.imul(le,ye)|0)+Math.imul(ge,ae)|0,A=A+Math.imul(ge,ye)|0,S=S+Math.imul(ue,Me)|0,N=(N=N+Math.imul(ue,Ae)|0)+Math.imul(de,Me)|0,A=A+Math.imul(de,Ae)|0,S=S+Math.imul(he,bt)|0,N=(N=N+Math.imul(he,it)|0)+Math.imul(pe,bt)|0,A=A+Math.imul(pe,it)|0;var We=(K+(S=S+Math.imul(ne,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(ne,$t)|0)+Math.imul(re,Ct)|0))<<13)|0;K=((A=A+Math.imul(re,$t)|0)+(N>>>13)|0)+(We>>>26)|0,We&=67108863,S=Math.imul(qe,gt),N=(N=Math.imul(qe,Ye))+Math.imul(Fe,gt)|0,A=Math.imul(Fe,Ye),S=S+Math.imul(Ze,Vt)|0,N=(N=N+Math.imul(Ze,Qe)|0)+Math.imul(Je,Vt)|0,A=A+Math.imul(Je,Qe)|0,S=S+Math.imul(He,Wt)|0,N=(N=N+Math.imul(He,ut)|0)+Math.imul(Le,Wt)|0,A=A+Math.imul(Le,ut)|0,S=S+Math.imul(je,ae)|0,N=(N=N+Math.imul(je,ye)|0)+Math.imul(Re,ae)|0,A=A+Math.imul(Re,ye)|0,S=S+Math.imul(le,Me)|0,N=(N=N+Math.imul(le,Ae)|0)+Math.imul(ge,Me)|0,A=A+Math.imul(ge,Ae)|0,S=S+Math.imul(ue,bt)|0,N=(N=N+Math.imul(ue,it)|0)+Math.imul(de,bt)|0,A=A+Math.imul(de,it)|0;var Xt=(K+(S=S+Math.imul(he,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(he,$t)|0)+Math.imul(pe,Ct)|0))<<13)|0;K=((A=A+Math.imul(pe,$t)|0)+(N>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,S=Math.imul(qe,Vt),N=(N=Math.imul(qe,Qe))+Math.imul(Fe,Vt)|0,A=Math.imul(Fe,Qe),S=S+Math.imul(Ze,Wt)|0,N=(N=N+Math.imul(Ze,ut)|0)+Math.imul(Je,Wt)|0,A=A+Math.imul(Je,ut)|0,S=S+Math.imul(He,ae)|0,N=(N=N+Math.imul(He,ye)|0)+Math.imul(Le,ae)|0,A=A+Math.imul(Le,ye)|0,S=S+Math.imul(je,Me)|0,N=(N=N+Math.imul(je,Ae)|0)+Math.imul(Re,Me)|0,A=A+Math.imul(Re,Ae)|0,S=S+Math.imul(le,bt)|0,N=(N=N+Math.imul(le,it)|0)+Math.imul(ge,bt)|0,A=A+Math.imul(ge,it)|0;var Dt=(K+(S=S+Math.imul(ue,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(ue,$t)|0)+Math.imul(de,Ct)|0))<<13)|0;K=((A=A+Math.imul(de,$t)|0)+(N>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,S=Math.imul(qe,Wt),N=(N=Math.imul(qe,ut))+Math.imul(Fe,Wt)|0,A=Math.imul(Fe,ut),S=S+Math.imul(Ze,ae)|0,N=(N=N+Math.imul(Ze,ye)|0)+Math.imul(Je,ae)|0,A=A+Math.imul(Je,ye)|0,S=S+Math.imul(He,Me)|0,N=(N=N+Math.imul(He,Ae)|0)+Math.imul(Le,Me)|0,A=A+Math.imul(Le,Ae)|0,S=S+Math.imul(je,bt)|0,N=(N=N+Math.imul(je,it)|0)+Math.imul(Re,bt)|0,A=A+Math.imul(Re,it)|0;var Tt=(K+(S=S+Math.imul(le,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(le,$t)|0)+Math.imul(ge,Ct)|0))<<13)|0;K=((A=A+Math.imul(ge,$t)|0)+(N>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(qe,ae),N=(N=Math.imul(qe,ye))+Math.imul(Fe,ae)|0,A=Math.imul(Fe,ye),S=S+Math.imul(Ze,Me)|0,N=(N=N+Math.imul(Ze,Ae)|0)+Math.imul(Je,Me)|0,A=A+Math.imul(Je,Ae)|0,S=S+Math.imul(He,bt)|0,N=(N=N+Math.imul(He,it)|0)+Math.imul(Le,bt)|0,A=A+Math.imul(Le,it)|0;var vt=(K+(S=S+Math.imul(je,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(je,$t)|0)+Math.imul(Re,Ct)|0))<<13)|0;K=((A=A+Math.imul(Re,$t)|0)+(N>>>13)|0)+(vt>>>26)|0,vt&=67108863,S=Math.imul(qe,Me),N=(N=Math.imul(qe,Ae))+Math.imul(Fe,Me)|0,A=Math.imul(Fe,Ae),S=S+Math.imul(Ze,bt)|0,N=(N=N+Math.imul(Ze,it)|0)+Math.imul(Je,bt)|0,A=A+Math.imul(Je,it)|0;var Ut=(K+(S=S+Math.imul(He,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(He,$t)|0)+Math.imul(Le,Ct)|0))<<13)|0;K=((A=A+Math.imul(Le,$t)|0)+(N>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(qe,bt),N=(N=Math.imul(qe,it))+Math.imul(Fe,bt)|0,A=Math.imul(Fe,it);var nr=(K+(S=S+Math.imul(Ze,Ct)|0)|0)+((8191&(N=(N=N+Math.imul(Ze,$t)|0)+Math.imul(Je,Ct)|0))<<13)|0;K=((A=A+Math.imul(Je,$t)|0)+(N>>>13)|0)+(nr>>>26)|0,nr&=67108863;var ir=(K+(S=Math.imul(qe,Ct))|0)+((8191&(N=(N=Math.imul(qe,$t))+Math.imul(Fe,Ct)|0))<<13)|0;return K=((A=Math.imul(Fe,$t))+(N>>>13)|0)+(ir>>>26)|0,ir&=67108863,X[0]=dr,X[1]=ar,X[2]=_r,X[3]=Sr,X[4]=qr,X[5]=ce,X[6]=_e,X[7]=Te,X[8]=Ie,X[9]=dt,X[10]=ze,X[11]=We,X[12]=Xt,X[13]=Dt,X[14]=Tt,X[15]=vt,X[16]=Ut,X[17]=nr,X[18]=ir,K!==0&&(X[19]=K,k.length++),k};function M(E,w,k){k.negative=w.negative^E.negative,k.length=E.length+w.length;for(var S=0,N=0,A=0;A<k.length-1;A++){var P=N;N=0;for(var L=67108863&S,X=Math.min(A,w.length-1),K=Math.max(0,A-E.length+1);K<=X;K++){var te=A-K,z=(0|E.words[te])*(0|w.words[K]),Q=67108863&z;L=67108863&(Q=Q+L|0),N+=(P=(P=P+(z/67108864|0)|0)+(Q>>>26)|0)>>>26,P&=67108863}k.words[A]=L,S=P,P=N}return S!==0?k.words[A]=S:k.length--,k._strip()}function $(E,w,k){return M(E,w,k)}Math.imul||(C=j),t.prototype.mulTo=function(E,w){var k=this.length+E.length;return this.length===10&&E.length===10?C(this,E,w):k<63?j(this,E,w):k<1024?M(this,E,w):$(this,E,w)},t.prototype.mul=function(E){var w=new t(null);return w.words=new Array(this.length+E.length),this.mulTo(E,w)},t.prototype.mulf=function(E){var w=new t(null);return w.words=new Array(this.length+E.length),$(this,E,w)},t.prototype.imul=function(E){return this.clone().mulTo(E,this)},t.prototype.imuln=function(E){var w=E<0;w&&(E=-E),i(typeof E=="number"),i(E<67108864);for(var k=0,S=0;S<this.length;S++){var N=(0|this.words[S])*E,A=(67108863&N)+(67108863&k);k>>=26,k+=N/67108864|0,k+=A>>>26,this.words[S]=67108863&A}return k!==0&&(this.words[S]=k,this.length++),w?this.ineg():this},t.prototype.muln=function(E){return this.clone().imuln(E)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(E){var w=(function(A){for(var P=new Array(A.bitLength()),L=0;L<P.length;L++){var X=L/26|0,K=L%26;P[L]=A.words[X]>>>K&1}return P})(E);if(w.length===0)return new t(1);for(var k=this,S=0;S<w.length&&w[S]===0;S++,k=k.sqr());if(++S<w.length)for(var N=k.sqr();S<w.length;S++,N=N.sqr())w[S]!==0&&(k=k.mul(N));return k},t.prototype.iushln=function(E){i(typeof E=="number"&&E>=0);var w,k=E%26,S=(E-k)/26,N=67108863>>>26-k<<26-k;if(k!==0){var A=0;for(w=0;w<this.length;w++){var P=this.words[w]&N,L=(0|this.words[w])-P<<k;this.words[w]=L|A,A=P>>>26-k}A&&(this.words[w]=A,this.length++)}if(S!==0){for(w=this.length-1;w>=0;w--)this.words[w+S]=this.words[w];for(w=0;w<S;w++)this.words[w]=0;this.length+=S}return this._strip()},t.prototype.ishln=function(E){return i(this.negative===0),this.iushln(E)},t.prototype.iushrn=function(E,w,k){var S;i(typeof E=="number"&&E>=0),S=w?(w-w%26)/26:0;var N=E%26,A=Math.min((E-N)/26,this.length),P=67108863^67108863>>>N<<N,L=k;if(S-=A,S=Math.max(0,S),L){for(var X=0;X<A;X++)L.words[X]=this.words[X];L.length=A}if(A!==0)if(this.length>A)for(this.length-=A,X=0;X<this.length;X++)this.words[X]=this.words[X+A];else this.words[0]=0,this.length=1;var K=0;for(X=this.length-1;X>=0&&(K!==0||X>=S);X--){var te=0|this.words[X];this.words[X]=K<<26-N|te>>>N,K=te&P}return L&&K!==0&&(L.words[L.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},t.prototype.ishrn=function(E,w,k){return i(this.negative===0),this.iushrn(E,w,k)},t.prototype.shln=function(E){return this.clone().ishln(E)},t.prototype.ushln=function(E){return this.clone().iushln(E)},t.prototype.shrn=function(E){return this.clone().ishrn(E)},t.prototype.ushrn=function(E){return this.clone().iushrn(E)},t.prototype.testn=function(E){i(typeof E=="number"&&E>=0);var w=E%26,k=(E-w)/26,S=1<<w;return!(this.length<=k)&&!!(this.words[k]&S)},t.prototype.imaskn=function(E){i(typeof E=="number"&&E>=0);var w=E%26,k=(E-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(w!==0&&k++,this.length=Math.min(k,this.length),w!==0){var S=67108863^67108863>>>w<<w;this.words[this.length-1]&=S}return this._strip()},t.prototype.maskn=function(E){return this.clone().imaskn(E)},t.prototype.iaddn=function(E){return i(typeof E=="number"),i(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},t.prototype._iaddn=function(E){this.words[0]+=E;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},t.prototype.isubn=function(E){if(i(typeof E=="number"),i(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},t.prototype.addn=function(E){return this.clone().iaddn(E)},t.prototype.subn=function(E){return this.clone().isubn(E)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(E,w,k){var S,N,A=E.length+k;this._expand(A);var P=0;for(S=0;S<E.length;S++){N=(0|this.words[S+k])+P;var L=(0|E.words[S])*w;P=((N-=67108863&L)>>26)-(L/67108864|0),this.words[S+k]=67108863&N}for(;S<this.length-k;S++)P=(N=(0|this.words[S+k])+P)>>26,this.words[S+k]=67108863&N;if(P===0)return this._strip();for(i(P===-1),P=0,S=0;S<this.length;S++)P=(N=-(0|this.words[S])+P)>>26,this.words[S]=67108863&N;return this.negative=1,this._strip()},t.prototype._wordDiv=function(E,w){var k=(this.length,E.length),S=this.clone(),N=E,A=0|N.words[N.length-1];(k=26-this._countBits(A))!==0&&(N=N.ushln(k),S.iushln(k),A=0|N.words[N.length-1]);var P,L=S.length-N.length;if(w!=="mod"){(P=new t(null)).length=L+1,P.words=new Array(P.length);for(var X=0;X<P.length;X++)P.words[X]=0}var K=S.clone()._ishlnsubmul(N,1,L);K.negative===0&&(S=K,P&&(P.words[L]=1));for(var te=L-1;te>=0;te--){var z=67108864*(0|S.words[N.length+te])+(0|S.words[N.length+te-1]);for(z=Math.min(z/A|0,67108863),S._ishlnsubmul(N,z,te);S.negative!==0;)z--,S.negative=0,S._ishlnsubmul(N,1,te),S.isZero()||(S.negative^=1);P&&(P.words[te]=z)}return P&&P._strip(),S._strip(),w!=="div"&&k!==0&&S.iushrn(k),{div:P||null,mod:S}},t.prototype.divmod=function(E,w,k){return i(!E.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&E.negative===0?(A=this.neg().divmod(E,w),w!=="mod"&&(S=A.div.neg()),w!=="div"&&(N=A.mod.neg(),k&&N.negative!==0&&N.iadd(E)),{div:S,mod:N}):this.negative===0&&E.negative!==0?(A=this.divmod(E.neg(),w),w!=="mod"&&(S=A.div.neg()),{div:S,mod:A.mod}):(this.negative&E.negative)!=0?(A=this.neg().divmod(E.neg(),w),w!=="div"&&(N=A.mod.neg(),k&&N.negative!==0&&N.isub(E)),{div:A.div,mod:N}):E.length>this.length||this.cmp(E)<0?{div:new t(0),mod:this}:E.length===1?w==="div"?{div:this.divn(E.words[0]),mod:null}:w==="mod"?{div:null,mod:new t(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new t(this.modrn(E.words[0]))}:this._wordDiv(E,w);var S,N,A},t.prototype.div=function(E){return this.divmod(E,"div",!1).div},t.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},t.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},t.prototype.divRound=function(E){var w=this.divmod(E);if(w.mod.isZero())return w.div;var k=w.div.negative!==0?w.mod.isub(E):w.mod,S=E.ushrn(1),N=E.andln(1),A=k.cmp(S);return A<0||N===1&&A===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},t.prototype.modrn=function(E){var w=E<0;w&&(E=-E),i(E<=67108863);for(var k=(1<<26)%E,S=0,N=this.length-1;N>=0;N--)S=(k*S+(0|this.words[N]))%E;return w?-S:S},t.prototype.modn=function(E){return this.modrn(E)},t.prototype.idivn=function(E){var w=E<0;w&&(E=-E),i(E<=67108863);for(var k=0,S=this.length-1;S>=0;S--){var N=(0|this.words[S])+67108864*k;this.words[S]=N/E|0,k=N%E}return this._strip(),w?this.ineg():this},t.prototype.divn=function(E){return this.clone().idivn(E)},t.prototype.egcd=function(E){i(E.negative===0),i(!E.isZero());var w=this,k=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var S=new t(1),N=new t(0),A=new t(0),P=new t(1),L=0;w.isEven()&&k.isEven();)w.iushrn(1),k.iushrn(1),++L;for(var X=k.clone(),K=w.clone();!w.isZero();){for(var te=0,z=1;(w.words[0]&z)==0&&te<26;++te,z<<=1);if(te>0)for(w.iushrn(te);te-- >0;)(S.isOdd()||N.isOdd())&&(S.iadd(X),N.isub(K)),S.iushrn(1),N.iushrn(1);for(var Q=0,O=1;(k.words[0]&O)==0&&Q<26;++Q,O<<=1);if(Q>0)for(k.iushrn(Q);Q-- >0;)(A.isOdd()||P.isOdd())&&(A.iadd(X),P.isub(K)),A.iushrn(1),P.iushrn(1);w.cmp(k)>=0?(w.isub(k),S.isub(A),N.isub(P)):(k.isub(w),A.isub(S),P.isub(N))}return{a:A,b:P,gcd:k.iushln(L)}},t.prototype._invmp=function(E){i(E.negative===0),i(!E.isZero());var w=this,k=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var S,N=new t(1),A=new t(0),P=k.clone();w.cmpn(1)>0&&k.cmpn(1)>0;){for(var L=0,X=1;(w.words[0]&X)==0&&L<26;++L,X<<=1);if(L>0)for(w.iushrn(L);L-- >0;)N.isOdd()&&N.iadd(P),N.iushrn(1);for(var K=0,te=1;(k.words[0]&te)==0&&K<26;++K,te<<=1);if(K>0)for(k.iushrn(K);K-- >0;)A.isOdd()&&A.iadd(P),A.iushrn(1);w.cmp(k)>=0?(w.isub(k),N.isub(A)):(k.isub(w),A.isub(N))}return(S=w.cmpn(1)===0?N:A).cmpn(0)<0&&S.iadd(E),S},t.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var w=this.clone(),k=E.clone();w.negative=0,k.negative=0;for(var S=0;w.isEven()&&k.isEven();S++)w.iushrn(1),k.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;k.isEven();)k.iushrn(1);var N=w.cmp(k);if(N<0){var A=w;w=k,k=A}else if(N===0||k.cmpn(1)===0)break;w.isub(k)}return k.iushln(S)},t.prototype.invm=function(E){return this.egcd(E).a.umod(E)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(E){return this.words[0]&E},t.prototype.bincn=function(E){i(typeof E=="number");var w=E%26,k=(E-w)/26,S=1<<w;if(this.length<=k)return this._expand(k+1),this.words[k]|=S,this;for(var N=S,A=k;N!==0&&A<this.length;A++){var P=0|this.words[A];N=(P+=N)>>>26,P&=67108863,this.words[A]=P}return N!==0&&(this.words[A]=N,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(E){var w,k=E<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)w=1;else{k&&(E=-E),i(E<=67108863,"Number is too big");var S=0|this.words[0];w=S===E?0:S<E?-1:1}return this.negative!==0?0|-w:w},t.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var w=this.ucmp(E);return this.negative!==0?0|-w:w},t.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var w=0,k=this.length-1;k>=0;k--){var S=0|this.words[k],N=0|E.words[k];if(S!==N){S<N?w=-1:S>N&&(w=1);break}}return w},t.prototype.gtn=function(E){return this.cmpn(E)===1},t.prototype.gt=function(E){return this.cmp(E)===1},t.prototype.gten=function(E){return this.cmpn(E)>=0},t.prototype.gte=function(E){return this.cmp(E)>=0},t.prototype.ltn=function(E){return this.cmpn(E)===-1},t.prototype.lt=function(E){return this.cmp(E)===-1},t.prototype.lten=function(E){return this.cmpn(E)<=0},t.prototype.lte=function(E){return this.cmp(E)<=0},t.prototype.eqn=function(E){return this.cmpn(E)===0},t.prototype.eq=function(E){return this.cmp(E)===0},t.red=function(E){return new R(E)},t.prototype.toRed=function(E){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},t.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(E){return this.red=E,this},t.prototype.forceRed=function(E){return i(!this.red,"Already a number in reduction context"),this._forceRed(E)},t.prototype.redAdd=function(E){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},t.prototype.redIAdd=function(E){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},t.prototype.redSub=function(E){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},t.prototype.redISub=function(E){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},t.prototype.redShl=function(E){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},t.prototype.redMul=function(E){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},t.prototype.redIMul=function(E){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},t.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(E){return i(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var V={k256:null,p224:null,p192:null,p25519:null};function B(E,w){this.name=E,this.p=new t(w,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Y(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(E){if(typeof E=="string"){var w=t._prime(E);this.m=w.p,this.prime=w}else i(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function D(E){R.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var E=new t(null);return E.words=new Array(Math.ceil(this.n/13)),E},B.prototype.ireduce=function(E){var w,k=E;do this.split(k,this.tmp),w=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(w>this.n);var S=w<this.n?-1:k.ucmp(this.p);return S===0?(k.words[0]=0,k.length=1):S>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},B.prototype.split=function(E,w){E.iushrn(this.n,0,w)},B.prototype.imulK=function(E){return E.imul(this.k)},r(U,B),U.prototype.split=function(E,w){for(var k=Math.min(E.length,9),S=0;S<k;S++)w.words[S]=E.words[S];if(w.length=k,E.length<=9)return E.words[0]=0,void(E.length=1);var N=E.words[9];for(w.words[w.length++]=4194303&N,S=10;S<E.length;S++){var A=0|E.words[S];E.words[S-10]=(4194303&A)<<4|N>>>22,N=A}N>>>=22,E.words[S-10]=N,N===0&&E.length>10?E.length-=10:E.length-=9},U.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var w=0,k=0;k<E.length;k++){var S=0|E.words[k];w+=977*S,E.words[k]=67108863&w,w=64*S+(w/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},r(q,B),r(Y,B),r(W,B),W.prototype.imulK=function(E){for(var w=0,k=0;k<E.length;k++){var S=19*(0|E.words[k])+w,N=67108863&S;S>>>=26,E.words[k]=N,w=S}return w!==0&&(E.words[E.length++]=w),E},t._prime=function(E){if(V[E])return V[E];var w;if(E==="k256")w=new U;else if(E==="p224")w=new q;else if(E==="p192")w=new Y;else{if(E!=="p25519")throw new Error("Unknown prime "+E);w=new W}return V[E]=w,w},R.prototype._verify1=function(E){i(E.negative===0,"red works only with positives"),i(E.red,"red works only with red numbers")},R.prototype._verify2=function(E,w){i((E.negative|w.negative)==0,"red works only with positives"),i(E.red&&E.red===w.red,"red works only with red numbers")},R.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(g(E,E.umod(this.m)._forceRed(this)),E)},R.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},R.prototype.add=function(E,w){this._verify2(E,w);var k=E.add(w);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},R.prototype.iadd=function(E,w){this._verify2(E,w);var k=E.iadd(w);return k.cmp(this.m)>=0&&k.isub(this.m),k},R.prototype.sub=function(E,w){this._verify2(E,w);var k=E.sub(w);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},R.prototype.isub=function(E,w){this._verify2(E,w);var k=E.isub(w);return k.cmpn(0)<0&&k.iadd(this.m),k},R.prototype.shl=function(E,w){return this._verify1(E),this.imod(E.ushln(w))},R.prototype.imul=function(E,w){return this._verify2(E,w),this.imod(E.imul(w))},R.prototype.mul=function(E,w){return this._verify2(E,w),this.imod(E.mul(w))},R.prototype.isqr=function(E){return this.imul(E,E.clone())},R.prototype.sqr=function(E){return this.mul(E,E)},R.prototype.sqrt=function(E){if(E.isZero())return E.clone();var w=this.m.andln(3);if(i(w%2==1),w===3){var k=this.m.add(new t(1)).iushrn(2);return this.pow(E,k)}for(var S=this.m.subn(1),N=0;!S.isZero()&&S.andln(1)===0;)N++,S.iushrn(1);i(!S.isZero());var A=new t(1).toRed(this),P=A.redNeg(),L=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new t(2*X*X).toRed(this);this.pow(X,L).cmp(P)!==0;)X.redIAdd(P);for(var K=this.pow(X,S),te=this.pow(E,S.addn(1).iushrn(1)),z=this.pow(E,S),Q=N;z.cmp(A)!==0;){for(var O=z,I=0;O.cmp(A)!==0;I++)O=O.redSqr();i(I<Q);var H=this.pow(K,new t(1).iushln(Q-I-1));te=te.redMul(H),K=H.redSqr(),z=z.redMul(K),Q=I}return te},R.prototype.invm=function(E){var w=E._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(E,w){if(w.isZero())return new t(1).toRed(this);if(w.cmpn(1)===0)return E.clone();var k=new Array(16);k[0]=new t(1).toRed(this),k[1]=E;for(var S=2;S<k.length;S++)k[S]=this.mul(k[S-1],E);var N=k[0],A=0,P=0,L=w.bitLength()%26;for(L===0&&(L=26),S=w.length-1;S>=0;S--){for(var X=w.words[S],K=L-1;K>=0;K--){var te=X>>K&1;N!==k[0]&&(N=this.sqr(N)),te!==0||A!==0?(A<<=1,A|=te,(++P===4||S===0&&K===0)&&(N=this.mul(N,k[A]),P=0,A=0)):P=0}L=26}return N},R.prototype.convertTo=function(E){var w=E.umod(this.m);return w===E?w.clone():w},R.prototype.convertFrom=function(E){var w=E.clone();return w.red=null,w},t.mont=function(E){return new D(E)},r(D,R),D.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},D.prototype.convertFrom=function(E){var w=this.imod(E.mul(this.rinv));return w.red=null,w},D.prototype.imul=function(E,w){if(E.isZero()||w.isZero())return E.words[0]=0,E.length=1,E;var k=E.imul(w),S=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(S).iushrn(this.shift),A=N;return N.cmp(this.m)>=0?A=N.isub(this.m):N.cmpn(0)<0&&(A=N.iadd(this.m)),A._forceRed(this)},D.prototype.mul=function(E,w){if(E.isZero()||w.isZero())return new t(0)._forceRed(this);var k=E.mul(w),S=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(S).iushrn(this.shift),A=N;return N.cmp(this.m)>=0?A=N.isub(this.m):N.cmpn(0)<0&&(A=N.iadd(this.m)),A._forceRed(this)},D.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],187:[function(e,h,m){var c;function s(r){this.rand=r}if(h.exports=function(r){return c||(c=new s(null)),c.generate(r)},h.exports.Rand=s,s.prototype.generate=function(r){return this._rand(r)},s.prototype._rand=function(r){if(this.rand.getBytes)return this.rand.getBytes(r);for(var t=new Uint8Array(r),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(r){var t=new Uint8Array(r);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(r){var t=new Uint8Array(r);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=e("crypto");if(typeof i.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(r){return i.randomBytes(r)}}catch{}},{crypto:188}],188:[function(e,h,m){},{}],189:[function(e,h,m){var c=e("safe-buffer").Buffer;function s(o){c.isBuffer(o)||(o=c.from(o));for(var a=o.length/4|0,g=new Array(a),b=0;b<a;b++)g[b]=o.readUInt32BE(4*b);return g}function i(o){for(;0<o.length;o++)o[0]=0}function r(o,a,g,b,f){for(var v,x,j,C,M=g[0],$=g[1],V=g[2],B=g[3],U=o[0]^a[0],q=o[1]^a[1],Y=o[2]^a[2],W=o[3]^a[3],R=4,D=1;D<f;D++)v=M[U>>>24]^$[q>>>16&255]^V[Y>>>8&255]^B[255&W]^a[R++],x=M[q>>>24]^$[Y>>>16&255]^V[W>>>8&255]^B[255&U]^a[R++],j=M[Y>>>24]^$[W>>>16&255]^V[U>>>8&255]^B[255&q]^a[R++],C=M[W>>>24]^$[U>>>16&255]^V[q>>>8&255]^B[255&Y]^a[R++],U=v,q=x,Y=j,W=C;return v=(b[U>>>24]<<24|b[q>>>16&255]<<16|b[Y>>>8&255]<<8|b[255&W])^a[R++],x=(b[q>>>24]<<24|b[Y>>>16&255]<<16|b[W>>>8&255]<<8|b[255&U])^a[R++],j=(b[Y>>>24]<<24|b[W>>>16&255]<<16|b[U>>>8&255]<<8|b[255&q])^a[R++],C=(b[W>>>24]<<24|b[U>>>16&255]<<16|b[q>>>8&255]<<8|b[255&Y])^a[R++],[v>>>=0,x>>>=0,j>>>=0,C>>>=0]}var t=[0,1,2,4,8,16,32,64,128,27,54],n=(function(){for(var o=new Array(256),a=0;a<256;a++)o[a]=a<128?a<<1:a<<1^283;for(var g=[],b=[],f=[[],[],[],[]],v=[[],[],[],[]],x=0,j=0,C=0;C<256;++C){var M=j^j<<1^j<<2^j<<3^j<<4;M=M>>>8^255&M^99,g[x]=M,b[M]=x;var $=o[x],V=o[$],B=o[V],U=257*o[M]^16843008*M;f[0][x]=U<<24|U>>>8,f[1][x]=U<<16|U>>>16,f[2][x]=U<<8|U>>>24,f[3][x]=U,U=16843009*B^65537*V^257*$^16843008*x,v[0][M]=U<<24|U>>>8,v[1][M]=U<<16|U>>>16,v[2][M]=U<<8|U>>>24,v[3][M]=U,x===0?x=j=1:(x=$^o[o[o[B^$]]],j^=o[o[j]])}return{SBOX:g,INV_SBOX:b,SUB_MIX:f,INV_SUB_MIX:v}})();function l(o){this._key=s(o),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var o=this._key,a=o.length,g=a+6,b=4*(g+1),f=[],v=0;v<a;v++)f[v]=o[v];for(v=a;v<b;v++){var x=f[v-1];v%a==0?(x=x<<8|x>>>24,x=n.SBOX[x>>>24]<<24|n.SBOX[x>>>16&255]<<16|n.SBOX[x>>>8&255]<<8|n.SBOX[255&x],x^=t[v/a|0]<<24):a>6&&v%a==4&&(x=n.SBOX[x>>>24]<<24|n.SBOX[x>>>16&255]<<16|n.SBOX[x>>>8&255]<<8|n.SBOX[255&x]),f[v]=f[v-a]^x}for(var j=[],C=0;C<b;C++){var M=b-C,$=f[M-(C%4?0:4)];j[C]=C<4||M<=4?$:n.INV_SUB_MIX[0][n.SBOX[$>>>24]]^n.INV_SUB_MIX[1][n.SBOX[$>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[$>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[255&$]]}this._nRounds=g,this._keySchedule=f,this._invKeySchedule=j},l.prototype.encryptBlockRaw=function(o){return r(o=s(o),this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},l.prototype.encryptBlock=function(o){var a=this.encryptBlockRaw(o),g=c.allocUnsafe(16);return g.writeUInt32BE(a[0],0),g.writeUInt32BE(a[1],4),g.writeUInt32BE(a[2],8),g.writeUInt32BE(a[3],12),g},l.prototype.decryptBlock=function(o){var a=(o=s(o))[1];o[1]=o[3],o[3]=a;var g=r(o,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),b=c.allocUnsafe(16);return b.writeUInt32BE(g[0],0),b.writeUInt32BE(g[3],4),b.writeUInt32BE(g[2],8),b.writeUInt32BE(g[1],12),b},l.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},h.exports.AES=l},{"safe-buffer":494}],190:[function(e,h,m){var c=e("./aes"),s=e("safe-buffer").Buffer,i=e("cipher-base"),r=e("inherits"),t=e("./ghash"),n=e("buffer-xor"),l=e("./incr32");function o(a,g,b,f){i.call(this);var v=s.alloc(4,0);this._cipher=new c.AES(g);var x=this._cipher.encryptBlock(v);this._ghash=new t(x),b=(function(j,C,M){if(C.length===12)return j._finID=s.concat([C,s.from([0,0,0,1])]),s.concat([C,s.from([0,0,0,2])]);var $=new t(M),V=C.length,B=V%16;$.update(C),B&&(B=16-B,$.update(s.alloc(B,0))),$.update(s.alloc(8,0));var U=8*V,q=s.alloc(8);q.writeUIntBE(U,0,8),$.update(q),j._finID=$.state;var Y=s.from(j._finID);return l(Y),Y})(this,b,x),this._prev=s.from(b),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=a,this._authTag=null,this._called=!1}r(o,i),o.prototype._update=function(a){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=s.alloc(g,0),this._ghash.update(g))}this._called=!0;var b=this._mode.encrypt(this,a);return this._decrypt?this._ghash.update(a):this._ghash.update(b),this._len+=a.length,b},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var a=n(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,b){var f=0;g.length!==b.length&&f++;for(var v=Math.min(g.length,b.length),x=0;x<v;++x)f+=g[x]^b[x];return f})(a,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=a,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(a){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=a},o.prototype.setAAD=function(a){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(a),this._alen+=a.length},h.exports=o},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,h,m){var c=e("./encrypter"),s=e("./decrypter"),i=e("./modes/list.json");m.createCipher=m.Cipher=c.createCipher,m.createCipheriv=m.Cipheriv=c.createCipheriv,m.createDecipher=m.Decipher=s.createDecipher,m.createDecipheriv=m.Decipheriv=s.createDecipheriv,m.listCiphers=m.getCiphers=function(){return Object.keys(i)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,h,m){var c=e("./authCipher"),s=e("safe-buffer").Buffer,i=e("./modes"),r=e("./streamCipher"),t=e("cipher-base"),n=e("./aes"),l=e("evp_bytestokey");function o(b,f,v){t.call(this),this._cache=new a,this._last=void 0,this._cipher=new n.AES(f),this._prev=s.from(v),this._mode=b,this._autopadding=!0}function a(){this.cache=s.allocUnsafe(0)}function g(b,f,v){var x=i[b.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=s.from(v)),x.mode!=="GCM"&&v.length!==x.iv)throw new TypeError("invalid iv length "+v.length);if(typeof f=="string"&&(f=s.from(f)),f.length!==x.key/8)throw new TypeError("invalid key length "+f.length);return x.type==="stream"?new r(x.module,f,v,!0):x.type==="auth"?new c(x.module,f,v,!0):new o(x.module,f,v)}e("inherits")(o,t),o.prototype._update=function(b){var f,v;this._cache.add(b);for(var x=[];f=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,f),x.push(v);return s.concat(x)},o.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return(function(f){var v=f[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var x=-1;++x<v;)if(f[x+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return f.slice(0,16-v)})(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},o.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},a.prototype.add=function(b){this.cache=s.concat([this.cache,b])},a.prototype.get=function(b){var f;if(b){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},a.prototype.flush=function(){if(this.cache.length)return this.cache},m.createDecipher=function(b,f){var v=i[b.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var x=l(f,!1,v.key,v.iv);return g(b,x.key,x.iv)},m.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,h,m){var c=e("./modes"),s=e("./authCipher"),i=e("safe-buffer").Buffer,r=e("./streamCipher"),t=e("cipher-base"),n=e("./aes"),l=e("evp_bytestokey");function o(f,v,x){t.call(this),this._cache=new g,this._cipher=new n.AES(v),this._prev=i.from(x),this._mode=f,this._autopadding=!0}e("inherits")(o,t),o.prototype._update=function(f){var v,x;this._cache.add(f);for(var j=[];v=this._cache.get();)x=this._mode.encrypt(this,v),j.push(x);return i.concat(j)};var a=i.alloc(16,16);function g(){this.cache=i.allocUnsafe(0)}function b(f,v,x){var j=c[f.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=i.from(v)),v.length!==j.key/8)throw new TypeError("invalid key length "+v.length);if(typeof x=="string"&&(x=i.from(x)),j.mode!=="GCM"&&x.length!==j.iv)throw new TypeError("invalid iv length "+x.length);return j.type==="stream"?new r(j.module,v,x):j.type==="auth"?new s(j.module,v,x):new o(j.module,v,x)}o.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(a))throw this._cipher.scrub(),new Error("data not multiple of block length")},o.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},g.prototype.add=function(f){this.cache=i.concat([this.cache,f])},g.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},g.prototype.flush=function(){for(var f=16-this.cache.length,v=i.allocUnsafe(f),x=-1;++x<f;)v.writeUInt8(f,x);return i.concat([this.cache,v])},m.createCipheriv=b,m.createCipher=function(f,v){var x=c[f.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var j=l(v,!1,x.key,x.iv);return b(f,j.key,j.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,h,m){var c=e("safe-buffer").Buffer,s=c.alloc(16,0);function i(t){var n=c.allocUnsafe(16);return n.writeUInt32BE(t[0]>>>0,0),n.writeUInt32BE(t[1]>>>0,4),n.writeUInt32BE(t[2]>>>0,8),n.writeUInt32BE(t[3]>>>0,12),n}function r(t){this.h=t,this.state=c.alloc(16,0),this.cache=c.allocUnsafe(0)}r.prototype.ghash=function(t){for(var n=-1;++n<t.length;)this.state[n]^=t[n];this._multiply()},r.prototype._multiply=function(){for(var t,n,l,o=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],a=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3]),l=(1&o[3])!=0,n=3;n>0;n--)o[n]=o[n]>>>1|(1&o[n-1])<<31;o[0]=o[0]>>>1,l&&(o[0]=o[0]^225<<24)}this.state=i(a)},r.prototype.update=function(t){var n;for(this.cache=c.concat([this.cache,t]);this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},r.prototype.final=function(t,n){return this.cache.length&&this.ghash(c.concat([this.cache,s],16)),this.ghash(i([0,t,0,n])),this.state},h.exports=r},{"safe-buffer":494}],195:[function(e,h,m){h.exports=function(c){for(var s,i=c.length;i--;){if((s=c.readUInt8(i))!==255){s++,c.writeUInt8(s,i);break}c.writeUInt8(0,i)}}},{}],196:[function(e,h,m){var c=e("buffer-xor");m.encrypt=function(s,i){var r=c(i,s._prev);return s._prev=s._cipher.encryptBlock(r),s._prev},m.decrypt=function(s,i){var r=s._prev;s._prev=i;var t=s._cipher.decryptBlock(i);return c(t,r)}},{"buffer-xor":219}],197:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("buffer-xor");function i(r,t,n){var l=t.length,o=s(t,r._cache);return r._cache=r._cache.slice(l),r._prev=c.concat([r._prev,n?t:o]),o}m.encrypt=function(r,t,n){for(var l,o=c.allocUnsafe(0);t.length;){if(r._cache.length===0&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=c.allocUnsafe(0)),!(r._cache.length<=t.length)){o=c.concat([o,i(r,t,n)]);break}l=r._cache.length,o=c.concat([o,i(r,t.slice(0,l),n)]),t=t.slice(l)}return o}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,h,m){var c=e("safe-buffer").Buffer;function s(r,t,n){for(var l,o,a=-1,g=0;++a<8;)l=t&1<<7-a?128:0,g+=(128&(o=r._cipher.encryptBlock(r._prev)[0]^l))>>a%8,r._prev=i(r._prev,n?l:o);return g}function i(r,t){var n=r.length,l=-1,o=c.allocUnsafe(r.length);for(r=c.concat([r,c.from([t])]);++l<n;)o[l]=r[l]<<1|r[l+1]>>7;return o}m.encrypt=function(r,t,n){for(var l=t.length,o=c.allocUnsafe(l),a=-1;++a<l;)o[a]=s(r,t[a],n);return o}},{"safe-buffer":494}],199:[function(e,h,m){var c=e("safe-buffer").Buffer;function s(i,r,t){var n=i._cipher.encryptBlock(i._prev)[0]^r;return i._prev=c.concat([i._prev.slice(1),c.from([t?r:n])]),n}m.encrypt=function(i,r,t){for(var n=r.length,l=c.allocUnsafe(n),o=-1;++o<n;)l[o]=s(i,r[o],t);return l}},{"safe-buffer":494}],200:[function(e,h,m){var c=e("buffer-xor"),s=e("safe-buffer").Buffer,i=e("../incr32");function r(t){var n=t._cipher.encryptBlockRaw(t._prev);return i(t._prev),n}m.encrypt=function(t,n){var l=Math.ceil(n.length/16),o=t._cache.length;t._cache=s.concat([t._cache,s.allocUnsafe(16*l)]);for(var a=0;a<l;a++){var g=r(t),b=o+16*a;t._cache.writeUInt32BE(g[0],b+0),t._cache.writeUInt32BE(g[1],b+4),t._cache.writeUInt32BE(g[2],b+8),t._cache.writeUInt32BE(g[3],b+12)}var f=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),c(n,f)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,h,m){m.encrypt=function(c,s){return c._cipher.encryptBlock(s)},m.decrypt=function(c,s){return c._cipher.decryptBlock(s)}},{}],202:[function(e,h,m){var c={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var i in s)s[i].module=c[s[i].mode];h.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,h,m){h.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,h,m){(function(c){(function(){var s=e("buffer-xor");function i(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}m.encrypt=function(r,t){for(;r._cache.length<t.length;)r._cache=c.concat([r._cache,i(r)]);var n=r._cache.slice(0,t.length);return r._cache=r._cache.slice(t.length),s(t,n)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,h,m){var c=e("./aes"),s=e("safe-buffer").Buffer,i=e("cipher-base");function r(t,n,l,o){i.call(this),this._cipher=new c.AES(n),this._prev=s.from(l),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=o,this._mode=t}e("inherits")(r,i),r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},h.exports=r},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,h,m){var c=e("browserify-des"),s=e("browserify-aes/browser"),i=e("browserify-aes/modes"),r=e("browserify-des/modes"),t=e("evp_bytestokey");function n(o,a,g){if(o=o.toLowerCase(),i[o])return s.createCipheriv(o,a,g);if(r[o])return new c({key:a,iv:g,mode:o});throw new TypeError("invalid suite type")}function l(o,a,g){if(o=o.toLowerCase(),i[o])return s.createDecipheriv(o,a,g);if(r[o])return new c({key:a,iv:g,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}m.createCipher=m.Cipher=function(o,a){var g,b;if(o=o.toLowerCase(),i[o])g=i[o].key,b=i[o].iv;else{if(!r[o])throw new TypeError("invalid suite type");g=8*r[o].key,b=r[o].iv}var f=t(a,!1,g,b);return n(o,f.key,f.iv)},m.createCipheriv=m.Cipheriv=n,m.createDecipher=m.Decipher=function(o,a){var g,b;if(o=o.toLowerCase(),i[o])g=i[o].key,b=i[o].iv;else{if(!r[o])throw new TypeError("invalid suite type");g=8*r[o].key,b=r[o].iv}var f=t(a,!1,g,b);return l(o,f.key,f.iv)},m.createDecipheriv=m.Decipheriv=l,m.listCiphers=m.getCiphers=function(){return Object.keys(r).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,h,m){var c=e("cipher-base"),s=e("des.js"),i=e("inherits"),r=e("safe-buffer").Buffer,t={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function n(l){c.call(this);var o,a=l.mode.toLowerCase(),g=t[a];o=l.decrypt?"decrypt":"encrypt";var b=l.key;r.isBuffer(b)||(b=r.from(b)),a!=="des-ede"&&a!=="des-ede-cbc"||(b=r.concat([b,b.slice(0,8)]));var f=l.iv;r.isBuffer(f)||(f=r.from(f)),this._des=g.create({key:b,iv:f,type:o})}t.des=t["des-cbc"],t.des3=t["des-ede3-cbc"],h.exports=n,i(n,c),n.prototype._update=function(l){return r.from(this._des.update(l))},n.prototype._final=function(){return r.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,h,m){m["des-ecb"]={key:8,iv:0},m["des-cbc"]=m.des={key:8,iv:8},m["des-ede3-cbc"]=m.des3={key:24,iv:8},m["des-ede3"]={key:24,iv:0},m["des-ede-cbc"]={key:16,iv:8},m["des-ede"]={key:16,iv:0}},{}],209:[function(e,h,m){(function(c){(function(){var s=e("bn.js"),i=e("randombytes");function r(n){var l,o=n.modulus.byteLength();do l=new s(i(o));while(l.cmp(n.modulus)>=0||!l.umod(n.prime1)||!l.umod(n.prime2));return l}function t(n,l){var o=(function(V){var B=r(V);return{blinder:B.toRed(s.mont(V.modulus)).redPow(new s(V.publicExponent)).fromRed(),unblinder:B.invm(V.modulus)}})(l),a=l.modulus.byteLength(),g=new s(n).mul(o.blinder).umod(l.modulus),b=g.toRed(s.mont(l.prime1)),f=g.toRed(s.mont(l.prime2)),v=l.coefficient,x=l.prime1,j=l.prime2,C=b.redPow(l.exponent1).fromRed(),M=f.redPow(l.exponent2).fromRed(),$=C.isub(M).imul(v).umod(x).imul(j);return M.iadd($).imul(o.unblinder).umod(l.modulus).toArrayLike(c,"be",a)}t.getr=r,h.exports=t}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,h,m){h.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,h,m){h.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,h,m){h.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("create-hash"),i=e("readable-stream"),r=e("inherits"),t=e("./sign"),n=e("./verify"),l=e("./algorithms.json");function o(f){i.Writable.call(this);var v=l[f];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function a(f){i.Writable.call(this);var v=l[f];if(!v)throw new Error("Unknown message digest");this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function g(f){return new o(f)}function b(f){return new a(f)}Object.keys(l).forEach((function(f){l[f].id=c.from(l[f].id,"hex"),l[f.toLowerCase()]=l[f]})),r(o,i.Writable),o.prototype._write=function(f,v,x){this._hash.update(f),x()},o.prototype.update=function(f,v){return typeof f=="string"&&(f=c.from(f,v)),this._hash.update(f),this},o.prototype.sign=function(f,v){this.end();var x=this._hash.digest(),j=t(x,f,this._hashType,this._signType,this._tag);return v?j.toString(v):j},r(a,i.Writable),a.prototype._write=function(f,v,x){this._hash.update(f),x()},a.prototype.update=function(f,v){return typeof f=="string"&&(f=c.from(f,v)),this._hash.update(f),this},a.prototype.verify=function(f,v,x){typeof v=="string"&&(v=c.from(v,x)),this.end();var j=this._hash.digest();return n(v,j,f,this._signType,this._tag)},h.exports={Sign:g,Verify:b,createSign:g,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("create-hmac"),i=e("browserify-rsa"),r=e("elliptic").ec,t=e("bn.js"),n=e("parse-asn1"),l=e("./curves.json");function o(f,v,x,j){if((f=c.from(f.toArray())).length<v.byteLength()){var C=c.alloc(v.byteLength()-f.length);f=c.concat([C,f])}var M=x.length,$=(function(U,q){U=(U=a(U,q)).mod(q);var Y=c.from(U.toArray());if(Y.length<q.byteLength()){var W=c.alloc(q.byteLength()-Y.length);Y=c.concat([W,Y])}return Y})(x,v),V=c.alloc(M);V.fill(1);var B=c.alloc(M);return B=s(j,B).update(V).update(c.from([0])).update(f).update($).digest(),V=s(j,B).update(V).digest(),{k:B=s(j,B).update(V).update(c.from([1])).update(f).update($).digest(),v:V=s(j,B).update(V).digest()}}function a(f,v){var x=new t(f),j=(f.length<<3)-v.bitLength();return j>0&&x.ishrn(j),x}function g(f,v,x){var j,C;do{for(j=c.alloc(0);8*j.length<f.bitLength();)v.v=s(x,v.k).update(v.v).digest(),j=c.concat([j,v.v]);C=a(j,f),v.k=s(x,v.k).update(v.v).update(c.from([0])).digest(),v.v=s(x,v.k).update(v.v).digest()}while(C.cmp(f)!==-1);return C}function b(f,v,x,j){return f.toRed(t.mont(x)).redPow(v).fromRed().mod(j)}h.exports=function(f,v,x,j,C){var M=n(v);if(M.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(U,q){var Y=l[q.curve.join(".")];if(!Y)throw new Error("unknown curve "+q.curve.join("."));var W=new r(Y).keyFromPrivate(q.privateKey).sign(U);return c.from(W.toDER())})(f,M)}if(M.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return(function(U,q,Y){for(var W,R=q.params.priv_key,D=q.params.p,E=q.params.q,w=q.params.g,k=new t(0),S=a(U,E).mod(E),N=!1,A=o(R,E,U,Y);N===!1;)W=g(E,A,Y),k=b(w,W,D,E),(N=W.invm(E).imul(S.add(R.mul(k))).mod(E)).cmpn(0)===0&&(N=!1,k=new t(0));return(function(P,L){P=P.toArray(),L=L.toArray(),128&P[0]&&(P=[0].concat(P)),128&L[0]&&(L=[0].concat(L));var X=[48,P.length+L.length+4,2,P.length];return X=X.concat(P,[2,L.length],L),c.from(X)})(k,N)})(f,M,x)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");f=c.concat([C,f]);for(var $=M.modulus.byteLength(),V=[0,1];f.length+V.length+1<$;)V.push(255);V.push(0);for(var B=-1;++B<f.length;)V.push(f[B]);return i(V,M)},h.exports.getKey=o,h.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("bn.js"),i=e("elliptic").ec,r=e("parse-asn1"),t=e("./curves.json");function n(l,o){if(l.cmpn(0)<=0)throw new Error("invalid sig");if(l.cmp(o)>=o)throw new Error("invalid sig")}h.exports=function(l,o,a,g,b){var f=r(a);if(f.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(V,B,U){var q=t[U.data.algorithm.curve.join(".")];if(!q)throw new Error("unknown curve "+U.data.algorithm.curve.join("."));var Y=new i(q),W=U.data.subjectPrivateKey.data;return Y.verify(B,V,W)})(l,o,f)}if(f.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(V,B,U){var q=U.data.p,Y=U.data.q,W=U.data.g,R=U.data.pub_key,D=r.signature.decode(V,"der"),E=D.s,w=D.r;n(E,Y),n(w,Y);var k=s.mont(q),S=E.invm(Y);return W.toRed(k).redPow(new s(B).mul(S).mod(Y)).fromRed().mul(R.toRed(k).redPow(w.mul(S).mod(Y)).fromRed()).mod(q).mod(Y).cmp(w)===0})(l,o,f)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");o=c.concat([b,o]);for(var v=f.modulus.byteLength(),x=[1],j=0;o.length+x.length+2<v;)x.push(255),j++;x.push(0);for(var C=-1;++C<o.length;)x.push(o[C]);x=c.from(x);var M=s.mont(f.modulus);l=(l=new s(l).toRed(M)).redPow(new s(f.publicExponent)),l=c.from(l.fromRed().toArray());var $=j<8?1:0;for(v=Math.min(l.length,x.length),l.length!==x.length&&($=1),C=-1;++C<v;)$|=l[C]^x[C];return $===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,h,m){},{}],217:[function(e,h,m){var c=e("buffer"),s=c.Buffer;function i(t,n){for(var l in t)n[l]=t[l]}function r(t,n,l){return s(t,n,l)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?h.exports=c:(i(c,m),m.Buffer=r),i(s,r),r.from=function(t,n,l){if(typeof t=="number")throw new TypeError("Argument must not be a number");return s(t,n,l)},r.alloc=function(t,n,l){if(typeof t!="number")throw new TypeError("Argument must be a number");var o=s(t);return n!==void 0?typeof l=="string"?o.fill(n,l):o.fill(n):o.fill(0),o},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(t)}},{buffer:220}],218:[function(e,h,m){var c=e("safe-buffer").Buffer,s=c.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(f){var v;switch(this.encoding=(function(x){var j=(function(C){if(!C)return"utf8";for(var M;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(M)return;C=(""+C).toLowerCase(),M=!0}})(x);if(typeof j!="string"&&(c.isEncoding===s||!s(x)))throw new Error("Unknown encoding: "+x);return j||x})(f),this.encoding){case"utf16le":this.text=n,this.end=l,v=4;break;case"utf8":this.fillLast=t,v=4;break;case"base64":this.text=o,this.end=a,v=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(v)}function r(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function t(f){var v=this.lastTotal-this.lastNeed,x=(function(j,C,M){if((192&C[0])!=128)return j.lastNeed=0,"�";if(j.lastNeed>1&&C.length>1){if((192&C[1])!=128)return j.lastNeed=1,"�";if(j.lastNeed>2&&C.length>2&&(192&C[2])!=128)return j.lastNeed=2,"�"}})(this,f);return x!==void 0?x:this.lastNeed<=f.length?(f.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,v,0,f.length),void(this.lastNeed-=f.length))}function n(f,v){if((f.length-v)%2==0){var x=f.toString("utf16le",v);if(x){var j=x.charCodeAt(x.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",v,f.length-1)}function l(f){var v=f&&f.length?this.write(f):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function o(f,v){var x=(f.length-v)%3;return x===0?f.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",v,f.length-x))}function a(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(f){return f.toString(this.encoding)}function b(f){return f&&f.length?this.write(f):""}m.StringDecoder=i,i.prototype.write=function(f){if(f.length===0)return"";var v,x;if(this.lastNeed){if((v=this.fillLast(f))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<f.length?v?v+this.text(f,x):this.text(f,x):v||""},i.prototype.end=function(f){var v=f&&f.length?this.write(f):"";return this.lastNeed?v+"�":v},i.prototype.text=function(f,v){var x=(function(C,M,$){var V=M.length-1;if(V<$)return 0;var B=r(M[V]);return B>=0?(B>0&&(C.lastNeed=B-1),B):--V<$||B===-2?0:(B=r(M[V]))>=0?(B>0&&(C.lastNeed=B-2),B):--V<$||B===-2?0:(B=r(M[V]))>=0?(B>0&&(B===2?B=0:C.lastNeed=B-3),B):0})(this,f,v);if(!this.lastNeed)return f.toString("utf8",v);this.lastTotal=x;var j=f.length-(x-this.lastNeed);return f.copy(this.lastChar,0,j),f.toString("utf8",v,j)},i.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},{"safe-buffer":217}],219:[function(e,h,m){(function(c){(function(){h.exports=function(s,i){for(var r=Math.min(s.length,i.length),t=new c(r),n=0;n<r;++n)t[n]=s[n]^i[n];return t}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,h,m){(function(c){(function(){var s=e("base64-js"),i=e("ieee754");m.Buffer=t,m.SlowBuffer=function(O){return+O!=O&&(O=0),t.alloc(+O)},m.INSPECT_MAX_BYTES=50;function r(O){if(O>2147483647)throw new RangeError('The value "'+O+'" is invalid for option "size"');var I=new Uint8Array(O);return I.__proto__=t.prototype,I}function t(O,I,H){if(typeof O=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(O)}return n(O,I,H)}function n(O,I,H){if(typeof O=="string")return(function(re,oe){if(typeof oe=="string"&&oe!==""||(oe="utf8"),!t.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var he=0|b(re,oe),pe=r(he),ie=pe.write(re,oe);return ie!==he&&(pe=pe.slice(0,ie)),pe})(O,I);if(ArrayBuffer.isView(O))return a(O);if(O==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(z(O,ArrayBuffer)||O&&z(O.buffer,ArrayBuffer))return(function(re,oe,he){if(oe<0||re.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<oe+(he||0))throw new RangeError('"length" is outside of buffer bounds');var pe;return pe=oe===void 0&&he===void 0?new Uint8Array(re):he===void 0?new Uint8Array(re,oe):new Uint8Array(re,oe,he),pe.__proto__=t.prototype,pe})(O,I,H);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=O.valueOf&&O.valueOf();if(ee!=null&&ee!==O)return t.from(ee,I,H);var ne=(function(re){if(t.isBuffer(re)){var oe=0|g(re.length),he=r(oe);return he.length===0||re.copy(he,0,0,oe),he}if(re.length!==void 0)return typeof re.length!="number"||Q(re.length)?r(0):a(re);if(re.type==="Buffer"&&Array.isArray(re.data))return a(re.data)})(O);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return t.from(O[Symbol.toPrimitive]("string"),I,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function l(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function o(O){return l(O),r(O<0?0:0|g(O))}function a(O){for(var I=O.length<0?0:0|g(O.length),H=r(I),ee=0;ee<I;ee+=1)H[ee]=255&O[ee];return H}function g(O){if(O>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|O}function b(O,I){if(t.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||z(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var H=O.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&H===0)return 0;for(var ne=!1;;)switch(I){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return X(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return K(O).length;default:if(ne)return ee?-1:X(O).length;I=(""+I).toLowerCase(),ne=!0}}function f(O,I,H){var ee=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(I>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return D(this,I,H);case"utf8":case"utf-8":return Y(this,I,H);case"ascii":return W(this,I,H);case"latin1":case"binary":return R(this,I,H);case"base64":return q(this,I,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,I,H);default:if(ee)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),ee=!0}}function v(O,I,H){var ee=O[I];O[I]=O[H],O[H]=ee}function x(O,I,H,ee,ne){if(O.length===0)return-1;if(typeof H=="string"?(ee=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),Q(H=+H)&&(H=ne?0:O.length-1),H<0&&(H=O.length+H),H>=O.length){if(ne)return-1;H=O.length-1}else if(H<0){if(!ne)return-1;H=0}if(typeof I=="string"&&(I=t.from(I,ee)),t.isBuffer(I))return I.length===0?-1:j(O,I,H,ee,ne);if(typeof I=="number")return I&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(O,I,H):Uint8Array.prototype.lastIndexOf.call(O,I,H):j(O,[I],H,ee,ne);throw new TypeError("val must be string, number or Buffer")}function j(O,I,H,ee,ne){var re,oe=1,he=O.length,pe=I.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(O.length<2||I.length<2)return-1;oe=2,he/=2,pe/=2,H/=2}function ie(le,ge){return oe===1?le[ge]:le.readUInt16BE(ge*oe)}if(ne){var ue=-1;for(re=H;re<he;re++)if(ie(O,re)===ie(I,ue===-1?0:re-ue)){if(ue===-1&&(ue=re),re-ue+1===pe)return ue*oe}else ue!==-1&&(re-=re-ue),ue=-1}else for(H+pe>he&&(H=he-pe),re=H;re>=0;re--){for(var de=!0,ve=0;ve<pe;ve++)if(ie(O,re+ve)!==ie(I,ve)){de=!1;break}if(de)return re}return-1}function C(O,I,H,ee){H=Number(H)||0;var ne=O.length-H;ee?(ee=Number(ee))>ne&&(ee=ne):ee=ne;var re=I.length;ee>re/2&&(ee=re/2);for(var oe=0;oe<ee;++oe){var he=parseInt(I.substr(2*oe,2),16);if(Q(he))return oe;O[H+oe]=he}return oe}function M(O,I,H,ee){return te(X(I,O.length-H),O,H,ee)}function $(O,I,H,ee){return te((function(ne){for(var re=[],oe=0;oe<ne.length;++oe)re.push(255&ne.charCodeAt(oe));return re})(I),O,H,ee)}function V(O,I,H,ee){return $(O,I,H,ee)}function B(O,I,H,ee){return te(K(I),O,H,ee)}function U(O,I,H,ee){return te((function(ne,re){for(var oe,he,pe,ie=[],ue=0;ue<ne.length&&!((re-=2)<0);++ue)oe=ne.charCodeAt(ue),he=oe>>8,pe=oe%256,ie.push(pe),ie.push(he);return ie})(I,O.length-H),O,H,ee)}function q(O,I,H){return I===0&&H===O.length?s.fromByteArray(O):s.fromByteArray(O.slice(I,H))}function Y(O,I,H){H=Math.min(O.length,H);for(var ee=[],ne=I;ne<H;){var re,oe,he,pe,ie=O[ne],ue=null,de=ie>239?4:ie>223?3:ie>191?2:1;if(ne+de<=H)switch(de){case 1:ie<128&&(ue=ie);break;case 2:(192&(re=O[ne+1]))==128&&(pe=(31&ie)<<6|63&re)>127&&(ue=pe);break;case 3:re=O[ne+1],oe=O[ne+2],(192&re)==128&&(192&oe)==128&&(pe=(15&ie)<<12|(63&re)<<6|63&oe)>2047&&(pe<55296||pe>57343)&&(ue=pe);break;case 4:re=O[ne+1],oe=O[ne+2],he=O[ne+3],(192&re)==128&&(192&oe)==128&&(192&he)==128&&(pe=(15&ie)<<18|(63&re)<<12|(63&oe)<<6|63&he)>65535&&pe<1114112&&(ue=pe)}ue===null?(ue=65533,de=1):ue>65535&&(ue-=65536,ee.push(ue>>>10&1023|55296),ue=56320|1023&ue),ee.push(ue),ne+=de}return(function(ve){var le=ve.length;if(le<=4096)return String.fromCharCode.apply(String,ve);for(var ge="",Ne=0;Ne<le;)ge+=String.fromCharCode.apply(String,ve.slice(Ne,Ne+=4096));return ge})(ee)}m.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=(function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}})(),t.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(O,I,H){return n(O,I,H)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(O,I,H){return(function(ee,ne,re){return l(ee),ee<=0?r(ee):ne!==void 0?typeof re=="string"?r(ee).fill(ne,re):r(ee).fill(ne):r(ee)})(O,I,H)},t.allocUnsafe=function(O){return o(O)},t.allocUnsafeSlow=function(O){return o(O)},t.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==t.prototype},t.compare=function(O,I){if(z(O,Uint8Array)&&(O=t.from(O,O.offset,O.byteLength)),z(I,Uint8Array)&&(I=t.from(I,I.offset,I.byteLength)),!t.isBuffer(O)||!t.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===I)return 0;for(var H=O.length,ee=I.length,ne=0,re=Math.min(H,ee);ne<re;++ne)if(O[ne]!==I[ne]){H=O[ne],ee=I[ne];break}return H<ee?-1:ee<H?1:0},t.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(O,I){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return t.alloc(0);var H;if(I===void 0)for(I=0,H=0;H<O.length;++H)I+=O[H].length;var ee=t.allocUnsafe(I),ne=0;for(H=0;H<O.length;++H){var re=O[H];if(z(re,Uint8Array)&&(re=t.from(re)),!t.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(ee,ne),ne+=re.length}return ee},t.byteLength=b,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<O;I+=2)v(this,I,I+1);return this},t.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<O;I+=4)v(this,I,I+3),v(this,I+1,I+2);return this},t.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<O;I+=8)v(this,I,I+7),v(this,I+1,I+6),v(this,I+2,I+5),v(this,I+3,I+4);return this},t.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?Y(this,0,O):f.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(O){if(!t.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||t.compare(this,O)===0},t.prototype.inspect=function(){var O="",I=m.INSPECT_MAX_BYTES;return O=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(O+=" ... "),"<Buffer "+O+">"},t.prototype.compare=function(O,I,H,ee,ne){if(z(O,Uint8Array)&&(O=t.from(O,O.offset,O.byteLength)),!t.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(I===void 0&&(I=0),H===void 0&&(H=O?O.length:0),ee===void 0&&(ee=0),ne===void 0&&(ne=this.length),I<0||H>O.length||ee<0||ne>this.length)throw new RangeError("out of range index");if(ee>=ne&&I>=H)return 0;if(ee>=ne)return-1;if(I>=H)return 1;if(this===O)return 0;for(var re=(ne>>>=0)-(ee>>>=0),oe=(H>>>=0)-(I>>>=0),he=Math.min(re,oe),pe=this.slice(ee,ne),ie=O.slice(I,H),ue=0;ue<he;++ue)if(pe[ue]!==ie[ue]){re=pe[ue],oe=ie[ue];break}return re<oe?-1:oe<re?1:0},t.prototype.includes=function(O,I,H){return this.indexOf(O,I,H)!==-1},t.prototype.indexOf=function(O,I,H){return x(this,O,I,H,!0)},t.prototype.lastIndexOf=function(O,I,H){return x(this,O,I,H,!1)},t.prototype.write=function(O,I,H,ee){if(I===void 0)ee="utf8",H=this.length,I=0;else if(H===void 0&&typeof I=="string")ee=I,H=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I>>>=0,isFinite(H)?(H>>>=0,ee===void 0&&(ee="utf8")):(ee=H,H=void 0)}var ne=this.length-I;if((H===void 0||H>ne)&&(H=ne),O.length>0&&(H<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var re=!1;;)switch(ee){case"hex":return C(this,O,I,H);case"utf8":case"utf-8":return M(this,O,I,H);case"ascii":return $(this,O,I,H);case"latin1":case"binary":return V(this,O,I,H);case"base64":return B(this,O,I,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,O,I,H);default:if(re)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),re=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(O,I,H){var ee="";H=Math.min(O.length,H);for(var ne=I;ne<H;++ne)ee+=String.fromCharCode(127&O[ne]);return ee}function R(O,I,H){var ee="";H=Math.min(O.length,H);for(var ne=I;ne<H;++ne)ee+=String.fromCharCode(O[ne]);return ee}function D(O,I,H){var ee=O.length;(!I||I<0)&&(I=0),(!H||H<0||H>ee)&&(H=ee);for(var ne="",re=I;re<H;++re)ne+=L(O[re]);return ne}function E(O,I,H){for(var ee=O.slice(I,H),ne="",re=0;re<ee.length;re+=2)ne+=String.fromCharCode(ee[re]+256*ee[re+1]);return ne}function w(O,I,H){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+I>H)throw new RangeError("Trying to access beyond buffer length")}function k(O,I,H,ee,ne,re){if(!t.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ne||I<re)throw new RangeError('"value" argument is out of bounds');if(H+ee>O.length)throw new RangeError("Index out of range")}function S(O,I,H,ee,ne,re){if(H+ee>O.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function N(O,I,H,ee,ne){return I=+I,H>>>=0,ne||S(O,0,H,4),i.write(O,I,H,ee,23,4),H+4}function A(O,I,H,ee,ne){return I=+I,H>>>=0,ne||S(O,0,H,8),i.write(O,I,H,ee,52,8),H+8}t.prototype.slice=function(O,I){var H=this.length;(O=~~O)<0?(O+=H)<0&&(O=0):O>H&&(O=H),(I=I===void 0?H:~~I)<0?(I+=H)<0&&(I=0):I>H&&(I=H),I<O&&(I=O);var ee=this.subarray(O,I);return ee.__proto__=t.prototype,ee},t.prototype.readUIntLE=function(O,I,H){O>>>=0,I>>>=0,H||w(O,I,this.length);for(var ee=this[O],ne=1,re=0;++re<I&&(ne*=256);)ee+=this[O+re]*ne;return ee},t.prototype.readUIntBE=function(O,I,H){O>>>=0,I>>>=0,H||w(O,I,this.length);for(var ee=this[O+--I],ne=1;I>0&&(ne*=256);)ee+=this[O+--I]*ne;return ee},t.prototype.readUInt8=function(O,I){return O>>>=0,I||w(O,1,this.length),this[O]},t.prototype.readUInt16LE=function(O,I){return O>>>=0,I||w(O,2,this.length),this[O]|this[O+1]<<8},t.prototype.readUInt16BE=function(O,I){return O>>>=0,I||w(O,2,this.length),this[O]<<8|this[O+1]},t.prototype.readUInt32LE=function(O,I){return O>>>=0,I||w(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},t.prototype.readUInt32BE=function(O,I){return O>>>=0,I||w(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},t.prototype.readIntLE=function(O,I,H){O>>>=0,I>>>=0,H||w(O,I,this.length);for(var ee=this[O],ne=1,re=0;++re<I&&(ne*=256);)ee+=this[O+re]*ne;return ee>=(ne*=128)&&(ee-=Math.pow(2,8*I)),ee},t.prototype.readIntBE=function(O,I,H){O>>>=0,I>>>=0,H||w(O,I,this.length);for(var ee=I,ne=1,re=this[O+--ee];ee>0&&(ne*=256);)re+=this[O+--ee]*ne;return re>=(ne*=128)&&(re-=Math.pow(2,8*I)),re},t.prototype.readInt8=function(O,I){return O>>>=0,I||w(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},t.prototype.readInt16LE=function(O,I){O>>>=0,I||w(O,2,this.length);var H=this[O]|this[O+1]<<8;return 32768&H?4294901760|H:H},t.prototype.readInt16BE=function(O,I){O>>>=0,I||w(O,2,this.length);var H=this[O+1]|this[O]<<8;return 32768&H?4294901760|H:H},t.prototype.readInt32LE=function(O,I){return O>>>=0,I||w(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},t.prototype.readInt32BE=function(O,I){return O>>>=0,I||w(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},t.prototype.readFloatLE=function(O,I){return O>>>=0,I||w(O,4,this.length),i.read(this,O,!0,23,4)},t.prototype.readFloatBE=function(O,I){return O>>>=0,I||w(O,4,this.length),i.read(this,O,!1,23,4)},t.prototype.readDoubleLE=function(O,I){return O>>>=0,I||w(O,8,this.length),i.read(this,O,!0,52,8)},t.prototype.readDoubleBE=function(O,I){return O>>>=0,I||w(O,8,this.length),i.read(this,O,!1,52,8)},t.prototype.writeUIntLE=function(O,I,H,ee){O=+O,I>>>=0,H>>>=0,ee||k(this,O,I,H,Math.pow(2,8*H)-1,0);var ne=1,re=0;for(this[I]=255&O;++re<H&&(ne*=256);)this[I+re]=O/ne&255;return I+H},t.prototype.writeUIntBE=function(O,I,H,ee){O=+O,I>>>=0,H>>>=0,ee||k(this,O,I,H,Math.pow(2,8*H)-1,0);var ne=H-1,re=1;for(this[I+ne]=255&O;--ne>=0&&(re*=256);)this[I+ne]=O/re&255;return I+H},t.prototype.writeUInt8=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,1,255,0),this[I]=255&O,I+1},t.prototype.writeUInt16LE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,2,65535,0),this[I]=255&O,this[I+1]=O>>>8,I+2},t.prototype.writeUInt16BE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,2,65535,0),this[I]=O>>>8,this[I+1]=255&O,I+2},t.prototype.writeUInt32LE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,4,4294967295,0),this[I+3]=O>>>24,this[I+2]=O>>>16,this[I+1]=O>>>8,this[I]=255&O,I+4},t.prototype.writeUInt32BE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,4,4294967295,0),this[I]=O>>>24,this[I+1]=O>>>16,this[I+2]=O>>>8,this[I+3]=255&O,I+4},t.prototype.writeIntLE=function(O,I,H,ee){if(O=+O,I>>>=0,!ee){var ne=Math.pow(2,8*H-1);k(this,O,I,H,ne-1,-ne)}var re=0,oe=1,he=0;for(this[I]=255&O;++re<H&&(oe*=256);)O<0&&he===0&&this[I+re-1]!==0&&(he=1),this[I+re]=(O/oe>>0)-he&255;return I+H},t.prototype.writeIntBE=function(O,I,H,ee){if(O=+O,I>>>=0,!ee){var ne=Math.pow(2,8*H-1);k(this,O,I,H,ne-1,-ne)}var re=H-1,oe=1,he=0;for(this[I+re]=255&O;--re>=0&&(oe*=256);)O<0&&he===0&&this[I+re+1]!==0&&(he=1),this[I+re]=(O/oe>>0)-he&255;return I+H},t.prototype.writeInt8=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,1,127,-128),O<0&&(O=255+O+1),this[I]=255&O,I+1},t.prototype.writeInt16LE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,2,32767,-32768),this[I]=255&O,this[I+1]=O>>>8,I+2},t.prototype.writeInt16BE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,2,32767,-32768),this[I]=O>>>8,this[I+1]=255&O,I+2},t.prototype.writeInt32LE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,4,2147483647,-2147483648),this[I]=255&O,this[I+1]=O>>>8,this[I+2]=O>>>16,this[I+3]=O>>>24,I+4},t.prototype.writeInt32BE=function(O,I,H){return O=+O,I>>>=0,H||k(this,O,I,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[I]=O>>>24,this[I+1]=O>>>16,this[I+2]=O>>>8,this[I+3]=255&O,I+4},t.prototype.writeFloatLE=function(O,I,H){return N(this,O,I,!0,H)},t.prototype.writeFloatBE=function(O,I,H){return N(this,O,I,!1,H)},t.prototype.writeDoubleLE=function(O,I,H){return A(this,O,I,!0,H)},t.prototype.writeDoubleBE=function(O,I,H){return A(this,O,I,!1,H)},t.prototype.copy=function(O,I,H,ee){if(!t.isBuffer(O))throw new TypeError("argument should be a Buffer");if(H||(H=0),ee||ee===0||(ee=this.length),I>=O.length&&(I=O.length),I||(I=0),ee>0&&ee<H&&(ee=H),ee===H||O.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),O.length-I<ee-H&&(ee=O.length-I+H);var ne=ee-H;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(I,H,ee);else if(this===O&&H<I&&I<ee)for(var re=ne-1;re>=0;--re)O[re+I]=this[re+H];else Uint8Array.prototype.set.call(O,this.subarray(H,ee),I);return ne},t.prototype.fill=function(O,I,H,ee){if(typeof O=="string"){if(typeof I=="string"?(ee=I,I=0,H=this.length):typeof H=="string"&&(ee=H,H=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!t.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(O.length===1){var ne=O.charCodeAt(0);(ee==="utf8"&&ne<128||ee==="latin1")&&(O=ne)}}else typeof O=="number"&&(O&=255);if(I<0||this.length<I||this.length<H)throw new RangeError("Out of range index");if(H<=I)return this;var re;if(I>>>=0,H=H===void 0?this.length:H>>>0,O||(O=0),typeof O=="number")for(re=I;re<H;++re)this[re]=O;else{var oe=t.isBuffer(O)?O:t.from(O,ee),he=oe.length;if(he===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(re=0;re<H-I;++re)this[re+I]=oe[re%he]}return this};var P=/[^+/0-9A-Za-z-_]/g;function L(O){return O<16?"0"+O.toString(16):O.toString(16)}function X(O,I){var H;I=I||1/0;for(var ee=O.length,ne=null,re=[],oe=0;oe<ee;++oe){if((H=O.charCodeAt(oe))>55295&&H<57344){if(!ne){if(H>56319){(I-=3)>-1&&re.push(239,191,189);continue}if(oe+1===ee){(I-=3)>-1&&re.push(239,191,189);continue}ne=H;continue}if(H<56320){(I-=3)>-1&&re.push(239,191,189),ne=H;continue}H=65536+(ne-55296<<10|H-56320)}else ne&&(I-=3)>-1&&re.push(239,191,189);if(ne=null,H<128){if((I-=1)<0)break;re.push(H)}else if(H<2048){if((I-=2)<0)break;re.push(H>>6|192,63&H|128)}else if(H<65536){if((I-=3)<0)break;re.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;re.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return re}function K(O){return s.toByteArray((function(I){if((I=(I=I.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I})(O))}function te(O,I,H,ee){for(var ne=0;ne<ee&&!(ne+H>=I.length||ne>=O.length);++ne)I[ne+H]=O[ne];return ne}function z(O,I){return O instanceof I||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===I.name}function Q(O){return O!=O}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("stream").Transform,i=e("string_decoder").StringDecoder;function r(t){s.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(r,s),r.prototype.update=function(t,n,l){typeof t=="string"&&(t=c.from(t,n));var o=this._update(t);return this.hashMode?this:(l&&(o=this._toString(o,l)),o)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(t,n,l){var o;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(a){o=a}finally{l(o)}},r.prototype._flush=function(t){var n;try{this.push(this.__final())}catch(l){n=l}t(n)},r.prototype._finalOrDigest=function(t){var n=this.__final()||c.alloc(0);return t&&(n=this._toString(n,t,!0)),n},r.prototype._toString=function(t,n,l){if(this._decoder||(this._decoder=new i(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var o=this._decoder.write(t);return l&&(o+=this._decoder.end()),o},h.exports=r},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,h,m){var c=e("../internals/is-callable"),s=e("../internals/try-to-string"),i=TypeError;h.exports=function(r){if(c(r))return r;throw new i(s(r)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,h,m){var c=e("../internals/is-constructor"),s=e("../internals/try-to-string"),i=TypeError;h.exports=function(r){if(c(r))return r;throw new i(s(r)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,h,m){var c=e("../internals/is-callable"),s=String,i=TypeError;h.exports=function(r){if(typeof r=="object"||c(r))return r;throw new i("Can't set "+s(r)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,h,m){var c=e("../internals/well-known-symbol"),s=e("../internals/object-create"),i=e("../internals/object-define-property").f,r=c("unscopables"),t=Array.prototype;t[r]===void 0&&i(t,r,{configurable:!0,value:s(null)}),h.exports=function(n){t[r][n]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,h,m){var c=e("../internals/object-is-prototype-of"),s=TypeError;h.exports=function(i,r){if(c(r,i))return i;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,h,m){var c=e("../internals/is-object"),s=String,i=TypeError;h.exports=function(r){if(c(r))return r;throw new i(s(r)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,h,m){var c=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),i=e("../internals/length-of-array-like"),r=function(t){return function(n,l,o){var a,g=c(n),b=i(g),f=s(o,b);if(t&&l!=l){for(;b>f;)if((a=g[f++])!=a)return!0}else for(;b>f;f++)if((t||f in g)&&g[f]===l)return t||f||0;return!t&&-1}};h.exports={includes:r(!0),indexOf:r(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,h,m){var c=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),i=e("../internals/indexed-object"),r=e("../internals/to-object"),t=e("../internals/length-of-array-like"),n=e("../internals/array-species-create"),l=s([].push),o=function(a){var g=a===1,b=a===2,f=a===3,v=a===4,x=a===6,j=a===7,C=a===5||x;return function(M,$,V,B){for(var U,q,Y=r(M),W=i(Y),R=c($,V),D=t(W),E=0,w=B||n,k=g?w(M,D):b||j?w(M,0):void 0;D>E;E++)if((C||E in W)&&(q=R(U=W[E],E,Y),a))if(g)k[E]=q;else if(q)switch(a){case 3:return!0;case 5:return U;case 6:return E;case 2:l(k,U)}else switch(a){case 4:return!1;case 7:l(k,U)}return x?-1:f||v?v:k}};h.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,h,m){var c=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),i=e("../internals/create-property"),r=Array,t=Math.max;h.exports=function(n,l,o){for(var a=s(n),g=c(l,a),b=c(o===void 0?a:o,a),f=r(t(b-g,0)),v=0;g<b;g++,v++)i(f,v,n[g]);return f.length=v,f}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,h,m){var c=e("../internals/function-uncurry-this");h.exports=c([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,h,m){var c=e("../internals/is-array"),s=e("../internals/is-constructor"),i=e("../internals/is-object"),r=e("../internals/well-known-symbol")("species"),t=Array;h.exports=function(n){var l;return c(n)&&(l=n.constructor,(s(l)&&(l===t||c(l.prototype))||i(l)&&(l=l[r])===null)&&(l=void 0)),l===void 0?t:l}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,h,m){var c=e("../internals/array-species-constructor");h.exports=function(s,i){return new(c(s))(i===0?0:i)}},{"../internals/array-species-constructor":232}],234:[function(e,h,m){var c=e("../internals/well-known-symbol")("iterator"),s=!1;try{var i=0,r={next:function(){return{done:!!i++}},return:function(){s=!0}};r[c]=function(){return this},Array.from(r,(function(){throw 2}))}catch{}h.exports=function(t,n){try{if(!n&&!s)return!1}catch{return!1}var l=!1;try{var o={};o[c]=function(){return{next:function(){return{done:l=!0}}}},t(o)}catch{}return l}},{"../internals/well-known-symbol":357}],235:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=c({}.toString),i=c("".slice);h.exports=function(r){return i(s(r),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,h,m){var c=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),i=e("../internals/classof-raw"),r=e("../internals/well-known-symbol")("toStringTag"),t=Object,n=i((function(){return arguments})())==="Arguments";h.exports=c?i:function(l){var o,a,g;return l===void 0?"Undefined":l===null?"Null":typeof(a=(function(b,f){try{return b[f]}catch{}})(o=t(l),r))=="string"?a:n?i(o):(g=i(o))==="Object"&&s(o.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,h,m){var c=e("../internals/has-own-property"),s=e("../internals/own-keys"),i=e("../internals/object-get-own-property-descriptor"),r=e("../internals/object-define-property");h.exports=function(t,n,l){for(var o=s(n),a=r.f,g=i.f,b=0;b<o.length;b++){var f=o[b];c(t,f)||l&&c(l,f)||a(t,f,g(n,f))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,h,m){var c=e("../internals/well-known-symbol")("match");h.exports=function(s){var i=/./;try{"/./"[s](i)}catch{try{return i[c]=!1,"/./"[s](i)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,h,m){var c=e("../internals/fails");h.exports=!c((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(e,h,m){h.exports=function(c,s){return{value:c,done:s}}},{}],241:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");h.exports=c?function(r,t,n){return s.f(r,t,i(1,n))}:function(r,t,n){return r[t]=n,r}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,h,m){h.exports=function(c,s){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:s}}},{}],243:[function(e,h,m){var c=e("../internals/to-property-key"),s=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");h.exports=function(r,t,n){var l=c(t);l in r?s.f(r,l,i(0,n)):r[l]=n}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,h,m){var c=e("../internals/make-built-in"),s=e("../internals/object-define-property");h.exports=function(i,r,t){return t.get&&c(t.get,r,{getter:!0}),t.set&&c(t.set,r,{setter:!0}),s.f(i,r,t)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,h,m){var c=e("../internals/is-callable"),s=e("../internals/object-define-property"),i=e("../internals/make-built-in"),r=e("../internals/define-global-property");h.exports=function(t,n,l,o){o||(o={});var a=o.enumerable,g=o.name!==void 0?o.name:n;if(c(l)&&i(l,g,o),o.global)a?t[n]=l:r(n,l);else{try{o.unsafe?t[n]&&(a=!0):delete t[n]}catch{}a?t[n]=l:s.f(t,n,{value:l,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,h,m){var c=e("../internals/global"),s=Object.defineProperty;h.exports=function(i,r){try{s(c,i,{value:r,configurable:!0,writable:!0})}catch{c[i]=r}return r}},{"../internals/global":274}],247:[function(e,h,m){var c=e("../internals/fails");h.exports=!c((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,h,m){var c=typeof document=="object"&&document.all,s=c===void 0&&c!==void 0;h.exports={all:c,IS_HTMLDDA:s}},{}],249:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/is-object"),i=c.document,r=s(i)&&s(i.createElement);h.exports=function(t){return r?i.createElement(t):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,h,m){var c=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");h.exports=!c&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,h,m){h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,h,m){var c=e("../internals/engine-user-agent");h.exports=/ipad|iphone|ipod/i.test(c)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,h,m){var c=e("../internals/engine-user-agent");h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},{"../internals/engine-user-agent":256}],254:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/classof-raw");h.exports=s(c.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,h,m){var c=e("../internals/engine-user-agent");h.exports=/web0s(?!.*chrome)/i.test(c)},{"../internals/engine-user-agent":256}],256:[function(e,h,m){h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,h,m){var c,s,i=e("../internals/global"),r=e("../internals/engine-user-agent"),t=i.process,n=i.Deno,l=t&&t.versions||n&&n.version,o=l&&l.v8;o&&(s=(c=o.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!s&&r&&(!(c=r.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=r.match(/Chrome\/(\d+)/))&&(s=+c[1]),h.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,h,m){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/create-non-enumerable-property"),r=e("../internals/define-built-in"),t=e("../internals/define-global-property"),n=e("../internals/copy-constructor-properties"),l=e("../internals/is-forced");h.exports=function(o,a){var g,b,f,v,x,j=o.target,C=o.global,M=o.stat;if(g=C?c:M?c[j]||t(j,{}):(c[j]||{}).prototype)for(b in a){if(v=a[b],f=o.dontCallGetSet?(x=s(g,b))&&x.value:g[b],!l(C?b:j+(M?".":"#")+b,o.forced)&&f!==void 0){if(typeof v==typeof f)continue;n(v,f)}(o.sham||f&&f.sham)&&i(v,"sham",!0),r(g,b,v,o)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,h,m){h.exports=function(c){try{return!!c()}catch{return!0}}},{}],261:[function(e,h,m){var c=e("../internals/function-bind-native"),s=Function.prototype,i=s.apply,r=s.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(c?r.bind(i):function(){return r.apply(i,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,h,m){var c=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),i=e("../internals/function-bind-native"),r=c(c.bind);h.exports=function(t,n){return s(t),n===void 0?t:i?r(t,n):function(){return t.apply(n,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,h,m){var c=e("../internals/fails");h.exports=!c((function(){var s=function(){}.bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,h,m){var c=e("../internals/function-bind-native"),s=Function.prototype.call;h.exports=c?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/has-own-property"),i=Function.prototype,r=c&&Object.getOwnPropertyDescriptor,t=s(i,"name"),n=t&&function(){}.name==="something",l=t&&(!c||c&&r(i,"name").configurable);h.exports={EXISTS:t,PROPER:n,CONFIGURABLE:l}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");h.exports=function(i,r,t){try{return c(s(Object.getOwnPropertyDescriptor(i,r)[t]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,h,m){var c=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");h.exports=function(i){if(c(i)==="Function")return s(i)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,h,m){var c=e("../internals/function-bind-native"),s=Function.prototype,i=s.call,r=c&&s.bind.bind(i,i);h.exports=c?r:function(t){return function(){return i.apply(t,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/is-callable"),i=function(r){return s(r)?r:void 0};h.exports=function(r,t){return arguments.length<2?i(c[r]):c[r]&&c[r][t]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,h,m){var c=e("../internals/classof"),s=e("../internals/get-method"),i=e("../internals/is-null-or-undefined"),r=e("../internals/iterators"),t=e("../internals/well-known-symbol")("iterator");h.exports=function(n){if(!i(n))return s(n,t)||s(n,"@@iterator")||r[c(n)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,h,m){var c=e("../internals/function-call"),s=e("../internals/a-callable"),i=e("../internals/an-object"),r=e("../internals/try-to-string"),t=e("../internals/get-iterator-method"),n=TypeError;h.exports=function(l,o){var a=arguments.length<2?t(l):o;if(s(a))return i(c(a,l));throw new n(r(l)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),i=e("../internals/is-callable"),r=e("../internals/classof-raw"),t=e("../internals/to-string"),n=c([].push);h.exports=function(l){if(i(l))return l;if(s(l)){for(var o=l.length,a=[],g=0;g<o;g++){var b=l[g];typeof b=="string"?n(a,b):typeof b!="number"&&r(b)!=="Number"&&r(b)!=="String"||n(a,t(b))}var f=a.length,v=!0;return function(x,j){if(v)return v=!1,j;if(s(this))return j;for(var C=0;C<f;C++)if(a[C]===x)return j}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,h,m){var c=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");h.exports=function(i,r){var t=i[r];return s(t)?void 0:c(t)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,h,m){(function(c){(function(){var s=function(i){return i&&i.Math===Math&&i};h.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof c=="object"&&c)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),i=c({}.hasOwnProperty);h.exports=Object.hasOwn||function(r,t){return i(s(r),t)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,h,m){h.exports={}},{}],277:[function(e,h,m){h.exports=function(c,s){try{arguments.length===1?console.error(c):console.error(c,s)}catch{}}},{}],278:[function(e,h,m){var c=e("../internals/get-built-in");h.exports=c("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/fails"),i=e("../internals/document-create-element");h.exports=!c&&!s((function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/fails"),i=e("../internals/classof-raw"),r=Object,t=c("".split);h.exports=s((function(){return!r("z").propertyIsEnumerable(0)}))?function(n){return i(n)==="String"?t(n,""):r(n)}:r},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),i=e("../internals/shared-store"),r=c(Function.toString);s(i.inspectSource)||(i.inspectSource=function(t){return r(t)}),h.exports=i.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,h,m){var c,s,i,r=e("../internals/weak-map-basic-detection"),t=e("../internals/global"),n=e("../internals/is-object"),l=e("../internals/create-non-enumerable-property"),o=e("../internals/has-own-property"),a=e("../internals/shared-store"),g=e("../internals/shared-key"),b=e("../internals/hidden-keys"),f=t.TypeError,v=t.WeakMap;if(r||a.state){var x=a.state||(a.state=new v);x.get=x.get,x.has=x.has,x.set=x.set,c=function(C,M){if(x.has(C))throw new f("Object already initialized");return M.facade=C,x.set(C,M),M},s=function(C){return x.get(C)||{}},i=function(C){return x.has(C)}}else{var j=g("state");b[j]=!0,c=function(C,M){if(o(C,j))throw new f("Object already initialized");return M.facade=C,l(C,j,M),M},s=function(C){return o(C,j)?C[j]:{}},i=function(C){return o(C,j)}}h.exports={set:c,get:s,has:i,enforce:function(C){return i(C)?s(C):c(C,{})},getterFor:function(C){return function(M){var $;if(!n(M)||($=s(M)).type!==C)throw new f("Incompatible receiver, "+C+" required");return $}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,h,m){var c=e("../internals/well-known-symbol"),s=e("../internals/iterators"),i=c("iterator"),r=Array.prototype;h.exports=function(t){return t!==void 0&&(s.Array===t||r[i]===t)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,h,m){var c=e("../internals/classof-raw");h.exports=Array.isArray||function(s){return c(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,h,m){var c=e("../internals/document-all"),s=c.all;h.exports=c.IS_HTMLDDA?function(i){return typeof i=="function"||i===s}:function(i){return typeof i=="function"}},{"../internals/document-all":248}],286:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/fails"),i=e("../internals/is-callable"),r=e("../internals/classof"),t=e("../internals/get-built-in"),n=e("../internals/inspect-source"),l=function(){},o=[],a=t("Reflect","construct"),g=/^\s*(?:class|function)\b/,b=c(g.exec),f=!g.test(l),v=function(j){if(!i(j))return!1;try{return a(l,o,j),!0}catch{return!1}},x=function(j){if(!i(j))return!1;switch(r(j)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!b(g,n(j))}catch{return!0}};x.sham=!0,h.exports=!a||s((function(){var j;return v(v.call)||!v(Object)||!v((function(){j=!0}))||j}))?x:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,h,m){var c=e("../internals/fails"),s=e("../internals/is-callable"),i=/#|\.prototype\./,r=function(a,g){var b=n[t(a)];return b===o||b!==l&&(s(g)?c(g):!!g)},t=r.normalize=function(a){return String(a).replace(i,".").toLowerCase()},n=r.data={},l=r.NATIVE="N",o=r.POLYFILL="P";h.exports=r},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,h,m){h.exports=function(c){return c==null}},{}],289:[function(e,h,m){var c=e("../internals/is-callable"),s=e("../internals/document-all"),i=s.all;h.exports=s.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:c(r)||r===i}:function(r){return typeof r=="object"?r!==null:c(r)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,h,m){h.exports=!1},{}],291:[function(e,h,m){var c=e("../internals/is-object"),s=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("match");h.exports=function(r){var t;return c(r)&&((t=r[i])!==void 0?!!t:s(r)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,h,m){var c=e("../internals/get-built-in"),s=e("../internals/is-callable"),i=e("../internals/object-is-prototype-of"),r=e("../internals/use-symbol-as-uid"),t=Object;h.exports=r?function(n){return typeof n=="symbol"}:function(n){var l=c("Symbol");return s(l)&&i(l.prototype,t(n))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,h,m){var c=e("../internals/function-bind-context"),s=e("../internals/function-call"),i=e("../internals/an-object"),r=e("../internals/try-to-string"),t=e("../internals/is-array-iterator-method"),n=e("../internals/length-of-array-like"),l=e("../internals/object-is-prototype-of"),o=e("../internals/get-iterator"),a=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),b=TypeError,f=function(x,j){this.stopped=x,this.result=j},v=f.prototype;h.exports=function(x,j,C){var M,$,V,B,U,q,Y,W=C&&C.that,R=!(!C||!C.AS_ENTRIES),D=!(!C||!C.IS_RECORD),E=!(!C||!C.IS_ITERATOR),w=!(!C||!C.INTERRUPTED),k=c(j,W),S=function(A){return M&&g(M,"normal",A),new f(!0,A)},N=function(A){return R?(i(A),w?k(A[0],A[1],S):k(A[0],A[1])):w?k(A,S):k(A)};if(D)M=x.iterator;else if(E)M=x;else{if(!($=a(x)))throw new b(r(x)+" is not iterable");if(t($)){for(V=0,B=n(x);B>V;V++)if((U=N(x[V]))&&l(v,U))return U;return new f(!1)}M=o(x,$)}for(q=D?x.next:M.next;!(Y=s(q,M)).done;){try{U=N(Y.value)}catch(A){g(M,"throw",A)}if(typeof U=="object"&&U&&l(v,U))return U}return new f(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,h,m){var c=e("../internals/function-call"),s=e("../internals/an-object"),i=e("../internals/get-method");h.exports=function(r,t,n){var l,o;s(r);try{if(!(l=i(r,"return"))){if(t==="throw")throw n;return n}l=c(l,r)}catch(a){o=!0,l=a}if(t==="throw")throw n;if(o)throw l;return s(l),n}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,h,m){var c=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),i=e("../internals/create-property-descriptor"),r=e("../internals/set-to-string-tag"),t=e("../internals/iterators"),n=function(){return this};h.exports=function(l,o,a,g){var b=o+" Iterator";return l.prototype=s(c,{next:i(+!g,a)}),r(l,b,!1,!0),t[b]=n,l}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-call"),i=e("../internals/is-pure"),r=e("../internals/function-name"),t=e("../internals/is-callable"),n=e("../internals/iterator-create-constructor"),l=e("../internals/object-get-prototype-of"),o=e("../internals/object-set-prototype-of"),a=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),b=e("../internals/define-built-in"),f=e("../internals/well-known-symbol"),v=e("../internals/iterators"),x=e("../internals/iterators-core"),j=r.PROPER,C=r.CONFIGURABLE,M=x.IteratorPrototype,$=x.BUGGY_SAFARI_ITERATORS,V=f("iterator"),B=function(){return this};h.exports=function(U,q,Y,W,R,D,E){n(Y,q,W);var w,k,S,N=function(z){if(z===R&&K)return K;if(!$&&z&&z in L)return L[z];switch(z){case"keys":case"values":case"entries":return function(){return new Y(this,z)}}return function(){return new Y(this)}},A=q+" Iterator",P=!1,L=U.prototype,X=L[V]||L["@@iterator"]||R&&L[R],K=!$&&X||N(R),te=q==="Array"&&L.entries||X;if(te&&(w=l(te.call(new U)))!==Object.prototype&&w.next&&(i||l(w)===M||(o?o(w,M):t(w[V])||b(w,V,B)),a(w,A,!0,!0),i&&(v[A]=B)),j&&R==="values"&&X&&X.name!=="values"&&(!i&&C?g(L,"name","values"):(P=!0,K=function(){return s(X,this)})),R)if(k={values:N("values"),keys:D?K:N("keys"),entries:N("entries")},E)for(S in k)($||P||!(S in L))&&b(L,S,k[S]);else c({target:q,proto:!0,forced:$||P},k);return i&&!E||L[V]===K||b(L,V,K,{name:R}),v[q]=K,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,h,m){var c,s,i,r=e("../internals/fails"),t=e("../internals/is-callable"),n=e("../internals/is-object"),l=e("../internals/object-create"),o=e("../internals/object-get-prototype-of"),a=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),b=e("../internals/is-pure"),f=g("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(s=o(o(i)))!==Object.prototype&&(c=s):v=!0),!n(c)||r((function(){var x={};return c[f].call(x)!==x}))?c={}:b&&(c=l(c)),t(c[f])||a(c,f,(function(){return this})),h.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,h,m){arguments[4][276][0].apply(m,arguments)},{dup:276}],299:[function(e,h,m){var c=e("../internals/to-length");h.exports=function(s){return c(s.length)}},{"../internals/to-length":343}],300:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/fails"),i=e("../internals/is-callable"),r=e("../internals/has-own-property"),t=e("../internals/descriptors"),n=e("../internals/function-name").CONFIGURABLE,l=e("../internals/inspect-source"),o=e("../internals/internal-state"),a=o.enforce,g=o.get,b=String,f=Object.defineProperty,v=c("".slice),x=c("".replace),j=c([].join),C=t&&!s((function(){return f((function(){}),"length",{value:8}).length!==8})),M=String(String).split("String"),$=h.exports=function(V,B,U){v(b(B),0,7)==="Symbol("&&(B="["+x(b(B),/^Symbol\(([^)]*)\)/,"$1")+"]"),U&&U.getter&&(B="get "+B),U&&U.setter&&(B="set "+B),(!r(V,"name")||n&&V.name!==B)&&(t?f(V,"name",{value:B,configurable:!0}):V.name=B),C&&U&&r(U,"arity")&&V.length!==U.arity&&f(V,"length",{value:U.arity});try{U&&r(U,"constructor")&&U.constructor?t&&f(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var q=a(V);return r(q,"source")||(q.source=j(M,typeof B=="string"?B:"")),V};Function.prototype.toString=$((function(){return i(this)&&g(this).source||l(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,h,m){var c=Math.ceil,s=Math.floor;h.exports=Math.trunc||function(i){var r=+i;return(r>0?s:c)(r)}},{}],302:[function(e,h,m){var c,s,i,r,t,n=e("../internals/global"),l=e("../internals/function-bind-context"),o=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/task").set,g=e("../internals/queue"),b=e("../internals/engine-is-ios"),f=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),x=e("../internals/engine-is-node"),j=n.MutationObserver||n.WebKitMutationObserver,C=n.document,M=n.process,$=n.Promise,V=o(n,"queueMicrotask"),B=V&&V.value;if(!B){var U=new g,q=function(){var Y,W;for(x&&(Y=M.domain)&&Y.exit();W=U.get();)try{W()}catch(R){throw U.head&&c(),R}Y&&Y.enter()};b||x||v||!j||!C?!f&&$&&$.resolve?((r=$.resolve(void 0)).constructor=$,t=l(r.then,r),c=function(){t(q)}):x?c=function(){M.nextTick(q)}:(a=l(a,n),c=function(){a(q)}):(s=!0,i=C.createTextNode(""),new j(q).observe(i,{characterData:!0}),c=function(){i.data=s=!s}),B=function(Y){U.head||c(),U.add(Y)}}h.exports=B},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,h,m){var c=e("../internals/a-callable"),s=TypeError,i=function(r){var t,n;this.promise=new r((function(l,o){if(t!==void 0||n!==void 0)throw new s("Bad Promise constructor");t=l,n=o})),this.resolve=c(t),this.reject=c(n)};h.exports.f=function(r){return new i(r)}},{"../internals/a-callable":222}],304:[function(e,h,m){var c=e("../internals/is-regexp"),s=TypeError;h.exports=function(i){if(c(i))throw new s("The method doesn't accept regular expressions");return i}},{"../internals/is-regexp":291}],305:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),i=e("../internals/function-call"),r=e("../internals/fails"),t=e("../internals/object-keys"),n=e("../internals/object-get-own-property-symbols"),l=e("../internals/object-property-is-enumerable"),o=e("../internals/to-object"),a=e("../internals/indexed-object"),g=Object.assign,b=Object.defineProperty,f=s([].concat);h.exports=!g||r((function(){if(c&&g({b:1},g(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},x={},j=Symbol("assign detection");return v[j]=7,"abcdefghijklmnopqrst".split("").forEach((function(C){x[C]=C})),g({},v)[j]!==7||t(g({},x)).join("")!=="abcdefghijklmnopqrst"}))?function(v,x){for(var j=o(v),C=arguments.length,M=1,$=n.f,V=l.f;C>M;)for(var B,U=a(arguments[M++]),q=$?f(t(U),$(U)):t(U),Y=q.length,W=0;Y>W;)B=q[W++],c&&!i(V,U,B)||(j[B]=U[B]);return j}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,h,m){var c,s=e("../internals/an-object"),i=e("../internals/object-define-properties"),r=e("../internals/enum-bug-keys"),t=e("../internals/hidden-keys"),n=e("../internals/html"),l=e("../internals/document-create-element"),o=e("../internals/shared-key"),a=o("IE_PROTO"),g=function(){},b=function(x){return"<script>"+x+"<\/script>"},f=function(x){x.write(b("")),x.close();var j=x.parentWindow.Object;return x=null,j},v=function(){try{c=new ActiveXObject("htmlfile")}catch{}var x,j;v=typeof document<"u"?document.domain&&c?f(c):((j=l("iframe")).style.display="none",n.appendChild(j),j.src="javascript:",(x=j.contentWindow.document).open(),x.write(b("document.F=Object")),x.close(),x.F):f(c);for(var C=r.length;C--;)delete v.prototype[r[C]];return v()};t[a]=!0,h.exports=Object.create||function(x,j){var C;return x!==null?(g.prototype=s(x),C=new g,g.prototype=null,C[a]=x):C=v(),j===void 0?C:i.f(C,j)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),i=e("../internals/object-define-property"),r=e("../internals/an-object"),t=e("../internals/to-indexed-object"),n=e("../internals/object-keys");m.f=c&&!s?Object.defineProperties:function(l,o){r(l);for(var a,g=t(o),b=n(o),f=b.length,v=0;f>v;)i.f(l,a=b[v++],g[a]);return l}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),i=e("../internals/v8-prototype-define-bug"),r=e("../internals/an-object"),t=e("../internals/to-property-key"),n=TypeError,l=Object.defineProperty,o=Object.getOwnPropertyDescriptor;m.f=c?i?function(a,g,b){if(r(a),g=t(g),r(b),typeof a=="function"&&g==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var f=o(a,g);f&&f.writable&&(a[g]=b.value,b={configurable:"configurable"in b?b.configurable:f.configurable,enumerable:"enumerable"in b?b.enumerable:f.enumerable,writable:!1})}return l(a,g,b)}:l:function(a,g,b){if(r(a),g=t(g),r(b),s)try{return l(a,g,b)}catch{}if("get"in b||"set"in b)throw new n("Accessors not supported");return"value"in b&&(a[g]=b.value),a}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/function-call"),i=e("../internals/object-property-is-enumerable"),r=e("../internals/create-property-descriptor"),t=e("../internals/to-indexed-object"),n=e("../internals/to-property-key"),l=e("../internals/has-own-property"),o=e("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;m.f=c?a:function(g,b){if(g=t(g),b=n(b),o)try{return a(g,b)}catch{}if(l(g,b))return r(!s(i.f,g,b),g[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,h,m){var c=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,r=e("../internals/array-slice-simple"),t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(n){return t&&c(n)==="Window"?(function(l){try{return i(l)}catch{return r(t)}})(n):i(s(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,h,m){var c=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");m.f=Object.getOwnPropertyNames||function(i){return c(i,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,h,m){m.f=Object.getOwnPropertySymbols},{}],313:[function(e,h,m){var c=e("../internals/has-own-property"),s=e("../internals/is-callable"),i=e("../internals/to-object"),r=e("../internals/shared-key"),t=e("../internals/correct-prototype-getter"),n=r("IE_PROTO"),l=Object,o=l.prototype;h.exports=t?l.getPrototypeOf:function(a){var g=i(a);if(c(g,n))return g[n];var b=g.constructor;return s(b)&&g instanceof b?b.prototype:g instanceof l?o:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,h,m){var c=e("../internals/function-uncurry-this");h.exports=c({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),i=e("../internals/to-indexed-object"),r=e("../internals/array-includes").indexOf,t=e("../internals/hidden-keys"),n=c([].push);h.exports=function(l,o){var a,g=i(l),b=0,f=[];for(a in g)!s(t,a)&&s(g,a)&&n(f,a);for(;o.length>b;)s(g,a=o[b++])&&(~r(f,a)||n(f,a));return f}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,h,m){var c=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");h.exports=Object.keys||function(i){return c(i,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,h,m){var c={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!c.call({1:2},1);m.f=i?function(r){var t=s(this,r);return!!t&&t.enumerable}:c},{}],318:[function(e,h,m){var c=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),i=e("../internals/a-possible-prototype");h.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var r,t=!1,n={};try{(r=c(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch{}return function(l,o){return s(l),i(o),t?r(l,o):l.__proto__=o,l}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/fails"),i=e("../internals/function-uncurry-this"),r=e("../internals/object-get-prototype-of"),t=e("../internals/object-keys"),n=e("../internals/to-indexed-object"),l=i(e("../internals/object-property-is-enumerable").f),o=i([].push),a=c&&s((function(){var b=Object.create(null);return b[2]=2,!l(b,2)})),g=function(b){return function(f){for(var v,x=n(f),j=t(x),C=a&&r(x)===null,M=j.length,$=0,V=[];M>$;)v=j[$++],c&&!(C?v in x:l(x,v))||o(V,b?[v,x[v]]:x[v]);return V}};h.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,h,m){var c=e("../internals/function-call"),s=e("../internals/is-callable"),i=e("../internals/is-object"),r=TypeError;h.exports=function(t,n){var l,o;if(n==="string"&&s(l=t.toString)&&!i(o=c(l,t))||s(l=t.valueOf)&&!i(o=c(l,t))||n!=="string"&&s(l=t.toString)&&!i(o=c(l,t)))return o;throw new r("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,h,m){var c=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),i=e("../internals/object-get-own-property-names"),r=e("../internals/object-get-own-property-symbols"),t=e("../internals/an-object"),n=s([].concat);h.exports=c("Reflect","ownKeys")||function(l){var o=i.f(t(l)),a=r.f;return a?n(o,a(l)):o}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,h,m){var c=e("../internals/global");h.exports=c},{"../internals/global":274}],323:[function(e,h,m){h.exports=function(c){try{return{error:!1,value:c()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/promise-native-constructor"),i=e("../internals/is-callable"),r=e("../internals/is-forced"),t=e("../internals/inspect-source"),n=e("../internals/well-known-symbol"),l=e("../internals/engine-is-browser"),o=e("../internals/engine-is-deno"),a=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),b=s&&s.prototype,f=n("species"),v=!1,x=i(c.PromiseRejectionEvent),j=r("Promise",(function(){var C=t(s),M=C!==String(s);if(!M&&g===66||a&&(!b.catch||!b.finally))return!0;if(!g||g<51||!/native code/.test(C)){var $=new s((function(B){B(1)})),V=function(B){B((function(){}),(function(){}))};if(($.constructor={})[f]=V,!(v=$.then((function(){}))instanceof V))return!0}return!M&&(l||o)&&!x}));h.exports={CONSTRUCTOR:j,REJECTION_EVENT:x,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,h,m){var c=e("../internals/global");h.exports=c.Promise},{"../internals/global":274}],326:[function(e,h,m){var c=e("../internals/an-object"),s=e("../internals/is-object"),i=e("../internals/new-promise-capability");h.exports=function(r,t){if(c(r),s(t)&&t.constructor===r)return t;var n=i.f(r);return(0,n.resolve)(t),n.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,h,m){var c=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),i=e("../internals/promise-constructor-detection").CONSTRUCTOR;h.exports=i||!s((function(r){c.all(r).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,h,m){var c=function(){this.head=null,this.tail=null};c.prototype={add:function(s){var i={item:s,next:null},r=this.tail;r?r.next=i:this.head=i,this.tail=i},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},h.exports=c},{}],329:[function(e,h,m){var c=e("../internals/is-null-or-undefined"),s=TypeError;h.exports=function(i){if(c(i))throw new s("Can't call method on "+i);return i}},{"../internals/is-null-or-undefined":288}],330:[function(e,h,m){var c=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),i=e("../internals/well-known-symbol"),r=e("../internals/descriptors"),t=i("species");h.exports=function(n){var l=c(n);r&&l&&!l[t]&&s(l,t,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,h,m){var c=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),i=e("../internals/well-known-symbol")("toStringTag");h.exports=function(r,t,n){r&&!n&&(r=r.prototype),r&&!s(r,i)&&c(r,i,{configurable:!0,value:t})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,h,m){var c=e("../internals/shared"),s=e("../internals/uid"),i=c("keys");h.exports=function(r){return i[r]||(i[r]=s(r))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/define-global-property"),i=c["__core-js_shared__"]||s("__core-js_shared__",{});h.exports=i},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,h,m){var c=e("../internals/is-pure"),s=e("../internals/shared-store");(h.exports=function(i,r){return s[i]||(s[i]=r!==void 0?r:{})})("versions",[]).push({version:"3.33.0",mode:c?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,h,m){var c=e("../internals/an-object"),s=e("../internals/a-constructor"),i=e("../internals/is-null-or-undefined"),r=e("../internals/well-known-symbol")("species");h.exports=function(t,n){var l,o=c(t).constructor;return o===void 0||i(l=c(o)[r])?n:s(l)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,h,m){var c=e("../internals/engine-v8-version"),s=e("../internals/fails"),i=e("../internals/global").String;h.exports=!!Object.getOwnPropertySymbols&&!s((function(){var r=Symbol("symbol detection");return!i(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&c&&c<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,h,m){var c=e("../internals/function-call"),s=e("../internals/get-built-in"),i=e("../internals/well-known-symbol"),r=e("../internals/define-built-in");h.exports=function(){var t=s("Symbol"),n=t&&t.prototype,l=n&&n.valueOf,o=i("toPrimitive");n&&!n[o]&&r(n,o,(function(a){return c(l,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,h,m){var c=e("../internals/symbol-constructor-detection");h.exports=c&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,h,m){var c,s,i,r,t=e("../internals/global"),n=e("../internals/function-apply"),l=e("../internals/function-bind-context"),o=e("../internals/is-callable"),a=e("../internals/has-own-property"),g=e("../internals/fails"),b=e("../internals/html"),f=e("../internals/array-slice"),v=e("../internals/document-create-element"),x=e("../internals/validate-arguments-length"),j=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),M=t.setImmediate,$=t.clearImmediate,V=t.process,B=t.Dispatch,U=t.Function,q=t.MessageChannel,Y=t.String,W=0,R={};g((function(){c=t.location}));var D=function(S){if(a(R,S)){var N=R[S];delete R[S],N()}},E=function(S){return function(){D(S)}},w=function(S){D(S.data)},k=function(S){t.postMessage(Y(S),c.protocol+"//"+c.host)};M&&$||(M=function(S){x(arguments.length,1);var N=o(S)?S:U(S),A=f(arguments,1);return R[++W]=function(){n(N,void 0,A)},s(W),W},$=function(S){delete R[S]},C?s=function(S){V.nextTick(E(S))}:B&&B.now?s=function(S){B.now(E(S))}:q&&!j?(r=(i=new q).port2,i.port1.onmessage=w,s=l(r.postMessage,r)):t.addEventListener&&o(t.postMessage)&&!t.importScripts&&c&&c.protocol!=="file:"&&!g(k)?(s=k,t.addEventListener("message",w,!1)):s="onreadystatechange"in v("script")?function(S){b.appendChild(v("script")).onreadystatechange=function(){b.removeChild(this),D(S)}}:function(S){setTimeout(E(S),0)}),h.exports={set:M,clear:$}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,h,m){var c=e("../internals/to-integer-or-infinity"),s=Math.max,i=Math.min;h.exports=function(r,t){var n=c(r);return n<0?s(n+t,0):i(n,t)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,h,m){var c=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");h.exports=function(i){return c(s(i))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,h,m){var c=e("../internals/math-trunc");h.exports=function(s){var i=+s;return i!=i||i===0?0:c(i)}},{"../internals/math-trunc":301}],343:[function(e,h,m){var c=e("../internals/to-integer-or-infinity"),s=Math.min;h.exports=function(i){return i>0?s(c(i),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,h,m){var c=e("../internals/require-object-coercible"),s=Object;h.exports=function(i){return s(c(i))}},{"../internals/require-object-coercible":329}],345:[function(e,h,m){var c=e("../internals/function-call"),s=e("../internals/is-object"),i=e("../internals/is-symbol"),r=e("../internals/get-method"),t=e("../internals/ordinary-to-primitive"),n=e("../internals/well-known-symbol"),l=TypeError,o=n("toPrimitive");h.exports=function(a,g){if(!s(a)||i(a))return a;var b,f=r(a,o);if(f){if(g===void 0&&(g="default"),b=c(f,a,g),!s(b)||i(b))return b;throw new l("Can't convert object to primitive value")}return g===void 0&&(g="number"),t(a,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,h,m){var c=e("../internals/to-primitive"),s=e("../internals/is-symbol");h.exports=function(i){var r=c(i,"string");return s(r)?r:r+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,h,m){var c={};c[e("../internals/well-known-symbol")("toStringTag")]="z",h.exports=String(c)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,h,m){var c=e("../internals/classof"),s=String;h.exports=function(i){if(c(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(i)}},{"../internals/classof":236}],349:[function(e,h,m){var c=String;h.exports=function(s){try{return c(s)}catch{return"Object"}}},{}],350:[function(e,h,m){var c=e("../internals/function-uncurry-this"),s=0,i=Math.random(),r=c(1 .toString);h.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+r(++s+i,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,h,m){var c=e("../internals/symbol-constructor-detection");h.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,h,m){var c=e("../internals/descriptors"),s=e("../internals/fails");h.exports=c&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,h,m){var c=TypeError;h.exports=function(s,i){if(s<i)throw new c("Not enough arguments");return s}},{}],354:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/is-callable"),i=c.WeakMap;h.exports=s(i)&&/native code/.test(String(i))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,h,m){var c=e("../internals/path"),s=e("../internals/has-own-property"),i=e("../internals/well-known-symbol-wrapped"),r=e("../internals/object-define-property").f;h.exports=function(t){var n=c.Symbol||(c.Symbol={});s(n,t)||r(n,t,{value:i.f(t)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,h,m){var c=e("../internals/well-known-symbol");m.f=c},{"../internals/well-known-symbol":357}],357:[function(e,h,m){var c=e("../internals/global"),s=e("../internals/shared"),i=e("../internals/has-own-property"),r=e("../internals/uid"),t=e("../internals/symbol-constructor-detection"),n=e("../internals/use-symbol-as-uid"),l=c.Symbol,o=s("wks"),a=n?l.for||l:l&&l.withoutSetter||r;h.exports=function(g){return i(o,g)||(o[g]=t&&i(l,g)?l[g]:a("Symbol."+g)),o[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/array-iteration").findIndex,i=e("../internals/add-to-unscopables"),r=!0;"findIndex"in[]&&Array(1).findIndex((function(){r=!1})),c({target:"Array",proto:!0,forced:r},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/array-iteration").find,i=e("../internals/add-to-unscopables"),r=!0;"find"in[]&&Array(1).find((function(){r=!1})),c({target:"Array",proto:!0,forced:r},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/array-includes").includes,i=e("../internals/fails"),r=e("../internals/add-to-unscopables");c({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,h,m){var c=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),i=e("../internals/iterators"),r=e("../internals/internal-state"),t=e("../internals/object-define-property").f,n=e("../internals/iterator-define"),l=e("../internals/create-iter-result-object"),o=e("../internals/is-pure"),a=e("../internals/descriptors"),g=r.set,b=r.getterFor("Array Iterator");h.exports=n(Array,"Array",(function(v,x){g(this,{type:"Array Iterator",target:c(v),index:0,kind:x})}),(function(){var v=b(this),x=v.target,j=v.kind,C=v.index++;if(!x||C>=x.length)return v.target=void 0,l(void 0,!0);switch(j){case"keys":return l(C,!1);case"values":return l(x[C],!1)}return l([C,x[C]],!1)}),"values");var f=i.Arguments=i.Array;if(s("keys"),s("values"),s("entries"),!o&&a&&f.name!=="values")try{t(f,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/get-built-in"),i=e("../internals/function-apply"),r=e("../internals/function-call"),t=e("../internals/function-uncurry-this"),n=e("../internals/fails"),l=e("../internals/is-callable"),o=e("../internals/is-symbol"),a=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),b=e("../internals/symbol-constructor-detection"),f=String,v=s("JSON","stringify"),x=t(/./.exec),j=t("".charAt),C=t("".charCodeAt),M=t("".replace),$=t(1 .toString),V=/[\uD800-\uDFFF]/g,B=/^[\uD800-\uDBFF]$/,U=/^[\uDC00-\uDFFF]$/,q=!b||n((function(){var D=s("Symbol")("stringify detection");return v([D])!=="[null]"||v({a:D})!=="{}"||v(Object(D))!=="{}"})),Y=n((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),W=function(D,E){var w=a(arguments),k=g(E);if(l(k)||D!==void 0&&!o(D))return w[1]=function(S,N){if(l(k)&&(N=r(k,this,f(S),N)),!o(N))return N},i(v,null,w)},R=function(D,E,w){var k=j(w,E-1),S=j(w,E+1);return x(B,D)&&!x(U,S)||x(U,D)&&!x(B,k)?"\\u"+$(C(D,0),16):D};v&&c({target:"JSON",stat:!0,arity:3,forced:q||Y},{stringify:function(D,E,w){var k=a(arguments),S=i(q?W:v,null,k);return Y&&typeof S=="string"?M(S,V,R):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,h,m){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(c){return c!=c}})},{"../internals/export":259}],364:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/object-assign");c({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),i=e("../internals/fails"),r=e("../internals/object-get-own-property-symbols"),t=e("../internals/to-object");c({target:"Object",stat:!0,forced:!s||i((function(){r.f(1)}))},{getOwnPropertySymbols:function(n){var l=r.f;return l?l(t(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/to-object"),i=e("../internals/object-keys");c({target:"Object",stat:!0,forced:e("../internals/fails")((function(){i(1)}))},{keys:function(r){return i(s(r))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/object-to-array").values;c({target:"Object",stat:!0},{values:function(i){return s(i)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-call"),i=e("../internals/a-callable"),r=e("../internals/new-promise-capability"),t=e("../internals/perform"),n=e("../internals/iterate");c({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(l){var o=this,a=r.f(o),g=a.resolve,b=a.reject,f=t((function(){var v=i(o.resolve),x=[],j=0,C=1;n(l,(function(M){var $=j++,V=!1;C++,s(v,o,M).then((function(B){V||(V=!0,x[$]=B,--C||g(x))}),b)})),--C||g(x)}));return f.error&&b(f.value),a.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/is-pure"),i=e("../internals/promise-constructor-detection").CONSTRUCTOR,r=e("../internals/promise-native-constructor"),t=e("../internals/get-built-in"),n=e("../internals/is-callable"),l=e("../internals/define-built-in"),o=r&&r.prototype;if(c({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(g){return this.then(void 0,g)}}),!s&&n(r)){var a=t("Promise").prototype.catch;o.catch!==a&&l(o,"catch",a,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,h,m){var c,s,i,r=e("../internals/export"),t=e("../internals/is-pure"),n=e("../internals/engine-is-node"),l=e("../internals/global"),o=e("../internals/function-call"),a=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),b=e("../internals/set-to-string-tag"),f=e("../internals/set-species"),v=e("../internals/a-callable"),x=e("../internals/is-callable"),j=e("../internals/is-object"),C=e("../internals/an-instance"),M=e("../internals/species-constructor"),$=e("../internals/task").set,V=e("../internals/microtask"),B=e("../internals/host-report-errors"),U=e("../internals/perform"),q=e("../internals/queue"),Y=e("../internals/internal-state"),W=e("../internals/promise-native-constructor"),R=e("../internals/promise-constructor-detection"),D=e("../internals/new-promise-capability"),E=R.CONSTRUCTOR,w=R.REJECTION_EVENT,k=R.SUBCLASSING,S=Y.getterFor("Promise"),N=Y.set,A=W&&W.prototype,P=W,L=A,X=l.TypeError,K=l.document,te=l.process,z=D.f,Q=z,O=!!(K&&K.createEvent&&l.dispatchEvent),I=function(de){var ve;return!(!j(de)||!x(ve=de.then))&&ve},H=function(de,ve){var le,ge,Ne,je=ve.value,Re=ve.state===1,$e=Re?de.ok:de.fail,He=de.resolve,Le=de.reject,ot=de.domain;try{$e?(Re||(ve.rejection===2&&he(ve),ve.rejection=1),$e===!0?le=je:(ot&&ot.enter(),le=$e(je),ot&&(ot.exit(),Ne=!0)),le===de.promise?Le(new X("Promise-chain cycle")):(ge=I(le))?o(ge,le,He,Le):He(le)):Le(je)}catch(Ze){ot&&!Ne&&ot.exit(),Le(Ze)}},ee=function(de,ve){de.notified||(de.notified=!0,V((function(){for(var le,ge=de.reactions;le=ge.get();)H(le,de);de.notified=!1,ve&&!de.rejection&&re(de)})))},ne=function(de,ve,le){var ge,Ne;O?((ge=K.createEvent("Event")).promise=ve,ge.reason=le,ge.initEvent(de,!1,!0),l.dispatchEvent(ge)):ge={promise:ve,reason:le},!w&&(Ne=l["on"+de])?Ne(ge):de==="unhandledrejection"&&B("Unhandled promise rejection",le)},re=function(de){o($,l,(function(){var ve,le=de.facade,ge=de.value;if(oe(de)&&(ve=U((function(){n?te.emit("unhandledRejection",ge,le):ne("unhandledrejection",le,ge)})),de.rejection=n||oe(de)?2:1,ve.error))throw ve.value}))},oe=function(de){return de.rejection!==1&&!de.parent},he=function(de){o($,l,(function(){var ve=de.facade;n?te.emit("rejectionHandled",ve):ne("rejectionhandled",ve,de.value)}))},pe=function(de,ve,le){return function(ge){de(ve,ge,le)}},ie=function(de,ve,le){de.done||(de.done=!0,le&&(de=le),de.value=ve,de.state=2,ee(de,!0))},ue=function(de,ve,le){if(!de.done){de.done=!0,le&&(de=le);try{if(de.facade===ve)throw new X("Promise can't be resolved itself");var ge=I(ve);ge?V((function(){var Ne={done:!1};try{o(ge,ve,pe(ue,Ne,de),pe(ie,Ne,de))}catch(je){ie(Ne,je,de)}})):(de.value=ve,de.state=1,ee(de,!1))}catch(Ne){ie({done:!1},Ne,de)}}};if(E&&(L=(P=function(de){C(this,L),v(de),o(c,this);var ve=S(this);try{de(pe(ue,ve),pe(ie,ve))}catch(le){ie(ve,le)}}).prototype,(c=function(de){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new q,rejection:!1,state:0,value:void 0})}).prototype=a(L,"then",(function(de,ve){var le=S(this),ge=z(M(this,P));return le.parent=!0,ge.ok=!x(de)||de,ge.fail=x(ve)&&ve,ge.domain=n?te.domain:void 0,le.state===0?le.reactions.add(ge):V((function(){H(ge,le)})),ge.promise})),s=function(){var de=new c,ve=S(de);this.promise=de,this.resolve=pe(ue,ve),this.reject=pe(ie,ve)},D.f=z=function(de){return de===P||de===void 0?new s(de):Q(de)},!t&&x(W)&&A!==Object.prototype)){i=A.then,k||a(A,"then",(function(de,ve){var le=this;return new P((function(ge,Ne){o(i,le,ge,Ne)})).then(de,ve)}),{unsafe:!0});try{delete A.constructor}catch{}g&&g(A,L)}r({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:P}),b(P,"Promise",!1,!0),f("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/is-pure"),i=e("../internals/promise-native-constructor"),r=e("../internals/fails"),t=e("../internals/get-built-in"),n=e("../internals/is-callable"),l=e("../internals/species-constructor"),o=e("../internals/promise-resolve"),a=e("../internals/define-built-in"),g=i&&i.prototype;if(c({target:"Promise",proto:!0,real:!0,forced:!!i&&r((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(f){var v=l(this,t("Promise")),x=n(f);return this.then(x?function(j){return o(v,f()).then((function(){return j}))}:f,x?function(j){return o(v,f()).then((function(){throw j}))}:f)}}),!s&&n(i)){var b=t("Promise").prototype.finally;g.finally!==b&&a(g,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,h,m){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-call"),i=e("../internals/a-callable"),r=e("../internals/new-promise-capability"),t=e("../internals/perform"),n=e("../internals/iterate");c({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(l){var o=this,a=r.f(o),g=a.reject,b=t((function(){var f=i(o.resolve);n(l,(function(v){s(f,o,v).then(a.resolve,g)}))}));return b.error&&g(b.value),a.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-call"),i=e("../internals/new-promise-capability");c({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(r){var t=i.f(this);return s(t.reject,void 0,r),t.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/get-built-in"),i=e("../internals/is-pure"),r=e("../internals/promise-native-constructor"),t=e("../internals/promise-constructor-detection").CONSTRUCTOR,n=e("../internals/promise-resolve"),l=s("Promise"),o=i&&!t;c({target:"Promise",stat:!0,forced:i||t},{resolve:function(a){return n(o&&this===l?r:this,a)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-uncurry-this"),i=e("../internals/to-absolute-index"),r=RangeError,t=String.fromCharCode,n=String.fromCodePoint,l=s([].join);c({target:"String",stat:!0,arity:1,forced:!!n&&n.length!==1},{fromCodePoint:function(o){for(var a,g=[],b=arguments.length,f=0;b>f;){if(a=+arguments[f++],i(a,1114111)!==a)throw new r(a+" is not a valid code point");g[f]=a<65536?t(a):t(55296+((a-=65536)>>10),a%1024+56320)}return l(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/function-uncurry-this"),i=e("../internals/not-a-regexp"),r=e("../internals/require-object-coercible"),t=e("../internals/to-string"),n=e("../internals/correct-is-regexp-logic"),l=s("".indexOf);c({target:"String",proto:!0,forced:!n("includes")},{includes:function(o){return!!~l(t(r(this)),t(i(o)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,h,m){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/global"),i=e("../internals/function-call"),r=e("../internals/function-uncurry-this"),t=e("../internals/is-pure"),n=e("../internals/descriptors"),l=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),a=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),b=e("../internals/an-object"),f=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),x=e("../internals/to-string"),j=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),M=e("../internals/object-keys"),$=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),B=e("../internals/object-get-own-property-symbols"),U=e("../internals/object-get-own-property-descriptor"),q=e("../internals/object-define-property"),Y=e("../internals/object-define-properties"),W=e("../internals/object-property-is-enumerable"),R=e("../internals/define-built-in"),D=e("../internals/define-built-in-accessor"),E=e("../internals/shared"),w=e("../internals/shared-key"),k=e("../internals/hidden-keys"),S=e("../internals/uid"),N=e("../internals/well-known-symbol"),A=e("../internals/well-known-symbol-wrapped"),P=e("../internals/well-known-symbol-define"),L=e("../internals/symbol-define-to-primitive"),X=e("../internals/set-to-string-tag"),K=e("../internals/internal-state"),te=e("../internals/array-iteration").forEach,z=w("hidden"),Q=K.set,O=K.getterFor("Symbol"),I=Object.prototype,H=s.Symbol,ee=H&&H.prototype,ne=s.RangeError,re=s.TypeError,oe=s.QObject,he=U.f,pe=q.f,ie=V.f,ue=W.f,de=r([].push),ve=E("symbols"),le=E("op-symbols"),ge=E("wks"),Ne=!oe||!oe.prototype||!oe.prototype.findChild,je=function(qe,Fe,Xe){var nt=he(I,Fe);nt&&delete I[Fe],pe(qe,Fe,Xe),nt&&qe!==I&&pe(I,Fe,nt)},Re=n&&o((function(){return C(pe({},"a",{get:function(){return pe(this,"a",{value:7}).a}})).a!==7}))?je:pe,$e=function(qe,Fe){var Xe=ve[qe]=C(ee);return Q(Xe,{type:"Symbol",tag:qe,description:Fe}),n||(Xe.description=Fe),Xe},He=function(qe,Fe,Xe){qe===I&&He(le,Fe,Xe),b(qe);var nt=v(Fe);return b(Xe),a(ve,nt)?(Xe.enumerable?(a(qe,z)&&qe[z][nt]&&(qe[z][nt]=!1),Xe=C(Xe,{enumerable:j(0,!1)})):(a(qe,z)||pe(qe,z,j(1,{})),qe[z][nt]=!0),Re(qe,nt,Xe)):pe(qe,nt,Xe)},Le=function(qe,Fe){b(qe);var Xe=f(Fe),nt=M(Xe).concat(rt(Xe));return te(nt,(function(Ke){n&&!i(ot,Xe,Ke)||He(qe,Ke,Xe[Ke])})),qe},ot=function(qe){var Fe=v(qe),Xe=i(ue,this,Fe);return!(this===I&&a(ve,Fe)&&!a(le,Fe))&&(!(Xe||!a(this,Fe)||!a(ve,Fe)||a(this,z)&&this[z][Fe])||Xe)},Ze=function(qe,Fe){var Xe=f(qe),nt=v(Fe);if(Xe!==I||!a(ve,nt)||a(le,nt)){var Ke=he(Xe,nt);return!Ke||!a(ve,nt)||a(Xe,z)&&Xe[z][nt]||(Ke.enumerable=!0),Ke}},Je=function(qe){var Fe=ie(f(qe)),Xe=[];return te(Fe,(function(nt){a(ve,nt)||a(k,nt)||de(Xe,nt)})),Xe},rt=function(qe){var Fe=qe===I,Xe=ie(Fe?le:f(qe)),nt=[];return te(Xe,(function(Ke){!a(ve,Ke)||Fe&&!a(I,Ke)||de(nt,ve[Ke])})),nt};l||(R(ee=(H=function(){if(g(ee,this))throw new re("Symbol is not a constructor");var qe=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,Fe=S(qe),Xe=function(nt){this===I&&i(Xe,le,nt),a(this,z)&&a(this[z],Fe)&&(this[z][Fe]=!1);var Ke=j(1,nt);try{Re(this,Fe,Ke)}catch(_t){if(!(_t instanceof ne))throw _t;je(this,Fe,Ke)}};return n&&Ne&&Re(I,Fe,{configurable:!0,set:Xe}),$e(Fe,qe)}).prototype,"toString",(function(){return O(this).tag})),R(H,"withoutSetter",(function(qe){return $e(S(qe),qe)})),W.f=ot,q.f=He,Y.f=Le,U.f=Ze,$.f=V.f=Je,B.f=rt,A.f=function(qe){return $e(N(qe),qe)},n&&(D(ee,"description",{configurable:!0,get:function(){return O(this).description}}),t||R(I,"propertyIsEnumerable",ot,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),te(M(ge),(function(qe){P(qe)})),c({target:"Symbol",stat:!0,forced:!l},{useSetter:function(){Ne=!0},useSimple:function(){Ne=!1}}),c({target:"Object",stat:!0,forced:!l,sham:!n},{create:function(qe,Fe){return Fe===void 0?C(qe):Le(C(qe),Fe)},defineProperty:He,defineProperties:Le,getOwnPropertyDescriptor:Ze}),c({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:Je}),L(),X(H,"Symbol"),k[z]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/get-built-in"),i=e("../internals/has-own-property"),r=e("../internals/to-string"),t=e("../internals/shared"),n=e("../internals/symbol-registry-detection"),l=t("string-to-symbol-registry"),o=t("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!n},{for:function(a){var g=r(a);if(i(l,g))return l[g];var b=s("Symbol")(g);return l[g]=b,o[b]=g,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,h,m){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,h,m){var c=e("../internals/export"),s=e("../internals/has-own-property"),i=e("../internals/is-symbol"),r=e("../internals/try-to-string"),t=e("../internals/shared"),n=e("../internals/symbol-registry-detection"),l=t("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!n},{keyFor:function(o){if(!i(o))throw new TypeError(r(o)+" is not a symbol");if(s(l,o))return l[o]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,h,m){function c(s){return Object.prototype.toString.call(s)}m.isArray=function(s){return Array.isArray?Array.isArray(s):c(s)==="[object Array]"},m.isBoolean=function(s){return typeof s=="boolean"},m.isNull=function(s){return s===null},m.isNullOrUndefined=function(s){return s==null},m.isNumber=function(s){return typeof s=="number"},m.isString=function(s){return typeof s=="string"},m.isSymbol=function(s){return typeof s=="symbol"},m.isUndefined=function(s){return s===void 0},m.isRegExp=function(s){return c(s)==="[object RegExp]"},m.isObject=function(s){return typeof s=="object"&&s!==null},m.isDate=function(s){return c(s)==="[object Date]"},m.isError=function(s){return c(s)==="[object Error]"||s instanceof Error},m.isFunction=function(s){return typeof s=="function"},m.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},m.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,h,m){(function(c){(function(){var s=e("elliptic"),i=e("bn.js");h.exports=function(l){return new t(l)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function t(l){this.curveType=r[l],this.curveType||(this.curveType={name:l}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function n(l,o,a){Array.isArray(l)||(l=l.toArray());var g=new c(l);if(a&&g.length<a){var b=new c(a-g.length);b.fill(0),g=c.concat([b,g])}return o?g.toString(o):g}r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,t.prototype.generateKeys=function(l,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,o)},t.prototype.computeSecret=function(l,o,a){return o=o||"utf8",c.isBuffer(l)||(l=new c(l,o)),n(this.curve.keyFromPublic(l).getPublic().mul(this.keys.getPrivate()).getX(),a,this.curveType.byteLength)},t.prototype.getPublicKey=function(l,o){var a=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),n(a,l)},t.prototype.getPrivateKey=function(l){return n(this.keys.getPrivate(),l)},t.prototype.setPublicKey=function(l,o){return o=o||"utf8",c.isBuffer(l)||(l=new c(l,o)),this.keys._importPublic(l),this},t.prototype.setPrivateKey=function(l,o){o=o||"utf8",c.isBuffer(l)||(l=new c(l,o));var a=new i(l);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],386:[function(e,h,m){var c=e("inherits"),s=e("md5.js"),i=e("ripemd160"),r=e("sha.js"),t=e("cipher-base");function n(l){t.call(this,"digest"),this._hash=l}c(n,t),n.prototype._update=function(l){this._hash.update(l)},n.prototype._final=function(){return this._hash.digest()},h.exports=function(l){return(l=l.toLowerCase())==="md5"?new s:l==="rmd160"||l==="ripemd160"?new i:new n(r(l))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,h,m){var c=e("md5.js");h.exports=function(s){return new c().update(s).digest()}},{"md5.js":450}],388:[function(e,h,m){var c=e("inherits"),s=e("./legacy"),i=e("cipher-base"),r=e("safe-buffer").Buffer,t=e("create-hash/md5"),n=e("ripemd160"),l=e("sha.js"),o=r.alloc(128);function a(g,b){i.call(this,"digest"),typeof b=="string"&&(b=r.from(b));var f=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=b,b.length>f?b=(g==="rmd160"?new n:l(g)).update(b).digest():b.length<f&&(b=r.concat([b,o],f));for(var v=this._ipad=r.allocUnsafe(f),x=this._opad=r.allocUnsafe(f),j=0;j<f;j++)v[j]=54^b[j],x[j]=92^b[j];this._hash=g==="rmd160"?new n:l(g),this._hash.update(v)}c(a,i),a.prototype._update=function(g){this._hash.update(g)},a.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new n:l(this._alg)).update(this._opad).update(g).digest()},h.exports=function(g,b){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new a("rmd160",b):g==="md5"?new s(t,b):new a(g,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,h,m){var c=e("inherits"),s=e("safe-buffer").Buffer,i=e("cipher-base"),r=s.alloc(128);function t(n,l){i.call(this,"digest"),typeof l=="string"&&(l=s.from(l)),this._alg=n,this._key=l,l.length>64?l=n(l):l.length<64&&(l=s.concat([l,r],64));for(var o=this._ipad=s.allocUnsafe(64),a=this._opad=s.allocUnsafe(64),g=0;g<64;g++)o[g]=54^l[g],a[g]=92^l[g];this._hash=[o]}c(t,i),t.prototype._update=function(n){this._hash.push(n)},t.prototype._final=function(){var n=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,n]))},h.exports=t},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,h,m){m.randomBytes=m.rng=m.pseudoRandomBytes=m.prng=e("randombytes"),m.createHash=m.Hash=e("create-hash"),m.createHmac=m.Hmac=e("create-hmac");var c=e("browserify-sign/algos"),s=Object.keys(c),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);m.getHashes=function(){return i};var r=e("pbkdf2");m.pbkdf2=r.pbkdf2,m.pbkdf2Sync=r.pbkdf2Sync;var t=e("browserify-cipher");m.Cipher=t.Cipher,m.createCipher=t.createCipher,m.Cipheriv=t.Cipheriv,m.createCipheriv=t.createCipheriv,m.Decipher=t.Decipher,m.createDecipher=t.createDecipher,m.Decipheriv=t.Decipheriv,m.createDecipheriv=t.createDecipheriv,m.getCiphers=t.getCiphers,m.listCiphers=t.listCiphers;var n=e("diffie-hellman");m.DiffieHellmanGroup=n.DiffieHellmanGroup,m.createDiffieHellmanGroup=n.createDiffieHellmanGroup,m.getDiffieHellman=n.getDiffieHellman,m.createDiffieHellman=n.createDiffieHellman,m.DiffieHellman=n.DiffieHellman;var l=e("browserify-sign");m.createSign=l.createSign,m.Sign=l.Sign,m.createVerify=l.createVerify,m.Verify=l.Verify,m.createECDH=e("create-ecdh");var o=e("public-encrypt");m.publicEncrypt=o.publicEncrypt,m.privateEncrypt=o.privateEncrypt,m.publicDecrypt=o.publicDecrypt,m.privateDecrypt=o.privateDecrypt;var a=e("randomfill");m.randomFill=a.randomFill,m.randomFillSync=a.randomFillSync,m.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},m.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,h,m){(function(c,s){typeof m=="object"&&h!==void 0?h.exports=s():(c=typeof globalThis<"u"?globalThis:c||self).dayjs=s()})(void 0,(function(){var c=6e4,s=36e5,i="millisecond",r="second",t="minute",n="hour",l="day",o="week",a="month",g="quarter",b="year",f="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var k=["th","st","nd","rd"],S=w%100;return"["+w+(k[(S-20)%10]||k[S]||k[0])+"]"}},M=function(w,k,S){var N=String(w);return!N||N.length>=k?w:""+Array(k+1-N.length).join(S)+w},$={s:M,z:function(w){var k=-w.utcOffset(),S=Math.abs(k),N=Math.floor(S/60),A=S%60;return(k<=0?"+":"-")+M(N,2,"0")+":"+M(A,2,"0")},m:function w(k,S){if(k.date()<S.date())return-w(S,k);var N=12*(S.year()-k.year())+(S.month()-k.month()),A=k.clone().add(N,a),P=S-A<0,L=k.clone().add(N+(P?-1:1),a);return+(-(N+(S-A)/(P?A-L:L-A))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:a,y:b,w:o,d:l,D:f,h:n,m:t,s:r,ms:i,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},V="en",B={};B[V]=C;var U="$isDayjsObject",q=function(w){return w instanceof D||!(!w||!w[U])},Y=function w(k,S,N){var A;if(!k)return V;if(typeof k=="string"){var P=k.toLowerCase();B[P]&&(A=P),S&&(B[P]=S,A=P);var L=k.split("-");if(!A&&L.length>1)return w(L[0])}else{var X=k.name;B[X]=k,A=X}return!N&&A&&(V=A),A||!N&&V},W=function(w,k){if(q(w))return w.clone();var S=typeof k=="object"?k:{};return S.date=w,S.args=arguments,new D(S)},R=$;R.l=Y,R.i=q,R.w=function(w,k){return W(w,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var D=(function(){function w(S){this.$L=Y(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[U]=!0}var k=w.prototype;return k.parse=function(S){this.$d=(function(N){var A=N.date,P=N.utc;if(A===null)return new Date(NaN);if(R.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var L=A.match(x);if(L){var X=L[2]-1||0,K=(L[7]||"0").substring(0,3);return P?new Date(Date.UTC(L[1],X,L[3]||1,L[4]||0,L[5]||0,L[6]||0,K)):new Date(L[1],X,L[3]||1,L[4]||0,L[5]||0,L[6]||0,K)}}return new Date(A)})(S),this.init()},k.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},k.$utils=function(){return R},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(S,N){var A=W(S);return this.startOf(N)<=A&&A<=this.endOf(N)},k.isAfter=function(S,N){return W(S)<this.startOf(N)},k.isBefore=function(S,N){return this.endOf(N)<W(S)},k.$g=function(S,N,A){return R.u(S)?this[N]:this.set(A,S)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(S,N){var A=this,P=!!R.u(N)||N,L=R.p(S),X=function(ee,ne){var re=R.w(A.$u?Date.UTC(A.$y,ne,ee):new Date(A.$y,ne,ee),A);return P?re:re.endOf(l)},K=function(ee,ne){return R.w(A.toDate()[ee].apply(A.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ne)),A)},te=this.$W,z=this.$M,Q=this.$D,O="set"+(this.$u?"UTC":"");switch(L){case b:return P?X(1,0):X(31,11);case a:return P?X(1,z):X(0,z+1);case o:var I=this.$locale().weekStart||0,H=(te<I?te+7:te)-I;return X(P?Q-H:Q+(6-H),z);case l:case f:return K(O+"Hours",0);case n:return K(O+"Minutes",1);case t:return K(O+"Seconds",2);case r:return K(O+"Milliseconds",3);default:return this.clone()}},k.endOf=function(S){return this.startOf(S,!1)},k.$set=function(S,N){var A,P=R.p(S),L="set"+(this.$u?"UTC":""),X=(A={},A[l]=L+"Date",A[f]=L+"Date",A[a]=L+"Month",A[b]=L+"FullYear",A[n]=L+"Hours",A[t]=L+"Minutes",A[r]=L+"Seconds",A[i]=L+"Milliseconds",A)[P],K=P===l?this.$D+(N-this.$W):N;if(P===a||P===b){var te=this.clone().set(f,1);te.$d[X](K),te.init(),this.$d=te.set(f,Math.min(this.$D,te.daysInMonth())).$d}else X&&this.$d[X](K);return this.init(),this},k.set=function(S,N){return this.clone().$set(S,N)},k.get=function(S){return this[R.p(S)]()},k.add=function(S,N){var A,P=this;S=Number(S);var L=R.p(N),X=function(z){var Q=W(P);return R.w(Q.date(Q.date()+Math.round(z*S)),P)};if(L===a)return this.set(a,this.$M+S);if(L===b)return this.set(b,this.$y+S);if(L===l)return X(1);if(L===o)return X(7);var K=(A={},A[t]=c,A[n]=s,A[r]=1e3,A)[L]||1,te=this.$d.getTime()+S*K;return R.w(te,this)},k.subtract=function(S,N){return this.add(-1*S,N)},k.format=function(S){var N=this,A=this.$locale();if(!this.isValid())return A.invalidDate||v;var P=S||"YYYY-MM-DDTHH:mm:ssZ",L=R.z(this),X=this.$H,K=this.$m,te=this.$M,z=A.weekdays,Q=A.months,O=A.meridiem,I=function(ne,re,oe,he){return ne&&(ne[re]||ne(N,P))||oe[re].slice(0,he)},H=function(ne){return R.s(X%12||12,ne,"0")},ee=O||function(ne,re,oe){var he=ne<12?"AM":"PM";return oe?he.toLowerCase():he};return P.replace(j,(function(ne,re){return re||(function(oe){switch(oe){case"YY":return String(N.$y).slice(-2);case"YYYY":return R.s(N.$y,4,"0");case"M":return te+1;case"MM":return R.s(te+1,2,"0");case"MMM":return I(A.monthsShort,te,Q,3);case"MMMM":return I(Q,te);case"D":return N.$D;case"DD":return R.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return I(A.weekdaysMin,N.$W,z,2);case"ddd":return I(A.weekdaysShort,N.$W,z,3);case"dddd":return z[N.$W];case"H":return String(X);case"HH":return R.s(X,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return ee(X,K,!0);case"A":return ee(X,K,!1);case"m":return String(K);case"mm":return R.s(K,2,"0");case"s":return String(N.$s);case"ss":return R.s(N.$s,2,"0");case"SSS":return R.s(N.$ms,3,"0");case"Z":return L}return null})(ne)||L.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(S,N,A){var P,L=this,X=R.p(N),K=W(S),te=(K.utcOffset()-this.utcOffset())*c,z=this-K,Q=function(){return R.m(L,K)};switch(X){case b:P=Q()/12;break;case a:P=Q();break;case g:P=Q()/3;break;case o:P=(z-te)/6048e5;break;case l:P=(z-te)/864e5;break;case n:P=z/s;break;case t:P=z/c;break;case r:P=z/1e3;break;default:P=z}return A?P:R.a(P)},k.daysInMonth=function(){return this.endOf(a).$D},k.$locale=function(){return B[this.$L]},k.locale=function(S,N){if(!S)return this.$L;var A=this.clone(),P=Y(S,N,!0);return P&&(A.$L=P),A},k.clone=function(){return R.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},w})(),E=D.prototype;return W.prototype=E,[["$ms",i],["$s",r],["$m",t],["$H",n],["$W",l],["$M",a],["$y",b],["$D",f]].forEach((function(w){E[w[1]]=function(k){return this.$g(k,w[0],w[1])}})),W.extend=function(w,k){return w.$i||(w(k,D,W),w.$i=!0),W},W.locale=Y,W.isDayjs=q,W.unix=function(w){return W(1e3*w)},W.en=B[V],W.Ls=B,W.p={},W}))},{}],392:[function(e,h,m){(function(c,s){typeof m=="object"&&h!==void 0?h.exports=s():(c=typeof globalThis<"u"?globalThis:c||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var c={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,r=/\d\d?/,t=/\d*[^-_:/,()\s\d]+/,n={},l=function(x){return(x=+x)+(x>68?1900:2e3)},o=function(x){return function(j){this[x]=+j}},a=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=(function(j){if(!j||j==="Z")return 0;var C=j.match(/([+-]|\d\d)/g),M=60*C[1]+(+C[2]||0);return M===0?0:C[0]==="+"?-M:M})(x)}],g=function(x){var j=n[x];return j&&(j.indexOf?j:j.s.concat(j.f))},b=function(x,j){var C,M=n.meridiem;if(M){for(var $=1;$<=24;$+=1)if(x.indexOf(M($,0,j))>-1){C=$>12;break}}else C=x===(j?"pm":"PM");return C},f={A:[t,function(x){this.afternoon=b(x,!1)}],a:[t,function(x){this.afternoon=b(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[i,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[r,o("seconds")],ss:[r,o("seconds")],m:[r,o("minutes")],mm:[r,o("minutes")],H:[r,o("hours")],h:[r,o("hours")],HH:[r,o("hours")],hh:[r,o("hours")],D:[r,o("day")],DD:[i,o("day")],Do:[t,function(x){var j=n.ordinal,C=x.match(/\d+/);if(this.day=C[0],j)for(var M=1;M<=31;M+=1)j(M).replace(/\[|\]/g,"")===x&&(this.day=M)}],M:[r,o("month")],MM:[i,o("month")],MMM:[t,function(x){var j=g("months"),C=(g("monthsShort")||j.map((function(M){return M.slice(0,3)}))).indexOf(x)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[t,function(x){var j=g("months").indexOf(x)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,o("year")],YY:[i,function(x){this.year=l(x)}],YYYY:[/\d{4}/,o("year")],Z:a,ZZ:a};function v(x){var j,C;j=x,C=n&&n.formats;for(var M=(x=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(W,R,D){var E=D&&D.toUpperCase();return R||C[D]||c[D]||C[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,k,S){return k||S.slice(1)}))}))).match(s),$=M.length,V=0;V<$;V+=1){var B=M[V],U=f[B],q=U&&U[0],Y=U&&U[1];M[V]=Y?{regex:q,parser:Y}:B.replace(/^\[|\]$/g,"")}return function(W){for(var R={},D=0,E=0;D<$;D+=1){var w=M[D];if(typeof w=="string")E+=w.length;else{var k=w.regex,S=w.parser,N=W.slice(E),A=k.exec(N)[0];S.call(R,A),W=W.replace(A,"")}}return(function(P){var L=P.afternoon;if(L!==void 0){var X=P.hours;L?X<12&&(P.hours+=12):X===12&&(P.hours=0),delete P.afternoon}})(R),R}}return function(x,j,C){C.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(l=x.parseTwoDigitYear);var M=j.prototype,$=M.parse;M.parse=function(V){var B=V.date,U=V.utc,q=V.args;this.$u=U;var Y=q[1];if(typeof Y=="string"){var W=q[2]===!0,R=q[3]===!0,D=W||R,E=q[2];R&&(E=q[2]),n=this.$locale(),!W&&E&&(n=C.Ls[E]),this.$d=(function(N,A,P){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*N);var L=v(A)(N),X=L.year,K=L.month,te=L.day,z=L.hours,Q=L.minutes,O=L.seconds,I=L.milliseconds,H=L.zone,ee=new Date,ne=te||(X||K?1:ee.getDate()),re=X||ee.getFullYear(),oe=0;X&&!K||(oe=K>0?K-1:ee.getMonth());var he=z||0,pe=Q||0,ie=O||0,ue=I||0;return H?new Date(Date.UTC(re,oe,ne,he,pe,ie,ue+60*H.offset*1e3)):P?new Date(Date.UTC(re,oe,ne,he,pe,ie,ue)):new Date(re,oe,ne,he,pe,ie,ue)}catch{return new Date("")}})(B,Y,U),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),D&&B!=this.format(Y)&&(this.$d=new Date("")),n={}}else if(Y instanceof Array)for(var w=Y.length,k=1;k<=w;k+=1){q[1]=Y[k-1];var S=C.apply(this,q);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}k===w&&(this.$d=new Date(""))}else $.call(this,V)}}}))},{}],393:[function(e,h,m){(function(c,s){typeof m=="object"&&h!==void 0?h.exports=s():(c=typeof globalThis<"u"?globalThis:c||self).dayjs_plugin_utc=s()})(void 0,(function(){var c="minute",s=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(r,t,n){var l=t.prototype;n.utc=function(x){var j={date:x,utc:!0,args:arguments};return new t(j)},l.utc=function(x){var j=n(this.toDate(),{locale:this.$L,utc:!0});return x?j.add(this.utcOffset(),c):j},l.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=l.parse;l.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),o.call(this,x)};var a=l.init;l.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else a.call(this)};var g=l.utcOffset;l.utcOffset=function(x,j){var C=this.$utils().u;if(C(x))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof x=="string"&&(x=(function(B){B===void 0&&(B="");var U=B.match(s);if(!U)return null;var q=(""+U[0]).match(i)||["-",0,0],Y=q[0],W=60*+q[1]+ +q[2];return W===0?0:Y==="+"?W:-W})(x))===null)return this;var M=Math.abs(x)<=16?60*x:x,$=this;if(j)return $.$offset=M,$.$u=x===0,$;if(x!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();($=this.local().add(M+V,c)).$offset=M,$.$x.$localOffset=V}else $=this.utc();return $};var b=l.format;l.format=function(x){var j=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,j)},l.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(x){return x==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var v=l.diff;l.diff=function(x,j,C){if(x&&this.$u===x.$u)return v.call(this,x,j,C);var M=this.local(),$=n(x).local();return v.call(M,$,j,C)}}}))},{}],394:[function(e,h,m){m.utils=e("./des/utils"),m.Cipher=e("./des/cipher"),m.DES=e("./des/des"),m.CBC=e("./des/cbc"),m.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,h,m){var c=e("minimalistic-assert"),s=e("inherits"),i={};function r(t){c.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=t[n]}m.instantiate=function(t){function n(g){t.call(this,g),this._cbcInit()}s(n,t);for(var l=Object.keys(i),o=0;o<l.length;o++){var a=l[o];n.prototype[a]=i[a]}return n.create=function(g){return new n(g)},n},i._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},i._update=function(t,n,l,o){var a=this._cbcState,g=this.constructor.super_.prototype,b=a.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)b[f]^=t[n+f];for(g._update.call(this,b,0,l,o),f=0;f<this.blockSize;f++)b[f]=l[o+f]}else{for(g._update.call(this,t,n,l,o),f=0;f<this.blockSize;f++)l[o+f]^=b[f];for(f=0;f<this.blockSize;f++)b[f]=t[n+f]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,h,m){var c=e("minimalistic-assert");function s(i){this.options=i,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=i.padding!==!1}h.exports=s,s.prototype._init=function(){},s.prototype.update=function(i){return i.length===0?[]:this.type==="decrypt"?this._updateDecrypt(i):this._updateEncrypt(i)},s.prototype._buffer=function(i,r){for(var t=Math.min(this.buffer.length-this.bufferOff,i.length-r),n=0;n<t;n++)this.buffer[this.bufferOff+n]=i[r+n];return this.bufferOff+=t,t},s.prototype._flushBuffer=function(i,r){return this._update(this.buffer,0,i,r),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(i){var r=0,t=0,n=(this.bufferOff+i.length)/this.blockSize|0,l=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(i,r),this.bufferOff===this.buffer.length&&(t+=this._flushBuffer(l,t)));for(var o=i.length-(i.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(i,r,l,t),t+=this.blockSize;for(;r<i.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=i[r];return l},s.prototype._updateDecrypt=function(i){for(var r=0,t=0,n=Math.ceil((this.bufferOff+i.length)/this.blockSize)-1,l=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(i,r),t+=this._flushBuffer(l,t);return r+=this._buffer(i,r),l},s.prototype.final=function(i){var r,t;return i&&(r=this.update(i)),t=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),r?r.concat(t):t},s.prototype._pad=function(i,r){if(r===0)return!1;for(;r<i.length;)i[r++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var i=new Array(this.blockSize);return this._update(this.buffer,0,i,0),i},s.prototype._unpad=function(i){return i},s.prototype._finalDecrypt=function(){c.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var i=new Array(this.blockSize);return this._flushBuffer(i,0),this._unpad(i)}},{"minimalistic-assert":453}],397:[function(e,h,m){var c=e("minimalistic-assert"),s=e("inherits"),i=e("./utils"),r=e("./cipher");function t(){this.tmp=new Array(2),this.keys=null}function n(o){r.call(this,o);var a=new t;this._desState=a,this.deriveKeys(a,o.key)}s(n,r),h.exports=n,n.create=function(o){return new n(o)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(o,a){o.keys=new Array(32),c.equal(a.length,this.blockSize,"Invalid key length");var g=i.readUInt32BE(a,0),b=i.readUInt32BE(a,4);i.pc1(g,b,o.tmp,0),g=o.tmp[0],b=o.tmp[1];for(var f=0;f<o.keys.length;f+=2){var v=l[f>>>1];g=i.r28shl(g,v),b=i.r28shl(b,v),i.pc2(g,b,o.keys,f)}},n.prototype._update=function(o,a,g,b){var f=this._desState,v=i.readUInt32BE(o,a),x=i.readUInt32BE(o,a+4);i.ip(v,x,f.tmp,0),v=f.tmp[0],x=f.tmp[1],this.type==="encrypt"?this._encrypt(f,v,x,f.tmp,0):this._decrypt(f,v,x,f.tmp,0),v=f.tmp[0],x=f.tmp[1],i.writeUInt32BE(g,v,b),i.writeUInt32BE(g,x,b+4)},n.prototype._pad=function(o,a){if(this.padding===!1)return!1;for(var g=o.length-a,b=a;b<o.length;b++)o[b]=g;return!0},n.prototype._unpad=function(o){if(this.padding===!1)return o;for(var a=o[o.length-1],g=o.length-a;g<o.length;g++)c.equal(o[g],a);return o.slice(0,o.length-a)},n.prototype._encrypt=function(o,a,g,b,f){for(var v=a,x=g,j=0;j<o.keys.length;j+=2){var C=o.keys[j],M=o.keys[j+1];i.expand(x,o.tmp,0),C^=o.tmp[0],M^=o.tmp[1];var $=i.substitute(C,M),V=x;x=(v^i.permute($))>>>0,v=V}i.rip(x,v,b,f)},n.prototype._decrypt=function(o,a,g,b,f){for(var v=g,x=a,j=o.keys.length-2;j>=0;j-=2){var C=o.keys[j],M=o.keys[j+1];i.expand(v,o.tmp,0),C^=o.tmp[0],M^=o.tmp[1];var $=i.substitute(C,M),V=v;v=(x^i.permute($))>>>0,x=V}i.rip(v,x,b,f)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,h,m){var c=e("minimalistic-assert"),s=e("inherits"),i=e("./cipher"),r=e("./des");function t(l,o){c.equal(o.length,24,"Invalid key length");var a=o.slice(0,8),g=o.slice(8,16),b=o.slice(16,24);this.ciphers=l==="encrypt"?[r.create({type:"encrypt",key:a}),r.create({type:"decrypt",key:g}),r.create({type:"encrypt",key:b})]:[r.create({type:"decrypt",key:b}),r.create({type:"encrypt",key:g}),r.create({type:"decrypt",key:a})]}function n(l){i.call(this,l);var o=new t(this.type,this.options.key);this._edeState=o}s(n,i),h.exports=n,n.create=function(l){return new n(l)},n.prototype._update=function(l,o,a,g){var b=this._edeState;b.ciphers[0]._update(l,o,a,g),b.ciphers[1]._update(a,g,a,g),b.ciphers[2]._update(a,g,a,g)},n.prototype._pad=r.prototype._pad,n.prototype._unpad=r.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,h,m){m.readUInt32BE=function(r,t){return(r[0+t]<<24|r[1+t]<<16|r[2+t]<<8|r[3+t])>>>0},m.writeUInt32BE=function(r,t,n){r[0+n]=t>>>24,r[1+n]=t>>>16&255,r[2+n]=t>>>8&255,r[3+n]=255&t},m.ip=function(r,t,n,l){for(var o=0,a=0,g=6;g>=0;g-=2){for(var b=0;b<=24;b+=8)o<<=1,o|=t>>>b+g&1;for(b=0;b<=24;b+=8)o<<=1,o|=r>>>b+g&1}for(g=6;g>=0;g-=2){for(b=1;b<=25;b+=8)a<<=1,a|=t>>>b+g&1;for(b=1;b<=25;b+=8)a<<=1,a|=r>>>b+g&1}n[l+0]=o>>>0,n[l+1]=a>>>0},m.rip=function(r,t,n,l){for(var o=0,a=0,g=0;g<4;g++)for(var b=24;b>=0;b-=8)o<<=1,o|=t>>>b+g&1,o<<=1,o|=r>>>b+g&1;for(g=4;g<8;g++)for(b=24;b>=0;b-=8)a<<=1,a|=t>>>b+g&1,a<<=1,a|=r>>>b+g&1;n[l+0]=o>>>0,n[l+1]=a>>>0},m.pc1=function(r,t,n,l){for(var o=0,a=0,g=7;g>=5;g--){for(var b=0;b<=24;b+=8)o<<=1,o|=t>>b+g&1;for(b=0;b<=24;b+=8)o<<=1,o|=r>>b+g&1}for(b=0;b<=24;b+=8)o<<=1,o|=t>>b+g&1;for(g=1;g<=3;g++){for(b=0;b<=24;b+=8)a<<=1,a|=t>>b+g&1;for(b=0;b<=24;b+=8)a<<=1,a|=r>>b+g&1}for(b=0;b<=24;b+=8)a<<=1,a|=r>>b+g&1;n[l+0]=o>>>0,n[l+1]=a>>>0},m.r28shl=function(r,t){return r<<t&268435455|r>>>28-t};var c=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];m.pc2=function(r,t,n,l){for(var o=0,a=0,g=c.length>>>1,b=0;b<g;b++)o<<=1,o|=r>>>c[b]&1;for(b=g;b<c.length;b++)a<<=1,a|=t>>>c[b]&1;n[l+0]=o>>>0,n[l+1]=a>>>0},m.expand=function(r,t,n){var l=0,o=0;l=(1&r)<<5|r>>>27;for(var a=23;a>=15;a-=4)l<<=6,l|=r>>>a&63;for(a=11;a>=3;a-=4)o|=r>>>a&63,o<<=6;o|=(31&r)<<1|r>>>31,t[n+0]=l>>>0,t[n+1]=o>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];m.substitute=function(r,t){for(var n=0,l=0;l<4;l++)n<<=4,n|=s[64*l+(r>>>18-6*l&63)];for(l=0;l<4;l++)n<<=4,n|=s[256+64*l+(t>>>18-6*l&63)];return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];m.permute=function(r){for(var t=0,n=0;n<i.length;n++)t<<=1,t|=r>>>i[n]&1;return t>>>0},m.padSplit=function(r,t,n){for(var l=r.toString(2);l.length<t;)l="0"+l;for(var o=[],a=0;a<t;a+=n)o.push(l.slice(a,a+n));return o.join(" ")}},{}],400:[function(e,h,m){(function(c){(function(){var s=e("./lib/generatePrime"),i=e("./lib/primes.json"),r=e("./lib/dh"),t={binary:!0,hex:!0,base64:!0};m.DiffieHellmanGroup=m.createDiffieHellmanGroup=m.getDiffieHellman=function(n){var l=new c(i[n].prime,"hex"),o=new c(i[n].gen,"hex");return new r(l,o)},m.createDiffieHellman=m.DiffieHellman=function n(l,o,a,g){return c.isBuffer(o)||t[o]===void 0?n(l,"binary",o,a):(o=o||"binary",g=g||"binary",a=a||new c([2]),c.isBuffer(a)||(a=new c(a,g)),typeof l=="number"?new r(s(l,a),a,!0):(c.isBuffer(l)||(l=new c(l,o)),new r(l,a,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,h,m){(function(c){(function(){var s=e("bn.js"),i=new(e("miller-rabin")),r=new s(24),t=new s(11),n=new s(10),l=new s(3),o=new s(7),a=e("./generatePrime"),g=e("randombytes");function b(C,M){return M=M||"utf8",c.isBuffer(C)||(C=new c(C,M)),this._pub=new s(C),this}function f(C,M){return M=M||"utf8",c.isBuffer(C)||(C=new c(C,M)),this._priv=new s(C),this}h.exports=x;var v={};function x(C,M,$){this.setGenerator(M),this.__prime=new s(C),this._prime=s.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,$?(this.setPublicKey=b,this.setPrivateKey=f):this._primeCode=8}function j(C,M){var $=new c(C.toArray());return M?$.toString(M):$}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(C,M){var $=M.toString("hex"),V=[$,C.toString(16)].join("_");if(V in v)return v[V];var B,U=0;if(C.isEven()||!a.simpleSieve||!a.fermatTest(C)||!i.test(C))return U+=1,U+=$==="02"||$==="05"?8:4,v[V]=U,U;switch(i.test(C.shrn(1))||(U+=2),$){case"02":C.mod(r).cmp(t)&&(U+=8);break;case"05":(B=C.mod(n)).cmp(l)&&B.cmp(o)&&(U+=8);break;default:U+=4}return v[V]=U,U})(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new s(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(C){var M=(C=(C=new s(C)).toRed(this._prime)).redPow(this._priv).fromRed(),$=new c(M.toArray()),V=this.getPrime();if($.length<V.length){var B=new c(V.length-$.length);B.fill(0),$=c.concat([B,$])}return $},x.prototype.getPublicKey=function(C){return j(this._pub,C)},x.prototype.getPrivateKey=function(C){return j(this._priv,C)},x.prototype.getPrime=function(C){return j(this.__prime,C)},x.prototype.getGenerator=function(C){return j(this._gen,C)},x.prototype.setGenerator=function(C,M){return M=M||"utf8",c.isBuffer(C)||(C=new c(C,M)),this.__gen=C,this._gen=new s(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,h,m){var c=e("randombytes");h.exports=C,C.simpleSieve=x,C.fermatTest=j;var s=e("bn.js"),i=new s(24),r=new(e("miller-rabin")),t=new s(1),n=new s(2),l=new s(5),o=(new s(16),new s(8),new s(10)),a=new s(3),g=(new s(7),new s(11)),b=new s(4),f=(new s(12),null);function v(){if(f!==null)return f;var M=[];M[0]=2;for(var $=1,V=3;V<1048576;V+=2){for(var B=Math.ceil(Math.sqrt(V)),U=0;U<$&&M[U]<=B&&V%M[U]!=0;U++);$!==U&&M[U]<=B||(M[$++]=V)}return f=M,M}function x(M){for(var $=v(),V=0;V<$.length;V++)if(M.modn($[V])===0)return M.cmpn($[V])===0;return!0}function j(M){var $=s.mont(M);return n.toRed($).redPow(M.subn(1)).fromRed().cmpn(1)===0}function C(M,$){if(M<16)return new s($===2||$===5?[140,123]:[140,39]);var V,B;for($=new s($);;){for(V=new s(c(Math.ceil(M/8)));V.bitLength()>M;)V.ishrn(1);if(V.isEven()&&V.iadd(t),V.testn(1)||V.iadd(n),$.cmp(n)){if(!$.cmp(l))for(;V.mod(o).cmp(a);)V.iadd(b)}else for(;V.mod(i).cmp(g);)V.iadd(b);if(x(B=V.shrn(1))&&x(V)&&j(B)&&j(V)&&r.test(B)&&r.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,h,m){h.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],405:[function(e,h,m){var c=m;c.version=e("../package.json").version,c.utils=e("./elliptic/utils"),c.rand=e("brorand"),c.curve=e("./elliptic/curve"),c.curves=e("./elliptic/curves"),c.ec=e("./elliptic/ec"),c.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,h,m){var c=e("bn.js"),s=e("../utils"),i=s.getNAF,r=s.getJSF,t=s.assert;function n(o,a){this.type=o,this.p=new c(a.p,16),this.red=a.prime?c.red(a.prime):c.mont(this.p),this.zero=new c(0).toRed(this.red),this.one=new c(1).toRed(this.red),this.two=new c(2).toRed(this.red),this.n=a.n&&new c(a.n,16),this.g=a.g&&this.pointFromJSON(a.g,a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(o,a){this.curve=o,this.type=a,this.precomputed=null}h.exports=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(o,a){t(o.precomputed);var g=o._getDoubles(),b=i(a,1,this._bitLength),f=(1<<g.step+1)-(g.step%2==0?2:1);f/=3;var v,x,j=[];for(v=0;v<b.length;v+=g.step){x=0;for(var C=v+g.step-1;C>=v;C--)x=(x<<1)+b[C];j.push(x)}for(var M=this.jpoint(null,null,null),$=this.jpoint(null,null,null),V=f;V>0;V--){for(v=0;v<j.length;v++)(x=j[v])===V?$=$.mixedAdd(g.points[v]):x===-V&&($=$.mixedAdd(g.points[v].neg()));M=M.add($)}return M.toP()},n.prototype._wnafMul=function(o,a){var g=4,b=o._getNAFPoints(g);g=b.wnd;for(var f=b.points,v=i(a,g,this._bitLength),x=this.jpoint(null,null,null),j=v.length-1;j>=0;j--){for(var C=0;j>=0&&v[j]===0;j--)C++;if(j>=0&&C++,x=x.dblp(C),j<0)break;var M=v[j];t(M!==0),x=o.type==="affine"?M>0?x.mixedAdd(f[M-1>>1]):x.mixedAdd(f[-M-1>>1].neg()):M>0?x.add(f[M-1>>1]):x.add(f[-M-1>>1].neg())}return o.type==="affine"?x.toP():x},n.prototype._wnafMulAdd=function(o,a,g,b,f){var v,x,j,C=this._wnafT1,M=this._wnafT2,$=this._wnafT3,V=0;for(v=0;v<b;v++){var B=(j=a[v])._getNAFPoints(o);C[v]=B.wnd,M[v]=B.points}for(v=b-1;v>=1;v-=2){var U=v-1,q=v;if(C[U]===1&&C[q]===1){var Y=[a[U],null,null,a[q]];a[U].y.cmp(a[q].y)===0?(Y[1]=a[U].add(a[q]),Y[2]=a[U].toJ().mixedAdd(a[q].neg())):a[U].y.cmp(a[q].y.redNeg())===0?(Y[1]=a[U].toJ().mixedAdd(a[q]),Y[2]=a[U].add(a[q].neg())):(Y[1]=a[U].toJ().mixedAdd(a[q]),Y[2]=a[U].toJ().mixedAdd(a[q].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],R=r(g[U],g[q]);for(V=Math.max(R[0].length,V),$[U]=new Array(V),$[q]=new Array(V),x=0;x<V;x++){var D=0|R[0][x],E=0|R[1][x];$[U][x]=W[3*(D+1)+(E+1)],$[q][x]=0,M[U]=Y}}else $[U]=i(g[U],C[U],this._bitLength),$[q]=i(g[q],C[q],this._bitLength),V=Math.max($[U].length,V),V=Math.max($[q].length,V)}var w=this.jpoint(null,null,null),k=this._wnafT4;for(v=V;v>=0;v--){for(var S=0;v>=0;){var N=!0;for(x=0;x<b;x++)k[x]=0|$[x][v],k[x]!==0&&(N=!1);if(!N)break;S++,v--}if(v>=0&&S++,w=w.dblp(S),v<0)break;for(x=0;x<b;x++){var A=k[x];A!==0&&(A>0?j=M[x][A-1>>1]:A<0&&(j=M[x][-A-1>>1].neg()),w=j.type==="affine"?w.mixedAdd(j):w.add(j))}}for(v=0;v<b;v++)M[v]=null;return f?w:w.toP()},n.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(o,a){o=s.toArray(o,a);var g=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1==2*g)return o[0]===6?t(o[o.length-1]%2==0):o[0]===7&&t(o[o.length-1]%2==1),this.point(o.slice(1,1+g),o.slice(1+g,1+2*g));if((o[0]===2||o[0]===3)&&o.length-1===g)return this.pointFromX(o.slice(1,1+g),o[0]===3);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(o){return this.encode(o,!0)},l.prototype._encode=function(o){var a=this.curve.p.byteLength(),g=this.getX().toArray("be",a);return o?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",a))},l.prototype.encode=function(o,a){return s.encode(this._encode(a),o)},l.prototype.precompute=function(o){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,o),a.beta=this._getBeta(),this.precomputed=a,this},l.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return!!a&&a.points.length>=Math.ceil((o.bitLength()+1)/a.step)},l.prototype._getDoubles=function(o,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],b=this,f=0;f<a;f+=o){for(var v=0;v<o;v++)b=b.dbl();g.push(b)}return{step:o,points:g}},l.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],g=(1<<o)-1,b=g===1?null:this.dbl(),f=1;f<g;f++)a[f]=a[f-1].add(b);return{wnd:o,points:a}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(o){for(var a=this,g=0;g<o;g++)a=a.dbl();return a}},{"../utils":419,"bn.js":420}],407:[function(e,h,m){var c=e("../utils"),s=e("bn.js"),i=e("inherits"),r=e("./base"),t=c.assert;function n(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,r.call(this,"edwards",o),this.a=new s(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),t(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function l(o,a,g,b,f){r.BasePoint.call(this,o,"projective"),a===null&&g===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(a,16),this.y=new s(g,16),this.z=b?new s(b,16):this.curve.one,this.t=f&&new s(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(n,r),h.exports=n,n.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},n.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},n.prototype.jpoint=function(o,a,g,b){return this.point(o,a,g,b)},n.prototype.pointFromX=function(o,a){(o=new s(o,16)).red||(o=o.toRed(this.red));var g=o.redSqr(),b=this.c2.redSub(this.a.redMul(g)),f=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=b.redMul(f.redInvm()),x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var j=x.fromRed().isOdd();return(a&&!j||!a&&j)&&(x=x.redNeg()),this.point(o,x)},n.prototype.pointFromY=function(o,a){(o=new s(o,16)).red||(o=o.toRed(this.red));var g=o.redSqr(),b=g.redSub(this.c2),f=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=b.redMul(f.redInvm());if(v.cmp(this.zero)===0){if(a)throw new Error("invalid point");return this.point(this.zero,o)}var x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==a&&(x=x.redNeg()),this.point(x,o)},n.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var a=o.x.redSqr(),g=o.y.redSqr(),b=a.redMul(this.a).redAdd(g),f=this.c2.redMul(this.one.redAdd(this.d.redMul(a).redMul(g)));return b.cmp(f)===0},i(l,r.BasePoint),n.prototype.pointFromJSON=function(o){return l.fromJSON(this,o)},n.prototype.point=function(o,a,g,b){return new l(this,o,a,g,b)},l.fromJSON=function(o,a){return new l(o,a[0],a[1],a[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},l.prototype._extDbl=function(){var o=this.x.redSqr(),a=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var b=this.curve._mulA(o),f=this.x.redAdd(this.y).redSqr().redISub(o).redISub(a),v=b.redAdd(a),x=v.redSub(g),j=b.redSub(a),C=f.redMul(x),M=v.redMul(j),$=f.redMul(j),V=x.redMul(v);return this.curve.point(C,M,V,$)},l.prototype._projDbl=function(){var o,a,g,b,f,v,x=this.x.redAdd(this.y).redSqr(),j=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var M=(b=this.curve._mulA(j)).redAdd(C);this.zOne?(o=x.redSub(j).redSub(C).redMul(M.redSub(this.curve.two)),a=M.redMul(b.redSub(C)),g=M.redSqr().redSub(M).redSub(M)):(f=this.z.redSqr(),v=M.redSub(f).redISub(f),o=x.redSub(j).redISub(C).redMul(v),a=M.redMul(b.redSub(C)),g=M.redMul(v))}else b=j.redAdd(C),f=this.curve._mulC(this.z).redSqr(),v=b.redSub(f).redSub(f),o=this.curve._mulC(x.redISub(b)).redMul(v),a=this.curve._mulC(b).redMul(j.redISub(C)),g=b.redMul(v);return this.curve.point(o,a,g)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(o){var a=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),g=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),b=this.t.redMul(this.curve.dd).redMul(o.t),f=this.z.redMul(o.z.redAdd(o.z)),v=g.redSub(a),x=f.redSub(b),j=f.redAdd(b),C=g.redAdd(a),M=v.redMul(x),$=j.redMul(C),V=v.redMul(C),B=x.redMul(j);return this.curve.point(M,$,B,V)},l.prototype._projAdd=function(o){var a,g,b=this.z.redMul(o.z),f=b.redSqr(),v=this.x.redMul(o.x),x=this.y.redMul(o.y),j=this.curve.d.redMul(v).redMul(x),C=f.redSub(j),M=f.redAdd(j),$=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(v).redISub(x),V=b.redMul(C).redMul($);return this.curve.twisted?(a=b.redMul(M).redMul(x.redSub(this.curve._mulA(v))),g=C.redMul(M)):(a=b.redMul(M).redMul(x.redSub(v)),g=this.curve._mulC(C).redMul(M)),this.curve.point(V,a,g)},l.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},l.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},l.prototype.mulAdd=function(o,a,g){return this.curve._wnafMulAdd(1,[this,a],[o,g],2,!1)},l.prototype.jmulAdd=function(o,a,g){return this.curve._wnafMulAdd(1,[this,a],[o,g],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},l.prototype.eqXToP=function(o){var a=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(a)===0)return!0;for(var g=o.clone(),b=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(b),this.x.cmp(a)===0)return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,h,m){var c=m;c.base=e("./base"),c.short=e("./short"),c.mont=e("./mont"),c.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,h,m){var c=e("bn.js"),s=e("inherits"),i=e("./base"),r=e("../utils");function t(l){i.call(this,"mont",l),this.a=new c(l.a,16).toRed(this.red),this.b=new c(l.b,16).toRed(this.red),this.i4=new c(4).toRed(this.red).redInvm(),this.two=new c(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(l,o,a){i.BasePoint.call(this,l,"projective"),o===null&&a===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new c(o,16),this.z=new c(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(t,i),h.exports=t,t.prototype.validate=function(l){var o=l.normalize().x,a=o.redSqr(),g=a.redMul(o).redAdd(a.redMul(this.a)).redAdd(o);return g.redSqrt().redSqr().cmp(g)===0},s(n,i.BasePoint),t.prototype.decodePoint=function(l,o){return this.point(r.toArray(l,o),1)},t.prototype.point=function(l,o){return new n(this,l,o)},t.prototype.pointFromJSON=function(l){return n.fromJSON(this,l)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(l,o){return new n(l,o[0],o[1]||l.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var l=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),a=l.redSub(o),g=l.redMul(o),b=a.redMul(o.redAdd(this.curve.a24.redMul(a)));return this.curve.point(g,b)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(l,o){var a=this.x.redAdd(this.z),g=this.x.redSub(this.z),b=l.x.redAdd(l.z),f=l.x.redSub(l.z).redMul(a),v=b.redMul(g),x=o.z.redMul(f.redAdd(v).redSqr()),j=o.x.redMul(f.redISub(v).redSqr());return this.curve.point(x,j)},n.prototype.mul=function(l){for(var o=l.clone(),a=this,g=this.curve.point(null,null),b=[];o.cmpn(0)!==0;o.iushrn(1))b.push(o.andln(1));for(var f=b.length-1;f>=0;f--)b[f]===0?(a=a.diffAdd(g,this),g=g.dbl()):(g=a.diffAdd(g,this),a=a.dbl());return g},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(l){return this.getX().cmp(l.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,h,m){var c=e("../utils"),s=e("bn.js"),i=e("inherits"),r=e("./base"),t=c.assert;function n(a){r.call(this,"short",a),this.a=new s(a.a,16).toRed(this.red),this.b=new s(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(a,g,b,f){r.BasePoint.call(this,a,"affine"),g===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(g,16),this.y=new s(b,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(a,g,b,f){r.BasePoint.call(this,a,"jacobian"),g===null&&b===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(g,16),this.y=new s(b,16),this.z=new s(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(n,r),h.exports=n,n.prototype._getEndomorphism=function(a){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,b;if(a.beta)g=new s(a.beta,16).toRed(this.red);else{var f=this._getEndoRoots(this.p);g=(g=f[0].cmp(f[1])<0?f[0]:f[1]).toRed(this.red)}if(a.lambda)b=new s(a.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?b=v[0]:(b=v[1],t(this.g.mul(b).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:b,basis:a.basis?a.basis.map((function(x){return{a:new s(x.a,16),b:new s(x.b,16)}})):this._getEndoBasis(b)}}},n.prototype._getEndoRoots=function(a){var g=a===this.p?this.red:s.mont(a),b=new s(2).toRed(g).redInvm(),f=b.redNeg(),v=new s(3).toRed(g).redNeg().redSqrt().redMul(b);return[f.redAdd(v).fromRed(),f.redSub(v).fromRed()]},n.prototype._getEndoBasis=function(a){for(var g,b,f,v,x,j,C,M,$,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),B=a,U=this.n.clone(),q=new s(1),Y=new s(0),W=new s(0),R=new s(1),D=0;B.cmpn(0)!==0;){var E=U.div(B);M=U.sub(E.mul(B)),$=W.sub(E.mul(q));var w=R.sub(E.mul(Y));if(!f&&M.cmp(V)<0)g=C.neg(),b=q,f=M.neg(),v=$;else if(f&&++D==2)break;C=M,U=B,B=M,W=q,q=$,R=Y,Y=w}x=M.neg(),j=$;var k=f.sqr().add(v.sqr());return x.sqr().add(j.sqr()).cmp(k)>=0&&(x=g,j=b),f.negative&&(f=f.neg(),v=v.neg()),x.negative&&(x=x.neg(),j=j.neg()),[{a:f,b:v},{a:x,b:j}]},n.prototype._endoSplit=function(a){var g=this.endo.basis,b=g[0],f=g[1],v=f.b.mul(a).divRound(this.n),x=b.b.neg().mul(a).divRound(this.n),j=v.mul(b.a),C=x.mul(f.a),M=v.mul(b.b),$=x.mul(f.b);return{k1:a.sub(j).sub(C),k2:M.add($).neg()}},n.prototype.pointFromX=function(a,g){(a=new s(a,16)).red||(a=a.toRed(this.red));var b=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),f=b.redSqrt();if(f.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=f.fromRed().isOdd();return(g&&!v||!g&&v)&&(f=f.redNeg()),this.point(a,f)},n.prototype.validate=function(a){if(a.inf)return!0;var g=a.x,b=a.y,f=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(f).redIAdd(this.b);return b.redSqr().redISub(v).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(a,g,b){for(var f=this._endoWnafT1,v=this._endoWnafT2,x=0;x<a.length;x++){var j=this._endoSplit(g[x]),C=a[x],M=C._getBeta();j.k1.negative&&(j.k1.ineg(),C=C.neg(!0)),j.k2.negative&&(j.k2.ineg(),M=M.neg(!0)),f[2*x]=C,f[2*x+1]=M,v[2*x]=j.k1,v[2*x+1]=j.k2}for(var $=this._wnafMulAdd(1,f,v,2*x,b),V=0;V<2*x;V++)f[V]=null,v[V]=null;return $},i(l,r.BasePoint),n.prototype.point=function(a,g,b){return new l(this,a,g,b)},n.prototype.pointFromJSON=function(a,g){return l.fromJSON(this,a,g)},l.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var b=this.curve,f=function(v){return b.point(v.x.redMul(b.endo.beta),v.y)};a.beta=g,g.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(f)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(f)}}}return g}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(a,g,b){typeof g=="string"&&(g=JSON.parse(g));var f=a.point(g[0],g[1],b);if(!g[2])return f;function v(j){return a.point(j[0],j[1],b)}var x=g[2];return f.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[f].concat(x.doubles.points.map(v))},naf:x.naf&&{wnd:x.naf.wnd,points:[f].concat(x.naf.points.map(v))}},f},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var g=this.y.redSub(a.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(a.x).redInvm()));var b=g.redSqr().redISub(this.x).redISub(a.x),f=g.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,f)},l.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,b=this.x.redSqr(),f=a.redInvm(),v=b.redAdd(b).redIAdd(b).redIAdd(g).redMul(f),x=v.redSqr().redISub(this.x.redAdd(this.x)),j=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,j)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(a){return a=new s(a,16),this.isInfinity()?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)},l.prototype.mulAdd=function(a,g,b){var f=[this,g],v=[a,b];return this.curve.endo?this.curve._endoWnafMulAdd(f,v):this.curve._wnafMulAdd(1,f,v,2)},l.prototype.jmulAdd=function(a,g,b){var f=[this,g],v=[a,b];return this.curve.endo?this.curve._endoWnafMulAdd(f,v,!0):this.curve._wnafMulAdd(1,f,v,2,!0)},l.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)},l.prototype.neg=function(a){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var b=this.precomputed,f=function(v){return v.neg()};g.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(f)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(f)}}}return g},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(o,r.BasePoint),n.prototype.jpoint=function(a,g,b){return new o(this,a,g,b)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),g=a.redSqr(),b=this.x.redMul(g),f=this.y.redMul(g).redMul(a);return this.curve.point(b,f)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var g=a.z.redSqr(),b=this.z.redSqr(),f=this.x.redMul(g),v=a.x.redMul(b),x=this.y.redMul(g.redMul(a.z)),j=a.y.redMul(b.redMul(this.z)),C=f.redSub(v),M=x.redSub(j);if(C.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var $=C.redSqr(),V=$.redMul(C),B=f.redMul($),U=M.redSqr().redIAdd(V).redISub(B).redISub(B),q=M.redMul(B.redISub(U)).redISub(x.redMul(V)),Y=this.z.redMul(a.z).redMul(C);return this.curve.jpoint(U,q,Y)},o.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var g=this.z.redSqr(),b=this.x,f=a.x.redMul(g),v=this.y,x=a.y.redMul(g).redMul(this.z),j=b.redSub(f),C=v.redSub(x);if(j.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=j.redSqr(),$=M.redMul(j),V=b.redMul(M),B=C.redSqr().redIAdd($).redISub(V).redISub(V),U=C.redMul(V.redISub(B)).redISub(v.redMul($)),q=this.z.redMul(j);return this.curve.jpoint(B,U,q)},o.prototype.dblp=function(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var b=this;for(g=0;g<a;g++)b=b.dbl();return b}var f=this.curve.a,v=this.curve.tinv,x=this.x,j=this.y,C=this.z,M=C.redSqr().redSqr(),$=j.redAdd(j);for(g=0;g<a;g++){var V=x.redSqr(),B=$.redSqr(),U=B.redSqr(),q=V.redAdd(V).redIAdd(V).redIAdd(f.redMul(M)),Y=x.redMul(B),W=q.redSqr().redISub(Y.redAdd(Y)),R=Y.redISub(W),D=q.redMul(R);D=D.redIAdd(D).redISub(U);var E=$.redMul(C);g+1<a&&(M=M.redMul(U)),x=W,C=E,$=D}return this.curve.jpoint(x,$.redMul(v),C)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var a,g,b;if(this.zOne){var f=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),j=this.x.redAdd(v).redSqr().redISub(f).redISub(x);j=j.redIAdd(j);var C=f.redAdd(f).redIAdd(f),M=C.redSqr().redISub(j).redISub(j),$=x.redIAdd(x);$=($=$.redIAdd($)).redIAdd($),a=M,g=C.redMul(j.redISub(M)).redISub($),b=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),B=this.y.redSqr(),U=B.redSqr(),q=this.x.redAdd(B).redSqr().redISub(V).redISub(U);q=q.redIAdd(q);var Y=V.redAdd(V).redIAdd(V),W=Y.redSqr(),R=U.redIAdd(U);R=(R=R.redIAdd(R)).redIAdd(R),a=W.redISub(q).redISub(q),g=Y.redMul(q.redISub(a)).redISub(R),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(a,g,b)},o.prototype._threeDbl=function(){var a,g,b;if(this.zOne){var f=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),j=this.x.redAdd(v).redSqr().redISub(f).redISub(x);j=j.redIAdd(j);var C=f.redAdd(f).redIAdd(f).redIAdd(this.curve.a),M=C.redSqr().redISub(j).redISub(j);a=M;var $=x.redIAdd(x);$=($=$.redIAdd($)).redIAdd($),g=C.redMul(j.redISub(M)).redISub($),b=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),B=this.y.redSqr(),U=this.x.redMul(B),q=this.x.redSub(V).redMul(this.x.redAdd(V));q=q.redAdd(q).redIAdd(q);var Y=U.redIAdd(U),W=(Y=Y.redIAdd(Y)).redAdd(Y);a=q.redSqr().redISub(W),b=this.y.redAdd(this.z).redSqr().redISub(B).redISub(V);var R=B.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),g=q.redMul(Y.redISub(a)).redISub(R)}return this.curve.jpoint(a,g,b)},o.prototype._dbl=function(){var a=this.curve.a,g=this.x,b=this.y,f=this.z,v=f.redSqr().redSqr(),x=g.redSqr(),j=b.redSqr(),C=x.redAdd(x).redIAdd(x).redIAdd(a.redMul(v)),M=g.redAdd(g),$=(M=M.redIAdd(M)).redMul(j),V=C.redSqr().redISub($.redAdd($)),B=$.redISub(V),U=j.redSqr();U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var q=C.redMul(B).redISub(U),Y=b.redAdd(b).redMul(f);return this.curve.jpoint(V,q,Y)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),g=this.y.redSqr(),b=this.z.redSqr(),f=g.redSqr(),v=a.redAdd(a).redIAdd(a),x=v.redSqr(),j=this.x.redAdd(g).redSqr().redISub(a).redISub(f),C=(j=(j=(j=j.redIAdd(j)).redAdd(j).redIAdd(j)).redISub(x)).redSqr(),M=f.redIAdd(f);M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var $=v.redIAdd(j).redSqr().redISub(x).redISub(C).redISub(M),V=g.redMul($);V=(V=V.redIAdd(V)).redIAdd(V);var B=this.x.redMul(C).redISub(V);B=(B=B.redIAdd(B)).redIAdd(B);var U=this.y.redMul($.redMul(M.redISub($)).redISub(j.redMul(C)));U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var q=this.z.redAdd(j).redSqr().redISub(b).redISub(C);return this.curve.jpoint(B,U,q)},o.prototype.mul=function(a,g){return a=new s(a,g),this.curve._wnafMul(this,a)},o.prototype.eq=function(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return!0;var g=this.z.redSqr(),b=a.z.redSqr();if(this.x.redMul(b).redISub(a.x.redMul(g)).cmpn(0)!==0)return!1;var f=g.redMul(this.z),v=b.redMul(a.z);return this.y.redMul(v).redISub(a.y.redMul(f)).cmpn(0)===0},o.prototype.eqXToP=function(a){var g=this.z.redSqr(),b=a.toRed(this.curve.red).redMul(g);if(this.x.cmp(b)===0)return!0;for(var f=a.clone(),v=this.curve.redN.redMul(g);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(v),this.x.cmp(b)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,h,m){var c,s=m,i=e("hash.js"),r=e("./curve"),t=e("./utils").assert;function n(o){o.type==="short"?this.curve=new r.short(o):o.type==="edwards"?this.curve=new r.edwards(o):this.curve=new r.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,t(this.g.validate(),"Invalid curve"),t(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(o,a){Object.defineProperty(s,o,{configurable:!0,enumerable:!0,get:function(){var g=new n(a);return Object.defineProperty(s,o,{configurable:!0,enumerable:!0,value:g}),g}})}s.PresetCurve=n,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{c=e("./precomputed/secp256k1")}catch{c=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,h,m){var c=e("bn.js"),s=e("hmac-drbg"),i=e("../utils"),r=e("../curves"),t=e("brorand"),n=i.assert,l=e("./key"),o=e("./signature");function a(g){if(!(this instanceof a))return new a(g);typeof g=="string"&&(n(Object.prototype.hasOwnProperty.call(r,g),"Unknown curve "+g),g=r[g]),g instanceof r.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}h.exports=a,a.prototype.keyPair=function(g){return new l(this,g)},a.prototype.keyFromPrivate=function(g,b){return l.fromPrivate(this,g,b)},a.prototype.keyFromPublic=function(g,b){return l.fromPublic(this,g,b)},a.prototype.genKeyPair=function(g){g||(g={});for(var b=new s({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||t(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),f=this.n.byteLength(),v=this.n.sub(new c(2));;){var x=new c(b.generate(f));if(!(x.cmp(v)>0))return x.iaddn(1),this.keyFromPrivate(x)}},a.prototype._truncateToN=function(g,b){var f=8*g.byteLength()-this.n.bitLength();return f>0&&(g=g.ushrn(f)),!b&&g.cmp(this.n)>=0?g.sub(this.n):g},a.prototype.sign=function(g,b,f,v){typeof f=="object"&&(v=f,f=null),v||(v={}),b=this.keyFromPrivate(b,f),g=this._truncateToN(new c(g,16));for(var x=this.n.byteLength(),j=b.getPrivate().toArray("be",x),C=g.toArray("be",x),M=new s({hash:this.hash,entropy:j,nonce:C,pers:v.pers,persEnc:v.persEnc||"utf8"}),$=this.n.sub(new c(1)),V=0;;V++){var B=v.k?v.k(V):new c(M.generate(this.n.byteLength()));if(!((B=this._truncateToN(B,!0)).cmpn(1)<=0||B.cmp($)>=0)){var U=this.g.mul(B);if(!U.isInfinity()){var q=U.getX(),Y=q.umod(this.n);if(Y.cmpn(0)!==0){var W=B.invm(this.n).mul(Y.mul(b.getPrivate()).iadd(g));if((W=W.umod(this.n)).cmpn(0)!==0){var R=(U.getY().isOdd()?1:0)|(q.cmp(Y)!==0?2:0);return v.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),R^=1),new o({r:Y,s:W,recoveryParam:R})}}}}}},a.prototype.verify=function(g,b,f,v){g=this._truncateToN(new c(g,16)),f=this.keyFromPublic(f,v);var x=(b=new o(b,"hex")).r,j=b.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||j.cmpn(1)<0||j.cmp(this.n)>=0)return!1;var C,M=j.invm(this.n),$=M.mul(g).umod(this.n),V=M.mul(x).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd($,f.getPublic(),V)).isInfinity()&&C.eqXToP(x):!(C=this.g.mulAdd($,f.getPublic(),V)).isInfinity()&&C.getX().umod(this.n).cmp(x)===0},a.prototype.recoverPubKey=function(g,b,f,v){n((3&f)===f,"The recovery param is more than two bits"),b=new o(b,v);var x=this.n,j=new c(g),C=b.r,M=b.s,$=1&f,V=f>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");C=V?this.curve.pointFromX(C.add(this.curve.n),$):this.curve.pointFromX(C,$);var B=b.r.invm(x),U=x.sub(j).mul(B).umod(x),q=M.mul(B).umod(x);return this.g.mulAdd(U,C,q)},a.prototype.getKeyRecoveryParam=function(g,b,f,v){if((b=new o(b,v)).recoveryParam!==null)return b.recoveryParam;for(var x=0;x<4;x++){var j;try{j=this.recoverPubKey(g,b,x)}catch{continue}if(j.eq(f))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,h,m){var c=e("bn.js"),s=e("../utils").assert;function i(r,t){this.ec=r,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}h.exports=i,i.fromPublic=function(r,t,n){return t instanceof i?t:new i(r,{pub:t,pubEnc:n})},i.fromPrivate=function(r,t,n){return t instanceof i?t:new i(r,{priv:t,privEnc:n})},i.prototype.validate=function(){var r=this.getPublic();return r.isInfinity()?{result:!1,reason:"Invalid public key"}:r.validate()?r.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(r,t){return typeof r=="string"&&(t=r,r=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,r):this.pub},i.prototype.getPrivate=function(r){return r==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(r,t){this.priv=new c(r,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(r,t){if(r.x||r.y)return this.ec.curve.type==="mont"?s(r.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(r.x&&r.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(r.x,r.y));this.pub=this.ec.curve.decodePoint(r,t)},i.prototype.derive=function(r){return r.validate()||s(r.validate(),"public point not validated"),r.mul(this.priv).getX()},i.prototype.sign=function(r,t,n){return this.ec.sign(r,this,t,n)},i.prototype.verify=function(r,t){return this.ec.verify(r,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,h,m){var c=e("bn.js"),s=e("../utils"),i=s.assert;function r(a,g){if(a instanceof r)return a;this._importDER(a,g)||(i(a.r&&a.s,"Signature without r or s"),this.r=new c(a.r,16),this.s=new c(a.s,16),a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}function t(){this.place=0}function n(a,g){var b=a[g.place++];if(!(128&b))return b;var f=15&b;if(f===0||f>4)return!1;for(var v=0,x=0,j=g.place;x<f;x++,j++)v<<=8,v|=a[j],v>>>=0;return!(v<=127)&&(g.place=j,v)}function l(a){for(var g=0,b=a.length-1;!a[g]&&!(128&a[g+1])&&g<b;)g++;return g===0?a:a.slice(g)}function o(a,g){if(g<128)a.push(g);else{var b=1+(Math.log(g)/Math.LN2>>>3);for(a.push(128|b);--b;)a.push(g>>>(b<<3)&255);a.push(g)}}h.exports=r,r.prototype._importDER=function(a,g){a=s.toArray(a,g);var b=new t;if(a[b.place++]!==48)return!1;var f=n(a,b);if(f===!1||f+b.place!==a.length||a[b.place++]!==2)return!1;var v=n(a,b);if(v===!1)return!1;var x=a.slice(b.place,v+b.place);if(b.place+=v,a[b.place++]!==2)return!1;var j=n(a,b);if(j===!1||a.length!==j+b.place)return!1;var C=a.slice(b.place,j+b.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new c(x),this.s=new c(C),this.recoveryParam=null,!0},r.prototype.toDER=function(a){var g=this.r.toArray(),b=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&b[0]&&(b=[0].concat(b)),g=l(g),b=l(b);!(b[0]||128&b[1]);)b=b.slice(1);var f=[2];o(f,g.length),(f=f.concat(g)).push(2),o(f,b.length);var v=f.concat(b),x=[48];return o(x,v.length),x=x.concat(v),s.encode(x,a)}},{"../utils":419,"bn.js":420}],415:[function(e,h,m){var c=e("hash.js"),s=e("../curves"),i=e("../utils"),r=i.assert,t=i.parseBytes,n=e("./key"),l=e("./signature");function o(a){if(r(a==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(a);a=s[a].curve,this.curve=a,this.g=a.g,this.g.precompute(a.n.bitLength()+1),this.pointClass=a.point().constructor,this.encodingLength=Math.ceil(a.n.bitLength()/8),this.hash=c.sha512}h.exports=o,o.prototype.sign=function(a,g){a=t(a);var b=this.keyFromSecret(g),f=this.hashInt(b.messagePrefix(),a),v=this.g.mul(f),x=this.encodePoint(v),j=this.hashInt(x,b.pubBytes(),a).mul(b.priv()),C=f.add(j).umod(this.curve.n);return this.makeSignature({R:v,S:C,Rencoded:x})},o.prototype.verify=function(a,g,b){a=t(a),g=this.makeSignature(g);var f=this.keyFromPublic(b),v=this.hashInt(g.Rencoded(),f.pubBytes(),a),x=this.g.mul(g.S());return g.R().add(f.pub().mul(v)).eq(x)},o.prototype.hashInt=function(){for(var a=this.hash(),g=0;g<arguments.length;g++)a.update(arguments[g]);return i.intFromLE(a.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(a){return n.fromPublic(this,a)},o.prototype.keyFromSecret=function(a){return n.fromSecret(this,a)},o.prototype.makeSignature=function(a){return a instanceof l?a:new l(this,a)},o.prototype.encodePoint=function(a){var g=a.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=a.getX().isOdd()?128:0,g},o.prototype.decodePoint=function(a){var g=(a=i.parseBytes(a)).length-1,b=a.slice(0,g).concat(-129&a[g]),f=(128&a[g])!=0,v=i.intFromLE(b);return this.curve.pointFromY(v,f)},o.prototype.encodeInt=function(a){return a.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(a){return i.intFromLE(a)},o.prototype.isPoint=function(a){return a instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,h,m){var c=e("../utils"),s=c.assert,i=c.parseBytes,r=c.cachedProperty;function t(n,l){this.eddsa=n,this._secret=i(l.secret),n.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=i(l.pub)}t.fromPublic=function(n,l){return l instanceof t?l:new t(n,{pub:l})},t.fromSecret=function(n,l){return l instanceof t?l:new t(n,{secret:l})},t.prototype.secret=function(){return this._secret},r(t,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),r(t,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),r(t,"privBytes",(function(){var n=this.eddsa,l=this.hash(),o=n.encodingLength-1,a=l.slice(0,n.encodingLength);return a[0]&=248,a[o]&=127,a[o]|=64,a})),r(t,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),r(t,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),r(t,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),t.prototype.sign=function(n){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},t.prototype.verify=function(n,l){return this.eddsa.verify(n,l,this)},t.prototype.getSecret=function(n){return s(this._secret,"KeyPair is public only"),c.encode(this.secret(),n)},t.prototype.getPublic=function(n){return c.encode(this.pubBytes(),n)},h.exports=t},{"../utils":419}],417:[function(e,h,m){var c=e("bn.js"),s=e("../utils"),i=s.assert,r=s.cachedProperty,t=s.parseBytes;function n(l,o){this.eddsa=l,typeof o!="object"&&(o=t(o)),Array.isArray(o)&&(o={R:o.slice(0,l.encodingLength),S:o.slice(l.encodingLength)}),i(o.R&&o.S,"Signature without R or S"),l.isPoint(o.R)&&(this._R=o.R),o.S instanceof c&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}r(n,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),r(n,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),r(n,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),r(n,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},h.exports=n},{"../utils":419,"bn.js":420}],418:[function(e,h,m){h.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,h,m){var c=m,s=e("bn.js"),i=e("minimalistic-assert"),r=e("minimalistic-crypto-utils");c.assert=i,c.toArray=r.toArray,c.zero2=r.zero2,c.toHex=r.toHex,c.encode=r.encode,c.getNAF=function(t,n,l){var o=new Array(Math.max(t.bitLength(),l)+1);o.fill(0);for(var a=1<<n+1,g=t.clone(),b=0;b<o.length;b++){var f,v=g.andln(a-1);g.isOdd()?(f=v>(a>>1)-1?(a>>1)-v:v,g.isubn(f)):f=0,o[b]=f,g.iushrn(1)}return o},c.getJSF=function(t,n){var l=[[],[]];t=t.clone(),n=n.clone();for(var o,a=0,g=0;t.cmpn(-a)>0||n.cmpn(-g)>0;){var b,f,v=t.andln(3)+a&3,x=n.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1),b=(1&v)==0?0:(o=t.andln(7)+a&7)!==3&&o!==5||x!==2?v:-v,l[0].push(b),f=(1&x)==0?0:(o=n.andln(7)+g&7)!==3&&o!==5||v!==2?x:-x,l[1].push(f),2*a===b+1&&(a=1-a),2*g===f+1&&(g=1-g),t.iushrn(1),n.iushrn(1)}return l},c.cachedProperty=function(t,n,l){var o="_"+n;t.prototype[n]=function(){return this[o]!==void 0?this[o]:this[o]=l.call(this)}},c.parseBytes=function(t){return typeof t=="string"?c.toArray(t,"hex"):t},c.intFromLE=function(t){return new s(t,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],421:[function(e,h,m){h.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,h,m){var c=Object.create||function(B){var U=function(){};return U.prototype=B,new U},s=Object.keys||function(B){var U=[];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&U.push(q);return q},i=Function.prototype.bind||function(B){var U=this;return function(){return U.apply(B,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=c(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}h.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var t,n=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),t=l.x===0}catch{t=!1}function o(B){return B._maxListeners===void 0?r.defaultMaxListeners:B._maxListeners}function a(B,U,q){if(U)B.call(q);else for(var Y=B.length,W=V(B,Y),R=0;R<Y;++R)W[R].call(q)}function g(B,U,q,Y){if(U)B.call(q,Y);else for(var W=B.length,R=V(B,W),D=0;D<W;++D)R[D].call(q,Y)}function b(B,U,q,Y,W){if(U)B.call(q,Y,W);else for(var R=B.length,D=V(B,R),E=0;E<R;++E)D[E].call(q,Y,W)}function f(B,U,q,Y,W,R){if(U)B.call(q,Y,W,R);else for(var D=B.length,E=V(B,D),w=0;w<D;++w)E[w].call(q,Y,W,R)}function v(B,U,q,Y){if(U)B.apply(q,Y);else for(var W=B.length,R=V(B,W),D=0;D<W;++D)R[D].apply(q,Y)}function x(B,U,q,Y){var W,R,D;if(typeof q!="function")throw new TypeError('"listener" argument must be a function');if((R=B._events)?(R.newListener&&(B.emit("newListener",U,q.listener?q.listener:q),R=B._events),D=R[U]):(R=B._events=c(null),B._eventsCount=0),D){if(typeof D=="function"?D=R[U]=Y?[q,D]:[D,q]:Y?D.unshift(q):D.push(q),!D.warned&&(W=o(B))&&W>0&&D.length>W){D.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=B,E.type=U,E.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else D=R[U]=q,++B._eventsCount;return B}function j(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var B=new Array(arguments.length),U=0;U<B.length;++U)B[U]=arguments[U];this.listener.apply(this.target,B)}}function C(B,U,q){var Y={fired:!1,wrapFn:void 0,target:B,type:U,listener:q},W=i.call(j,Y);return W.listener=q,Y.wrapFn=W,W}function M(B,U,q){var Y=B._events;if(!Y)return[];var W=Y[U];return W?typeof W=="function"?q?[W.listener||W]:[W]:q?(function(R){for(var D=new Array(R.length),E=0;E<D.length;++E)D[E]=R[E].listener||R[E];return D})(W):V(W,W.length):[]}function $(B){var U=this._events;if(U){var q=U[B];if(typeof q=="function")return 1;if(q)return q.length}return 0}function V(B,U){for(var q=new Array(U),Y=0;Y<U;++Y)q[Y]=B[Y];return q}t?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(B){if(typeof B!="number"||B<0||B!=B)throw new TypeError('"defaultMaxListeners" must be a positive number');n=B}}):r.defaultMaxListeners=n,r.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(B){var U,q,Y,W,R,D,E=B==="error";if(D=this._events)E=E&&D.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var w=new Error('Unhandled "error" event. ('+U+")");throw w.context=U,w}if(!(q=D[B]))return!1;var k=typeof q=="function";switch(Y=arguments.length){case 1:a(q,k,this);break;case 2:g(q,k,this,arguments[1]);break;case 3:b(q,k,this,arguments[1],arguments[2]);break;case 4:f(q,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(Y-1),R=1;R<Y;R++)W[R-1]=arguments[R];v(q,k,this,W)}return!0},r.prototype.addListener=function(B,U){return x(this,B,U,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(B,U){return x(this,B,U,!0)},r.prototype.once=function(B,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(B,C(this,B,U)),this},r.prototype.prependOnceListener=function(B,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(B,C(this,B,U)),this},r.prototype.removeListener=function(B,U){var q,Y,W,R,D;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(!(Y=this._events))return this;if(!(q=Y[B]))return this;if(q===U||q.listener===U)--this._eventsCount==0?this._events=c(null):(delete Y[B],Y.removeListener&&this.emit("removeListener",B,q.listener||U));else if(typeof q!="function"){for(W=-1,R=q.length-1;R>=0;R--)if(q[R]===U||q[R].listener===U){D=q[R].listener,W=R;break}if(W<0)return this;W===0?q.shift():(function(E,w){for(var k=w,S=k+1,N=E.length;S<N;k+=1,S+=1)E[k]=E[S];E.pop()})(q,W),q.length===1&&(Y[B]=q[0]),Y.removeListener&&this.emit("removeListener",B,D||U)}return this},r.prototype.removeAllListeners=function(B){var U,q,Y;if(!(q=this._events))return this;if(!q.removeListener)return arguments.length===0?(this._events=c(null),this._eventsCount=0):q[B]&&(--this._eventsCount==0?this._events=c(null):delete q[B]),this;if(arguments.length===0){var W,R=s(q);for(Y=0;Y<R.length;++Y)(W=R[Y])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=c(null),this._eventsCount=0,this}if(typeof(U=q[B])=="function")this.removeListener(B,U);else if(U)for(Y=U.length-1;Y>=0;Y--)this.removeListener(B,U[Y]);return this},r.prototype.listeners=function(B){return M(this,B,!0)},r.prototype.rawListeners=function(B){return M(this,B,!1)},r.listenerCount=function(B,U){return typeof B.listenerCount=="function"?B.listenerCount(U):$.call(B,U)},r.prototype.listenerCount=$,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("md5.js");h.exports=function(i,r,t,n){if(c.isBuffer(i)||(i=c.from(i,"binary")),r&&(c.isBuffer(r)||(r=c.from(r,"binary")),r.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=t/8,o=c.alloc(l),a=c.alloc(n||0),g=c.alloc(0);l>0||n>0;){var b=new s;b.update(g),b.update(i),r&&b.update(r),g=b.digest();var f=0;if(l>0){var v=o.length-l;f=Math.min(l,g.length),g.copy(o,v,0,f),l-=f}if(f<g.length&&n>0){var x=a.length-n,j=Math.min(n,g.length-f);g.copy(a,x,f,f+j),n-=j}}return g.fill(0),{key:o,iv:a}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=m.ParserOptions=m.parseFile=m.parseStream=m.parseString=m.parse=m.FormatterOptions=m.CsvFormatterStream=m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=void 0;var c=e("@fast-csv/format");Object.defineProperty(m,"format",{enumerable:!0,get:function(){return c.format}}),Object.defineProperty(m,"write",{enumerable:!0,get:function(){return c.write}}),Object.defineProperty(m,"writeToStream",{enumerable:!0,get:function(){return c.writeToStream}}),Object.defineProperty(m,"writeToBuffer",{enumerable:!0,get:function(){return c.writeToBuffer}}),Object.defineProperty(m,"writeToString",{enumerable:!0,get:function(){return c.writeToString}}),Object.defineProperty(m,"writeToPath",{enumerable:!0,get:function(){return c.writeToPath}}),Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return c.CsvFormatterStream}}),Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return c.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(m,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(m,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(m,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function i(r){s.call(this),this._block=c.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,s),i.prototype._transform=function(r,t,n){var l=null;try{this.update(r,t)}catch(o){l=o}n(l)},i.prototype._flush=function(r){var t=null;try{this.push(this.digest())}catch(n){t=n}r(t)},i.prototype.update=function(r,t){if((function(b,f){if(!c.isBuffer(b)&&typeof b!="string")throw new TypeError(f+" must be a string or a buffer")})(r,"Data"),this._finalized)throw new Error("Digest already called");c.isBuffer(r)||(r=c.from(r,t));for(var n=this._block,l=0;this._blockOffset+r.length-l>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=r[l++];this._update(),this._blockOffset=0}for(;l<r.length;)n[this._blockOffset++]=r[l++];for(var a=0,g=8*r.length;g>0;++a)this._length[a]+=g,(g=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*g);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();r!==void 0&&(t=t.toString(r)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},h.exports=i},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,h,m){var c=m;c.utils=e("./hash/utils"),c.common=e("./hash/common"),c.sha=e("./hash/sha"),c.ripemd=e("./hash/ripemd"),c.hmac=e("./hash/hmac"),c.sha1=c.sha.sha1,c.sha256=c.sha.sha256,c.sha224=c.sha.sha224,c.sha384=c.sha.sha384,c.sha512=c.sha.sha512,c.ripemd160=c.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,h,m){var c=e("./utils"),s=e("minimalistic-assert");function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}m.BlockHash=i,i.prototype.update=function(r,t){if(r=c.toArray(r,t),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){var n=(r=this.pending).length%this._delta8;this.pending=r.slice(r.length-n,r.length),this.pending.length===0&&(this.pending=null),r=c.join32(r,0,r.length-n,this.endian);for(var l=0;l<r.length;l+=this._delta32)this._update(r,l,l+this._delta32)}return this},i.prototype.digest=function(r){return this.update(this._pad()),s(this.pending===null),this._digest(r)},i.prototype._pad=function(){var r=this.pendingTotal,t=this._delta8,n=t-(r+this.padLength)%t,l=new Array(n+this.padLength);l[0]=128;for(var o=1;o<n;o++)l[o]=0;if(r<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)l[o++]=0;l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=r>>>24&255,l[o++]=r>>>16&255,l[o++]=r>>>8&255,l[o++]=255&r}else for(l[o++]=255&r,l[o++]=r>>>8&255,l[o++]=r>>>16&255,l[o++]=r>>>24&255,l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=0,a=8;a<this.padLength;a++)l[o++]=0;return l}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,h,m){var c=e("./utils"),s=e("minimalistic-assert");function i(r,t,n){if(!(this instanceof i))return new i(r,t,n);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(c.toArray(t,n))}h.exports=i,i.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),s(r.length<=this.blockSize);for(var t=r.length;t<this.blockSize;t++)r.push(0);for(t=0;t<r.length;t++)r[t]^=54;for(this.inner=new this.Hash().update(r),t=0;t<r.length;t++)r[t]^=106;this.outer=new this.Hash().update(r)},i.prototype.update=function(r,t){return this.inner.update(r,t),this},i.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,h,m){var c=e("./utils"),s=e("./common"),i=c.rotl32,r=c.sum32,t=c.sum32_3,n=c.sum32_4,l=s.BlockHash;function o(){if(!(this instanceof o))return new o;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function a(C,M,$,V){return C<=15?M^$^V:C<=31?M&$|~M&V:C<=47?(M|~$)^V:C<=63?M&V|$&~V:M^($|~V)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function b(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}c.inherits(o,l),m.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(C,M){for(var $=this.h[0],V=this.h[1],B=this.h[2],U=this.h[3],q=this.h[4],Y=$,W=V,R=B,D=U,E=q,w=0;w<80;w++){var k=r(i(n($,a(w,V,B,U),C[f[w]+M],g(w)),x[w]),q);$=q,q=U,U=i(B,10),B=V,V=k,k=r(i(n(Y,a(79-w,W,R,D),C[v[w]+M],b(w)),j[w]),E),Y=E,E=D,D=i(R,10),R=W,W=k}k=t(this.h[1],B,D),this.h[1]=t(this.h[2],U,E),this.h[2]=t(this.h[3],q,Y),this.h[3]=t(this.h[4],$,W),this.h[4]=t(this.h[0],V,R),this.h[0]=k},o.prototype._digest=function(C){return C==="hex"?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,h,m){m.sha1=e("./sha/1"),m.sha224=e("./sha/224"),m.sha256=e("./sha/256"),m.sha384=e("./sha/384"),m.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,h,m){var c=e("../utils"),s=e("../common"),i=e("./common"),r=c.rotl32,t=c.sum32,n=c.sum32_5,l=i.ft_1,o=s.BlockHash,a=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}c.inherits(g,o),h.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(b,f){for(var v=this.W,x=0;x<16;x++)v[x]=b[f+x];for(;x<v.length;x++)v[x]=r(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var j=this.h[0],C=this.h[1],M=this.h[2],$=this.h[3],V=this.h[4];for(x=0;x<v.length;x++){var B=~~(x/20),U=n(r(j,5),l(B,C,M,$),V,v[x],a[B]);V=$,$=M,M=r(C,30),C=j,j=U}this.h[0]=t(this.h[0],j),this.h[1]=t(this.h[1],C),this.h[2]=t(this.h[2],M),this.h[3]=t(this.h[3],$),this.h[4]=t(this.h[4],V)},g.prototype._digest=function(b){return b==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,h,m){var c=e("../utils"),s=e("./256");function i(){if(!(this instanceof i))return new i;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c.inherits(i,s),h.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(r){return r==="hex"?c.toHex32(this.h.slice(0,7),"big"):c.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,h,m){var c=e("../utils"),s=e("../common"),i=e("./common"),r=e("minimalistic-assert"),t=c.sum32,n=c.sum32_4,l=c.sum32_5,o=i.ch32,a=i.maj32,g=i.s0_256,b=i.s1_256,f=i.g0_256,v=i.g1_256,x=s.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}c.inherits(C,x),h.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(M,$){for(var V=this.W,B=0;B<16;B++)V[B]=M[$+B];for(;B<V.length;B++)V[B]=n(v(V[B-2]),V[B-7],f(V[B-15]),V[B-16]);var U=this.h[0],q=this.h[1],Y=this.h[2],W=this.h[3],R=this.h[4],D=this.h[5],E=this.h[6],w=this.h[7];for(r(this.k.length===V.length),B=0;B<V.length;B++){var k=l(w,b(R),o(R,D,E),this.k[B],V[B]),S=t(g(U),a(U,q,Y));w=E,E=D,D=R,R=t(W,k),W=Y,Y=q,q=U,U=t(k,S)}this.h[0]=t(this.h[0],U),this.h[1]=t(this.h[1],q),this.h[2]=t(this.h[2],Y),this.h[3]=t(this.h[3],W),this.h[4]=t(this.h[4],R),this.h[5]=t(this.h[5],D),this.h[6]=t(this.h[6],E),this.h[7]=t(this.h[7],w)},C.prototype._digest=function(M){return M==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,h,m){var c=e("../utils"),s=e("./512");function i(){if(!(this instanceof i))return new i;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}c.inherits(i,s),h.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(r){return r==="hex"?c.toHex32(this.h.slice(0,12),"big"):c.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,h,m){var c=e("../utils"),s=e("../common"),i=e("minimalistic-assert"),r=c.rotr64_hi,t=c.rotr64_lo,n=c.shr64_hi,l=c.shr64_lo,o=c.sum64,a=c.sum64_hi,g=c.sum64_lo,b=c.sum64_4_hi,f=c.sum64_4_lo,v=c.sum64_5_hi,x=c.sum64_5_lo,j=s.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function M(){if(!(this instanceof M))return new M;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function $(S,N,A,P,L){var X=S&A^~S&L;return X<0&&(X+=4294967296),X}function V(S,N,A,P,L,X){var K=N&P^~N&X;return K<0&&(K+=4294967296),K}function B(S,N,A,P,L){var X=S&A^S&L^A&L;return X<0&&(X+=4294967296),X}function U(S,N,A,P,L,X){var K=N&P^N&X^P&X;return K<0&&(K+=4294967296),K}function q(S,N){var A=r(S,N,28)^r(N,S,2)^r(N,S,7);return A<0&&(A+=4294967296),A}function Y(S,N){var A=t(S,N,28)^t(N,S,2)^t(N,S,7);return A<0&&(A+=4294967296),A}function W(S,N){var A=r(S,N,14)^r(S,N,18)^r(N,S,9);return A<0&&(A+=4294967296),A}function R(S,N){var A=t(S,N,14)^t(S,N,18)^t(N,S,9);return A<0&&(A+=4294967296),A}function D(S,N){var A=r(S,N,1)^r(S,N,8)^n(S,N,7);return A<0&&(A+=4294967296),A}function E(S,N){var A=t(S,N,1)^t(S,N,8)^l(S,N,7);return A<0&&(A+=4294967296),A}function w(S,N){var A=r(S,N,19)^r(N,S,29)^n(S,N,6);return A<0&&(A+=4294967296),A}function k(S,N){var A=t(S,N,19)^t(N,S,29)^l(S,N,6);return A<0&&(A+=4294967296),A}c.inherits(M,j),h.exports=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(S,N){for(var A=this.W,P=0;P<32;P++)A[P]=S[N+P];for(;P<A.length;P+=2){var L=w(A[P-4],A[P-3]),X=k(A[P-4],A[P-3]),K=A[P-14],te=A[P-13],z=D(A[P-30],A[P-29]),Q=E(A[P-30],A[P-29]),O=A[P-32],I=A[P-31];A[P]=b(L,X,K,te,z,Q,O,I),A[P+1]=f(L,X,K,te,z,Q,O,I)}},M.prototype._update=function(S,N){this._prepareBlock(S,N);var A=this.W,P=this.h[0],L=this.h[1],X=this.h[2],K=this.h[3],te=this.h[4],z=this.h[5],Q=this.h[6],O=this.h[7],I=this.h[8],H=this.h[9],ee=this.h[10],ne=this.h[11],re=this.h[12],oe=this.h[13],he=this.h[14],pe=this.h[15];i(this.k.length===A.length);for(var ie=0;ie<A.length;ie+=2){var ue=he,de=pe,ve=W(I,H),le=R(I,H),ge=$(I,H,ee,ne,re),Ne=V(I,H,ee,ne,re,oe),je=this.k[ie],Re=this.k[ie+1],$e=A[ie],He=A[ie+1],Le=v(ue,de,ve,le,ge,Ne,je,Re,$e,He),ot=x(ue,de,ve,le,ge,Ne,je,Re,$e,He);ue=q(P,L),de=Y(P,L),ve=B(P,L,X,K,te),le=U(P,L,X,K,te,z);var Ze=a(ue,de,ve,le),Je=g(ue,de,ve,le);he=re,pe=oe,re=ee,oe=ne,ee=I,ne=H,I=a(Q,O,Le,ot),H=g(O,O,Le,ot),Q=te,O=z,te=X,z=K,X=P,K=L,P=a(Le,ot,Ze,Je),L=g(Le,ot,Ze,Je)}o(this.h,0,P,L),o(this.h,2,X,K),o(this.h,4,te,z),o(this.h,6,Q,O),o(this.h,8,I,H),o(this.h,10,ee,ne),o(this.h,12,re,oe),o(this.h,14,he,pe)},M.prototype._digest=function(S){return S==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,h,m){var c=e("../utils").rotr32;function s(t,n,l){return t&n^~t&l}function i(t,n,l){return t&n^t&l^n&l}function r(t,n,l){return t^n^l}m.ft_1=function(t,n,l,o){return t===0?s(n,l,o):t===1||t===3?r(n,l,o):t===2?i(n,l,o):void 0},m.ch32=s,m.maj32=i,m.p32=r,m.s0_256=function(t){return c(t,2)^c(t,13)^c(t,22)},m.s1_256=function(t){return c(t,6)^c(t,11)^c(t,25)},m.g0_256=function(t){return c(t,7)^c(t,18)^t>>>3},m.g1_256=function(t){return c(t,17)^c(t,19)^t>>>10}},{"../utils":437}],437:[function(e,h,m){var c=e("minimalistic-assert"),s=e("inherits");function i(l,o){return(64512&l.charCodeAt(o))==55296&&!(o<0||o+1>=l.length)&&(64512&l.charCodeAt(o+1))==56320}function r(l){return(l>>>24|l>>>8&65280|l<<8&16711680|(255&l)<<24)>>>0}function t(l){return l.length===1?"0"+l:l}function n(l){return l.length===7?"0"+l:l.length===6?"00"+l:l.length===5?"000"+l:l.length===4?"0000"+l:l.length===3?"00000"+l:l.length===2?"000000"+l:l.length===1?"0000000"+l:l}m.inherits=s,m.toArray=function(l,o){if(Array.isArray(l))return l.slice();if(!l)return[];var a=[];if(typeof l=="string")if(o){if(o==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),b=0;b<l.length;b+=2)a.push(parseInt(l[b]+l[b+1],16))}else for(var g=0,b=0;b<l.length;b++){var f=l.charCodeAt(b);f<128?a[g++]=f:f<2048?(a[g++]=f>>6|192,a[g++]=63&f|128):i(l,b)?(f=65536+((1023&f)<<10)+(1023&l.charCodeAt(++b)),a[g++]=f>>18|240,a[g++]=f>>12&63|128,a[g++]=f>>6&63|128,a[g++]=63&f|128):(a[g++]=f>>12|224,a[g++]=f>>6&63|128,a[g++]=63&f|128)}else for(b=0;b<l.length;b++)a[b]=0|l[b];return a},m.toHex=function(l){for(var o="",a=0;a<l.length;a++)o+=t(l[a].toString(16));return o},m.htonl=r,m.toHex32=function(l,o){for(var a="",g=0;g<l.length;g++){var b=l[g];o==="little"&&(b=r(b)),a+=n(b.toString(16))}return a},m.zero2=t,m.zero8=n,m.join32=function(l,o,a,g){var b=a-o;c(b%4==0);for(var f=new Array(b/4),v=0,x=o;v<f.length;v++,x+=4){var j;j=g==="big"?l[x]<<24|l[x+1]<<16|l[x+2]<<8|l[x+3]:l[x+3]<<24|l[x+2]<<16|l[x+1]<<8|l[x],f[v]=j>>>0}return f},m.split32=function(l,o){for(var a=new Array(4*l.length),g=0,b=0;g<l.length;g++,b+=4){var f=l[g];o==="big"?(a[b]=f>>>24,a[b+1]=f>>>16&255,a[b+2]=f>>>8&255,a[b+3]=255&f):(a[b+3]=f>>>24,a[b+2]=f>>>16&255,a[b+1]=f>>>8&255,a[b]=255&f)}return a},m.rotr32=function(l,o){return l>>>o|l<<32-o},m.rotl32=function(l,o){return l<<o|l>>>32-o},m.sum32=function(l,o){return l+o>>>0},m.sum32_3=function(l,o,a){return l+o+a>>>0},m.sum32_4=function(l,o,a,g){return l+o+a+g>>>0},m.sum32_5=function(l,o,a,g,b){return l+o+a+g+b>>>0},m.sum64=function(l,o,a,g){var b=l[o],f=g+l[o+1]>>>0,v=(f<g?1:0)+a+b;l[o]=v>>>0,l[o+1]=f},m.sum64_hi=function(l,o,a,g){return(o+g>>>0<o?1:0)+l+a>>>0},m.sum64_lo=function(l,o,a,g){return o+g>>>0},m.sum64_4_hi=function(l,o,a,g,b,f,v,x){var j=0,C=o;return j+=(C=C+g>>>0)<o?1:0,j+=(C=C+f>>>0)<f?1:0,l+a+b+v+(j+=(C=C+x>>>0)<x?1:0)>>>0},m.sum64_4_lo=function(l,o,a,g,b,f,v,x){return o+g+f+x>>>0},m.sum64_5_hi=function(l,o,a,g,b,f,v,x,j,C){var M=0,$=o;return M+=($=$+g>>>0)<o?1:0,M+=($=$+f>>>0)<f?1:0,M+=($=$+x>>>0)<x?1:0,l+a+b+v+j+(M+=($=$+C>>>0)<C?1:0)>>>0},m.sum64_5_lo=function(l,o,a,g,b,f,v,x,j,C){return o+g+f+x+C>>>0},m.rotr64_hi=function(l,o,a){return(o<<32-a|l>>>a)>>>0},m.rotr64_lo=function(l,o,a){return(l<<32-a|o>>>a)>>>0},m.shr64_hi=function(l,o,a){return l>>>a},m.shr64_lo=function(l,o,a){return(l<<32-a|o>>>a)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,h,m){var c=e("hash.js"),s=e("minimalistic-crypto-utils"),i=e("minimalistic-assert");function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=s.toArray(t.entropy,t.entropyEnc||"hex"),l=s.toArray(t.nonce,t.nonceEnc||"hex"),o=s.toArray(t.pers,t.persEnc||"hex");i(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,l,o)}h.exports=r,r.prototype._init=function(t,n,l){var o=t.concat(n).concat(l);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new c.hmac(this.hash,this.K)},r.prototype._update=function(t){var n=this._hmac().update(this.V).update([0]);t&&(n=n.update(t)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(t,n,l,o){typeof n!="string"&&(o=l,l=n,n=null),t=s.toArray(t,n),l=s.toArray(l,o),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(l||[])),this._reseed=1},r.prototype.generate=function(t,n,l,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(o=l,l=n,n=null),l&&(l=s.toArray(l,o||"hex"),this._update(l));for(var a=[];a.length<t;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var g=a.slice(0,t);return this._update(l),this._reseed++,s.encode(g,n)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,h,m){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(c,s,i,r,t){var n,l,o=8*t-r-1,a=(1<<o)-1,g=a>>1,b=-7,f=i?t-1:0,v=i?-1:1,x=c[s+f];for(f+=v,n=x&(1<<-b)-1,x>>=-b,b+=o;b>0;n=256*n+c[s+f],f+=v,b-=8);for(l=n&(1<<-b)-1,n>>=-b,b+=r;b>0;l=256*l+c[s+f],f+=v,b-=8);if(n===0)n=1-g;else{if(n===a)return l?NaN:1/0*(x?-1:1);l+=Math.pow(2,r),n-=g}return(x?-1:1)*l*Math.pow(2,n-r)},m.write=function(c,s,i,r,t,n){var l,o,a,g=8*n-t-1,b=(1<<g)-1,f=b>>1,v=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:n-1,j=r?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(o=isNaN(s)?1:0,l=b):(l=Math.floor(Math.log(s)/Math.LN2),s*(a=Math.pow(2,-l))<1&&(l--,a*=2),(s+=l+f>=1?v/a:v*Math.pow(2,1-f))*a>=2&&(l++,a/=2),l+f>=b?(o=0,l=b):l+f>=1?(o=(s*a-1)*Math.pow(2,t),l+=f):(o=s*Math.pow(2,f-1)*Math.pow(2,t),l=0));t>=8;c[i+x]=255&o,x+=j,o/=256,t-=8);for(l=l<<t|o,g+=t;g>0;c[i+x]=255&l,x+=j,l/=256,g-=8);c[i+x-j]|=128*C}},{}],440:[function(e,h,m){typeof Object.create=="function"?h.exports=function(c,s){s&&(c.super_=s,c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(c,s){if(s){c.super_=s;var i=function(){};i.prototype=s.prototype,c.prototype=new i,c.prototype.constructor=c}}},{}],441:[function(e,h,m){(function(c,s,i,r,t,n,l,o){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(a){typeof m=="object"&&h!==void 0?h.exports=a():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=a()})((function(){return(function a(g,b,f){function v(C,M){if(!b[C]){if(!g[C]){var $=typeof e=="function"&&e;if(!M&&$)return $(C,!0);if(x)return x(C,!0);var V=new Error("Cannot find module '"+C+"'");throw V.code="MODULE_NOT_FOUND",V}var B=b[C]={exports:{}};g[C][0].call(B.exports,(function(U){return v(g[C][1][U]||U)}),B,B.exports,a,g,b,f)}return b[C].exports}for(var x=typeof e=="function"&&e,j=0;j<f.length;j++)v(f[j]);return v})({1:[function(a,g,b){var f=a("./utils"),v=a("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(j){for(var C,M,$,V,B,U,q,Y=[],W=0,R=j.length,D=R,E=f.getTypeOf(j)!=="string";W<j.length;)D=R-W,$=E?(C=j[W++],M=W<R?j[W++]:0,W<R?j[W++]:0):(C=j.charCodeAt(W++),M=W<R?j.charCodeAt(W++):0,W<R?j.charCodeAt(W++):0),V=C>>2,B=(3&C)<<4|M>>4,U=1<D?(15&M)<<2|$>>6:64,q=2<D?63&$:64,Y.push(x.charAt(V)+x.charAt(B)+x.charAt(U)+x.charAt(q));return Y.join("")},b.decode=function(j){var C,M,$,V,B,U,q=0,Y=0,W="data:";if(j.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var R,D=3*(j=j.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(j.charAt(j.length-1)===x.charAt(64)&&D--,j.charAt(j.length-2)===x.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=v.uint8array?new Uint8Array(0|D):new Array(0|D);q<j.length;)C=x.indexOf(j.charAt(q++))<<2|(V=x.indexOf(j.charAt(q++)))>>4,M=(15&V)<<4|(B=x.indexOf(j.charAt(q++)))>>2,$=(3&B)<<6|(U=x.indexOf(j.charAt(q++))),R[Y++]=C,B!==64&&(R[Y++]=M),U!==64&&(R[Y++]=$);return R}},{"./support":30,"./utils":32}],2:[function(a,g,b){var f=a("./external"),v=a("./stream/DataWorker"),x=a("./stream/Crc32Probe"),j=a("./stream/DataLengthProbe");function C(M,$,V,B,U){this.compressedSize=M,this.uncompressedSize=$,this.crc32=V,this.compression=B,this.compressedContent=U}C.prototype={getContentWorker:function(){var M=new v(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new j("data_length")),$=this;return M.on("end",(function(){if(this.streamInfo.data_length!==$.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),M},getCompressedWorker:function(){return new v(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(M,$,V){return M.pipe(new x).pipe(new j("uncompressedSize")).pipe($.compressWorker(V)).pipe(new j("compressedSize")).withStreamInfo("compression",$)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,g,b){var f=a("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},b.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,g,b){var f=a("./utils"),v=(function(){for(var x,j=[],C=0;C<256;C++){x=C;for(var M=0;M<8;M++)x=1&x?3988292384^x>>>1:x>>>1;j[C]=x}return j})();g.exports=function(x,j){return x!==void 0&&x.length?f.getTypeOf(x)!=="string"?(function(C,M,$,V){var B=v,U=0+$;C^=-1;for(var q=0;q<U;q++)C=C>>>8^B[255&(C^M[q])];return-1^C})(0|j,x,x.length):(function(C,M,$,V){var B=v,U=0+$;C^=-1;for(var q=0;q<U;q++)C=C>>>8^B[255&(C^M.charCodeAt(q))];return-1^C})(0|j,x,x.length):0}},{"./utils":32}],5:[function(a,g,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(a,g,b){var f;f=typeof Promise<"u"?Promise:a("lie"),g.exports={Promise:f}},{lie:37}],7:[function(a,g,b){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=a("pako"),x=a("./utils"),j=a("./stream/GenericWorker"),C=f?"uint8array":"array";function M($,V){j.call(this,"FlateWorker/"+$),this._pako=null,this._pakoAction=$,this._pakoOptions=V,this.meta={}}b.magic="\b\0",x.inherits(M,j),M.prototype.processChunk=function($){this.meta=$.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(C,$.data),!1)},M.prototype.flush=function(){j.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},M.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this._pako=null},M.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var $=this;this._pako.onData=function(V){$.push({data:V,meta:$.meta})}},b.compressWorker=function($){return new M("Deflate",$)},b.uncompressWorker=function(){return new M("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,g,b){function f(B,U){var q,Y="";for(q=0;q<U;q++)Y+=String.fromCharCode(255&B),B>>>=8;return Y}function v(B,U,q,Y,W,R){var D,E,w=B.file,k=B.compression,S=R!==C.utf8encode,N=x.transformTo("string",R(w.name)),A=x.transformTo("string",C.utf8encode(w.name)),P=w.comment,L=x.transformTo("string",R(P)),X=x.transformTo("string",C.utf8encode(P)),K=A.length!==w.name.length,te=X.length!==P.length,z="",Q="",O="",I=w.dir,H=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};U&&!q||(ee.crc32=B.crc32,ee.compressedSize=B.compressedSize,ee.uncompressedSize=B.uncompressedSize);var ne=0;U&&(ne|=8),S||!K&&!te||(ne|=2048);var re=0,oe=0;I&&(re|=16),W==="UNIX"?(oe=798,re|=(function(pe,ie){var ue=pe;return pe||(ue=ie?16893:33204),(65535&ue)<<16})(w.unixPermissions,I)):(oe=20,re|=(function(pe){return 63&(pe||0)})(w.dosPermissions)),D=H.getUTCHours(),D<<=6,D|=H.getUTCMinutes(),D<<=5,D|=H.getUTCSeconds()/2,E=H.getUTCFullYear()-1980,E<<=4,E|=H.getUTCMonth()+1,E<<=5,E|=H.getUTCDate(),K&&(Q=f(1,1)+f(M(N),4)+A,z+="up"+f(Q.length,2)+Q),te&&(O=f(1,1)+f(M(L),4)+X,z+="uc"+f(O.length,2)+O);var he="";return he+=`
\0`,he+=f(ne,2),he+=k.magic,he+=f(D,2),he+=f(E,2),he+=f(ee.crc32,4),he+=f(ee.compressedSize,4),he+=f(ee.uncompressedSize,4),he+=f(N.length,2),he+=f(z.length,2),{fileRecord:$.LOCAL_FILE_HEADER+he+N+z,dirRecord:$.CENTRAL_FILE_HEADER+f(oe,2)+he+f(L.length,2)+"\0\0\0\0"+f(re,4)+f(Y,4)+N+z+L}}var x=a("../utils"),j=a("../stream/GenericWorker"),C=a("../utf8"),M=a("../crc32"),$=a("../signature");function V(B,U,q,Y){j.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=q,this.encodeFileName=Y,this.streamFiles=B,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(V,j),V.prototype.push=function(B){var U=B.meta.percent||0,q=this.entriesCount,Y=this._sources.length;this.accumulate?this.contentBuffer.push(B):(this.bytesWritten+=B.data.length,j.prototype.push.call(this,{data:B.data,meta:{currentFile:this.currentFile,percent:q?(U+100*(q-Y-1))/q:100}}))},V.prototype.openedSource=function(B){this.currentSourceOffset=this.bytesWritten,this.currentFile=B.file.name;var U=this.streamFiles&&!B.file.dir;if(U){var q=v(B,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:q.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(B){this.accumulate=!1;var U=this.streamFiles&&!B.file.dir,q=v(B,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(q.dirRecord),U)this.push({data:(function(Y){return $.DATA_DESCRIPTOR+f(Y.crc32,4)+f(Y.compressedSize,4)+f(Y.uncompressedSize,4)})(B),meta:{percent:100}});else for(this.push({data:q.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var B=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var q=this.bytesWritten-B,Y=(function(W,R,D,E,w){var k=x.transformTo("string",w(E));return $.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(W,2)+f(W,2)+f(R,4)+f(D,4)+f(k.length,2)+k})(this.dirRecords.length,q,B,this.zipComment,this.encodeFileName);this.push({data:Y,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(B){this._sources.push(B);var U=this;return B.on("data",(function(q){U.processChunk(q)})),B.on("end",(function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()})),B.on("error",(function(q){U.error(q)})),this},V.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(B){var U=this._sources;if(!j.prototype.error.call(this,B))return!1;for(var q=0;q<U.length;q++)try{U[q].error(B)}catch{}return!0},V.prototype.lock=function(){j.prototype.lock.call(this);for(var B=this._sources,U=0;U<B.length;U++)B[U].lock()},g.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,g,b){var f=a("../compressions"),v=a("./ZipFileWorker");b.generateWorker=function(x,j,C){var M=new v(j.streamFiles,C,j.platform,j.encodeFileName),$=0;try{x.forEach((function(V,B){$++;var U=(function(R,D){var E=R||D,w=f[E];if(!w)throw new Error(E+" is not a valid compression method !");return w})(B.options.compression,j.compression),q=B.options.compressionOptions||j.compressionOptions||{},Y=B.dir,W=B.date;B._compressWorker(U,q).withStreamInfo("file",{name:V,dir:Y,date:W,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(M)})),M.entriesCount=$}catch(V){M.error(V)}return M}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,g,b){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new f;for(var x in this)typeof this[x]!="function"&&(v[x]=this[x]);return v}}(f.prototype=a("./object")).loadAsync=a("./load"),f.support=a("./support"),f.defaults=a("./defaults"),f.version="3.10.1",f.loadAsync=function(v,x){return new f().loadAsync(v,x)},f.external=a("./external"),g.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,g,b){var f=a("./utils"),v=a("./external"),x=a("./utf8"),j=a("./zipEntries"),C=a("./stream/Crc32Probe"),M=a("./nodejsUtils");function $(V){return new v.Promise((function(B,U){var q=V.decompressed.getContentWorker().pipe(new C);q.on("error",(function(Y){U(Y)})).on("end",(function(){q.streamInfo.crc32!==V.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):B()})).resume()}))}g.exports=function(V,B){var U=this;return B=f.extend(B||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),M.isNode&&M.isStream(V)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",V,!0,B.optimizedBinaryString,B.base64).then((function(q){var Y=new j(B);return Y.load(q),Y})).then((function(q){var Y=[v.Promise.resolve(q)],W=q.files;if(B.checkCRC32)for(var R=0;R<W.length;R++)Y.push($(W[R]));return v.Promise.all(Y)})).then((function(q){for(var Y=q.shift(),W=Y.files,R=0;R<W.length;R++){var D=W[R],E=D.fileNameStr,w=f.resolve(D.fileNameStr);U.file(w,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:B.createFolders}),D.dir||(U.file(w).unsafeOriginalName=E)}return Y.zipComment.length&&(U.comment=Y.zipComment),U}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,g,b){var f=a("../utils"),v=a("../stream/GenericWorker");function x(j,C){v.call(this,"Nodejs stream input adapter for "+j),this._upstreamEnded=!1,this._bindStream(C)}f.inherits(x,v),x.prototype._bindStream=function(j){var C=this;(this._stream=j).pause(),j.on("data",(function(M){C.push({data:M,meta:{percent:0}})})).on("error",(function(M){C.isPaused?this.generatedError=M:C.error(M)})).on("end",(function(){C.isPaused?C._upstreamEnded=!0:C.end()}))},x.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,g,b){var f=a("readable-stream").Readable;function v(x,j,C){f.call(this,j),this._helper=x;var M=this;x.on("data",(function($,V){M.push($)||M._helper.pause(),C&&C(V)})).on("error",(function($){M.emit("error",$)})).on("end",(function(){M.push(null)}))}a("../utils").inherits(v,f),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(a,g,b){g.exports={isNode:i!==void 0,newBufferFrom:function(f,v){if(i.from&&i.from!==Uint8Array.from)return i.from(f,v);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new i(f,v)},allocBuffer:function(f){if(i.alloc)return i.alloc(f);var v=new i(f);return v.fill(0),v},isBuffer:function(f){return i.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(a,g,b){function f(w,k,S){var N,A=x.getTypeOf(k),P=x.extend(S||{},M);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(w=W(w)),P.createFolders&&(N=Y(w))&&R.call(this,N,!0);var L=A==="string"&&P.binary===!1&&P.base64===!1;S&&S.binary!==void 0||(P.binary=!L),(k instanceof $&&k.uncompressedSize===0||P.dir||!k||k.length===0)&&(P.base64=!1,P.binary=!0,k="",P.compression="STORE",A="string");var X;X=k instanceof $||k instanceof j?k:U.isNode&&U.isStream(k)?new q(w,k):x.prepareContent(w,k,P.binary,P.optimizedBinaryString,P.base64);var K=new V(w,X,P);this.files[w]=K}var v=a("./utf8"),x=a("./utils"),j=a("./stream/GenericWorker"),C=a("./stream/StreamHelper"),M=a("./defaults"),$=a("./compressedObject"),V=a("./zipObject"),B=a("./generate"),U=a("./nodejsUtils"),q=a("./nodejs/NodejsStreamInputAdapter"),Y=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var k=w.lastIndexOf("/");return 0<k?w.substring(0,k):""},W=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},R=function(w,k){return k=k!==void 0?k:M.createFolders,w=W(w),this.files[w]||f.call(this,w,null,{dir:!0,createFolders:k}),this.files[w]};function D(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var k,S,N;for(k in this.files)N=this.files[k],(S=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&w(S,N)},filter:function(w){var k=[];return this.forEach((function(S,N){w(S,N)&&k.push(N)})),k},file:function(w,k,S){if(arguments.length!==1)return w=this.root+w,f.call(this,w,k,S),this;if(D(w)){var N=w;return this.filter((function(P,L){return!L.dir&&N.test(P)}))}var A=this.files[this.root+w];return A&&!A.dir?A:null},folder:function(w){if(!w)return this;if(D(w))return this.filter((function(A,P){return P.dir&&w.test(A)}));var k=this.root+w,S=R.call(this,k),N=this.clone();return N.root=S.name,N},remove:function(w){w=this.root+w;var k=this.files[w];if(k||(w.slice(-1)!=="/"&&(w+="/"),k=this.files[w]),k&&!k.dir)delete this.files[w];else for(var S=this.filter((function(A,P){return P.name.slice(0,w.length)===w})),N=0;N<S.length;N++)delete this.files[S[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var k,S={};try{if((S=x.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");x.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var N=S.comment||this.comment||"";k=B.generateWorker(this,S,N)}catch(A){(k=new j("error")).error(A)}return new C(k,S.type||"string",S.mimeType)},generateAsync:function(w,k){return this.generateInternalStream(w).accumulate(k)},generateNodeStream:function(w,k){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(k)}};g.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,g,b){g.exports=a("stream")},{stream:void 0}],17:[function(a,g,b){var f=a("./DataReader");function v(x){f.call(this,x);for(var j=0;j<this.data.length;j++)x[j]=255&x[j]}a("../utils").inherits(v,f),v.prototype.byteAt=function(x){return this.data[this.zero+x]},v.prototype.lastIndexOfSignature=function(x){for(var j=x.charCodeAt(0),C=x.charCodeAt(1),M=x.charCodeAt(2),$=x.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===j&&this.data[V+1]===C&&this.data[V+2]===M&&this.data[V+3]===$)return V-this.zero;return-1},v.prototype.readAndCheckSignature=function(x){var j=x.charCodeAt(0),C=x.charCodeAt(1),M=x.charCodeAt(2),$=x.charCodeAt(3),V=this.readData(4);return j===V[0]&&C===V[1]&&M===V[2]&&$===V[3]},v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(a,g,b){var f=a("../utils");function v(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var j,C=0;for(this.checkOffset(x),j=this.index+x-1;j>=this.index;j--)C=(C<<8)+this.byteAt(j);return this.index+=x,C},readString:function(x){return f.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},g.exports=v},{"../utils":32}],19:[function(a,g,b){var f=a("./Uint8ArrayReader");function v(x){f.call(this,x)}a("../utils").inherits(v,f),v.prototype.readData=function(x){this.checkOffset(x);var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,g,b){var f=a("./DataReader");function v(x){f.call(this,x)}a("../utils").inherits(v,f),v.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},v.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},v.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},v.prototype.readData=function(x){this.checkOffset(x);var j=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(a,g,b){var f=a("./ArrayReader");function v(x){f.call(this,x)}a("../utils").inherits(v,f),v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var j=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,j},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(a,g,b){var f=a("../utils"),v=a("../support"),x=a("./ArrayReader"),j=a("./StringReader"),C=a("./NodeBufferReader"),M=a("./Uint8ArrayReader");g.exports=function($){var V=f.getTypeOf($);return f.checkSupport(V),V!=="string"||v.uint8array?V==="nodebuffer"?new C($):v.uint8array?new M(f.transformTo("uint8array",$)):new x(f.transformTo("array",$)):new j($)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,g,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,g,b){var f=a("./GenericWorker"),v=a("../utils");function x(j){f.call(this,"ConvertWorker to "+j),this.destType=j}v.inherits(x,f),x.prototype.processChunk=function(j){this.push({data:v.transformTo(this.destType,j.data),meta:j.meta})},g.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(a,g,b){var f=a("./GenericWorker"),v=a("../crc32");function x(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(x,f),x.prototype.processChunk=function(j){this.streamInfo.crc32=v(j.data,this.streamInfo.crc32||0),this.push(j)},g.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,g,b){var f=a("../utils"),v=a("./GenericWorker");function x(j){v.call(this,"DataLengthProbe for "+j),this.propName=j,this.withStreamInfo(j,0)}f.inherits(x,v),x.prototype.processChunk=function(j){if(j){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+j.data.length}v.prototype.processChunk.call(this,j)},g.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(a,g,b){var f=a("../utils"),v=a("./GenericWorker");function x(j){v.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,j.then((function(M){C.dataIsReady=!0,C.data=M,C.max=M&&M.length||0,C.type=f.getTypeOf(M),C.isPaused||C._tickAndRepeat()}),(function(M){C.error(M)}))}f.inherits(x,v),x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var j=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":j=this.data.substring(this.index,C);break;case"uint8array":j=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":j=this.data.slice(this.index,C)}return this.index=C,this.push({data:j,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(a,g,b){function f(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,x){return this._listeners[v].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,x){if(this._listeners[v])for(var j=0;j<this._listeners[v].length;j++)this._listeners[v][j].call(this,x)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var x=this;return v.on("data",(function(j){x.processChunk(j)})),v.on("end",(function(){x.end()})),v.on("error",(function(j){x.error(j)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,x){return this.extraStreamInfo[v]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=f},{}],29:[function(a,g,b){var f=a("../utils"),v=a("./ConvertWorker"),x=a("./GenericWorker"),j=a("../base64"),C=a("../support"),M=a("../external"),$=null;if(C.nodestream)try{$=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(B,U,q){var Y=U;switch(U){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string"}try{this._internalType=Y,this._outputType=U,this._mimeType=q,f.checkSupport(Y),this._worker=B.pipe(new v(Y)),B.lock()}catch(W){this._worker=new x("error"),this._worker.error(W)}}V.prototype={accumulate:function(B){return(function(U,q){return new M.Promise((function(Y,W){var R=[],D=U._internalType,E=U._outputType,w=U._mimeType;U.on("data",(function(k,S){R.push(k),q&&q(S)})).on("error",(function(k){R=[],W(k)})).on("end",(function(){try{var k=(function(S,N,A){switch(S){case"blob":return f.newBlob(f.transformTo("arraybuffer",N),A);case"base64":return j.encode(N);default:return f.transformTo(S,N)}})(E,(function(S,N){var A,P=0,L=null,X=0;for(A=0;A<N.length;A++)X+=N[A].length;switch(S){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(L=new Uint8Array(X),A=0;A<N.length;A++)L.set(N[A],P),P+=N[A].length;return L;case"nodebuffer":return i.concat(N);default:throw new Error("concat : unsupported type '"+S+"'")}})(D,R),w);Y(k)}catch(S){W(S)}R=[]})).resume()}))})(this,B)},on:function(B,U){var q=this;return B==="data"?this._worker.on(B,(function(Y){U.call(q,Y.data,Y.meta)})):this._worker.on(B,(function(){f.delay(U,arguments,q)})),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(B){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new $(this,{objectMode:this._outputType!=="nodebuffer"},B)}},g.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,g,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=i!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var f=new ArrayBuffer(0);try{b.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(f),b.blob=v.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!a("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(a,g,b){for(var f=a("./utils"),v=a("./support"),x=a("./nodejsUtils"),j=a("./stream/GenericWorker"),C=new Array(256),M=0;M<256;M++)C[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function $(){j.call(this,"utf-8 decode"),this.leftOver=null}function V(){j.call(this,"utf-8 encode")}C[254]=C[254]=1,b.utf8encode=function(B){return v.nodebuffer?x.newBufferFrom(B,"utf-8"):(function(U){var q,Y,W,R,D,E=U.length,w=0;for(R=0;R<E;R++)(64512&(Y=U.charCodeAt(R)))==55296&&R+1<E&&(64512&(W=U.charCodeAt(R+1)))==56320&&(Y=65536+(Y-55296<<10)+(W-56320),R++),w+=Y<128?1:Y<2048?2:Y<65536?3:4;for(q=v.uint8array?new Uint8Array(w):new Array(w),R=D=0;D<w;R++)(64512&(Y=U.charCodeAt(R)))==55296&&R+1<E&&(64512&(W=U.charCodeAt(R+1)))==56320&&(Y=65536+(Y-55296<<10)+(W-56320),R++),Y<128?q[D++]=Y:(Y<2048?q[D++]=192|Y>>>6:(Y<65536?q[D++]=224|Y>>>12:(q[D++]=240|Y>>>18,q[D++]=128|Y>>>12&63),q[D++]=128|Y>>>6&63),q[D++]=128|63&Y);return q})(B)},b.utf8decode=function(B){return v.nodebuffer?f.transformTo("nodebuffer",B).toString("utf-8"):(function(U){var q,Y,W,R,D=U.length,E=new Array(2*D);for(q=Y=0;q<D;)if((W=U[q++])<128)E[Y++]=W;else if(4<(R=C[W]))E[Y++]=65533,q+=R-1;else{for(W&=R===2?31:R===3?15:7;1<R&&q<D;)W=W<<6|63&U[q++],R--;1<R?E[Y++]=65533:W<65536?E[Y++]=W:(W-=65536,E[Y++]=55296|W>>10&1023,E[Y++]=56320|1023&W)}return E.length!==Y&&(E.subarray?E=E.subarray(0,Y):E.length=Y),f.applyFromCharCode(E)})(B=f.transformTo(v.uint8array?"uint8array":"array",B))},f.inherits($,j),$.prototype.processChunk=function(B){var U=f.transformTo(v.uint8array?"uint8array":"array",B.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var q=U;(U=new Uint8Array(q.length+this.leftOver.length)).set(this.leftOver,0),U.set(q,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var Y=(function(R,D){var E;for((D=D||R.length)>R.length&&(D=R.length),E=D-1;0<=E&&(192&R[E])==128;)E--;return E<0||E===0?D:E+C[R[E]]>D?E:D})(U),W=U;Y!==U.length&&(v.uint8array?(W=U.subarray(0,Y),this.leftOver=U.subarray(Y,U.length)):(W=U.slice(0,Y),this.leftOver=U.slice(Y,U.length))),this.push({data:b.utf8decode(W),meta:B.meta})},$.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=$,f.inherits(V,j),V.prototype.processChunk=function(B){this.push({data:b.utf8encode(B.data),meta:B.meta})},b.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,g,b){var f=a("./support"),v=a("./base64"),x=a("./nodejsUtils"),j=a("./external");function C(q){return q}function M(q,Y){for(var W=0;W<q.length;++W)Y[W]=255&q.charCodeAt(W);return Y}a("setimmediate"),b.newBlob=function(q,Y){b.checkSupport("blob");try{return new Blob([q],{type:Y})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(q),W.getBlob(Y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var $={stringifyByChunk:function(q,Y,W){var R=[],D=0,E=q.length;if(E<=W)return String.fromCharCode.apply(null,q);for(;D<E;)Y==="array"||Y==="nodebuffer"?R.push(String.fromCharCode.apply(null,q.slice(D,Math.min(D+W,E)))):R.push(String.fromCharCode.apply(null,q.subarray(D,Math.min(D+W,E)))),D+=W;return R.join("")},stringifyByChar:function(q){for(var Y="",W=0;W<q.length;W++)Y+=String.fromCharCode(q[W]);return Y},applyCanBeUsed:{uint8array:(function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function V(q){var Y=65536,W=b.getTypeOf(q),R=!0;if(W==="uint8array"?R=$.applyCanBeUsed.uint8array:W==="nodebuffer"&&(R=$.applyCanBeUsed.nodebuffer),R)for(;1<Y;)try{return $.stringifyByChunk(q,W,Y)}catch{Y=Math.floor(Y/2)}return $.stringifyByChar(q)}function B(q,Y){for(var W=0;W<q.length;W++)Y[W]=q[W];return Y}b.applyFromCharCode=V;var U={};U.string={string:C,array:function(q){return M(q,new Array(q.length))},arraybuffer:function(q){return U.string.uint8array(q).buffer},uint8array:function(q){return M(q,new Uint8Array(q.length))},nodebuffer:function(q){return M(q,x.allocBuffer(q.length))}},U.array={string:V,array:C,arraybuffer:function(q){return new Uint8Array(q).buffer},uint8array:function(q){return new Uint8Array(q)},nodebuffer:function(q){return x.newBufferFrom(q)}},U.arraybuffer={string:function(q){return V(new Uint8Array(q))},array:function(q){return B(new Uint8Array(q),new Array(q.byteLength))},arraybuffer:C,uint8array:function(q){return new Uint8Array(q)},nodebuffer:function(q){return x.newBufferFrom(new Uint8Array(q))}},U.uint8array={string:V,array:function(q){return B(q,new Array(q.length))},arraybuffer:function(q){return q.buffer},uint8array:C,nodebuffer:function(q){return x.newBufferFrom(q)}},U.nodebuffer={string:V,array:function(q){return B(q,new Array(q.length))},arraybuffer:function(q){return U.nodebuffer.uint8array(q).buffer},uint8array:function(q){return B(q,new Uint8Array(q.length))},nodebuffer:C},b.transformTo=function(q,Y){if(Y=Y||"",!q)return Y;b.checkSupport(q);var W=b.getTypeOf(Y);return U[W][q](Y)},b.resolve=function(q){for(var Y=q.split("/"),W=[],R=0;R<Y.length;R++){var D=Y[R];D==="."||D===""&&R!==0&&R!==Y.length-1||(D===".."?W.pop():W.push(D))}return W.join("/")},b.getTypeOf=function(q){return typeof q=="string"?"string":Object.prototype.toString.call(q)==="[object Array]"?"array":f.nodebuffer&&x.isBuffer(q)?"nodebuffer":f.uint8array&&q instanceof Uint8Array?"uint8array":f.arraybuffer&&q instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(q){if(!f[q.toLowerCase()])throw new Error(q+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(q){var Y,W,R="";for(W=0;W<(q||"").length;W++)R+="\\x"+((Y=q.charCodeAt(W))<16?"0":"")+Y.toString(16).toUpperCase();return R},b.delay=function(q,Y,W){o((function(){q.apply(W||null,Y||[])}))},b.inherits=function(q,Y){function W(){}W.prototype=Y.prototype,q.prototype=new W},b.extend=function(){var q,Y,W={};for(q=0;q<arguments.length;q++)for(Y in arguments[q])Object.prototype.hasOwnProperty.call(arguments[q],Y)&&W[Y]===void 0&&(W[Y]=arguments[q][Y]);return W},b.prepareContent=function(q,Y,W,R,D){return j.Promise.resolve(Y).then((function(E){return f.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new j.Promise((function(w,k){var S=new FileReader;S.onload=function(N){w(N.target.result)},S.onerror=function(N){k(N.target.error)},S.readAsArrayBuffer(E)})):E})).then((function(E){var w=b.getTypeOf(E);return w?(w==="arraybuffer"?E=b.transformTo("uint8array",E):w==="string"&&(D?E=v.decode(E):W&&R!==!0&&(E=(function(k){return M(k,f.uint8array?new Uint8Array(k.length):new Array(k.length))})(E))),E):j.Promise.reject(new Error("Can't read the data of '"+q+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,g,b){var f=a("./reader/readerFor"),v=a("./utils"),x=a("./signature"),j=a("./zipEntry"),C=a("./support");function M($){this.files=[],this.loadOptions=$}M.prototype={checkSignature:function($){if(!this.reader.readAndCheckSignature($)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(V)+", expected "+v.pretty($)+")")}},isSignature:function($,V){var B=this.reader.index;this.reader.setIndex($);var U=this.reader.readString(4)===V;return this.reader.setIndex(B),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var $=this.reader.readData(this.zipCommentLength),V=C.uint8array?"uint8array":"array",B=v.transformTo(V,$);this.zipComment=this.loadOptions.decodeFileName(B)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var $,V,B,U=this.zip64EndOfCentralSize-44;0<U;)$=this.reader.readInt(2),V=this.reader.readInt(4),B=this.reader.readData(V),this.zip64ExtensibleData[$]={id:$,length:V,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var $,V;for($=0;$<this.files.length;$++)V=this.files[$],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var $;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)($=new j({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push($);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var $=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if($<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex($);var V=$;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,($=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex($),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var U=V-B;if(0<U)this.isSignature(V,x.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function($){this.reader=f($)},load:function($){this.prepareReader($),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=M},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,g,b){var f=a("./reader/readerFor"),v=a("./utils"),x=a("./compressedObject"),j=a("./crc32"),C=a("./utf8"),M=a("./compressions"),$=a("./support");function V(B,U){this.options=B,this.loadOptions=U}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(B){var U,q;if(B.skip(22),this.fileNameLength=B.readInt(2),q=B.readInt(2),this.fileName=B.readData(this.fileNameLength),B.skip(q),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=(function(Y){for(var W in M)if(Object.prototype.hasOwnProperty.call(M,W)&&M[W].magic===Y)return M[W];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,U,B.readData(this.compressedSize))},readCentralPart:function(B){this.versionMadeBy=B.readInt(2),B.skip(2),this.bitFlag=B.readInt(2),this.compressionMethod=B.readString(2),this.date=B.readDate(),this.crc32=B.readInt(4),this.compressedSize=B.readInt(4),this.uncompressedSize=B.readInt(4);var U=B.readInt(2);if(this.extraFieldsLength=B.readInt(2),this.fileCommentLength=B.readInt(2),this.diskNumberStart=B.readInt(2),this.internalFileAttributes=B.readInt(2),this.externalFileAttributes=B.readInt(4),this.localHeaderOffset=B.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");B.skip(U),this.readExtraFields(B),this.parseZIP64ExtraField(B),this.fileComment=B.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var B=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),B==0&&(this.dosPermissions=63&this.externalFileAttributes),B==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var B=f(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=B.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=B.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=B.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=B.readInt(4))}},readExtraFields:function(B){var U,q,Y,W=B.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});B.index+4<W;)U=B.readInt(2),q=B.readInt(2),Y=B.readData(q),this.extraFields[U]={id:U,length:q,value:Y};B.setIndex(W)},handleUTF8:function(){var B=$.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var q=v.transformTo(B,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(q)}var Y=this.findExtraFieldUnicodeComment();if(Y!==null)this.fileCommentStr=Y;else{var W=v.transformTo(B,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var B=this.extraFields[28789];if(B){var U=f(B.value);return U.readInt(1)!==1||j(this.fileName)!==U.readInt(4)?null:C.utf8decode(U.readData(B.length-5))}return null},findExtraFieldUnicodeComment:function(){var B=this.extraFields[25461];if(B){var U=f(B.value);return U.readInt(1)!==1||j(this.fileComment)!==U.readInt(4)?null:C.utf8decode(U.readData(B.length-5))}return null}},g.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,g,b){function f(U,q,Y){this.name=U,this.dir=Y.dir,this.date=Y.date,this.comment=Y.comment,this.unixPermissions=Y.unixPermissions,this.dosPermissions=Y.dosPermissions,this._data=q,this._dataBinary=Y.binary,this.options={compression:Y.compression,compressionOptions:Y.compressionOptions}}var v=a("./stream/StreamHelper"),x=a("./stream/DataWorker"),j=a("./utf8"),C=a("./compressedObject"),M=a("./stream/GenericWorker");f.prototype={internalStream:function(U){var q=null,Y="string";try{if(!U)throw new Error("No output type specified.");var W=(Y=U.toLowerCase())==="string"||Y==="text";Y!=="binarystring"&&Y!=="text"||(Y="string"),q=this._decompressWorker();var R=!this._dataBinary;R&&!W&&(q=q.pipe(new j.Utf8EncodeWorker)),!R&&W&&(q=q.pipe(new j.Utf8DecodeWorker))}catch(D){(q=new M("error")).error(D)}return new v(q,Y,"")},async:function(U,q){return this.internalStream(U).accumulate(q)},nodeStream:function(U,q){return this.internalStream(U||"nodebuffer").toNodejsStream(q)},_compressWorker:function(U,q){if(this._data instanceof C&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var Y=this._decompressWorker();return this._dataBinary||(Y=Y.pipe(new j.Utf8EncodeWorker)),C.createWorkerFrom(Y,U,q)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof M?this._data:new x(this._data)}};for(var $=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},B=0;B<$.length;B++)f.prototype[$[B]]=V;g.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,g,b){(function(f){var v,x,j=f.MutationObserver||f.WebKitMutationObserver;if(j){var C=0,M=new j(U),$=f.document.createTextNode("");M.observe($,{characterData:!0}),v=function(){$.data=C=++C%2}}else if(f.setImmediate||f.MessageChannel===void 0)v="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var q=f.document.createElement("script");q.onreadystatechange=function(){U(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},f.document.documentElement.appendChild(q)}:function(){setTimeout(U,0)};else{var V=new f.MessageChannel;V.port1.onmessage=U,v=function(){V.port2.postMessage(0)}}var B=[];function U(){var q,Y;x=!0;for(var W=B.length;W;){for(Y=B,B=[],q=-1;++q<W;)Y[q]();W=B.length}x=!1}g.exports=function(q){B.push(q)!==1||x||v()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,g,b){var f=a("immediate");function v(){}var x={},j=["REJECTED"],C=["FULFILLED"],M=["PENDING"];function $(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,W!==v&&q(this,W)}function V(W,R,D){this.promise=W,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function B(W,R,D){f((function(){var E;try{E=R(D)}catch(w){return x.reject(W,w)}E===W?x.reject(W,new TypeError("Cannot resolve promise with itself")):x.resolve(W,E)}))}function U(W){var R=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof R=="function")return function(){R.apply(W,arguments)}}function q(W,R){var D=!1;function E(S){D||(D=!0,x.reject(W,S))}function w(S){D||(D=!0,x.resolve(W,S))}var k=Y((function(){R(w,E)}));k.status==="error"&&E(k.value)}function Y(W,R){var D={};try{D.value=W(R),D.status="success"}catch(E){D.status="error",D.value=E}return D}(g.exports=$).prototype.finally=function(W){if(typeof W!="function")return this;var R=this.constructor;return this.then((function(D){return R.resolve(W()).then((function(){return D}))}),(function(D){return R.resolve(W()).then((function(){throw D}))}))},$.prototype.catch=function(W){return this.then(null,W)},$.prototype.then=function(W,R){if(typeof W!="function"&&this.state===C||typeof R!="function"&&this.state===j)return this;var D=new this.constructor(v);return this.state!==M?B(D,this.state===C?W:R,this.outcome):this.queue.push(new V(D,W,R)),D},V.prototype.callFulfilled=function(W){x.resolve(this.promise,W)},V.prototype.otherCallFulfilled=function(W){B(this.promise,this.onFulfilled,W)},V.prototype.callRejected=function(W){x.reject(this.promise,W)},V.prototype.otherCallRejected=function(W){B(this.promise,this.onRejected,W)},x.resolve=function(W,R){var D=Y(U,R);if(D.status==="error")return x.reject(W,D.value);var E=D.value;if(E)q(W,E);else{W.state=C,W.outcome=R;for(var w=-1,k=W.queue.length;++w<k;)W.queue[w].callFulfilled(R)}return W},x.reject=function(W,R){W.state=j,W.outcome=R;for(var D=-1,E=W.queue.length;++D<E;)W.queue[D].callRejected(R);return W},$.resolve=function(W){return W instanceof this?W:x.resolve(new this(v),W)},$.reject=function(W){var R=new this(v);return x.reject(R,W)},$.all=function(W){var R=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=W.length,E=!1;if(!D)return this.resolve([]);for(var w=new Array(D),k=0,S=-1,N=new this(v);++S<D;)A(W[S],S);return N;function A(P,L){R.resolve(P).then((function(X){w[L]=X,++k!==D||E||(E=!0,x.resolve(N,w))}),(function(X){E||(E=!0,x.reject(N,X))}))}},$.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=W.length,D=!1;if(!R)return this.resolve([]);for(var E,w=-1,k=new this(v);++w<R;)E=W[w],this.resolve(E).then((function(S){D||(D=!0,x.resolve(k,S))}),(function(S){D||(D=!0,x.reject(k,S))}));return k}},{immediate:36}],38:[function(a,g,b){var f={};(0,a("./lib/utils/common").assign)(f,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),g.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,g,b){var f=a("./zlib/deflate"),v=a("./utils/common"),x=a("./utils/strings"),j=a("./zlib/messages"),C=a("./zlib/zstream"),M=Object.prototype.toString;function $(B){if(!(this instanceof $))return new $(B);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},B||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var q=f.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(q!==0)throw new Error(j[q]);if(U.header&&f.deflateSetHeader(this.strm,U.header),U.dictionary){var Y;if(Y=typeof U.dictionary=="string"?x.string2buf(U.dictionary):M.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(q=f.deflateSetDictionary(this.strm,Y))!==0)throw new Error(j[q]);this._dict_set=!0}}function V(B,U){var q=new $(U);if(q.push(B,!0),q.err)throw q.msg||j[q.err];return q.result}$.prototype.push=function(B,U){var q,Y,W=this.strm,R=this.options.chunkSize;if(this.ended)return!1;Y=U===~~U?U:U===!0?4:0,typeof B=="string"?W.input=x.string2buf(B):M.call(B)==="[object ArrayBuffer]"?W.input=new Uint8Array(B):W.input=B,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new v.Buf8(R),W.next_out=0,W.avail_out=R),(q=f.deflate(W,Y))!==1&&q!==0)return this.onEnd(q),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(v.shrinkBuf(W.output,W.next_out))):this.onData(v.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&q!==1);return Y===4?(q=f.deflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===0):Y!==2||(this.onEnd(0),!(W.avail_out=0))},$.prototype.onData=function(B){this.chunks.push(B)},$.prototype.onEnd=function(B){B===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},b.Deflate=$,b.deflate=V,b.deflateRaw=function(B,U){return(U=U||{}).raw=!0,V(B,U)},b.gzip=function(B,U){return(U=U||{}).gzip=!0,V(B,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,g,b){var f=a("./zlib/inflate"),v=a("./utils/common"),x=a("./utils/strings"),j=a("./zlib/constants"),C=a("./zlib/messages"),M=a("./zlib/zstream"),$=a("./zlib/gzheader"),V=Object.prototype.toString;function B(q){if(!(this instanceof B))return new B(q);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},q||{});var Y=this.options;Y.raw&&0<=Y.windowBits&&Y.windowBits<16&&(Y.windowBits=-Y.windowBits,Y.windowBits===0&&(Y.windowBits=-15)),!(0<=Y.windowBits&&Y.windowBits<16)||q&&q.windowBits||(Y.windowBits+=32),15<Y.windowBits&&Y.windowBits<48&&(15&Y.windowBits)==0&&(Y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var W=f.inflateInit2(this.strm,Y.windowBits);if(W!==j.Z_OK)throw new Error(C[W]);this.header=new $,f.inflateGetHeader(this.strm,this.header)}function U(q,Y){var W=new B(Y);if(W.push(q,!0),W.err)throw W.msg||C[W.err];return W.result}B.prototype.push=function(q,Y){var W,R,D,E,w,k,S=this.strm,N=this.options.chunkSize,A=this.options.dictionary,P=!1;if(this.ended)return!1;R=Y===~~Y?Y:Y===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof q=="string"?S.input=x.binstring2buf(q):V.call(q)==="[object ArrayBuffer]"?S.input=new Uint8Array(q):S.input=q,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new v.Buf8(N),S.next_out=0,S.avail_out=N),(W=f.inflate(S,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&A&&(k=typeof A=="string"?x.string2buf(A):V.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,W=f.inflateSetDictionary(this.strm,k)),W===j.Z_BUF_ERROR&&P===!0&&(W=j.Z_OK,P=!1),W!==j.Z_STREAM_END&&W!==j.Z_OK)return this.onEnd(W),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&W!==j.Z_STREAM_END&&(S.avail_in!==0||R!==j.Z_FINISH&&R!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=x.utf8border(S.output,S.next_out),E=S.next_out-D,w=x.buf2string(S.output,D),S.next_out=E,S.avail_out=N-E,E&&v.arraySet(S.output,S.output,D,E,0),this.onData(w)):this.onData(v.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(P=!0)}while((0<S.avail_in||S.avail_out===0)&&W!==j.Z_STREAM_END);return W===j.Z_STREAM_END&&(R=j.Z_FINISH),R===j.Z_FINISH?(W=f.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===j.Z_OK):R!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),!(S.avail_out=0))},B.prototype.onData=function(q){this.chunks.push(q)},B.prototype.onEnd=function(q){q===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=q,this.msg=this.strm.msg},b.Inflate=B,b.inflate=U,b.inflateRaw=function(q,Y){return(Y=Y||{}).raw=!0,U(q,Y)},b.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,g,b){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(j){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var M=C.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(var $ in M)M.hasOwnProperty($)&&(j[$]=M[$])}}return j},b.shrinkBuf=function(j,C){return j.length===C?j:j.subarray?j.subarray(0,C):(j.length=C,j)};var v={arraySet:function(j,C,M,$,V){if(C.subarray&&j.subarray)j.set(C.subarray(M,M+$),V);else for(var B=0;B<$;B++)j[V+B]=C[M+B]},flattenChunks:function(j){var C,M,$,V,B,U;for(C=$=0,M=j.length;C<M;C++)$+=j[C].length;for(U=new Uint8Array($),C=V=0,M=j.length;C<M;C++)B=j[C],U.set(B,V),V+=B.length;return U}},x={arraySet:function(j,C,M,$,V){for(var B=0;B<$;B++)j[V+B]=C[M+B]},flattenChunks:function(j){return[].concat.apply([],j)}};b.setTyped=function(j){j?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,v)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,x))},b.setTyped(f)},{}],42:[function(a,g,b){var f=a("./common"),v=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var j=new f.Buf8(256),C=0;C<256;C++)j[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function M($,V){if(V<65537&&($.subarray&&x||!$.subarray&&v))return String.fromCharCode.apply(null,f.shrinkBuf($,V));for(var B="",U=0;U<V;U++)B+=String.fromCharCode($[U]);return B}j[254]=j[254]=1,b.string2buf=function($){var V,B,U,q,Y,W=$.length,R=0;for(q=0;q<W;q++)(64512&(B=$.charCodeAt(q)))==55296&&q+1<W&&(64512&(U=$.charCodeAt(q+1)))==56320&&(B=65536+(B-55296<<10)+(U-56320),q++),R+=B<128?1:B<2048?2:B<65536?3:4;for(V=new f.Buf8(R),q=Y=0;Y<R;q++)(64512&(B=$.charCodeAt(q)))==55296&&q+1<W&&(64512&(U=$.charCodeAt(q+1)))==56320&&(B=65536+(B-55296<<10)+(U-56320),q++),B<128?V[Y++]=B:(B<2048?V[Y++]=192|B>>>6:(B<65536?V[Y++]=224|B>>>12:(V[Y++]=240|B>>>18,V[Y++]=128|B>>>12&63),V[Y++]=128|B>>>6&63),V[Y++]=128|63&B);return V},b.buf2binstring=function($){return M($,$.length)},b.binstring2buf=function($){for(var V=new f.Buf8($.length),B=0,U=V.length;B<U;B++)V[B]=$.charCodeAt(B);return V},b.buf2string=function($,V){var B,U,q,Y,W=V||$.length,R=new Array(2*W);for(B=U=0;B<W;)if((q=$[B++])<128)R[U++]=q;else if(4<(Y=j[q]))R[U++]=65533,B+=Y-1;else{for(q&=Y===2?31:Y===3?15:7;1<Y&&B<W;)q=q<<6|63&$[B++],Y--;1<Y?R[U++]=65533:q<65536?R[U++]=q:(q-=65536,R[U++]=55296|q>>10&1023,R[U++]=56320|1023&q)}return M(R,U)},b.utf8border=function($,V){var B;for((V=V||$.length)>$.length&&(V=$.length),B=V-1;0<=B&&(192&$[B])==128;)B--;return B<0||B===0?V:B+j[$[B]]>V?B:V}},{"./common":41}],43:[function(a,g,b){g.exports=function(f,v,x,j){for(var C=65535&f|0,M=f>>>16&65535|0,$=0;x!==0;){for(x-=$=2e3<x?2e3:x;M=M+(C=C+v[j++]|0)|0,--$;);C%=65521,M%=65521}return C|M<<16|0}},{}],44:[function(a,g,b){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,g,b){var f=(function(){for(var v,x=[],j=0;j<256;j++){v=j;for(var C=0;C<8;C++)v=1&v?3988292384^v>>>1:v>>>1;x[j]=v}return x})();g.exports=function(v,x,j,C){var M=f,$=C+j;v^=-1;for(var V=C;V<$;V++)v=v>>>8^M[255&(v^x[V])];return-1^v}},{}],46:[function(a,g,b){var f,v=a("../utils/common"),x=a("./trees"),j=a("./adler32"),C=a("./crc32"),M=a("./messages"),$=-2,V=258,B=262,U=113;function q(z,Q){return z.msg=M[Q],Q}function Y(z){return(z<<1)-(4<z?9:0)}function W(z){for(var Q=z.length;0<=--Q;)z[Q]=0}function R(z){var Q=z.state,O=Q.pending;O>z.avail_out&&(O=z.avail_out),O!==0&&(v.arraySet(z.output,Q.pending_buf,Q.pending_out,O,z.next_out),z.next_out+=O,Q.pending_out+=O,z.total_out+=O,z.avail_out-=O,Q.pending-=O,Q.pending===0&&(Q.pending_out=0))}function D(z,Q){x._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Q),z.block_start=z.strstart,R(z.strm)}function E(z,Q){z.pending_buf[z.pending++]=Q}function w(z,Q){z.pending_buf[z.pending++]=Q>>>8&255,z.pending_buf[z.pending++]=255&Q}function k(z,Q){var O,I,H=z.max_chain_length,ee=z.strstart,ne=z.prev_length,re=z.nice_match,oe=z.strstart>z.w_size-B?z.strstart-(z.w_size-B):0,he=z.window,pe=z.w_mask,ie=z.prev,ue=z.strstart+V,de=he[ee+ne-1],ve=he[ee+ne];z.prev_length>=z.good_match&&(H>>=2),re>z.lookahead&&(re=z.lookahead);do if(he[(O=Q)+ne]===ve&&he[O+ne-1]===de&&he[O]===he[ee]&&he[++O]===he[ee+1]){ee+=2,O++;do;while(he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&he[++ee]===he[++O]&&ee<ue);if(I=V-(ue-ee),ee=ue-V,ne<I){if(z.match_start=Q,re<=(ne=I))break;de=he[ee+ne-1],ve=he[ee+ne]}}while((Q=ie[Q&pe])>oe&&--H!=0);return ne<=z.lookahead?ne:z.lookahead}function S(z){var Q,O,I,H,ee,ne,re,oe,he,pe,ie=z.w_size;do{if(H=z.window_size-z.lookahead-z.strstart,z.strstart>=ie+(ie-B)){for(v.arraySet(z.window,z.window,ie,ie,0),z.match_start-=ie,z.strstart-=ie,z.block_start-=ie,Q=O=z.hash_size;I=z.head[--Q],z.head[Q]=ie<=I?I-ie:0,--O;);for(Q=O=ie;I=z.prev[--Q],z.prev[Q]=ie<=I?I-ie:0,--O;);H+=ie}if(z.strm.avail_in===0)break;if(ne=z.strm,re=z.window,oe=z.strstart+z.lookahead,pe=void 0,(he=H)<(pe=ne.avail_in)&&(pe=he),O=pe===0?0:(ne.avail_in-=pe,v.arraySet(re,ne.input,ne.next_in,pe,oe),ne.state.wrap===1?ne.adler=j(ne.adler,re,pe,oe):ne.state.wrap===2&&(ne.adler=C(ne.adler,re,pe,oe)),ne.next_in+=pe,ne.total_in+=pe,pe),z.lookahead+=O,z.lookahead+z.insert>=3)for(ee=z.strstart-z.insert,z.ins_h=z.window[ee],z.ins_h=(z.ins_h<<z.hash_shift^z.window[ee+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[ee+3-1])&z.hash_mask,z.prev[ee&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=ee,ee++,z.insert--,!(z.lookahead+z.insert<3)););}while(z.lookahead<B&&z.strm.avail_in!==0)}function N(z,Q){for(var O,I;;){if(z.lookahead<B){if(S(z),z.lookahead<B&&Q===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),O!==0&&z.strstart-O<=z.w_size-B&&(z.match_length=k(z,O)),z.match_length>=3)if(I=x._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=3){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else I=x._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(I&&(D(z,!1),z.strm.avail_out===0))return 1}return z.insert=z.strstart<2?z.strstart:2,Q===4?(D(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?1:2}function A(z,Q){for(var O,I,H;;){if(z.lookahead<B){if(S(z),z.lookahead<B&&Q===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=2,O!==0&&z.prev_length<z.max_lazy_match&&z.strstart-O<=z.w_size-B&&(z.match_length=k(z,O),z.match_length<=5&&(z.strategy===1||z.match_length===3&&4096<z.strstart-z.match_start)&&(z.match_length=2)),z.prev_length>=3&&z.match_length<=z.prev_length){for(H=z.strstart+z.lookahead-3,I=x._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=H&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=2,z.strstart++,I&&(D(z,!1),z.strm.avail_out===0))return 1}else if(z.match_available){if((I=x._tr_tally(z,0,z.window[z.strstart-1]))&&D(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return 1}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(I=x._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<2?z.strstart:2,Q===4?(D(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?1:2}function P(z,Q,O,I,H){this.good_length=z,this.max_lazy=Q,this.nice_length=O,this.max_chain=I,this.func=H}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(z){var Q;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=2,(Q=z.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:U,z.adler=Q.wrap===2?0:1,Q.last_flush=0,x._tr_init(Q),0):q(z,$)}function K(z){var Q=X(z);return Q===0&&(function(O){O.window_size=2*O.w_size,W(O.head),O.max_lazy_match=f[O.level].max_lazy,O.good_match=f[O.level].good_length,O.nice_match=f[O.level].nice_length,O.max_chain_length=f[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0})(z.state),Q}function te(z,Q,O,I,H,ee){if(!z)return $;var ne=1;if(Q===-1&&(Q=6),I<0?(ne=0,I=-I):15<I&&(ne=2,I-=16),H<1||9<H||O!==8||I<8||15<I||Q<0||9<Q||ee<0||4<ee)return q(z,$);I===8&&(I=9);var re=new L;return(z.state=re).strm=z,re.wrap=ne,re.gzhead=null,re.w_bits=I,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=H+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+3-1)/3),re.window=new v.Buf8(2*re.w_size),re.head=new v.Buf16(re.hash_size),re.prev=new v.Buf16(re.w_size),re.lit_bufsize=1<<H+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new v.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=Q,re.strategy=ee,re.method=O,K(z)}f=[new P(0,0,0,0,(function(z,Q){var O=65535;for(O>z.pending_buf_size-5&&(O=z.pending_buf_size-5);;){if(z.lookahead<=1){if(S(z),z.lookahead===0&&Q===0)return 1;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var I=z.block_start+O;if((z.strstart===0||z.strstart>=I)&&(z.lookahead=z.strstart-I,z.strstart=I,D(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-B&&(D(z,!1),z.strm.avail_out===0))return 1}return z.insert=0,Q===4?(D(z,!0),z.strm.avail_out===0?3:4):(z.strstart>z.block_start&&(D(z,!1),z.strm.avail_out),1)})),new P(4,4,8,4,N),new P(4,5,16,8,N),new P(4,6,32,32,N),new P(4,4,16,16,A),new P(8,16,32,32,A),new P(8,16,128,128,A),new P(8,32,128,256,A),new P(32,128,258,1024,A),new P(32,258,258,4096,A)],b.deflateInit=function(z,Q){return te(z,Q,8,15,8,0)},b.deflateInit2=te,b.deflateReset=K,b.deflateResetKeep=X,b.deflateSetHeader=function(z,Q){return z&&z.state?z.state.wrap!==2?$:(z.state.gzhead=Q,0):$},b.deflate=function(z,Q){var O,I,H,ee;if(!z||!z.state||5<Q||Q<0)return z?q(z,$):$;if(I=z.state,!z.output||!z.input&&z.avail_in!==0||I.status===666&&Q!==4)return q(z,z.avail_out===0?-5:$);if(I.strm=z,O=I.last_flush,I.last_flush=Q,I.status===42)if(I.wrap===2)z.adler=0,E(I,31),E(I,139),E(I,8),I.gzhead?(E(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),E(I,255&I.gzhead.time),E(I,I.gzhead.time>>8&255),E(I,I.gzhead.time>>16&255),E(I,I.gzhead.time>>24&255),E(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),E(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(E(I,255&I.gzhead.extra.length),E(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(z.adler=C(z.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(E(I,0),E(I,0),E(I,0),E(I,0),E(I,0),E(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),E(I,3),I.status=U);else{var ne=8+(I.w_bits-8<<4)<<8;ne|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(ne|=32),ne+=31-ne%31,I.status=U,w(I,ne),I.strstart!==0&&(w(I,z.adler>>>16),w(I,65535&z.adler)),z.adler=1}if(I.status===69)if(I.gzhead.extra){for(H=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),R(z),H=I.pending,I.pending!==I.pending_buf_size));)E(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){H=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),R(z),H=I.pending,I.pending===I.pending_buf_size)){ee=1;break}ee=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,E(I,ee)}while(ee!==0);I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),ee===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){H=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),R(z),H=I.pending,I.pending===I.pending_buf_size)){ee=1;break}ee=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,E(I,ee)}while(ee!==0);I.gzhead.hcrc&&I.pending>H&&(z.adler=C(z.adler,I.pending_buf,I.pending-H,H)),ee===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&R(z),I.pending+2<=I.pending_buf_size&&(E(I,255&z.adler),E(I,z.adler>>8&255),z.adler=0,I.status=U)):I.status=U),I.pending!==0){if(R(z),z.avail_out===0)return I.last_flush=-1,0}else if(z.avail_in===0&&Y(Q)<=Y(O)&&Q!==4)return q(z,-5);if(I.status===666&&z.avail_in!==0)return q(z,-5);if(z.avail_in!==0||I.lookahead!==0||Q!==0&&I.status!==666){var re=I.strategy===2?(function(oe,he){for(var pe;;){if(oe.lookahead===0&&(S(oe),oe.lookahead===0)){if(he===0)return 1;break}if(oe.match_length=0,pe=x._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,pe&&(D(oe,!1),oe.strm.avail_out===0))return 1}return oe.insert=0,he===4?(D(oe,!0),oe.strm.avail_out===0?3:4):oe.last_lit&&(D(oe,!1),oe.strm.avail_out===0)?1:2})(I,Q):I.strategy===3?(function(oe,he){for(var pe,ie,ue,de,ve=oe.window;;){if(oe.lookahead<=V){if(S(oe),oe.lookahead<=V&&he===0)return 1;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=3&&0<oe.strstart&&(ie=ve[ue=oe.strstart-1])===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]){de=oe.strstart+V;do;while(ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ie===ve[++ue]&&ue<de);oe.match_length=V-(de-ue),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=3?(pe=x._tr_tally(oe,1,oe.match_length-3),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(pe=x._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),pe&&(D(oe,!1),oe.strm.avail_out===0))return 1}return oe.insert=0,he===4?(D(oe,!0),oe.strm.avail_out===0?3:4):oe.last_lit&&(D(oe,!1),oe.strm.avail_out===0)?1:2})(I,Q):f[I.level].func(I,Q);if(re!==3&&re!==4||(I.status=666),re===1||re===3)return z.avail_out===0&&(I.last_flush=-1),0;if(re===2&&(Q===1?x._tr_align(I):Q!==5&&(x._tr_stored_block(I,0,0,!1),Q===3&&(W(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),R(z),z.avail_out===0))return I.last_flush=-1,0}return Q!==4?0:I.wrap<=0?1:(I.wrap===2?(E(I,255&z.adler),E(I,z.adler>>8&255),E(I,z.adler>>16&255),E(I,z.adler>>24&255),E(I,255&z.total_in),E(I,z.total_in>>8&255),E(I,z.total_in>>16&255),E(I,z.total_in>>24&255)):(w(I,z.adler>>>16),w(I,65535&z.adler)),R(z),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?0:1)},b.deflateEnd=function(z){var Q;return z&&z.state?(Q=z.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==U&&Q!==666?q(z,$):(z.state=null,Q===U?q(z,-3):0):$},b.deflateSetDictionary=function(z,Q){var O,I,H,ee,ne,re,oe,he,pe=Q.length;if(!z||!z.state||(ee=(O=z.state).wrap)===2||ee===1&&O.status!==42||O.lookahead)return $;for(ee===1&&(z.adler=j(z.adler,Q,pe,0)),O.wrap=0,pe>=O.w_size&&(ee===0&&(W(O.head),O.strstart=0,O.block_start=0,O.insert=0),he=new v.Buf8(O.w_size),v.arraySet(he,Q,pe-O.w_size,O.w_size,0),Q=he,pe=O.w_size),ne=z.avail_in,re=z.next_in,oe=z.input,z.avail_in=pe,z.next_in=0,z.input=Q,S(O);O.lookahead>=3;){for(I=O.strstart,H=O.lookahead-2;O.ins_h=(O.ins_h<<O.hash_shift^O.window[I+3-1])&O.hash_mask,O.prev[I&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=I,I++,--H;);O.strstart=I,O.lookahead=2,S(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=2,O.match_available=0,z.next_in=re,z.input=oe,z.avail_in=ne,O.wrap=ee,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,g,b){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,g,b){g.exports=function(f,v){var x,j,C,M,$,V,B,U,q,Y,W,R,D,E,w,k,S,N,A,P,L,X,K,te,z;x=f.state,j=f.next_in,te=f.input,C=j+(f.avail_in-5),M=f.next_out,z=f.output,$=M-(v-f.avail_out),V=M+(f.avail_out-257),B=x.dmax,U=x.wsize,q=x.whave,Y=x.wnext,W=x.window,R=x.hold,D=x.bits,E=x.lencode,w=x.distcode,k=(1<<x.lenbits)-1,S=(1<<x.distbits)-1;e:do{D<15&&(R+=te[j++]<<D,D+=8,R+=te[j++]<<D,D+=8),N=E[R&k];t:for(;;){if(R>>>=A=N>>>24,D-=A,(A=N>>>16&255)==0)z[M++]=65535&N;else{if(!(16&A)){if((64&A)==0){N=E[(65535&N)+(R&(1<<A)-1)];continue t}if(32&A){x.mode=12;break e}f.msg="invalid literal/length code",x.mode=30;break e}P=65535&N,(A&=15)&&(D<A&&(R+=te[j++]<<D,D+=8),P+=R&(1<<A)-1,R>>>=A,D-=A),D<15&&(R+=te[j++]<<D,D+=8,R+=te[j++]<<D,D+=8),N=w[R&S];r:for(;;){if(R>>>=A=N>>>24,D-=A,!(16&(A=N>>>16&255))){if((64&A)==0){N=w[(65535&N)+(R&(1<<A)-1)];continue r}f.msg="invalid distance code",x.mode=30;break e}if(L=65535&N,D<(A&=15)&&(R+=te[j++]<<D,(D+=8)<A&&(R+=te[j++]<<D,D+=8)),B<(L+=R&(1<<A)-1)){f.msg="invalid distance too far back",x.mode=30;break e}if(R>>>=A,D-=A,(A=M-$)<L){if(q<(A=L-A)&&x.sane){f.msg="invalid distance too far back",x.mode=30;break e}if(K=W,(X=0)===Y){if(X+=U-A,A<P){for(P-=A;z[M++]=W[X++],--A;);X=M-L,K=z}}else if(Y<A){if(X+=U+Y-A,(A-=Y)<P){for(P-=A;z[M++]=W[X++],--A;);if(X=0,Y<P){for(P-=A=Y;z[M++]=W[X++],--A;);X=M-L,K=z}}}else if(X+=Y-A,A<P){for(P-=A;z[M++]=W[X++],--A;);X=M-L,K=z}for(;2<P;)z[M++]=K[X++],z[M++]=K[X++],z[M++]=K[X++],P-=3;P&&(z[M++]=K[X++],1<P&&(z[M++]=K[X++]))}else{for(X=M-L;z[M++]=z[X++],z[M++]=z[X++],z[M++]=z[X++],2<(P-=3););P&&(z[M++]=z[X++],1<P&&(z[M++]=z[X++]))}break}}break}}while(j<C&&M<V);j-=P=D>>3,R&=(1<<(D-=P<<3))-1,f.next_in=j,f.next_out=M,f.avail_in=j<C?C-j+5:5-(j-C),f.avail_out=M<V?V-M+257:257-(M-V),x.hold=R,x.bits=D}},{}],49:[function(a,g,b){var f=a("../utils/common"),v=a("./adler32"),x=a("./crc32"),j=a("./inffast"),C=a("./inftrees"),M=-2;function $(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(k){var S;return k&&k.state?(S=k.state,k.total_in=k.total_out=S.total=0,k.msg="",S.wrap&&(k.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new f.Buf32(852),S.distcode=S.distdyn=new f.Buf32(592),S.sane=1,S.back=-1,0):M}function U(k){var S;return k&&k.state?((S=k.state).wsize=0,S.whave=0,S.wnext=0,B(k)):M}function q(k,S){var N,A;return k&&k.state?(A=k.state,S<0?(N=0,S=-S):(N=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?M:(A.window!==null&&A.wbits!==S&&(A.window=null),A.wrap=N,A.wbits=S,U(k))):M}function Y(k,S){var N,A;return k?(A=new V,(k.state=A).window=null,(N=q(k,S))!==0&&(k.state=null),N):M}var W,R,D=!0;function E(k){if(D){var S;for(W=new f.Buf32(512),R=new f.Buf32(32),S=0;S<144;)k.lens[S++]=8;for(;S<256;)k.lens[S++]=9;for(;S<280;)k.lens[S++]=7;for(;S<288;)k.lens[S++]=8;for(C(1,k.lens,0,288,W,0,k.work,{bits:9}),S=0;S<32;)k.lens[S++]=5;C(2,k.lens,0,32,R,0,k.work,{bits:5}),D=!1}k.lencode=W,k.lenbits=9,k.distcode=R,k.distbits=5}function w(k,S,N,A){var P,L=k.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new f.Buf8(L.wsize)),A>=L.wsize?(f.arraySet(L.window,S,N-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(A<(P=L.wsize-L.wnext)&&(P=A),f.arraySet(L.window,S,N-A,P,L.wnext),(A-=P)?(f.arraySet(L.window,S,N-A,A,0),L.wnext=A,L.whave=L.wsize):(L.wnext+=P,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=P))),0}b.inflateReset=U,b.inflateReset2=q,b.inflateResetKeep=B,b.inflateInit=function(k){return Y(k,15)},b.inflateInit2=Y,b.inflate=function(k,S){var N,A,P,L,X,K,te,z,Q,O,I,H,ee,ne,re,oe,he,pe,ie,ue,de,ve,le,ge,Ne=0,je=new f.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return M;(N=k.state).mode===12&&(N.mode=13),X=k.next_out,P=k.output,te=k.avail_out,L=k.next_in,A=k.input,K=k.avail_in,z=N.hold,Q=N.bits,O=K,I=te,ve=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;Q<16;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(2&N.wrap&&z===35615){je[N.check=0]=255&z,je[1]=z>>>8&255,N.check=x(N.check,je,2,0),Q=z=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&z)<<8)+(z>>8))%31){k.msg="incorrect header check",N.mode=30;break}if((15&z)!=8){k.msg="unknown compression method",N.mode=30;break}if(Q-=4,de=8+(15&(z>>>=4)),N.wbits===0)N.wbits=de;else if(de>N.wbits){k.msg="invalid window size",N.mode=30;break}N.dmax=1<<de,k.adler=N.check=1,N.mode=512&z?10:12,Q=z=0;break;case 2:for(;Q<16;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(N.flags=z,(255&N.flags)!=8){k.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){k.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=z>>8&1),512&N.flags&&(je[0]=255&z,je[1]=z>>>8&255,N.check=x(N.check,je,2,0)),Q=z=0,N.mode=3;case 3:for(;Q<32;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.head&&(N.head.time=z),512&N.flags&&(je[0]=255&z,je[1]=z>>>8&255,je[2]=z>>>16&255,je[3]=z>>>24&255,N.check=x(N.check,je,4,0)),Q=z=0,N.mode=4;case 4:for(;Q<16;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.head&&(N.head.xflags=255&z,N.head.os=z>>8),512&N.flags&&(je[0]=255&z,je[1]=z>>>8&255,N.check=x(N.check,je,2,0)),Q=z=0,N.mode=5;case 5:if(1024&N.flags){for(;Q<16;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.length=z,N.head&&(N.head.extra_len=z),512&N.flags&&(je[0]=255&z,je[1]=z>>>8&255,N.check=x(N.check,je,2,0)),Q=z=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(K<(H=N.length)&&(H=K),H&&(N.head&&(de=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),f.arraySet(N.head.extra,A,L,H,de)),512&N.flags&&(N.check=x(N.check,A,H,L)),K-=H,L+=H,N.length-=H),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(K===0)break e;for(H=0;de=A[L+H++],N.head&&de&&N.length<65536&&(N.head.name+=String.fromCharCode(de)),de&&H<K;);if(512&N.flags&&(N.check=x(N.check,A,H,L)),K-=H,L+=H,de)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(K===0)break e;for(H=0;de=A[L+H++],N.head&&de&&N.length<65536&&(N.head.comment+=String.fromCharCode(de)),de&&H<K;);if(512&N.flags&&(N.check=x(N.check,A,H,L)),K-=H,L+=H,de)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Q<16;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(z!==(65535&N.check)){k.msg="header crc mismatch",N.mode=30;break}Q=z=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),k.adler=N.check=0,N.mode=12;break;case 10:for(;Q<32;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}k.adler=N.check=$(z),Q=z=0,N.mode=11;case 11:if(N.havedict===0)return k.next_out=X,k.avail_out=te,k.next_in=L,k.avail_in=K,N.hold=z,N.bits=Q,2;k.adler=N.check=1,N.mode=12;case 12:if(S===5||S===6)break e;case 13:if(N.last){z>>>=7&Q,Q-=7&Q,N.mode=27;break}for(;Q<3;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}switch(N.last=1&z,Q-=1,3&(z>>>=1)){case 0:N.mode=14;break;case 1:if(E(N),N.mode=20,S!==6)break;z>>>=2,Q-=2;break e;case 2:N.mode=17;break;case 3:k.msg="invalid block type",N.mode=30}z>>>=2,Q-=2;break;case 14:for(z>>>=7&Q,Q-=7&Q;Q<32;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if((65535&z)!=(z>>>16^65535)){k.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&z,Q=z=0,N.mode=15,S===6)break e;case 15:N.mode=16;case 16:if(H=N.length){if(K<H&&(H=K),te<H&&(H=te),H===0)break e;f.arraySet(P,A,L,H,X),K-=H,L+=H,te-=H,X+=H,N.length-=H;break}N.mode=12;break;case 17:for(;Q<14;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(N.nlen=257+(31&z),z>>>=5,Q-=5,N.ndist=1+(31&z),z>>>=5,Q-=5,N.ncode=4+(15&z),z>>>=4,Q-=4,286<N.nlen||30<N.ndist){k.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Q<3;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.lens[Re[N.have++]]=7&z,z>>>=3,Q-=3}for(;N.have<19;)N.lens[Re[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,le={bits:N.lenbits},ve=C(0,N.lens,0,19,N.lencode,0,N.work,le),N.lenbits=le.bits,ve){k.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;oe=(Ne=N.lencode[z&(1<<N.lenbits)-1])>>>16&255,he=65535&Ne,!((re=Ne>>>24)<=Q);){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(he<16)z>>>=re,Q-=re,N.lens[N.have++]=he;else{if(he===16){for(ge=re+2;Q<ge;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(z>>>=re,Q-=re,N.have===0){k.msg="invalid bit length repeat",N.mode=30;break}de=N.lens[N.have-1],H=3+(3&z),z>>>=2,Q-=2}else if(he===17){for(ge=re+3;Q<ge;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}Q-=re,de=0,H=3+(7&(z>>>=re)),z>>>=3,Q-=3}else{for(ge=re+7;Q<ge;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}Q-=re,de=0,H=11+(127&(z>>>=re)),z>>>=7,Q-=7}if(N.have+H>N.nlen+N.ndist){k.msg="invalid bit length repeat",N.mode=30;break}for(;H--;)N.lens[N.have++]=de}}if(N.mode===30)break;if(N.lens[256]===0){k.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,le={bits:N.lenbits},ve=C(1,N.lens,0,N.nlen,N.lencode,0,N.work,le),N.lenbits=le.bits,ve){k.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,le={bits:N.distbits},ve=C(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,le),N.distbits=le.bits,ve){k.msg="invalid distances set",N.mode=30;break}if(N.mode=20,S===6)break e;case 20:N.mode=21;case 21:if(6<=K&&258<=te){k.next_out=X,k.avail_out=te,k.next_in=L,k.avail_in=K,N.hold=z,N.bits=Q,j(k,I),X=k.next_out,P=k.output,te=k.avail_out,L=k.next_in,A=k.input,K=k.avail_in,z=N.hold,Q=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;oe=(Ne=N.lencode[z&(1<<N.lenbits)-1])>>>16&255,he=65535&Ne,!((re=Ne>>>24)<=Q);){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(oe&&(240&oe)==0){for(pe=re,ie=oe,ue=he;oe=(Ne=N.lencode[ue+((z&(1<<pe+ie)-1)>>pe)])>>>16&255,he=65535&Ne,!(pe+(re=Ne>>>24)<=Q);){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}z>>>=pe,Q-=pe,N.back+=pe}if(z>>>=re,Q-=re,N.back+=re,N.length=he,oe===0){N.mode=26;break}if(32&oe){N.back=-1,N.mode=12;break}if(64&oe){k.msg="invalid literal/length code",N.mode=30;break}N.extra=15&oe,N.mode=22;case 22:if(N.extra){for(ge=N.extra;Q<ge;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.length+=z&(1<<N.extra)-1,z>>>=N.extra,Q-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;oe=(Ne=N.distcode[z&(1<<N.distbits)-1])>>>16&255,he=65535&Ne,!((re=Ne>>>24)<=Q);){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if((240&oe)==0){for(pe=re,ie=oe,ue=he;oe=(Ne=N.distcode[ue+((z&(1<<pe+ie)-1)>>pe)])>>>16&255,he=65535&Ne,!(pe+(re=Ne>>>24)<=Q);){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}z>>>=pe,Q-=pe,N.back+=pe}if(z>>>=re,Q-=re,N.back+=re,64&oe){k.msg="invalid distance code",N.mode=30;break}N.offset=he,N.extra=15&oe,N.mode=24;case 24:if(N.extra){for(ge=N.extra;Q<ge;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}N.offset+=z&(1<<N.extra)-1,z>>>=N.extra,Q-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){k.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(te===0)break e;if(H=I-te,N.offset>H){if((H=N.offset-H)>N.whave&&N.sane){k.msg="invalid distance too far back",N.mode=30;break}ee=H>N.wnext?(H-=N.wnext,N.wsize-H):N.wnext-H,H>N.length&&(H=N.length),ne=N.window}else ne=P,ee=X-N.offset,H=N.length;for(te<H&&(H=te),te-=H,N.length-=H;P[X++]=ne[ee++],--H;);N.length===0&&(N.mode=21);break;case 26:if(te===0)break e;P[X++]=N.length,te--,N.mode=21;break;case 27:if(N.wrap){for(;Q<32;){if(K===0)break e;K--,z|=A[L++]<<Q,Q+=8}if(I-=te,k.total_out+=I,N.total+=I,I&&(k.adler=N.check=N.flags?x(N.check,P,I,X-I):v(N.check,P,I,X-I)),I=te,(N.flags?z:$(z))!==N.check){k.msg="incorrect data check",N.mode=30;break}Q=z=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Q<32;){if(K===0)break e;K--,z+=A[L++]<<Q,Q+=8}if(z!==(4294967295&N.total)){k.msg="incorrect length check",N.mode=30;break}Q=z=0}N.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return M}return k.next_out=X,k.avail_out=te,k.next_in=L,k.avail_in=K,N.hold=z,N.bits=Q,(N.wsize||I!==k.avail_out&&N.mode<30&&(N.mode<27||S!==4))&&w(k,k.output,k.next_out,I-k.avail_out)?(N.mode=31,-4):(O-=k.avail_in,I-=k.avail_out,k.total_in+=O,k.total_out+=I,N.total+=I,N.wrap&&I&&(k.adler=N.check=N.flags?x(N.check,P,I,k.next_out-I):v(N.check,P,I,k.next_out-I)),k.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(O==0&&I===0||S===4)&&ve===0&&(ve=-5),ve)},b.inflateEnd=function(k){if(!k||!k.state)return M;var S=k.state;return S.window&&(S.window=null),k.state=null,0},b.inflateGetHeader=function(k,S){var N;return k&&k.state?(2&(N=k.state).wrap)==0?M:((N.head=S).done=!1,0):M},b.inflateSetDictionary=function(k,S){var N,A=S.length;return k&&k.state?(N=k.state).wrap!==0&&N.mode!==11?M:N.mode===11&&v(1,S,A,0)!==N.check?-3:w(k,S,A,A)?(N.mode=31,-4):(N.havedict=1,0):M},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,g,b){var f=a("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(M,$,V,B,U,q,Y,W){var R,D,E,w,k,S,N,A,P,L=W.bits,X=0,K=0,te=0,z=0,Q=0,O=0,I=0,H=0,ee=0,ne=0,re=null,oe=0,he=new f.Buf16(16),pe=new f.Buf16(16),ie=null,ue=0;for(X=0;X<=15;X++)he[X]=0;for(K=0;K<B;K++)he[$[V+K]]++;for(Q=L,z=15;1<=z&&he[z]===0;z--);if(z<Q&&(Q=z),z===0)return U[q++]=20971520,U[q++]=20971520,W.bits=1,0;for(te=1;te<z&&he[te]===0;te++);for(Q<te&&(Q=te),X=H=1;X<=15;X++)if(H<<=1,(H-=he[X])<0)return-1;if(0<H&&(M===0||z!==1))return-1;for(pe[1]=0,X=1;X<15;X++)pe[X+1]=pe[X]+he[X];for(K=0;K<B;K++)$[V+K]!==0&&(Y[pe[$[V+K]]++]=K);if(S=M===0?(re=ie=Y,19):M===1?(re=v,oe-=257,ie=x,ue-=257,256):(re=j,ie=C,-1),X=te,k=q,I=K=ne=0,E=-1,w=(ee=1<<(O=Q))-1,M===1&&852<ee||M===2&&592<ee)return 1;for(;;){for(N=X-I,P=Y[K]<S?(A=0,Y[K]):Y[K]>S?(A=ie[ue+Y[K]],re[oe+Y[K]]):(A=96,0),R=1<<X-I,te=D=1<<O;U[k+(ne>>I)+(D-=R)]=N<<24|A<<16|P|0,D!==0;);for(R=1<<X-1;ne&R;)R>>=1;if(R!==0?(ne&=R-1,ne+=R):ne=0,K++,--he[X]==0){if(X===z)break;X=$[V+Y[K]]}if(Q<X&&(ne&w)!==E){for(I===0&&(I=Q),k+=te,H=1<<(O=X-I);O+I<z&&!((H-=he[O+I])<=0);)O++,H<<=1;if(ee+=1<<O,M===1&&852<ee||M===2&&592<ee)return 1;U[E=ne&w]=Q<<24|O<<16|k-q|0}}return ne!==0&&(U[k+ne]=X-I<<24|64<<16|0),W.bits=Q,0}},{"../utils/common":41}],51:[function(a,g,b){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,g,b){var f=a("../utils/common");function v(ie){for(var ue=ie.length;0<=--ue;)ie[ue]=0}var x=256,j=286,C=30,M=15,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(576);v(q);var Y=new Array(60);v(Y);var W=new Array(512);v(W);var R=new Array(256);v(R);var D=new Array(29);v(D);var E,w,k,S=new Array(C);function N(ie,ue,de,ve,le){this.static_tree=ie,this.extra_bits=ue,this.extra_base=de,this.elems=ve,this.max_length=le,this.has_stree=ie&&ie.length}function A(ie,ue){this.dyn_tree=ie,this.max_code=0,this.stat_desc=ue}function P(ie){return ie<256?W[ie]:W[256+(ie>>>7)]}function L(ie,ue){ie.pending_buf[ie.pending++]=255&ue,ie.pending_buf[ie.pending++]=ue>>>8&255}function X(ie,ue,de){ie.bi_valid>16-de?(ie.bi_buf|=ue<<ie.bi_valid&65535,L(ie,ie.bi_buf),ie.bi_buf=ue>>16-ie.bi_valid,ie.bi_valid+=de-16):(ie.bi_buf|=ue<<ie.bi_valid&65535,ie.bi_valid+=de)}function K(ie,ue,de){X(ie,de[2*ue],de[2*ue+1])}function te(ie,ue){for(var de=0;de|=1&ie,ie>>>=1,de<<=1,0<--ue;);return de>>>1}function z(ie,ue,de){var ve,le,ge=new Array(16),Ne=0;for(ve=1;ve<=M;ve++)ge[ve]=Ne=Ne+de[ve-1]<<1;for(le=0;le<=ue;le++){var je=ie[2*le+1];je!==0&&(ie[2*le]=te(ge[je]++,je))}}function Q(ie){var ue;for(ue=0;ue<j;ue++)ie.dyn_ltree[2*ue]=0;for(ue=0;ue<C;ue++)ie.dyn_dtree[2*ue]=0;for(ue=0;ue<19;ue++)ie.bl_tree[2*ue]=0;ie.dyn_ltree[512]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function O(ie){8<ie.bi_valid?L(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function I(ie,ue,de,ve){var le=2*ue,ge=2*de;return ie[le]<ie[ge]||ie[le]===ie[ge]&&ve[ue]<=ve[de]}function H(ie,ue,de){for(var ve=ie.heap[de],le=de<<1;le<=ie.heap_len&&(le<ie.heap_len&&I(ue,ie.heap[le+1],ie.heap[le],ie.depth)&&le++,!I(ue,ve,ie.heap[le],ie.depth));)ie.heap[de]=ie.heap[le],de=le,le<<=1;ie.heap[de]=ve}function ee(ie,ue,de){var ve,le,ge,Ne,je=0;if(ie.last_lit!==0)for(;ve=ie.pending_buf[ie.d_buf+2*je]<<8|ie.pending_buf[ie.d_buf+2*je+1],le=ie.pending_buf[ie.l_buf+je],je++,ve===0?K(ie,le,ue):(K(ie,(ge=R[le])+x+1,ue),(Ne=$[ge])!==0&&X(ie,le-=D[ge],Ne),K(ie,ge=P(--ve),de),(Ne=V[ge])!==0&&X(ie,ve-=S[ge],Ne)),je<ie.last_lit;);K(ie,256,ue)}function ne(ie,ue){var de,ve,le,ge=ue.dyn_tree,Ne=ue.stat_desc.static_tree,je=ue.stat_desc.has_stree,Re=ue.stat_desc.elems,$e=-1;for(ie.heap_len=0,ie.heap_max=573,de=0;de<Re;de++)ge[2*de]!==0?(ie.heap[++ie.heap_len]=$e=de,ie.depth[de]=0):ge[2*de+1]=0;for(;ie.heap_len<2;)ge[2*(le=ie.heap[++ie.heap_len]=$e<2?++$e:0)]=1,ie.depth[le]=0,ie.opt_len--,je&&(ie.static_len-=Ne[2*le+1]);for(ue.max_code=$e,de=ie.heap_len>>1;1<=de;de--)H(ie,ge,de);for(le=Re;de=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],H(ie,ge,1),ve=ie.heap[1],ie.heap[--ie.heap_max]=de,ie.heap[--ie.heap_max]=ve,ge[2*le]=ge[2*de]+ge[2*ve],ie.depth[le]=(ie.depth[de]>=ie.depth[ve]?ie.depth[de]:ie.depth[ve])+1,ge[2*de+1]=ge[2*ve+1]=le,ie.heap[1]=le++,H(ie,ge,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],(function(He,Le){var ot,Ze,Je,rt,qe,Fe,Xe=Le.dyn_tree,nt=Le.max_code,Ke=Le.stat_desc.static_tree,_t=Le.stat_desc.has_stree,Rt=Le.stat_desc.extra_bits,ht=Le.stat_desc.extra_base,Lt=Le.stat_desc.max_length,Mt=0;for(rt=0;rt<=M;rt++)He.bl_count[rt]=0;for(Xe[2*He.heap[He.heap_max]+1]=0,ot=He.heap_max+1;ot<573;ot++)Lt<(rt=Xe[2*Xe[2*(Ze=He.heap[ot])+1]+1]+1)&&(rt=Lt,Mt++),Xe[2*Ze+1]=rt,nt<Ze||(He.bl_count[rt]++,qe=0,ht<=Ze&&(qe=Rt[Ze-ht]),Fe=Xe[2*Ze],He.opt_len+=Fe*(rt+qe),_t&&(He.static_len+=Fe*(Ke[2*Ze+1]+qe)));if(Mt!==0){do{for(rt=Lt-1;He.bl_count[rt]===0;)rt--;He.bl_count[rt]--,He.bl_count[rt+1]+=2,He.bl_count[Lt]--,Mt-=2}while(0<Mt);for(rt=Lt;rt!==0;rt--)for(Ze=He.bl_count[rt];Ze!==0;)nt<(Je=He.heap[--ot])||(Xe[2*Je+1]!==rt&&(He.opt_len+=(rt-Xe[2*Je+1])*Xe[2*Je],Xe[2*Je+1]=rt),Ze--)}})(ie,ue),z(ge,$e,ie.bl_count)}function re(ie,ue,de){var ve,le,ge=-1,Ne=ue[1],je=0,Re=7,$e=4;for(Ne===0&&(Re=138,$e=3),ue[2*(de+1)+1]=65535,ve=0;ve<=de;ve++)le=Ne,Ne=ue[2*(ve+1)+1],++je<Re&&le===Ne||(je<$e?ie.bl_tree[2*le]+=je:le!==0?(le!==ge&&ie.bl_tree[2*le]++,ie.bl_tree[32]++):je<=10?ie.bl_tree[34]++:ie.bl_tree[36]++,ge=le,$e=(je=0)===Ne?(Re=138,3):le===Ne?(Re=6,3):(Re=7,4))}function oe(ie,ue,de){var ve,le,ge=-1,Ne=ue[1],je=0,Re=7,$e=4;for(Ne===0&&(Re=138,$e=3),ve=0;ve<=de;ve++)if(le=Ne,Ne=ue[2*(ve+1)+1],!(++je<Re&&le===Ne)){if(je<$e)for(;K(ie,le,ie.bl_tree),--je!=0;);else le!==0?(le!==ge&&(K(ie,le,ie.bl_tree),je--),K(ie,16,ie.bl_tree),X(ie,je-3,2)):je<=10?(K(ie,17,ie.bl_tree),X(ie,je-3,3)):(K(ie,18,ie.bl_tree),X(ie,je-11,7));ge=le,$e=(je=0)===Ne?(Re=138,3):le===Ne?(Re=6,3):(Re=7,4)}}v(S);var he=!1;function pe(ie,ue,de,ve){X(ie,0+(ve?1:0),3),(function(le,ge,Ne,je){O(le),L(le,Ne),L(le,~Ne),f.arraySet(le.pending_buf,le.window,ge,Ne,le.pending),le.pending+=Ne})(ie,ue,de)}b._tr_init=function(ie){he||((function(){var ue,de,ve,le,ge,Ne=new Array(16);for(le=ve=0;le<28;le++)for(D[le]=ve,ue=0;ue<1<<$[le];ue++)R[ve++]=le;for(R[ve-1]=le,le=ge=0;le<16;le++)for(S[le]=ge,ue=0;ue<1<<V[le];ue++)W[ge++]=le;for(ge>>=7;le<C;le++)for(S[le]=ge<<7,ue=0;ue<1<<V[le]-7;ue++)W[256+ge++]=le;for(de=0;de<=M;de++)Ne[de]=0;for(ue=0;ue<=143;)q[2*ue+1]=8,ue++,Ne[8]++;for(;ue<=255;)q[2*ue+1]=9,ue++,Ne[9]++;for(;ue<=279;)q[2*ue+1]=7,ue++,Ne[7]++;for(;ue<=287;)q[2*ue+1]=8,ue++,Ne[8]++;for(z(q,287,Ne),ue=0;ue<C;ue++)Y[2*ue+1]=5,Y[2*ue]=te(ue,5);E=new N(q,$,257,j,M),w=new N(Y,V,0,C,M),k=new N(new Array(0),B,0,19,7)})(),he=!0),ie.l_desc=new A(ie.dyn_ltree,E),ie.d_desc=new A(ie.dyn_dtree,w),ie.bl_desc=new A(ie.bl_tree,k),ie.bi_buf=0,ie.bi_valid=0,Q(ie)},b._tr_stored_block=pe,b._tr_flush_block=function(ie,ue,de,ve){var le,ge,Ne=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=(function(je){var Re,$e=4093624447;for(Re=0;Re<=31;Re++,$e>>>=1)if(1&$e&&je.dyn_ltree[2*Re]!==0)return 0;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return 1;for(Re=32;Re<x;Re++)if(je.dyn_ltree[2*Re]!==0)return 1;return 0})(ie)),ne(ie,ie.l_desc),ne(ie,ie.d_desc),Ne=(function(je){var Re;for(re(je,je.dyn_ltree,je.l_desc.max_code),re(je,je.dyn_dtree,je.d_desc.max_code),ne(je,je.bl_desc),Re=18;3<=Re&&je.bl_tree[2*U[Re]+1]===0;Re--);return je.opt_len+=3*(Re+1)+5+5+4,Re})(ie),le=ie.opt_len+3+7>>>3,(ge=ie.static_len+3+7>>>3)<=le&&(le=ge)):le=ge=de+5,de+4<=le&&ue!==-1?pe(ie,ue,de,ve):ie.strategy===4||ge===le?(X(ie,2+(ve?1:0),3),ee(ie,q,Y)):(X(ie,4+(ve?1:0),3),(function(je,Re,$e,He){var Le;for(X(je,Re-257,5),X(je,$e-1,5),X(je,He-4,4),Le=0;Le<He;Le++)X(je,je.bl_tree[2*U[Le]+1],3);oe(je,je.dyn_ltree,Re-1),oe(je,je.dyn_dtree,$e-1)})(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,Ne+1),ee(ie,ie.dyn_ltree,ie.dyn_dtree)),Q(ie),ve&&O(ie)},b._tr_tally=function(ie,ue,de){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=ue>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&ue,ie.pending_buf[ie.l_buf+ie.last_lit]=255&de,ie.last_lit++,ue===0?ie.dyn_ltree[2*de]++:(ie.matches++,ue--,ie.dyn_ltree[2*(R[de]+x+1)]++,ie.dyn_dtree[2*P(ue)]++),ie.last_lit===ie.lit_bufsize-1},b._tr_align=function(ie){X(ie,2,3),K(ie,256,q),(function(ue){ue.bi_valid===16?(L(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):8<=ue.bi_valid&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)})(ie)}},{"../utils/common":41}],53:[function(a,g,b){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,g,b){(function(f){(function(v,x){if(!v.setImmediate){var j,C,M,$,V=1,B={},U=!1,q=v.document,Y=Object.getPrototypeOf&&Object.getPrototypeOf(v);Y=Y&&Y.setTimeout?Y:v,j={}.toString.call(v.process)==="[object process]"?function(E){c.nextTick((function(){R(E)}))}:(function(){if(v.postMessage&&!v.importScripts){var E=!0,w=v.onmessage;return v.onmessage=function(){E=!1},v.postMessage("","*"),v.onmessage=w,E}})()?($="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",D,!1):v.attachEvent("onmessage",D),function(E){v.postMessage($+E,"*")}):v.MessageChannel?((M=new MessageChannel).port1.onmessage=function(E){R(E.data)},function(E){M.port2.postMessage(E)}):q&&"onreadystatechange"in q.createElement("script")?(C=q.documentElement,function(E){var w=q.createElement("script");w.onreadystatechange=function(){R(E),w.onreadystatechange=null,C.removeChild(w),w=null},C.appendChild(w)}):function(E){setTimeout(R,0,E)},Y.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var w=new Array(arguments.length-1),k=0;k<w.length;k++)w[k]=arguments[k+1];var S={callback:E,args:w};return B[V]=S,j(V),V++},Y.clearImmediate=W}function W(E){delete B[E]}function R(E){if(U)setTimeout(R,0,E);else{var w=B[E];if(w){U=!0;try{(function(k){var S=k.callback,N=k.args;switch(N.length){case 0:S();break;case 1:S(N[0]);break;case 2:S(N[0],N[1]);break;case 3:S(N[0],N[1],N[2]);break;default:S.apply(void 0,N)}})(w)}finally{W(E),U=!1}}}}function D(E){E.source===v&&typeof E.data=="string"&&E.data.indexOf($)===0&&R(+E.data.slice($.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,h,m){(function(c){(function(){var s=/[\\^$.*+?()[\]{}|]/g,i=RegExp(s.source),r=typeof c=="object"&&c&&c.Object===Object&&c,t=typeof self=="object"&&self&&self.Object===Object&&self,n=r||t||Function("return this")(),l=Object.prototype.toString,o=n.Symbol,a=o?o.prototype:void 0,g=a?a.toString:void 0;function b(f){if(typeof f=="string")return f;if((function(x){return typeof x=="symbol"||(function(j){return!!j&&typeof j=="object"})(x)&&l.call(x)=="[object Symbol]"})(f))return g?g.call(f):"";var v=f+"";return v=="0"&&1/f==-1/0?"-0":v}h.exports=function(f){var v;return(f=(v=f)==null?"":b(v))&&i.test(f)?f.replace(s,"\\$&"):f}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,h,m){(function(c){(function(){var s="[object Arguments]",i="[object Map]",r="[object Object]",t="[object Set]",n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[i]=v["[object Number]"]=v[r]=v["[object RegExp]"]=v[t]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof c=="object"&&c&&c.Object===Object&&c,j=typeof self=="object"&&self&&self.Object===Object&&self,C=x||j||Function("return this")(),M=typeof m=="object"&&m&&!m.nodeType&&m,$=M&&typeof h=="object"&&h&&!h.nodeType&&h,V=$&&$.exports===M&&x.process,B=(function(){try{return V&&V.binding("util")}catch{}})(),U=B&&B.isTypedArray;function q(ce,_e,Te,Ie){for(var dt=-1,ze=ce?ce.length:0;++dt<ze;){var We=ce[dt];_e(Ie,We,Te(We),ce)}return Ie}function Y(ce,_e){for(var Te=-1,Ie=ce?ce.length:0;++Te<Ie;)if(_e(ce[Te],Te,ce))return!0;return!1}function W(ce){var _e=!1;if(ce!=null&&typeof ce.toString!="function")try{_e=!!(ce+"")}catch{}return _e}function R(ce){var _e=-1,Te=Array(ce.size);return ce.forEach((function(Ie,dt){Te[++_e]=[dt,Ie]})),Te}function D(ce){var _e=-1,Te=Array(ce.size);return ce.forEach((function(Ie){Te[++_e]=Ie})),Te}var E,w,k,S=Array.prototype,N=Function.prototype,A=Object.prototype,P=C["__core-js_shared__"],L=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",X=N.toString,K=A.hasOwnProperty,te=A.toString,z=RegExp("^"+X.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=C.Symbol,O=C.Uint8Array,I=A.propertyIsEnumerable,H=S.splice,ee=(w=Object.keys,k=Object,function(ce){return w(k(ce))}),ne=Ye(C,"DataView"),re=Ye(C,"Map"),oe=Ye(C,"Promise"),he=Ye(C,"Set"),pe=Ye(C,"WeakMap"),ie=Ye(Object,"create"),ue=ae(ne),de=ae(re),ve=ae(oe),le=ae(he),ge=ae(pe),Ne=Q?Q.prototype:void 0,je=Ne?Ne.valueOf:void 0,Re=Ne?Ne.toString:void 0;function $e(ce){var _e=-1,Te=ce?ce.length:0;for(this.clear();++_e<Te;){var Ie=ce[_e];this.set(Ie[0],Ie[1])}}function He(ce){var _e=-1,Te=ce?ce.length:0;for(this.clear();++_e<Te;){var Ie=ce[_e];this.set(Ie[0],Ie[1])}}function Le(ce){var _e=-1,Te=ce?ce.length:0;for(this.clear();++_e<Te;){var Ie=ce[_e];this.set(Ie[0],Ie[1])}}function ot(ce){var _e=-1,Te=ce?ce.length:0;for(this.__data__=new Le;++_e<Te;)this.add(ce[_e])}function Ze(ce){this.__data__=new He(ce)}function Je(ce,_e){var Te=bt(ce)||lt(ce)?(function(We,Xt){for(var Dt=-1,Tt=Array(We);++Dt<We;)Tt[Dt]=Xt(Dt);return Tt})(ce.length,String):[],Ie=Te.length,dt=!!Ie;for(var ze in ce)!K.call(ce,ze)||dt&&(ze=="length"||Vt(ze,Ie))||Te.push(ze);return Te}function rt(ce,_e){for(var Te=ce.length;Te--;)if(Ae(ce[Te][0],_e))return Te;return-1}function qe(ce,_e,Te,Ie){return Xe(ce,(function(dt,ze,We){_e(Ie,dt,Te(dt),We)})),Ie}$e.prototype.clear=function(){this.__data__=ie?ie(null):{}},$e.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},$e.prototype.get=function(ce){var _e=this.__data__;if(ie){var Te=_e[ce];return Te==="__lodash_hash_undefined__"?void 0:Te}return K.call(_e,ce)?_e[ce]:void 0},$e.prototype.has=function(ce){var _e=this.__data__;return ie?_e[ce]!==void 0:K.call(_e,ce)},$e.prototype.set=function(ce,_e){return this.__data__[ce]=ie&&_e===void 0?"__lodash_hash_undefined__":_e,this},He.prototype.clear=function(){this.__data__=[]},He.prototype.delete=function(ce){var _e=this.__data__,Te=rt(_e,ce);return!(Te<0)&&(Te==_e.length-1?_e.pop():H.call(_e,Te,1),!0)},He.prototype.get=function(ce){var _e=this.__data__,Te=rt(_e,ce);return Te<0?void 0:_e[Te][1]},He.prototype.has=function(ce){return rt(this.__data__,ce)>-1},He.prototype.set=function(ce,_e){var Te=this.__data__,Ie=rt(Te,ce);return Ie<0?Te.push([ce,_e]):Te[Ie][1]=_e,this},Le.prototype.clear=function(){this.__data__={hash:new $e,map:new(re||He),string:new $e}},Le.prototype.delete=function(ce){return gt(this,ce).delete(ce)},Le.prototype.get=function(ce){return gt(this,ce).get(ce)},Le.prototype.has=function(ce){return gt(this,ce).has(ce)},Le.prototype.set=function(ce,_e){return gt(this,ce).set(ce,_e),this},ot.prototype.add=ot.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},ot.prototype.has=function(ce){return this.__data__.has(ce)},Ze.prototype.clear=function(){this.__data__=new He},Ze.prototype.delete=function(ce){return this.__data__.delete(ce)},Ze.prototype.get=function(ce){return this.__data__.get(ce)},Ze.prototype.has=function(ce){return this.__data__.has(ce)},Ze.prototype.set=function(ce,_e){var Te=this.__data__;if(Te instanceof He){var Ie=Te.__data__;if(!re||Ie.length<199)return Ie.push([ce,_e]),this;Te=this.__data__=new Le(Ie)}return Te.set(ce,_e),this};var Fe,Xe=(Fe=function(ce,_e){return ce&&nt(ce,_e,Sr)},function(ce,_e){if(ce==null)return ce;if(!it(ce))return Fe(ce,_e);for(var Te=ce.length,Ie=-1,dt=Object(ce);++Ie<Te&&_e(dt[Ie],Ie,dt)!==!1;);return ce}),nt=(function(ce){return function(_e,Te,Ie){for(var dt=-1,ze=Object(_e),We=Ie(_e),Xt=We.length;Xt--;){var Dt=We[++dt];if(Te(ze[Dt],Dt,ze)===!1)break}return _e}})();function Ke(ce,_e){for(var Te=0,Ie=(_e=Qe(_e,ce)?[_e]:yt(_e)).length;ce!=null&&Te<Ie;)ce=ce[me(_e[Te++])];return Te&&Te==Ie?ce:void 0}function _t(ce,_e){return ce!=null&&_e in Object(ce)}function Rt(ce,_e,Te,Ie,dt){return ce===_e||(ce==null||_e==null||!$t(ce)&&!dr(_e)?ce!=ce&&_e!=_e:(function(ze,We,Xt,Dt,Tt,vt){var Ut=bt(ze),nr=bt(We),ir="[object Array]",fr="[object Array]";Ut||(ir=(ir=xt(ze))==s?r:ir),nr||(fr=(fr=xt(We))==s?r:fr);var yr=ir==r&&!W(ze),jr=fr==r&&!W(We),Fr=ir==fr;if(Fr&&!yr)return vt||(vt=new Ze),Ut||_r(ze)?Ge(ze,We,Xt,Dt,Tt,vt):(function(tr,Gt,an,Es,Vs,Bt,Rn){switch(an){case"[object DataView]":if(tr.byteLength!=Gt.byteLength||tr.byteOffset!=Gt.byteOffset)return!1;tr=tr.buffer,Gt=Gt.buffer;case"[object ArrayBuffer]":return!(tr.byteLength!=Gt.byteLength||!Es(new O(tr),new O(Gt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+tr,+Gt);case"[object Error]":return tr.name==Gt.name&&tr.message==Gt.message;case"[object RegExp]":case"[object String]":return tr==Gt+"";case i:var Wn=R;case t:var js=2&Bt;if(Wn||(Wn=D),tr.size!=Gt.size&&!js)return!1;var gi=Rn.get(tr);if(gi)return gi==Gt;Bt|=1,Rn.set(tr,Gt);var Cs=Ge(Wn(tr),Wn(Gt),Es,Vs,Bt,Rn);return Rn.delete(tr),Cs;case"[object Symbol]":if(je)return je.call(tr)==je.call(Gt)}return!1})(ze,We,ir,Xt,Dt,Tt,vt);if(!(2&Tt)){var An=yr&&K.call(ze,"__wrapped__"),Us=jr&&K.call(We,"__wrapped__");if(An||Us){var Hs=An?ze.value():ze,us=Us?We.value():We;return vt||(vt=new Ze),Xt(Hs,us,Dt,Tt,vt)}}return Fr?(vt||(vt=new Ze),(function(tr,Gt,an,Es,Vs,Bt){var Rn=2&Vs,Wn=Sr(tr),js=Wn.length,gi=Sr(Gt).length;if(js!=gi&&!Rn)return!1;for(var Cs=js;Cs--;){var qn=Wn[Cs];if(!(Rn?qn in Gt:K.call(Gt,qn)))return!1}var Vi=Bt.get(tr);if(Vi&&Bt.get(Gt))return Vi==Gt;var Ts=!0;Bt.set(tr,Gt),Bt.set(Gt,tr);for(var Mn=Rn;++Cs<js;){qn=Wn[Cs];var bn=tr[qn],yn=Gt[qn];if(Es)var Ws=Rn?Es(yn,bn,qn,Gt,tr,Bt):Es(bn,yn,qn,tr,Gt,Bt);if(!(Ws===void 0?bn===yn||an(bn,yn,Es,Vs,Bt):Ws)){Ts=!1;break}Mn||(Mn=qn=="constructor")}if(Ts&&!Mn){var ds=tr.constructor,vn=Gt.constructor;ds==vn||!("constructor"in tr)||!("constructor"in Gt)||typeof ds=="function"&&ds instanceof ds&&typeof vn=="function"&&vn instanceof vn||(Ts=!1)}return Bt.delete(tr),Bt.delete(Gt),Ts})(ze,We,Xt,Dt,Tt,vt)):!1})(ce,_e,Rt,Te,Ie,dt))}function ht(ce){return!(!$t(ce)||(function(_e){return!!L&&L in _e})(ce))&&(jt(ce)||W(ce)?z:b).test(ae(ce))}function Lt(ce){return typeof ce=="function"?ce:ce==null?qr:typeof ce=="object"?bt(ce)?(function(Ie,dt){return Qe(Ie)&&wt(dt)?Wt(me(Ie),dt):function(ze){var We=(function(Xt,Dt,Tt){var vt=Xt==null?void 0:Ke(Xt,Dt);return vt===void 0?Tt:vt})(ze,Ie);return We===void 0&&We===dt?(function(Xt,Dt){return Xt!=null&&(function(Tt,vt,Ut){vt=Qe(vt,Tt)?[vt]:yt(vt);for(var nr,ir=-1,fr=vt.length;++ir<fr;){var yr=me(vt[ir]);if(!(nr=Tt!=null&&Ut(Tt,yr)))break;Tt=Tt[yr]}return nr||!!(fr=Tt?Tt.length:0)&&Ct(fr)&&Vt(yr,fr)&&(bt(Tt)||lt(Tt))})(Xt,Dt,_t)})(ze,Ie):Rt(dt,We,void 0,3)}})(ce[0],ce[1]):(function(Ie){var dt=(function(ze){for(var We=Sr(ze),Xt=We.length;Xt--;){var Dt=We[Xt],Tt=ze[Dt];We[Xt]=[Dt,Tt,wt(Tt)]}return We})(Ie);return dt.length==1&&dt[0][2]?Wt(dt[0][0],dt[0][1]):function(ze){return ze===Ie||(function(We,Xt,Dt,Tt){var vt=Dt.length,Ut=vt;if(We==null)return!Ut;for(We=Object(We);vt--;){var nr=Dt[vt];if(nr[2]?nr[1]!==We[nr[0]]:!(nr[0]in We))return!1}for(;++vt<Ut;){var ir=(nr=Dt[vt])[0],fr=We[ir],yr=nr[1];if(nr[2]){if(fr===void 0&&!(ir in We))return!1}else{var jr=new Ze,Fr;if(!(Fr===void 0?Rt(yr,fr,Tt,3,jr):Fr))return!1}}return!0})(ze,Ie,dt)}})(ce):Qe(_e=ce)?(Te=me(_e),function(Ie){return Ie?.[Te]}):(function(Ie){return function(dt){return Ke(dt,Ie)}})(_e);var _e,Te}function Mt(ce){if(Te=(_e=ce)&&_e.constructor,Ie=typeof Te=="function"&&Te.prototype||A,_e!==Ie)return ee(ce);var _e,Te,Ie,dt=[];for(var ze in Object(ce))K.call(ce,ze)&&ze!="constructor"&&dt.push(ze);return dt}function yt(ce){return bt(ce)?ce:ut(ce)}function Ge(ce,_e,Te,Ie,dt,ze){var We=2&dt,Xt=ce.length,Dt=_e.length;if(Xt!=Dt&&!(We&&Dt>Xt))return!1;var Tt=ze.get(ce);if(Tt&&ze.get(_e))return Tt==_e;var vt=-1,Ut=!0,nr=1&dt?new ot:void 0;for(ze.set(ce,_e),ze.set(_e,ce);++vt<Xt;){var ir=ce[vt],fr=_e[vt];if(Ie)var yr=We?Ie(fr,ir,vt,_e,ce,ze):Ie(ir,fr,vt,ce,_e,ze);if(yr!==void 0){if(yr)continue;Ut=!1;break}if(nr){if(!Y(_e,(function(jr,Fr){if(!nr.has(Fr)&&(ir===jr||Te(ir,jr,Ie,dt,ze)))return nr.add(Fr)}))){Ut=!1;break}}else if(ir!==fr&&!Te(ir,fr,Ie,dt,ze)){Ut=!1;break}}return ze.delete(ce),ze.delete(_e),Ut}function gt(ce,_e){var Te,Ie,dt=ce.__data__;return((Ie=typeof(Te=_e))=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?Te!=="__proto__":Te===null)?dt[typeof _e=="string"?"string":"hash"]:dt.map}function Ye(ce,_e){var Te=(function(Ie,dt){return Ie?.[dt]})(ce,_e);return ht(Te)?Te:void 0}var xt=function(ce){return te.call(ce)};function Vt(ce,_e){return!!(_e=_e??9007199254740991)&&(typeof ce=="number"||f.test(ce))&&ce>-1&&ce%1==0&&ce<_e}function Qe(ce,_e){if(bt(ce))return!1;var Te=typeof ce;return!(Te!="number"&&Te!="symbol"&&Te!="boolean"&&ce!=null&&!ar(ce))||l.test(ce)||!n.test(ce)||_e!=null&&ce in Object(_e)}function wt(ce){return ce==ce&&!$t(ce)}function Wt(ce,_e){return function(Te){return Te!=null&&Te[ce]===_e&&(_e!==void 0||ce in Object(Te))}}(ne&&xt(new ne(new ArrayBuffer(1)))!="[object DataView]"||re&&xt(new re)!=i||oe&&xt(oe.resolve())!="[object Promise]"||he&&xt(new he)!=t||pe&&xt(new pe)!="[object WeakMap]")&&(xt=function(ce){var _e=te.call(ce),Te=_e==r?ce.constructor:void 0,Ie=Te?ae(Te):void 0;if(Ie)switch(Ie){case ue:return"[object DataView]";case de:return i;case ve:return"[object Promise]";case le:return t;case ge:return"[object WeakMap]"}return _e});var ut=Me((function(ce){var _e;ce=(_e=ce)==null?"":(function(Ie){if(typeof Ie=="string")return Ie;if(ar(Ie))return Re?Re.call(Ie):"";var dt=Ie+"";return dt=="0"&&1/Ie==-1/0?"-0":dt})(_e);var Te=[];return o.test(ce)&&Te.push(""),ce.replace(a,(function(Ie,dt,ze,We){Te.push(ze?We.replace(g,"$1"):dt||Ie)})),Te}));function me(ce){if(typeof ce=="string"||ar(ce))return ce;var _e=ce+"";return _e=="0"&&1/ce==-1/0?"-0":_e}function ae(ce){if(ce!=null){try{return X.call(ce)}catch{}try{return ce+""}catch{}}return""}var ye,we=(ye=function(ce,_e,Te){K.call(ce,Te)?ce[Te].push(_e):ce[Te]=[_e]},function(ce,_e){var Te=bt(ce)?q:qe,Ie={};return Te(ce,ye,Lt(_e),Ie)});function Me(ce,_e){if(typeof ce!="function"||_e&&typeof _e!="function")throw new TypeError("Expected a function");var Te=function(){var Ie=arguments,dt=_e?_e.apply(this,Ie):Ie[0],ze=Te.cache;if(ze.has(dt))return ze.get(dt);var We=ce.apply(this,Ie);return Te.cache=ze.set(dt,We),We};return Te.cache=new(Me.Cache||Le),Te}function Ae(ce,_e){return ce===_e||ce!=ce&&_e!=_e}function lt(ce){return(function(_e){return dr(_e)&&it(_e)})(ce)&&K.call(ce,"callee")&&(!I.call(ce,"callee")||te.call(ce)==s)}Me.Cache=Le;var bt=Array.isArray;function it(ce){return ce!=null&&Ct(ce.length)&&!jt(ce)}function jt(ce){var _e=$t(ce)?te.call(ce):"";return _e=="[object Function]"||_e=="[object GeneratorFunction]"}function Ct(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=9007199254740991}function $t(ce){var _e=typeof ce;return!!ce&&(_e=="object"||_e=="function")}function dr(ce){return!!ce&&typeof ce=="object"}function ar(ce){return typeof ce=="symbol"||dr(ce)&&te.call(ce)=="[object Symbol]"}var _r=U?(function(ce){return function(_e){return ce(_e)}})(U):function(ce){return dr(ce)&&Ct(ce.length)&&!!v[te.call(ce)]};function Sr(ce){return it(ce)?Je(ce):Mt(ce)}function qr(ce){return ce}h.exports=we}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,h,m){var c=Object.prototype.toString;h.exports=function(s){return s===!0||s===!1||(function(i){return!!i&&typeof i=="object"})(s)&&c.call(s)=="[object Boolean]"}},{}],445:[function(e,h,m){(function(c){(function(){var s="[object Arguments]",i="[object Map]",r="[object Object]",t="[object Set]",n=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o[s]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o[i]=o["[object Number]"]=o[r]=o["[object RegExp]"]=o[t]=o["[object String]"]=o["[object WeakMap]"]=!1;var a=typeof c=="object"&&c&&c.Object===Object&&c,g=typeof self=="object"&&self&&self.Object===Object&&self,b=a||g||Function("return this")(),f=typeof m=="object"&&m&&!m.nodeType&&m,v=f&&typeof h=="object"&&h&&!h.nodeType&&h,x=v&&v.exports===f,j=x&&a.process,C=(function(){try{return j&&j.binding&&j.binding("util")}catch{}})(),M=C&&C.isTypedArray;function $(me,ae){for(var ye=-1,we=me==null?0:me.length;++ye<we;)if(ae(me[ye],ye,me))return!0;return!1}function V(me){var ae=-1,ye=Array(me.size);return me.forEach((function(we,Me){ye[++ae]=[Me,we]})),ye}function B(me){var ae=-1,ye=Array(me.size);return me.forEach((function(we){ye[++ae]=we})),ye}var U,q,Y,W=Array.prototype,R=Function.prototype,D=Object.prototype,E=b["__core-js_shared__"],w=R.toString,k=D.hasOwnProperty,S=(U=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",N=D.toString,A=RegExp("^"+w.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=x?b.Buffer:void 0,L=b.Symbol,X=b.Uint8Array,K=D.propertyIsEnumerable,te=W.splice,z=L?L.toStringTag:void 0,Q=Object.getOwnPropertySymbols,O=P?P.isBuffer:void 0,I=(q=Object.keys,Y=Object,function(me){return q(Y(me))}),H=_t(b,"DataView"),ee=_t(b,"Map"),ne=_t(b,"Promise"),re=_t(b,"Set"),oe=_t(b,"WeakMap"),he=_t(Object,"create"),pe=Mt(H),ie=Mt(ee),ue=Mt(ne),de=Mt(re),ve=Mt(oe),le=L?L.prototype:void 0,ge=le?le.valueOf:void 0;function Ne(me){var ae=-1,ye=me==null?0:me.length;for(this.clear();++ae<ye;){var we=me[ae];this.set(we[0],we[1])}}function je(me){var ae=-1,ye=me==null?0:me.length;for(this.clear();++ae<ye;){var we=me[ae];this.set(we[0],we[1])}}function Re(me){var ae=-1,ye=me==null?0:me.length;for(this.clear();++ae<ye;){var we=me[ae];this.set(we[0],we[1])}}function $e(me){var ae=-1,ye=me==null?0:me.length;for(this.__data__=new Re;++ae<ye;)this.add(me[ae])}function He(me){var ae=this.__data__=new je(me);this.size=ae.size}function Le(me,ae){var ye=gt(me),we=!ye&&Ge(me),Me=!ye&&!we&&Ye(me),Ae=!ye&&!we&&!Me&&Wt(me),lt=ye||we||Me||Ae,bt=lt?(function(Ct,$t){for(var dr=-1,ar=Array(Ct);++dr<Ct;)ar[dr]=$t(dr);return ar})(me.length,String):[],it=bt.length;for(var jt in me)!k.call(me,jt)||lt&&(jt=="length"||Me&&(jt=="offset"||jt=="parent")||Ae&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||Lt(jt,it))||bt.push(jt);return bt}function ot(me,ae){for(var ye=me.length;ye--;)if(yt(me[ye][0],ae))return ye;return-1}function Ze(me){return me==null?me===void 0?"[object Undefined]":"[object Null]":z&&z in Object(me)?(function(ae){var ye=k.call(ae,z),we=ae[z];try{ae[z]=void 0;var Me=!0}catch{}var Ae=N.call(ae);return Me&&(ye?ae[z]=we:delete ae[z]),Ae})(me):(function(ae){return N.call(ae)})(me)}function Je(me){return wt(me)&&Ze(me)==s}function rt(me,ae,ye,we,Me){return me===ae||(me==null||ae==null||!wt(me)&&!wt(ae)?me!=me&&ae!=ae:(function(Ae,lt,bt,it,jt,Ct){var $t=gt(Ae),dr=gt(lt),ar=$t?"[object Array]":ht(Ae),_r=dr?"[object Array]":ht(lt),Sr=(ar=ar==s?r:ar)==r,qr=(_r=_r==s?r:_r)==r,ce=ar==_r;if(ce&&Ye(Ae)){if(!Ye(lt))return!1;$t=!0,Sr=!1}if(ce&&!Sr)return Ct||(Ct=new He),$t||Wt(Ae)?Xe(Ae,lt,bt,it,jt,Ct):(function(ze,We,Xt,Dt,Tt,vt,Ut){switch(Xt){case"[object DataView]":if(ze.byteLength!=We.byteLength||ze.byteOffset!=We.byteOffset)return!1;ze=ze.buffer,We=We.buffer;case"[object ArrayBuffer]":return!(ze.byteLength!=We.byteLength||!vt(new X(ze),new X(We)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yt(+ze,+We);case"[object Error]":return ze.name==We.name&&ze.message==We.message;case"[object RegExp]":case"[object String]":return ze==We+"";case i:var nr=V;case t:var ir=1&Dt;if(nr||(nr=B),ze.size!=We.size&&!ir)return!1;var fr=Ut.get(ze);if(fr)return fr==We;Dt|=2,Ut.set(ze,We);var yr=Xe(nr(ze),nr(We),Dt,Tt,vt,Ut);return Ut.delete(ze),yr;case"[object Symbol]":if(ge)return ge.call(ze)==ge.call(We)}return!1})(Ae,lt,ar,bt,it,jt,Ct);if(!(1&bt)){var _e=Sr&&k.call(Ae,"__wrapped__"),Te=qr&&k.call(lt,"__wrapped__");if(_e||Te){var Ie=_e?Ae.value():Ae,dt=Te?lt.value():lt;return Ct||(Ct=new He),jt(Ie,dt,bt,it,Ct)}}return ce?(Ct||(Ct=new He),(function(ze,We,Xt,Dt,Tt,vt){var Ut=1&Xt,nr=nt(ze),ir=nr.length,fr=nt(We).length;if(ir!=fr&&!Ut)return!1;for(var yr=ir;yr--;){var jr=nr[yr];if(!(Ut?jr in We:k.call(We,jr)))return!1}var Fr=vt.get(ze);if(Fr&&vt.get(We))return Fr==We;var An=!0;vt.set(ze,We),vt.set(We,ze);for(var Us=Ut;++yr<ir;){jr=nr[yr];var Hs=ze[jr],us=We[jr];if(Dt)var tr=Ut?Dt(us,Hs,jr,We,ze,vt):Dt(Hs,us,jr,ze,We,vt);if(!(tr===void 0?Hs===us||Tt(Hs,us,Xt,Dt,vt):tr)){An=!1;break}Us||(Us=jr=="constructor")}if(An&&!Us){var Gt=ze.constructor,an=We.constructor;Gt==an||!("constructor"in ze)||!("constructor"in We)||typeof Gt=="function"&&Gt instanceof Gt&&typeof an=="function"&&an instanceof an||(An=!1)}return vt.delete(ze),vt.delete(We),An})(Ae,lt,bt,it,jt,Ct)):!1})(me,ae,ye,we,rt,Me))}function qe(me){return!(!Qe(me)||(function(ae){return!!S&&S in ae})(me))&&(xt(me)?A:n).test(Mt(me))}function Fe(me){if(ye=(ae=me)&&ae.constructor,we=typeof ye=="function"&&ye.prototype||D,ae!==we)return I(me);var ae,ye,we,Me=[];for(var Ae in Object(me))k.call(me,Ae)&&Ae!="constructor"&&Me.push(Ae);return Me}function Xe(me,ae,ye,we,Me,Ae){var lt=1&ye,bt=me.length,it=ae.length;if(bt!=it&&!(lt&&it>bt))return!1;var jt=Ae.get(me);if(jt&&Ae.get(ae))return jt==ae;var Ct=-1,$t=!0,dr=2&ye?new $e:void 0;for(Ae.set(me,ae),Ae.set(ae,me);++Ct<bt;){var ar=me[Ct],_r=ae[Ct];if(we)var Sr=lt?we(_r,ar,Ct,ae,me,Ae):we(ar,_r,Ct,me,ae,Ae);if(Sr!==void 0){if(Sr)continue;$t=!1;break}if(dr){if(!$(ae,(function(qr,ce){if(_e=ce,!dr.has(_e)&&(ar===qr||Me(ar,qr,ye,we,Ae)))return dr.push(ce);var _e}))){$t=!1;break}}else if(ar!==_r&&!Me(ar,_r,ye,we,Ae)){$t=!1;break}}return Ae.delete(me),Ae.delete(ae),$t}function nt(me){return(function(ae,ye,we){var Me=ye(ae);return gt(ae)?Me:(function(Ae,lt){for(var bt=-1,it=lt.length,jt=Ae.length;++bt<it;)Ae[jt+bt]=lt[bt];return Ae})(Me,we(ae))})(me,ut,Rt)}function Ke(me,ae){var ye,we,Me=me.__data__;return((we=typeof(ye=ae))=="string"||we=="number"||we=="symbol"||we=="boolean"?ye!=="__proto__":ye===null)?Me[typeof ae=="string"?"string":"hash"]:Me.map}function _t(me,ae){var ye=(function(we,Me){return we?.[Me]})(me,ae);return qe(ye)?ye:void 0}Ne.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},Ne.prototype.delete=function(me){var ae=this.has(me)&&delete this.__data__[me];return this.size-=ae?1:0,ae},Ne.prototype.get=function(me){var ae=this.__data__;if(he){var ye=ae[me];return ye==="__lodash_hash_undefined__"?void 0:ye}return k.call(ae,me)?ae[me]:void 0},Ne.prototype.has=function(me){var ae=this.__data__;return he?ae[me]!==void 0:k.call(ae,me)},Ne.prototype.set=function(me,ae){var ye=this.__data__;return this.size+=this.has(me)?0:1,ye[me]=he&&ae===void 0?"__lodash_hash_undefined__":ae,this},je.prototype.clear=function(){this.__data__=[],this.size=0},je.prototype.delete=function(me){var ae=this.__data__,ye=ot(ae,me);return!(ye<0)&&(ye==ae.length-1?ae.pop():te.call(ae,ye,1),--this.size,!0)},je.prototype.get=function(me){var ae=this.__data__,ye=ot(ae,me);return ye<0?void 0:ae[ye][1]},je.prototype.has=function(me){return ot(this.__data__,me)>-1},je.prototype.set=function(me,ae){var ye=this.__data__,we=ot(ye,me);return we<0?(++this.size,ye.push([me,ae])):ye[we][1]=ae,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new Ne,map:new(ee||je),string:new Ne}},Re.prototype.delete=function(me){var ae=Ke(this,me).delete(me);return this.size-=ae?1:0,ae},Re.prototype.get=function(me){return Ke(this,me).get(me)},Re.prototype.has=function(me){return Ke(this,me).has(me)},Re.prototype.set=function(me,ae){var ye=Ke(this,me),we=ye.size;return ye.set(me,ae),this.size+=ye.size==we?0:1,this},$e.prototype.add=$e.prototype.push=function(me){return this.__data__.set(me,"__lodash_hash_undefined__"),this},$e.prototype.has=function(me){return this.__data__.has(me)},He.prototype.clear=function(){this.__data__=new je,this.size=0},He.prototype.delete=function(me){var ae=this.__data__,ye=ae.delete(me);return this.size=ae.size,ye},He.prototype.get=function(me){return this.__data__.get(me)},He.prototype.has=function(me){return this.__data__.has(me)},He.prototype.set=function(me,ae){var ye=this.__data__;if(ye instanceof je){var we=ye.__data__;if(!ee||we.length<199)return we.push([me,ae]),this.size=++ye.size,this;ye=this.__data__=new Re(we)}return ye.set(me,ae),this.size=ye.size,this};var Rt=Q?function(me){return me==null?[]:(me=Object(me),(function(ae,ye){for(var we=-1,Me=ae==null?0:ae.length,Ae=0,lt=[];++we<Me;){var bt=ae[we];ye(bt,we,ae)&&(lt[Ae++]=bt)}return lt})(Q(me),(function(ae){return K.call(me,ae)})))}:function(){return[]},ht=Ze;function Lt(me,ae){return!!(ae=ae??9007199254740991)&&(typeof me=="number"||l.test(me))&&me>-1&&me%1==0&&me<ae}function Mt(me){if(me!=null){try{return w.call(me)}catch{}try{return me+""}catch{}}return""}function yt(me,ae){return me===ae||me!=me&&ae!=ae}(H&&ht(new H(new ArrayBuffer(1)))!="[object DataView]"||ee&&ht(new ee)!=i||ne&&ht(ne.resolve())!="[object Promise]"||re&&ht(new re)!=t||oe&&ht(new oe)!="[object WeakMap]")&&(ht=function(me){var ae=Ze(me),ye=ae==r?me.constructor:void 0,we=ye?Mt(ye):"";if(we)switch(we){case pe:return"[object DataView]";case ie:return i;case ue:return"[object Promise]";case de:return t;case ve:return"[object WeakMap]"}return ae});var Ge=Je((function(){return arguments})())?Je:function(me){return wt(me)&&k.call(me,"callee")&&!K.call(me,"callee")},gt=Array.isArray,Ye=O||function(){return!1};function xt(me){if(!Qe(me))return!1;var ae=Ze(me);return ae=="[object Function]"||ae=="[object GeneratorFunction]"||ae=="[object AsyncFunction]"||ae=="[object Proxy]"}function Vt(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=9007199254740991}function Qe(me){var ae=typeof me;return me!=null&&(ae=="object"||ae=="function")}function wt(me){return me!=null&&typeof me=="object"}var Wt=M?(function(me){return function(ae){return me(ae)}})(M):function(me){return wt(me)&&Vt(me.length)&&!!o[Ze(me)]};function ut(me){return(ae=me)!=null&&Vt(ae.length)&&!xt(ae)?Le(me):Fe(me);var ae}h.exports=function(me,ae){return rt(me,ae)}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,h,m){(function(c){(function(){var s=typeof c=="object"&&c&&c.Object===Object&&c,i=typeof self=="object"&&self&&self.Object===Object&&self,r=s||i||Function("return this")(),t=Object.prototype,n=t.hasOwnProperty,l=t.toString,o=r.Symbol,a=o?o.toStringTag:void 0;function g(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":a&&a in Object(b)?(function(f){var v=n.call(f,a),x=f[a];try{f[a]=void 0;var j=!0}catch{}var C=l.call(f);return j&&(v?f[a]=x:delete f[a]),C})(b):(function(f){return l.call(f)})(b)}h.exports=function(b){if(!(function(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")})(b))return!1;var f=g(b);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,h,m){h.exports=function(c){return c==null}},{}],448:[function(e,h,m){h.exports=function(c){return c===void 0}},{}],449:[function(e,h,m){(function(c){(function(){var s=/^\[object .+?Constructor\]$/,i=typeof c=="object"&&c&&c.Object===Object&&c,r=typeof self=="object"&&self&&self.Object===Object&&self,t=i||r||Function("return this")();function n(L,X){return!!(L&&L.length)&&(function(K,te,z){if(te!=te)return(function(I,H,ee,ne){for(var re=I.length,oe=ee+-1;++oe<re;)if(H(I[oe],oe,I))return oe;return-1})(K,l,z);for(var Q=z-1,O=K.length;++Q<O;)if(K[Q]===te)return Q;return-1})(L,X,0)>-1}function l(L){return L!=L}function o(L,X){return L.has(X)}function a(L){var X=-1,K=Array(L.size);return L.forEach((function(te){K[++X]=te})),K}var g,b=Array.prototype,f=Function.prototype,v=Object.prototype,x=t["__core-js_shared__"],j=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=f.toString,M=v.hasOwnProperty,$=v.toString,V=RegExp("^"+C.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=b.splice,U=A(t,"Map"),q=A(t,"Set"),Y=A(Object,"create");function W(L){var X=-1,K=L?L.length:0;for(this.clear();++X<K;){var te=L[X];this.set(te[0],te[1])}}function R(L){var X=-1,K=L?L.length:0;for(this.clear();++X<K;){var te=L[X];this.set(te[0],te[1])}}function D(L){var X=-1,K=L?L.length:0;for(this.clear();++X<K;){var te=L[X];this.set(te[0],te[1])}}function E(L){var X=-1,K=L?L.length:0;for(this.__data__=new D;++X<K;)this.add(L[X])}function w(L,X){for(var K,te,z=L.length;z--;)if((K=L[z][0])===(te=X)||K!=K&&te!=te)return z;return-1}function k(L){return!(!P(L)||(X=L,j&&j in X))&&((function(K){var te=P(K)?$.call(K):"";return te=="[object Function]"||te=="[object GeneratorFunction]"})(L)||(function(K){var te=!1;if(K!=null&&typeof K.toString!="function")try{te=!!(K+"")}catch{}return te})(L)?V:s).test((function(K){if(K!=null){try{return C.call(K)}catch{}try{return K+""}catch{}}return""})(L));var X}W.prototype.clear=function(){this.__data__=Y?Y(null):{}},W.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},W.prototype.get=function(L){var X=this.__data__;if(Y){var K=X[L];return K==="__lodash_hash_undefined__"?void 0:K}return M.call(X,L)?X[L]:void 0},W.prototype.has=function(L){var X=this.__data__;return Y?X[L]!==void 0:M.call(X,L)},W.prototype.set=function(L,X){return this.__data__[L]=Y&&X===void 0?"__lodash_hash_undefined__":X,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(L){var X=this.__data__,K=w(X,L);return!(K<0)&&(K==X.length-1?X.pop():B.call(X,K,1),!0)},R.prototype.get=function(L){var X=this.__data__,K=w(X,L);return K<0?void 0:X[K][1]},R.prototype.has=function(L){return w(this.__data__,L)>-1},R.prototype.set=function(L,X){var K=this.__data__,te=w(K,L);return te<0?K.push([L,X]):K[te][1]=X,this},D.prototype.clear=function(){this.__data__={hash:new W,map:new(U||R),string:new W}},D.prototype.delete=function(L){return N(this,L).delete(L)},D.prototype.get=function(L){return N(this,L).get(L)},D.prototype.has=function(L){return N(this,L).has(L)},D.prototype.set=function(L,X){return N(this,L).set(L,X),this},E.prototype.add=E.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},E.prototype.has=function(L){return this.__data__.has(L)};var S=q&&1/a(new q([,-0]))[1]==1/0?function(L){return new q(L)}:function(){};function N(L,X){var K,te,z=L.__data__;return((te=typeof(K=X))=="string"||te=="number"||te=="symbol"||te=="boolean"?K!=="__proto__":K===null)?z[typeof X=="string"?"string":"hash"]:z.map}function A(L,X){var K=(function(te,z){return te?.[z]})(L,X);return k(K)?K:void 0}function P(L){var X=typeof L;return!!L&&(X=="object"||X=="function")}h.exports=function(L){return L&&L.length?(function(X,K,te){var z=-1,Q=n,O=X.length,I=!0,H=[],ee=H;if(O>=200){var ne=S(X);if(ne)return a(ne);I=!1,Q=o,ee=new E}else ee=H;e:for(;++z<O;){var re=X[z],oe=re;if(re=re!==0?re:0,I&&oe==oe){for(var he=ee.length;he--;)if(ee[he]===oe)continue e;H.push(re)}else Q(ee,oe,te)||(ee!==H&&ee.push(oe),H.push(re))}return H})(L):[]}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,h,m){var c=e("inherits"),s=e("hash-base"),i=e("safe-buffer").Buffer,r=new Array(16);function t(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(b,f){return b<<f|b>>>32-f}function l(b,f,v,x,j,C,M){return n(b+(f&v|~f&x)+j+C|0,M)+f|0}function o(b,f,v,x,j,C,M){return n(b+(f&x|v&~x)+j+C|0,M)+f|0}function a(b,f,v,x,j,C,M){return n(b+(f^v^x)+j+C|0,M)+f|0}function g(b,f,v,x,j,C,M){return n(b+(v^(f|~x))+j+C|0,M)+f|0}c(t,s),t.prototype._update=function(){for(var b=r,f=0;f<16;++f)b[f]=this._block.readInt32LE(4*f);var v=this._a,x=this._b,j=this._c,C=this._d;v=l(v,x,j,C,b[0],3614090360,7),C=l(C,v,x,j,b[1],3905402710,12),j=l(j,C,v,x,b[2],606105819,17),x=l(x,j,C,v,b[3],3250441966,22),v=l(v,x,j,C,b[4],4118548399,7),C=l(C,v,x,j,b[5],1200080426,12),j=l(j,C,v,x,b[6],2821735955,17),x=l(x,j,C,v,b[7],4249261313,22),v=l(v,x,j,C,b[8],1770035416,7),C=l(C,v,x,j,b[9],2336552879,12),j=l(j,C,v,x,b[10],4294925233,17),x=l(x,j,C,v,b[11],2304563134,22),v=l(v,x,j,C,b[12],1804603682,7),C=l(C,v,x,j,b[13],4254626195,12),j=l(j,C,v,x,b[14],2792965006,17),v=o(v,x=l(x,j,C,v,b[15],1236535329,22),j,C,b[1],4129170786,5),C=o(C,v,x,j,b[6],3225465664,9),j=o(j,C,v,x,b[11],643717713,14),x=o(x,j,C,v,b[0],3921069994,20),v=o(v,x,j,C,b[5],3593408605,5),C=o(C,v,x,j,b[10],38016083,9),j=o(j,C,v,x,b[15],3634488961,14),x=o(x,j,C,v,b[4],3889429448,20),v=o(v,x,j,C,b[9],568446438,5),C=o(C,v,x,j,b[14],3275163606,9),j=o(j,C,v,x,b[3],4107603335,14),x=o(x,j,C,v,b[8],1163531501,20),v=o(v,x,j,C,b[13],2850285829,5),C=o(C,v,x,j,b[2],4243563512,9),j=o(j,C,v,x,b[7],1735328473,14),v=a(v,x=o(x,j,C,v,b[12],2368359562,20),j,C,b[5],4294588738,4),C=a(C,v,x,j,b[8],2272392833,11),j=a(j,C,v,x,b[11],1839030562,16),x=a(x,j,C,v,b[14],4259657740,23),v=a(v,x,j,C,b[1],2763975236,4),C=a(C,v,x,j,b[4],1272893353,11),j=a(j,C,v,x,b[7],4139469664,16),x=a(x,j,C,v,b[10],3200236656,23),v=a(v,x,j,C,b[13],681279174,4),C=a(C,v,x,j,b[0],3936430074,11),j=a(j,C,v,x,b[3],3572445317,16),x=a(x,j,C,v,b[6],76029189,23),v=a(v,x,j,C,b[9],3654602809,4),C=a(C,v,x,j,b[12],3873151461,11),j=a(j,C,v,x,b[15],530742520,16),v=g(v,x=a(x,j,C,v,b[2],3299628645,23),j,C,b[0],4096336452,6),C=g(C,v,x,j,b[7],1126891415,10),j=g(j,C,v,x,b[14],2878612391,15),x=g(x,j,C,v,b[5],4237533241,21),v=g(v,x,j,C,b[12],1700485571,6),C=g(C,v,x,j,b[3],2399980690,10),j=g(j,C,v,x,b[10],4293915773,15),x=g(x,j,C,v,b[1],2240044497,21),v=g(v,x,j,C,b[8],1873313359,6),C=g(C,v,x,j,b[15],4264355552,10),j=g(j,C,v,x,b[6],2734768916,15),x=g(x,j,C,v,b[13],1309151649,21),v=g(v,x,j,C,b[4],4149444226,6),C=g(C,v,x,j,b[11],3174756917,10),j=g(j,C,v,x,b[2],718787259,15),x=g(x,j,C,v,b[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+x|0,this._c=this._c+j|0,this._d=this._d+C|0},t.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=i.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},h.exports=t},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,h,m){var c=e("bn.js"),s=e("brorand");function i(r){this.rand=r||new s.Rand}h.exports=i,i.create=function(r){return new i(r)},i.prototype._randbelow=function(r){var t=r.bitLength(),n=Math.ceil(t/8);do var l=new c(this.rand.generate(n));while(l.cmp(r)>=0);return l},i.prototype._randrange=function(r,t){var n=t.sub(r);return r.add(this._randbelow(n))},i.prototype.test=function(r,t,n){var l=r.bitLength(),o=c.mont(r),a=new c(1).toRed(o);t||(t=Math.max(1,l/48|0));for(var g=r.subn(1),b=0;!g.testn(b);b++);for(var f=r.shrn(b),v=g.toRed(o);t>0;t--){var x=this._randrange(new c(2),g);n&&n(x);var j=x.toRed(o).redPow(f);if(j.cmp(a)!==0&&j.cmp(v)!==0){for(var C=1;C<b;C++){if((j=j.redSqr()).cmp(a)===0)return!1;if(j.cmp(v)===0)break}if(C===b)return!1}}return!0},i.prototype.getDivisor=function(r,t){var n=r.bitLength(),l=c.mont(r),o=new c(1).toRed(l);t||(t=Math.max(1,n/48|0));for(var a=r.subn(1),g=0;!a.testn(g);g++);for(var b=r.shrn(g),f=a.toRed(l);t>0;t--){var v=this._randrange(new c(2),a),x=r.gcd(v);if(x.cmpn(1)!==0)return x;var j=v.toRed(l).redPow(b);if(j.cmp(o)!==0&&j.cmp(f)!==0){for(var C=1;C<g;C++){if((j=j.redSqr()).cmp(o)===0)return j.fromRed().subn(1).gcd(r);if(j.cmp(f)===0)break}if(C===g)return(j=j.redSqr()).fromRed().subn(1).gcd(r)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],453:[function(e,h,m){function c(s,i){if(!s)throw new Error(i||"Assertion failed")}h.exports=c,c.equal=function(s,i,r){if(s!=i)throw new Error(r||"Assertion failed: "+s+" != "+i)}},{}],454:[function(e,h,m){var c=m;function s(r){return r.length===1?"0"+r:r}function i(r){for(var t="",n=0;n<r.length;n++)t+=s(r[n].toString(16));return t}c.toArray=function(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var n=[];if(typeof r!="string"){for(var l=0;l<r.length;l++)n[l]=0|r[l];return n}if(t==="hex")for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),l=0;l<r.length;l+=2)n.push(parseInt(r[l]+r[l+1],16));else for(l=0;l<r.length;l++){var o=r.charCodeAt(l),a=o>>8,g=255&o;a?n.push(a,g):n.push(g)}return n},c.zero2=s,c.toHex=i,c.encode=function(r,t){return t==="hex"?i(r):r}},{}],455:[function(e,h,m){h.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,h,m){var c=e("asn1.js");m.certificate=e("./certificate");var s=c.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));m.RSAPrivateKey=s;var i=c.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));m.RSAPublicKey=i;var r=c.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(t),this.key("subjectPublicKey").bitstr())}));m.PublicKey=r;var t=c.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),n=c.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("subjectPrivateKey").octstr())}));m.PrivateKey=n;var l=c.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));m.EncryptedPrivateKey=l;var o=c.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));m.DSAPrivateKey=o,m.DSAparam=c.define("DSAparam",(function(){this.int()}));var a=c.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));m.ECPrivateKey=a;var g=c.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));m.signature=c.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,h,m){var c=e("asn1.js"),s=c.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),i=c.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),r=c.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),t=c.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())})),n=c.define("RelativeDistinguishedName",(function(){this.setof(i)})),l=c.define("RDNSequence",(function(){this.seqof(n)})),o=c.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),a=c.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),g=c.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),b=c.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(r),this.key("issuer").use(o),this.key("validity").use(a),this.key("subject").use(o),this.key("subjectPublicKeyInfo").use(t),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),f=c.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(r),this.key("signatureValue").bitstr())}));h.exports=f},{"asn1.js":170}],458:[function(e,h,m){var c=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,r=e("evp_bytestokey"),t=e("browserify-aes"),n=e("safe-buffer").Buffer;h.exports=function(l,o){var a,g=l.toString(),b=g.match(c);if(b){var f="aes"+b[1],v=n.from(b[2],"hex"),x=n.from(b[3].replace(/[\r\n]/g,""),"base64"),j=r(o,v.slice(0,8),parseInt(b[1],10)).key,C=[],M=t.createDecipheriv(f,j,v);C.push(M.update(x)),C.push(M.final()),a=n.concat(C)}else{var $=g.match(i);a=n.from($[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(s)[1],data:a}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,h,m){var c=e("./asn1"),s=e("./aesid.json"),i=e("./fixProc"),r=e("browserify-aes"),t=e("pbkdf2"),n=e("safe-buffer").Buffer;function l(o){var a;typeof o!="object"||n.isBuffer(o)||(a=o.passphrase,o=o.key),typeof o=="string"&&(o=n.from(o));var g,b,f=i(o,a),v=f.tag,x=f.data;switch(v){case"CERTIFICATE":b=c.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=c.PublicKey.decode(x,"der")),g=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return c.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=c.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":x=(function(j,C){var M=j.algorithm.decrypt.kde.kdeparams.salt,$=parseInt(j.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=s[j.algorithm.decrypt.cipher.algo.join(".")],B=j.algorithm.decrypt.cipher.iv,U=j.subjectPrivateKey,q=parseInt(V.split("-")[1],10)/8,Y=t.pbkdf2Sync(C,M,$,q,"sha1"),W=r.createDecipheriv(V,Y,B),R=[];return R.push(W.update(U)),R.push(W.final()),n.concat(R)})(x=c.EncryptedPrivateKey.decode(x,"der"),a);case"PRIVATE KEY":switch(g=(b=c.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return c.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:c.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=c.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return c.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return c.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:c.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=c.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+v)}}h.exports=l,l.signature=c.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,h,m){m.pbkdf2=e("./lib/async"),m.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,h,m){(function(c){(function(){var s,i,r=e("safe-buffer").Buffer,t=e("./precondition"),n=e("./default-encoding"),l=e("./sync"),o=e("./to-buffer"),a=c.crypto&&c.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function f(){return i||(i=c.process&&c.process.nextTick?c.process.nextTick:c.queueMicrotask?c.queueMicrotask:c.setImmediate?c.setImmediate:c.setTimeout)}function v(x,j,C,M,$){return a.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then((function(V){return a.deriveBits({name:"PBKDF2",salt:j,iterations:C,hash:{name:$}},V,M<<3)})).then((function(V){return r.from(V)}))}h.exports=function(x,j,C,M,$,V){typeof $=="function"&&(V=$,$=void 0);var B=g[($=$||"sha1").toLowerCase()];if(B&&typeof c.Promise=="function"){if(t(C,M),x=o(x,n,"Password"),j=o(j,n,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(U,q){U.then((function(Y){f()((function(){q(null,Y)}))}),(function(Y){f()((function(){q(Y)}))}))})((function(U){if(c.process&&!c.process.browser||!a||!a.importKey||!a.deriveBits)return Promise.resolve(!1);if(b[U]!==void 0)return b[U];var q=v(s=s||r.alloc(8),s,10,128,U).then((function(){return!0})).catch((function(){return!1}));return b[U]=q,q})(B).then((function(U){return U?v(x,j,C,M,B):l(x,j,C,M,$)})),V)}else f()((function(){var U;try{U=l(x,j,C,M,$)}catch(q){return V(q)}V(null,U)}))}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,h,m){(function(c,s){(function(){var i;s.process&&s.process.browser?i="utf-8":s.process&&s.process.version?i=parseInt(c.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":i="utf-8",h.exports=i}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,h,m){var c=Math.pow(2,30)-1;h.exports=function(s,i){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof i!="number")throw new TypeError("Key length not a number");if(i<0||i>c||i!=i)throw new TypeError("Bad key length")}},{}],464:[function(e,h,m){var c=e("create-hash/md5"),s=e("ripemd160"),i=e("sha.js"),r=e("safe-buffer").Buffer,t=e("./precondition"),n=e("./default-encoding"),l=e("./to-buffer"),o=r.alloc(128),a={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(b,f,v){var x=(function(B){function U(q){return i(B).update(q).digest()}return B==="rmd160"||B==="ripemd160"?function(q){return new s().update(q).digest()}:B==="md5"?c:U})(b),j=b==="sha512"||b==="sha384"?128:64;f.length>j?f=x(f):f.length<j&&(f=r.concat([f,o],j));for(var C=r.allocUnsafe(j+a[b]),M=r.allocUnsafe(j+a[b]),$=0;$<j;$++)C[$]=54^f[$],M[$]=92^f[$];var V=r.allocUnsafe(j+v+4);C.copy(V,0,0,j),this.ipad1=V,this.ipad2=C,this.opad=M,this.alg=b,this.blocksize=j,this.hash=x,this.size=a[b]}g.prototype.run=function(b,f){return b.copy(f,this.blocksize),this.hash(f).copy(this.opad,this.blocksize),this.hash(this.opad)},h.exports=function(b,f,v,x,j){t(v,x);var C=new g(j=j||"sha1",b=l(b,n,"Password"),(f=l(f,n,"Salt")).length),M=r.allocUnsafe(x),$=r.allocUnsafe(f.length+4);f.copy($,0,0,f.length);for(var V=0,B=a[j],U=Math.ceil(x/B),q=1;q<=U;q++){$.writeUInt32BE(q,f.length);for(var Y=C.run($,C.ipad1),W=Y,R=1;R<v;R++){W=C.run(W,C.ipad2);for(var D=0;D<B;D++)Y[D]^=W[D]}Y.copy(M,V),V+=B}return M}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,h,m){var c=e("safe-buffer").Buffer;h.exports=function(s,i,r){if(c.isBuffer(s))return s;if(typeof s=="string")return c.from(s,i);if(ArrayBuffer.isView(s))return c.from(s.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,h,m){(function(c){(function(){c===void 0||!c.version||c.version.indexOf("v0.")===0||c.version.indexOf("v1.")===0&&c.version.indexOf("v1.8.")!==0?h.exports={nextTick:function(s,i,r,t){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var n,l,o=arguments.length;switch(o){case 0:case 1:return c.nextTick(s);case 2:return c.nextTick((function(){s.call(null,i)}));case 3:return c.nextTick((function(){s.call(null,i,r)}));case 4:return c.nextTick((function(){s.call(null,i,r,t)}));default:for(n=new Array(o-1),l=0;l<n.length;)n[l++]=arguments[l];return c.nextTick((function(){s.apply(null,n)}))}}}:h.exports=c}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,h,m){var c,s,i=h.exports={};function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function n(j){if(c===setTimeout)return setTimeout(j,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(j,0);try{return c(j,0)}catch{try{return c.call(null,j,0)}catch{return c.call(this,j,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:r}catch{c=r}try{s=typeof clearTimeout=="function"?clearTimeout:t}catch{s=t}})();var l,o=[],a=!1,g=-1;function b(){a&&l&&(a=!1,l.length?o=l.concat(o):g=-1,o.length&&f())}function f(){if(!a){var j=n(b);a=!0;for(var C=o.length;C;){for(l=o,o=[];++g<C;)l&&l[g].run();g=-1,C=o.length}l=null,a=!1,(function(M){if(s===clearTimeout)return clearTimeout(M);if((s===t||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(M);try{s(M)}catch{try{return s.call(null,M)}catch{return s.call(this,M)}}})(j)}}function v(j,C){this.fun=j,this.array=C}function x(){}i.nextTick=function(j){var C=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)C[M-1]=arguments[M];o.push(new v(j,C)),o.length!==1||a||n(f)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=x,i.addListener=x,i.once=x,i.off=x,i.removeListener=x,i.removeAllListeners=x,i.emit=x,i.prependListener=x,i.prependOnceListener=x,i.listeners=function(j){return[]},i.binding=function(j){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(j){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],468:[function(e,h,m){m.publicEncrypt=e("./publicEncrypt"),m.privateDecrypt=e("./privateDecrypt"),m.privateEncrypt=function(c,s){return m.publicEncrypt(c,s,!0)},m.publicDecrypt=function(c,s){return m.privateDecrypt(c,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,h,m){var c=e("create-hash"),s=e("safe-buffer").Buffer;function i(r){var t=s.allocUnsafe(4);return t.writeUInt32BE(r,0),t}h.exports=function(r,t){for(var n,l=s.alloc(0),o=0;l.length<t;)n=i(o++),l=s.concat([l,c("sha1").update(r).update(n).digest()]);return l.slice(0,t)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],471:[function(e,h,m){var c=e("parse-asn1"),s=e("./mgf"),i=e("./xor"),r=e("bn.js"),t=e("browserify-rsa"),n=e("create-hash"),l=e("./withPublic"),o=e("safe-buffer").Buffer;h.exports=function(a,g,b){var f;f=a.padding?a.padding:b?1:4;var v,x=c(a),j=x.modulus.byteLength();if(g.length>j||new r(g).cmp(x.modulus)>=0)throw new Error("decryption error");v=b?l(new r(g),x):t(g,x);var C=o.alloc(j-v.length);if(v=o.concat([C,v],j),f===4)return(function(M,$){var V=M.modulus.byteLength(),B=n("sha1").update(o.alloc(0)).digest(),U=B.length;if($[0]!==0)throw new Error("decryption error");var q=$.slice(1,U+1),Y=$.slice(U+1),W=i(q,s(Y,U)),R=i(Y,s(W,V-U-1));if((function(E,w){E=o.from(E),w=o.from(w);var k=0,S=E.length;E.length!==w.length&&(k++,S=Math.min(E.length,w.length));for(var N=-1;++N<S;)k+=E[N]^w[N];return k})(B,R.slice(0,U)))throw new Error("decryption error");for(var D=U;R[D]===0;)D++;if(R[D++]!==1)throw new Error("decryption error");return R.slice(D)})(x,v);if(f===1)return(function(M,$,V){for(var B=$.slice(0,2),U=2,q=0;$[U++]!==0;)if(U>=$.length){q++;break}var Y=$.slice(2,U-1);if((B.toString("hex")!=="0002"&&!V||B.toString("hex")!=="0001"&&V)&&q++,Y.length<8&&q++,q)throw new Error("decryption error");return $.slice(U)})(0,v,b);if(f===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,h,m){var c=e("parse-asn1"),s=e("randombytes"),i=e("create-hash"),r=e("./mgf"),t=e("./xor"),n=e("bn.js"),l=e("./withPublic"),o=e("browserify-rsa"),a=e("safe-buffer").Buffer;h.exports=function(g,b,f){var v;v=g.padding?g.padding:f?1:4;var x,j=c(g);if(v===4)x=(function(C,M){var $=C.modulus.byteLength(),V=M.length,B=i("sha1").update(a.alloc(0)).digest(),U=B.length,q=2*U;if(V>$-q-2)throw new Error("message too long");var Y=a.alloc($-V-q-2),W=$-U-1,R=s(U),D=t(a.concat([B,Y,a.alloc(1,1),M],W),r(R,W)),E=t(R,r(D,U));return new n(a.concat([a.alloc(1),E,D],$))})(j,b);else if(v===1)x=(function(C,M,$){var V,B=M.length,U=C.modulus.byteLength();if(B>U-11)throw new Error("message too long");return V=$?a.alloc(U-B-3,255):(function(q){for(var Y,W=a.allocUnsafe(q),R=0,D=s(2*q),E=0;R<q;)E===D.length&&(D=s(2*q),E=0),(Y=D[E++])&&(W[R++]=Y);return W})(U-B-3),new n(a.concat([a.from([0,$?1:2]),V,a.alloc(1),M],U))})(j,b,f);else{if(v!==3)throw new Error("unknown padding");if((x=new n(b)).cmp(j.modulus)>=0)throw new Error("data too long for modulus")}return f?o(x,j):l(x,j)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,h,m){var c=e("bn.js"),s=e("safe-buffer").Buffer;h.exports=function(i,r){return s.from(i.toRed(c.mont(r.modulus)).redPow(new c(r.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,h,m){h.exports=function(c,s){for(var i=c.length,r=-1;++r<i;)c[r]^=s[r];return c}},{}],475:[function(e,h,m){(function(c,s){(function(){var i=e("safe-buffer").Buffer,r=s.crypto||s.msCrypto;r&&r.getRandomValues?h.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var l=i.allocUnsafe(t);if(t>0)if(t>65536)for(var o=0;o<t;o+=65536)r.getRandomValues(l.slice(o,o+65536));else r.getRandomValues(l);return typeof n=="function"?c.nextTick((function(){n(null,l)})):l}:h.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,h,m){(function(c,s){(function(){function i(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=e("safe-buffer"),t=e("randombytes"),n=r.Buffer,l=r.kMaxLength,o=s.crypto||s.msCrypto,a=Math.pow(2,32)-1;function g(v,x){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>a||v<0)throw new TypeError("offset must be a uint32");if(v>l||v>x)throw new RangeError("offset out of range")}function b(v,x,j){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>a||v<0)throw new TypeError("size must be a uint32");if(v+x>j||v>l)throw new RangeError("buffer too small")}function f(v,x,j,C){if(c.browser){var M=v.buffer,$=new Uint8Array(M,x,j);return o.getRandomValues($),C?void c.nextTick((function(){C(null,v)})):v}if(!C)return t(j).copy(v,x),v;t(j,(function(V,B){if(V)return C(V);B.copy(v,x),C(null,v)}))}o&&o.getRandomValues||!c.browser?(m.randomFill=function(v,x,j,C){if(!(n.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")C=x,x=0,j=v.length;else if(typeof j=="function")C=j,j=v.length-x;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(x,v.length),b(j,x,v.length),f(v,x,j,C)},m.randomFillSync=function(v,x,j){if(x===void 0&&(x=0),!(n.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(x,v.length),j===void 0&&(j=v.length-x),b(j,x,v.length),f(v,x,j)}):(m.randomFill=i,m.randomFillSync=i)}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,h,m){var c={};function s(r,t,n){n||(n=Error);var l=(function(o){var a,g;function b(f,v,x){return o.call(this,(function(j,C,M){return typeof t=="string"?t:t(j,C,M)})(f,v,x))||this}return g=o,(a=b).prototype=Object.create(g.prototype),a.prototype.constructor=a,a.__proto__=g,b})(n);l.prototype.name=n.name,l.prototype.code=r,c[r]=l}function i(r,t){if(Array.isArray(r)){var n=r.length;return r=r.map((function(l){return String(l)})),n>2?"one of ".concat(t," ").concat(r.slice(0,n-1).join(", "),", or ")+r[n-1]:n===2?"one of ".concat(t," ").concat(r[0]," or ").concat(r[1]):"of ".concat(t," ").concat(r[0])}return"of ".concat(t," ").concat(String(r))}s("ERR_INVALID_OPT_VALUE",(function(r,t){return'The value "'+t+'" is invalid for option "'+r+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(r,t,n){var l,o,a;if(typeof t=="string"&&(o="not ",t.substr(0,o.length)===o)?(l="must not be",t=t.replace(/^not /,"")):l="must be",(function(b,f,v){return(v===void 0||v>b.length)&&(v=b.length),b.substring(v-f.length,v)===f})(r," argument"))a="The ".concat(r," ").concat(l," ").concat(i(t,"type"));else{var g=(function(b,f,v){return typeof v!="number"&&(v=0),!(v+f.length>b.length)&&b.indexOf(f,v)!==-1})(r,".")?"property":"argument";a='The "'.concat(r,'" ').concat(g," ").concat(l," ").concat(i(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(r){return"The "+r+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(r){return"Cannot call "+r+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(r){return"Unknown encoding: "+r}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),h.exports.codes=c},{}],478:[function(e,h,m){(function(c){(function(){var s=Object.keys||function(b){var f=[];for(var v in b)f.push(v);return f};h.exports=o;var i=e("./_stream_readable"),r=e("./_stream_writable");e("inherits")(o,i);for(var t=s(r.prototype),n=0;n<t.length;n++){var l=t[n];o.prototype[l]||(o.prototype[l]=r.prototype[l])}function o(b){if(!(this instanceof o))return new o(b);i.call(this,b),r.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||c.nextTick(g,this)}function g(b){b.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,h,m){h.exports=s;var c=e("./_stream_transform");function s(i){if(!(this instanceof s))return new s(i);c.call(this,i)}e("inherits")(s,c),s.prototype._transform=function(i,r,t){t(null,i)}},{"./_stream_transform":481,inherits:440}],480:[function(e,h,m){(function(c,s){(function(){var i;h.exports=W,W.ReadableState=Y,e("events").EventEmitter;var r=function(O,I){return O.listeners(I).length},t=e("./internal/streams/stream"),n=e("buffer").Buffer,l=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,a=e("util");o=a&&a.debuglog?a.debuglog("stream"):function(){};var g,b,f,v=e("./internal/streams/buffer_list"),x=e("./internal/streams/destroy"),j=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,M=C.ERR_INVALID_ARG_TYPE,$=C.ERR_STREAM_PUSH_AFTER_EOF,V=C.ERR_METHOD_NOT_IMPLEMENTED,B=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(W,t);var U=x.errorOrDestroy,q=["error","close","destroy","pause","resume"];function Y(O,I,H){i=i||e("./_stream_duplex"),O=O||{},typeof H!="boolean"&&(H=I instanceof i),this.objectMode=!!O.objectMode,H&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=j(this,O,"readableHighWaterMark",H),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(O.encoding),this.encoding=O.encoding)}function W(O){if(i=i||e("./_stream_duplex"),!(this instanceof W))return new W(O);var I=this instanceof i;this._readableState=new Y(O,this,I),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),t.call(this)}function R(O,I,H,ee,ne){o("readableAddChunk",I);var re,oe=O._readableState;if(I===null)oe.reading=!1,(function(he,pe){if(o("onEofChunk"),!pe.ended){if(pe.decoder){var ie=pe.decoder.end();ie&&ie.length&&(pe.buffer.push(ie),pe.length+=pe.objectMode?1:ie.length)}pe.ended=!0,pe.sync?w(he):(pe.needReadable=!1,pe.emittedReadable||(pe.emittedReadable=!0,k(he)))}})(O,oe);else if(ne||(re=(function(he,pe){var ie;ue=pe,n.isBuffer(ue)||ue instanceof l||typeof pe=="string"||pe===void 0||he.objectMode||(ie=new M("chunk",["string","Buffer","Uint8Array"],pe));var ue;return ie})(oe,I)),re)U(O,re);else if(oe.objectMode||I&&I.length>0)if(typeof I=="string"||oe.objectMode||Object.getPrototypeOf(I)===n.prototype||(I=(function(he){return n.from(he)})(I)),ee)oe.endEmitted?U(O,new B):D(O,oe,I,!0);else if(oe.ended)U(O,new $);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!H?(I=oe.decoder.write(I),oe.objectMode||I.length!==0?D(O,oe,I,!1):S(O,oe)):D(O,oe,I,!1)}else ee||(oe.reading=!1,S(O,oe));return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function D(O,I,H,ee){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,O.emit("data",H)):(I.length+=I.objectMode?1:H.length,ee?I.buffer.unshift(H):I.buffer.push(H),I.needReadable&&w(O)),S(O,I)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),W.prototype.destroy=x.destroy,W.prototype._undestroy=x.undestroy,W.prototype._destroy=function(O,I){I(O)},W.prototype.push=function(O,I){var H,ee=this._readableState;return ee.objectMode?H=!0:typeof O=="string"&&((I=I||ee.defaultEncoding)!==ee.encoding&&(O=n.from(O,I),I=""),H=!0),R(this,O,I,!1,H)},W.prototype.unshift=function(O){return R(this,O,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(O){g||(g=e("string_decoder/").StringDecoder);var I=new g(O);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,ee="";H!==null;)ee+=I.write(H.data),H=H.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};function E(O,I){return O<=0||I.length===0&&I.ended?0:I.objectMode?1:O!=O?I.flowing&&I.length?I.buffer.head.data.length:I.length:(O>I.highWaterMark&&(I.highWaterMark=(function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H})(O)),O<=I.length?O:I.ended?I.length:(I.needReadable=!0,0))}function w(O){var I=O._readableState;o("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(o("emitReadable",I.flowing),I.emittedReadable=!0,c.nextTick(k,O))}function k(O){var I=O._readableState;o("emitReadable_",I.destroyed,I.length,I.ended),I.destroyed||!I.length&&!I.ended||(O.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,X(O)}function S(O,I){I.readingMore||(I.readingMore=!0,c.nextTick(N,O,I))}function N(O,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var H=I.length;if(o("maybeReadMore read 0"),O.read(0),H===I.length)break}I.readingMore=!1}function A(O){var I=O._readableState;I.readableListening=O.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:O.listenerCount("data")>0&&O.resume()}function P(O){o("readable nexttick read 0"),O.read(0)}function L(O,I){o("resume",I.reading),I.reading||O.read(0),I.resumeScheduled=!1,O.emit("resume"),X(O),I.flowing&&!I.reading&&O.read(0)}function X(O){var I=O._readableState;for(o("flow",I.flowing);I.flowing&&O.read()!==null;);}function K(O,I){return I.length===0?null:(I.objectMode?H=I.buffer.shift():!O||O>=I.length?(H=I.decoder?I.buffer.join(""):I.buffer.length===1?I.buffer.first():I.buffer.concat(I.length),I.buffer.clear()):H=I.buffer.consume(O,I.decoder),H);var H}function te(O){var I=O._readableState;o("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,c.nextTick(z,I,O))}function z(O,I){if(o("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,I.readable=!1,I.emit("end"),O.autoDestroy)){var H=I._writableState;(!H||H.autoDestroy&&H.finished)&&I.destroy()}}function Q(O,I){for(var H=0,ee=O.length;H<ee;H++)if(O[H]===I)return H;return-1}W.prototype.read=function(O){o("read",O),O=parseInt(O,10);var I=this._readableState,H=O;if(O!==0&&(I.emittedReadable=!1),O===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return o("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?te(this):w(this),null;if((O=E(O,I))===0&&I.ended)return I.length===0&&te(this),null;var ee,ne=I.needReadable;return o("need readable",ne),(I.length===0||I.length-O<I.highWaterMark)&&o("length less than watermark",ne=!0),I.ended||I.reading?o("reading or ended",ne=!1):ne&&(o("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(O=E(H,I))),(ee=O>0?K(O,I):null)===null?(I.needReadable=I.length<=I.highWaterMark,O=0):(I.length-=O,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),H!==O&&I.ended&&te(this)),ee!==null&&this.emit("data",ee),ee},W.prototype._read=function(O){U(this,new V("_read()"))},W.prototype.pipe=function(O,I){var H=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=O;break;case 1:ee.pipes=[ee.pipes,O];break;default:ee.pipes.push(O)}ee.pipesCount+=1,o("pipe count=%d opts=%j",ee.pipesCount,I);var ne=(!I||I.end!==!1)&&O!==c.stdout&&O!==c.stderr?oe:le;function re(ge,Ne){o("onunpipe"),ge===H&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,o("cleanup"),O.removeListener("close",de),O.removeListener("finish",ve),O.removeListener("drain",he),O.removeListener("error",ue),O.removeListener("unpipe",re),H.removeListener("end",oe),H.removeListener("end",le),H.removeListener("data",ie),pe=!0,!ee.awaitDrain||O._writableState&&!O._writableState.needDrain||he())}function oe(){o("onend"),O.end()}ee.endEmitted?c.nextTick(ne):H.once("end",ne),O.on("unpipe",re);var he=(function(ge){return function(){var Ne=ge._readableState;o("pipeOnDrain",Ne.awaitDrain),Ne.awaitDrain&&Ne.awaitDrain--,Ne.awaitDrain===0&&r(ge,"data")&&(Ne.flowing=!0,X(ge))}})(H);O.on("drain",he);var pe=!1;function ie(ge){o("ondata");var Ne=O.write(ge);o("dest.write",Ne),Ne===!1&&((ee.pipesCount===1&&ee.pipes===O||ee.pipesCount>1&&Q(ee.pipes,O)!==-1)&&!pe&&(o("false write response, pause",ee.awaitDrain),ee.awaitDrain++),H.pause())}function ue(ge){o("onerror",ge),le(),O.removeListener("error",ue),r(O,"error")===0&&U(O,ge)}function de(){O.removeListener("finish",ve),le()}function ve(){o("onfinish"),O.removeListener("close",de),le()}function le(){o("unpipe"),H.unpipe(O)}return H.on("data",ie),(function(ge,Ne,je){if(typeof ge.prependListener=="function")return ge.prependListener(Ne,je);ge._events&&ge._events[Ne]?Array.isArray(ge._events[Ne])?ge._events[Ne].unshift(je):ge._events[Ne]=[je,ge._events[Ne]]:ge.on(Ne,je)})(O,"error",ue),O.once("close",de),O.once("finish",ve),O.emit("pipe",H),ee.flowing||(o("pipe resume"),H.resume()),O},W.prototype.unpipe=function(O){var I=this._readableState,H={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return O&&O!==I.pipes||(O||(O=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,O&&O.emit("unpipe",this,H)),this;if(!O){var ee=I.pipes,ne=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var re=0;re<ne;re++)ee[re].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=Q(I.pipes,O);return oe===-1||(I.pipes.splice(oe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),O.emit("unpipe",this,H)),this},W.prototype.on=function(O,I){var H=t.prototype.on.call(this,O,I),ee=this._readableState;return O==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):O==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,o("on readable",ee.length,ee.reading),ee.length?w(this):ee.reading||c.nextTick(P,this))),H},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(O,I){var H=t.prototype.removeListener.call(this,O,I);return O==="readable"&&c.nextTick(A,this),H},W.prototype.removeAllListeners=function(O){var I=t.prototype.removeAllListeners.apply(this,arguments);return O!=="readable"&&O!==void 0||c.nextTick(A,this),I},W.prototype.resume=function(){var O=this._readableState;return O.flowing||(o("resume"),O.flowing=!O.readableListening,(function(I,H){H.resumeScheduled||(H.resumeScheduled=!0,c.nextTick(L,I,H))})(this,O)),O.paused=!1,this},W.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(O){var I=this,H=this._readableState,ee=!1;for(var ne in O.on("end",(function(){if(o("wrapped end"),H.decoder&&!H.ended){var oe=H.decoder.end();oe&&oe.length&&I.push(oe)}I.push(null)})),O.on("data",(function(oe){o("wrapped data"),H.decoder&&(oe=H.decoder.write(oe)),H.objectMode&&oe==null||(H.objectMode||oe&&oe.length)&&(I.push(oe)||(ee=!0,O.pause()))})),O)this[ne]===void 0&&typeof O[ne]=="function"&&(this[ne]=(function(oe){return function(){return O[oe].apply(O,arguments)}})(ne));for(var re=0;re<q.length;re++)O.on(q[re],this.emit.bind(this,q[re]));return this._read=function(oe){o("wrapped _read",oe),ee&&(ee=!1,O.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),W._fromList=K,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(O,I){return f===void 0&&(f=e("./internal/streams/from")),f(W,O,I)})}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,h,m){h.exports=o;var c=e("../errors").codes,s=c.ERR_METHOD_NOT_IMPLEMENTED,i=c.ERR_MULTIPLE_CALLBACK,r=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=c.ERR_TRANSFORM_WITH_LENGTH_0,n=e("./_stream_duplex");function l(b,f){var v=this._transformState;v.transforming=!1;var x=v.writecb;if(x===null)return this.emit("error",new i);v.writechunk=null,v.writecb=null,f!=null&&this.push(f),x(b);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function o(b){if(!(this instanceof o))return new o(b);n.call(this,b),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",a)}function a(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(f,v){g(b,f,v)}))}function g(b,f,v){if(f)return b.emit("error",f);if(v!=null&&b.push(v),b._writableState.length)throw new t;if(b._transformState.transforming)throw new r;return b.push(null)}e("inherits")(o,n),o.prototype.push=function(b,f){return this._transformState.needTransform=!1,n.prototype.push.call(this,b,f)},o.prototype._transform=function(b,f,v){v(new s("_transform()"))},o.prototype._write=function(b,f,v){var x=this._transformState;if(x.writecb=v,x.writechunk=b,x.writeencoding=f,!x.transforming){var j=this._readableState;(x.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},o.prototype._read=function(b){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},o.prototype._destroy=function(b,f){n.prototype._destroy.call(this,b,(function(v){f(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,h,m){(function(c,s){(function(){function i(N){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(P,L,X){var K=P.entry;for(P.entry=null;K;){var te=K.callback;L.pendingcb--,te(X),K=K.next}L.corkedRequestsFree.next=P})(A,N)}}var r;h.exports=W,W.WritableState=Y;var t={deprecate:e("util-deprecate")},n=e("./internal/streams/stream"),l=e("buffer").Buffer,o=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,g=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,v=f.ERR_INVALID_ARG_TYPE,x=f.ERR_METHOD_NOT_IMPLEMENTED,j=f.ERR_MULTIPLE_CALLBACK,C=f.ERR_STREAM_CANNOT_PIPE,M=f.ERR_STREAM_DESTROYED,$=f.ERR_STREAM_NULL_VALUES,V=f.ERR_STREAM_WRITE_AFTER_END,B=f.ERR_UNKNOWN_ENCODING,U=g.errorOrDestroy;function q(){}function Y(N,A,P){r=r||e("./_stream_duplex"),N=N||{},typeof P!="boolean"&&(P=A instanceof r),this.objectMode=!!N.objectMode,P&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=b(this,N,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=N.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){(function(K,te){var z=K._writableState,Q=z.sync,O=z.writecb;if(typeof O!="function")throw new j;if((function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0})(z),te)(function(H,ee,ne,re,oe){--ee.pendingcb,ne?(c.nextTick(oe,re),c.nextTick(S,H,ee),H._writableState.errorEmitted=!0,U(H,re)):(oe(re),H._writableState.errorEmitted=!0,U(H,re),S(H,ee))})(K,z,Q,te,O);else{var I=w(z)||K.destroyed;I||z.corked||z.bufferProcessing||!z.bufferedRequest||E(K,z),Q?c.nextTick(D,K,z,I,O):D(K,z,I,O)}})(A,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function W(N){var A=this instanceof(r=r||e("./_stream_duplex"));if(!A&&!a.call(W,this))return new W(N);this._writableState=new Y(N,this,A),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),n.call(this)}function R(N,A,P,L,X,K,te){A.writelen=L,A.writecb=te,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new M("write")):P?N._writev(X,A.onwrite):N._write(X,K,A.onwrite),A.sync=!1}function D(N,A,P,L){P||(function(X,K){K.length===0&&K.needDrain&&(K.needDrain=!1,X.emit("drain"))})(N,A),A.pendingcb--,L(),S(N,A)}function E(N,A){A.bufferProcessing=!0;var P=A.bufferedRequest;if(N._writev&&P&&P.next){var L=A.bufferedRequestCount,X=new Array(L),K=A.corkedRequestsFree;K.entry=P;for(var te=0,z=!0;P;)X[te]=P,P.isBuf||(z=!1),P=P.next,te+=1;X.allBuffers=z,R(N,A,!0,A.length,X,"",K.finish),A.pendingcb++,A.lastBufferedRequest=null,K.next?(A.corkedRequestsFree=K.next,K.next=null):A.corkedRequestsFree=new i(A),A.bufferedRequestCount=0}else{for(;P;){var Q=P.chunk,O=P.encoding,I=P.callback;if(R(N,A,!1,A.objectMode?1:Q.length,Q,O,I),P=P.next,A.bufferedRequestCount--,A.writing)break}P===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=P,A.bufferProcessing=!1}function w(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function k(N,A){N._final((function(P){A.pendingcb--,P&&U(N,P),A.prefinished=!0,N.emit("prefinish"),S(N,A)}))}function S(N,A){var P=w(A);if(P&&((function(X,K){K.prefinished||K.finalCalled||(typeof X._final!="function"||K.destroyed?(K.prefinished=!0,X.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,c.nextTick(k,X,K)))})(N,A),A.pendingcb===0&&(A.finished=!0,N.emit("finish"),A.autoDestroy))){var L=N._readableState;(!L||L.autoDestroy&&L.endEmitted)&&N.destroy()}return P}e("inherits")(W,n),Y.prototype.getBuffer=function(){for(var N=this.bufferedRequest,A=[];N;)A.push(N),N=N.next;return A},(function(){try{Object.defineProperty(Y.prototype,"buffer",{get:t.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(N){return!!a.call(this,N)||this===W&&N&&N._writableState instanceof Y}})):a=function(N){return N instanceof this},W.prototype.pipe=function(){U(this,new C)},W.prototype.write=function(N,A,P){var L,X=this._writableState,K=!1,te=!X.objectMode&&(L=N,l.isBuffer(L)||L instanceof o);return te&&!l.isBuffer(N)&&(N=(function(z){return l.from(z)})(N)),typeof A=="function"&&(P=A,A=null),te?A="buffer":A||(A=X.defaultEncoding),typeof P!="function"&&(P=q),X.ending?(function(z,Q){var O=new V;U(z,O),c.nextTick(Q,O)})(this,P):(te||(function(z,Q,O,I){var H;return O===null?H=new $:typeof O=="string"||Q.objectMode||(H=new v("chunk",["string","Buffer"],O)),!H||(U(z,H),c.nextTick(I,H),!1)})(this,X,N,P))&&(X.pendingcb++,K=(function(z,Q,O,I,H,ee){if(!O){var ne=(function(pe,ie,ue){return pe.objectMode||pe.decodeStrings===!1||typeof ie!="string"||(ie=l.from(ie,ue)),ie})(Q,I,H);I!==ne&&(O=!0,H="buffer",I=ne)}var re=Q.objectMode?1:I.length;Q.length+=re;var oe=Q.length<Q.highWaterMark;if(oe||(Q.needDrain=!0),Q.writing||Q.corked){var he=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:I,encoding:H,isBuf:O,callback:ee,next:null},he?he.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else R(z,Q,!1,re,I,H,ee);return oe})(this,X,te,N,A,P)),K},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||E(this,N))},W.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new B(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(N,A,P){P(new x("_write()"))},W.prototype._writev=null,W.prototype.end=function(N,A,P){var L=this._writableState;return typeof N=="function"?(P=N,N=null,A=null):typeof A=="function"&&(P=A,A=null),N!=null&&this.write(N,A),L.corked&&(L.corked=1,this.uncork()),L.ending||(function(X,K,te){K.ending=!0,S(X,K),te&&(K.finished?c.nextTick(te):X.once("finish",te)),K.ended=!0,X.writable=!1})(this,L,P),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(N,A){A(N)}}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,h,m){(function(c){(function(){var s;function i(M,$,V){return($=(function(B){var U=(function(q,Y){if(typeof q!="object"||q===null)return q;var W=q[Symbol.toPrimitive];if(W!==void 0){var R=W.call(q,Y);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(q)})(B,"string");return typeof U=="symbol"?U:String(U)})($))in M?Object.defineProperty(M,$,{value:V,enumerable:!0,configurable:!0,writable:!0}):M[$]=V,M}var r=e("./end-of-stream"),t=Symbol("lastResolve"),n=Symbol("lastReject"),l=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),g=Symbol("handlePromise"),b=Symbol("stream");function f(M,$){return{value:M,done:$}}function v(M){var $=M[t];if($!==null){var V=M[b].read();V!==null&&(M[a]=null,M[t]=null,M[n]=null,$(f(V,!1)))}}function x(M){c.nextTick(v,M)}var j=Object.getPrototypeOf((function(){})),C=Object.setPrototypeOf((i(s={get stream(){return this[b]},next:function(){var M=this,$=this[l];if($!==null)return Promise.reject($);if(this[o])return Promise.resolve(f(void 0,!0));if(this[b].destroyed)return new Promise((function(q,Y){c.nextTick((function(){M[l]?Y(M[l]):q(f(void 0,!0))}))}));var V,B=this[a];if(B)V=new Promise((function(q,Y){return function(W,R){q.then((function(){Y[o]?W(f(void 0,!0)):Y[g](W,R)}),R)}})(B,this));else{var U=this[b].read();if(U!==null)return Promise.resolve(f(U,!1));V=new Promise(this[g])}return this[a]=V,V}},Symbol.asyncIterator,(function(){return this})),i(s,"return",(function(){var M=this;return new Promise((function($,V){M[b].destroy(null,(function(B){B?V(B):$(f(void 0,!0))}))}))})),s),j);h.exports=function(M){var $,V=Object.create(C,(i($={},b,{value:M,writable:!0}),i($,t,{value:null,writable:!0}),i($,n,{value:null,writable:!0}),i($,l,{value:null,writable:!0}),i($,o,{value:M._readableState.endEmitted,writable:!0}),i($,g,{value:function(B,U){var q=V[b].read();q?(V[a]=null,V[t]=null,V[n]=null,B(f(q,!1))):(V[t]=B,V[n]=U)},writable:!0}),$));return V[a]=null,r(M,(function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=V[n];return U!==null&&(V[a]=null,V[t]=null,V[n]=null,U(B)),void(V[l]=B)}var q=V[t];q!==null&&(V[a]=null,V[t]=null,V[n]=null,q(f(void 0,!0))),V[o]=!0})),M.on("readable",x.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,h,m){function c(a,g){var b=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);g&&(f=f.filter((function(v){return Object.getOwnPropertyDescriptor(a,v).enumerable}))),b.push.apply(b,f)}return b}function s(a){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?c(Object(b),!0).forEach((function(f){i(a,f,b[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):c(Object(b)).forEach((function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(b,f))}))}return a}function i(a,g,b){return(g=t(g))in a?Object.defineProperty(a,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[g]=b,a}function r(a,g){for(var b=0;b<g.length;b++){var f=g[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,t(f.key),f)}}function t(a){var g=(function(b,f){if(typeof b!="object"||b===null)return b;var v=b[Symbol.toPrimitive];if(v!==void 0){var x=v.call(b,f);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(b)})(a,"string");return typeof g=="symbol"?g:String(g)}var n=e("buffer").Buffer,l=e("util").inspect,o=l&&l.custom||"inspect";h.exports=(function(){function a(){(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}var g,b;return g=a,(b=[{key:"push",value:function(f){var v={data:f,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(f){var v={data:f,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=f+v.data;return x}},{key:"concat",value:function(f){if(this.length===0)return n.alloc(0);for(var v,x,j,C=n.allocUnsafe(f>>>0),M=this.head,$=0;M;)v=M.data,x=C,j=$,n.prototype.copy.call(v,x,j),$+=M.data.length,M=M.next;return C}},{key:"consume",value:function(f,v){var x;return f<this.head.data.length?(x=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):x=f===this.head.data.length?this.shift():v?this._getString(f):this._getBuffer(f),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var v=this.head,x=1,j=v.data;for(f-=j.length;v=v.next;){var C=v.data,M=f>C.length?C.length:f;if(M===C.length?j+=C:j+=C.slice(0,f),(f-=M)==0){M===C.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=C.slice(M));break}++x}return this.length-=x,j}},{key:"_getBuffer",value:function(f){var v=n.allocUnsafe(f),x=this.head,j=1;for(x.data.copy(v),f-=x.data.length;x=x.next;){var C=x.data,M=f>C.length?C.length:f;if(C.copy(v,v.length-f,0,M),(f-=M)==0){M===C.length?(++j,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=C.slice(M));break}++j}return this.length-=j,v}},{key:o,value:function(f,v){return l(this,s(s({},v),{},{depth:0,customInspect:!1}))}}])&&r(g.prototype,b),Object.defineProperty(g,"prototype",{writable:!1}),a})()},{buffer:220,util:188}],485:[function(e,h,m){(function(c){(function(){function s(t,n){r(t,n),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(t,n){t.emit("error",n)}h.exports={destroy:function(t,n){var l=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(r,this,t)):c.nextTick(r,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(g){!n&&g?l._writableState?l._writableState.errorEmitted?c.nextTick(i,l):(l._writableState.errorEmitted=!0,c.nextTick(s,l,g)):c.nextTick(s,l,g):n?(c.nextTick(i,l),n(g)):c.nextTick(i,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,n){var l=t._readableState,o=t._writableState;l&&l.autoDestroy||o&&o.autoDestroy?t.destroy(n):t.emit("error",n)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,h,m){var c=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}h.exports=function i(r,t,n){if(typeof t=="function")return i(r,null,t);t||(t={}),n=(function(M){var $=!1;return function(){if(!$){$=!0;for(var V=arguments.length,B=new Array(V),U=0;U<V;U++)B[U]=arguments[U];M.apply(this,B)}}})(n||s);var l=t.readable||t.readable!==!1&&r.readable,o=t.writable||t.writable!==!1&&r.writable,a=function(){r.writable||b()},g=r._writableState&&r._writableState.finished,b=function(){o=!1,g=!0,l||n.call(r)},f=r._readableState&&r._readableState.endEmitted,v=function(){l=!1,f=!0,o||n.call(r)},x=function(M){n.call(r,M)},j=function(){var M;return l&&!f?(r._readableState&&r._readableState.ended||(M=new c),n.call(r,M)):o&&!g?(r._writableState&&r._writableState.ended||(M=new c),n.call(r,M)):void 0},C=function(){r.req.on("finish",b)};return(function(M){return M.setHeader&&typeof M.abort=="function"})(r)?(r.on("complete",b),r.on("abort",j),r.req?C():r.on("request",C)):o&&!r._writableState&&(r.on("end",a),r.on("close",a)),r.on("end",v),r.on("finish",b),t.error!==!1&&r.on("error",x),r.on("close",j),function(){r.removeListener("complete",b),r.removeListener("abort",j),r.removeListener("request",C),r.req&&r.req.removeListener("finish",b),r.removeListener("end",a),r.removeListener("close",a),r.removeListener("finish",b),r.removeListener("end",v),r.removeListener("error",x),r.removeListener("close",j)}}},{"../../../errors":477}],487:[function(e,h,m){h.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,h,m){var c,s=e("../../../errors").codes,i=s.ERR_MISSING_ARGS,r=s.ERR_STREAM_DESTROYED;function t(g){if(g)throw g}function n(g,b,f,v){v=(function(C){var M=!1;return function(){M||(M=!0,C.apply(void 0,arguments))}})(v);var x=!1;g.on("close",(function(){x=!0})),c===void 0&&(c=e("./end-of-stream")),c(g,{readable:b,writable:f},(function(C){if(C)return v(C);x=!0,v()}));var j=!1;return function(C){if(!x&&!j)return j=!0,(function(M){return M.setHeader&&typeof M.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(C||new r("pipe"))}}function l(g){g()}function o(g,b){return g.pipe(b)}function a(g){return g.length?typeof g[g.length-1]!="function"?t:g.pop():t}h.exports=function(){for(var g=arguments.length,b=new Array(g),f=0;f<g;f++)b[f]=arguments[f];var v,x=a(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new i("streams");var j=b.map((function(C,M){var $=M<b.length-1;return n(C,$,M>0,(function(V){v||(v=V),V&&j.forEach(l),$||(j.forEach(l),x(v))}))}));return b.reduce(o)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,h,m){var c=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;h.exports={getHighWaterMark:function(s,i,r,t){var n=(function(l,o,a){return l.highWaterMark!=null?l.highWaterMark:o?l[a]:null})(i,t,r);if(n!=null){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new c(t?r:"highWaterMark",n);return Math.floor(n)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,h,m){h.exports=e("events").EventEmitter},{events:422}],491:[function(e,h,m){(m=h.exports=e("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=e("./lib/_stream_writable.js"),m.Duplex=e("./lib/_stream_duplex.js"),m.Transform=e("./lib/_stream_transform.js"),m.PassThrough=e("./lib/_stream_passthrough.js"),m.finished=e("./lib/internal/streams/end-of-stream.js"),m.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,h,m){var c=(function(s){var i=Object.prototype,r=i.hasOwnProperty,t=Object.defineProperty||function(S,N,A){S[N]=A.value},n=typeof Symbol=="function"?Symbol:{},l=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function g(S,N,A){return Object.defineProperty(S,N,{value:A,enumerable:!0,configurable:!0,writable:!0}),S[N]}try{g({},"")}catch{g=function(N,A,P){return N[A]=P}}function b(S,N,A,P){var L=N&&N.prototype instanceof x?N:x,X=Object.create(L.prototype),K=new E(P||[]);return t(X,"_invoke",{value:Y(S,A,K)}),X}function f(S,N,A){try{return{type:"normal",arg:S.call(N,A)}}catch(P){return{type:"throw",arg:P}}}s.wrap=b;var v={};function x(){}function j(){}function C(){}var M={};g(M,l,(function(){return this}));var $=Object.getPrototypeOf,V=$&&$($(w([])));V&&V!==i&&r.call(V,l)&&(M=V);var B=C.prototype=x.prototype=Object.create(M);function U(S){["next","throw","return"].forEach((function(N){g(S,N,(function(A){return this._invoke(N,A)}))}))}function q(S,N){var A;t(this,"_invoke",{value:function(P,L){function X(){return new N((function(K,te){(function z(Q,O,I,H){var ee=f(S[Q],S,O);if(ee.type!=="throw"){var ne=ee.arg,re=ne.value;return re&&typeof re=="object"&&r.call(re,"__await")?N.resolve(re.__await).then((function(oe){z("next",oe,I,H)}),(function(oe){z("throw",oe,I,H)})):N.resolve(re).then((function(oe){ne.value=oe,I(ne)}),(function(oe){return z("throw",oe,I,H)}))}H(ee.arg)})(P,L,K,te)}))}return A=A?A.then(X,X):X()}})}function Y(S,N,A){var P="suspendedStart";return function(L,X){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(L==="throw")throw X;return k()}for(A.method=L,A.arg=X;;){var K=A.delegate;if(K){var te=W(K,A);if(te){if(te===v)continue;return te}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(P==="suspendedStart")throw P="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);P="executing";var z=f(S,N,A);if(z.type==="normal"){if(P=A.done?"completed":"suspendedYield",z.arg===v)continue;return{value:z.arg,done:A.done}}z.type==="throw"&&(P="completed",A.method="throw",A.arg=z.arg)}}}function W(S,N){var A=N.method,P=S.iterator[A];if(P===void 0)return N.delegate=null,A==="throw"&&S.iterator.return&&(N.method="return",N.arg=void 0,W(S,N),N.method==="throw")||A!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+A+"' method")),v;var L=f(P,S.iterator,N.arg);if(L.type==="throw")return N.method="throw",N.arg=L.arg,N.delegate=null,v;var X=L.arg;return X?X.done?(N[S.resultName]=X.value,N.next=S.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,v):X:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,v)}function R(S){var N={tryLoc:S[0]};1 in S&&(N.catchLoc=S[1]),2 in S&&(N.finallyLoc=S[2],N.afterLoc=S[3]),this.tryEntries.push(N)}function D(S){var N=S.completion||{};N.type="normal",delete N.arg,S.completion=N}function E(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(R,this),this.reset(!0)}function w(S){if(S){var N=S[l];if(N)return N.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var A=-1,P=function L(){for(;++A<S.length;)if(r.call(S,A))return L.value=S[A],L.done=!1,L;return L.value=void 0,L.done=!0,L};return P.next=P}}return{next:k}}function k(){return{value:void 0,done:!0}}return j.prototype=C,t(B,"constructor",{value:C,configurable:!0}),t(C,"constructor",{value:j,configurable:!0}),j.displayName=g(C,a,"GeneratorFunction"),s.isGeneratorFunction=function(S){var N=typeof S=="function"&&S.constructor;return!!N&&(N===j||(N.displayName||N.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,C):(S.__proto__=C,g(S,a,"GeneratorFunction")),S.prototype=Object.create(B),S},s.awrap=function(S){return{__await:S}},U(q.prototype),g(q.prototype,o,(function(){return this})),s.AsyncIterator=q,s.async=function(S,N,A,P,L){L===void 0&&(L=Promise);var X=new q(b(S,N,A,P),L);return s.isGeneratorFunction(N)?X:X.next().then((function(K){return K.done?K.value:X.next()}))},U(B),g(B,a,"Generator"),g(B,l,(function(){return this})),g(B,"toString",(function(){return"[object Generator]"})),s.keys=function(S){var N=Object(S),A=[];for(var P in N)A.push(P);return A.reverse(),function L(){for(;A.length;){var X=A.pop();if(X in N)return L.value=X,L.done=!1,L}return L.done=!0,L}},s.values=w,E.prototype={constructor:E,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!S)for(var N in this)N.charAt(0)==="t"&&r.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var N=this;function A(z,Q){return X.type="throw",X.arg=S,N.next=z,Q&&(N.method="next",N.arg=void 0),!!Q}for(var P=this.tryEntries.length-1;P>=0;--P){var L=this.tryEntries[P],X=L.completion;if(L.tryLoc==="root")return A("end");if(L.tryLoc<=this.prev){var K=r.call(L,"catchLoc"),te=r.call(L,"finallyLoc");if(K&&te){if(this.prev<L.catchLoc)return A(L.catchLoc,!0);if(this.prev<L.finallyLoc)return A(L.finallyLoc)}else if(K){if(this.prev<L.catchLoc)return A(L.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return A(L.finallyLoc)}}}},abrupt:function(S,N){for(var A=this.tryEntries.length-1;A>=0;--A){var P=this.tryEntries[A];if(P.tryLoc<=this.prev&&r.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var L=P;break}}L&&(S==="break"||S==="continue")&&L.tryLoc<=N&&N<=L.finallyLoc&&(L=null);var X=L?L.completion:{};return X.type=S,X.arg=N,L?(this.method="next",this.next=L.finallyLoc,v):this.complete(X)},complete:function(S,N){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&N&&(this.next=N),v},finish:function(S){for(var N=this.tryEntries.length-1;N>=0;--N){var A=this.tryEntries[N];if(A.finallyLoc===S)return this.complete(A.completion,A.afterLoc),D(A),v}},catch:function(S){for(var N=this.tryEntries.length-1;N>=0;--N){var A=this.tryEntries[N];if(A.tryLoc===S){var P=A.completion;if(P.type==="throw"){var L=P.arg;D(A)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(S,N,A){return this.delegate={iterator:w(S),resultName:N,nextLoc:A},this.method==="next"&&(this.arg=void 0),v}},s})(typeof h=="object"?h.exports:{});try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}},{}],493:[function(e,h,m){var c=e("buffer").Buffer,s=e("inherits"),i=e("hash-base"),r=new Array(16),t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],a=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function b(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f($,V){return $<<V|$>>>32-V}function v($,V,B,U,q,Y,W,R){return f($+(V^B^U)+Y+W|0,R)+q|0}function x($,V,B,U,q,Y,W,R){return f($+(V&B|~V&U)+Y+W|0,R)+q|0}function j($,V,B,U,q,Y,W,R){return f($+((V|~B)^U)+Y+W|0,R)+q|0}function C($,V,B,U,q,Y,W,R){return f($+(V&U|B&~U)+Y+W|0,R)+q|0}function M($,V,B,U,q,Y,W,R){return f($+(V^(B|~U))+Y+W|0,R)+q|0}s(b,i),b.prototype._update=function(){for(var $=r,V=0;V<16;++V)$[V]=this._block.readInt32LE(4*V);for(var B=0|this._a,U=0|this._b,q=0|this._c,Y=0|this._d,W=0|this._e,R=0|this._a,D=0|this._b,E=0|this._c,w=0|this._d,k=0|this._e,S=0;S<80;S+=1){var N,A;S<16?(N=v(B,U,q,Y,W,$[t[S]],a[0],l[S]),A=M(R,D,E,w,k,$[n[S]],g[0],o[S])):S<32?(N=x(B,U,q,Y,W,$[t[S]],a[1],l[S]),A=C(R,D,E,w,k,$[n[S]],g[1],o[S])):S<48?(N=j(B,U,q,Y,W,$[t[S]],a[2],l[S]),A=j(R,D,E,w,k,$[n[S]],g[2],o[S])):S<64?(N=C(B,U,q,Y,W,$[t[S]],a[3],l[S]),A=x(R,D,E,w,k,$[n[S]],g[3],o[S])):(N=M(B,U,q,Y,W,$[t[S]],a[4],l[S]),A=v(R,D,E,w,k,$[n[S]],g[4],o[S])),B=W,W=Y,Y=f(q,10),q=U,U=N,R=k,k=w,w=f(E,10),E=D,D=A}var P=this._b+q+w|0;this._b=this._c+Y+k|0,this._c=this._d+W+R|0,this._d=this._e+B+D|0,this._e=this._a+U+E|0,this._a=P},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=c.alloc?c.alloc(20):new c(20);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$.writeInt32LE(this._e,16),$},h.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,h,m){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var c=e("buffer"),s=c.Buffer;function i(t,n){for(var l in t)n[l]=t[l]}function r(t,n,l){return s(t,n,l)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?h.exports=c:(i(c,m),m.Buffer=r),r.prototype=Object.create(s.prototype),i(s,r),r.from=function(t,n,l){if(typeof t=="number")throw new TypeError("Argument must not be a number");return s(t,n,l)},r.alloc=function(t,n,l){if(typeof t!="number")throw new TypeError("Argument must be a number");var o=s(t);return n!==void 0?typeof l=="string"?o.fill(n,l):o.fill(n):o.fill(0),o},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(t)}},{buffer:220}],495:[function(e,h,m){(function(c){(function(){var s,i=e("buffer"),r=i.Buffer,t={};for(s in i)i.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(t[s]=i[s]);var n=t.Buffer={};for(s in r)r.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(n[s]=r[s]);if(t.Buffer.prototype=r.prototype,n.from&&n.from!==Uint8Array.from||(n.from=function(l,o,a){if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof l);if(l&&l.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);return r(l,o,a)}),n.alloc||(n.alloc=function(l,o,a){if(typeof l!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof l);if(l<0||l>=2*(1<<30))throw new RangeError('The value "'+l+'" is invalid for option "size"');var g=r(l);return o&&o.length!==0?typeof a=="string"?g.fill(o,a):g.fill(o):g.fill(0),g}),!t.kStringMaxLength)try{t.kStringMaxLength=c.binding("buffer").kStringMaxLength}catch{}t.constants||(t.constants={MAX_LENGTH:t.kMaxLength},t.kStringMaxLength&&(t.constants.MAX_STRING_LENGTH=t.kStringMaxLength)),h.exports=t}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0});const c=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),i=e("xmlchars/xmlns/1.0/ed3");var r=c.isS,t=c.isChar,n=c.isNameStartChar,l=c.isNameChar,o=c.S_LIST,a=c.NAME_RE,g=s.isChar,b=i.isNCNameStartChar,f=i.isNCNameChar,v=i.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:x,xmlns:j},M={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},$=w=>w===34||w===39,V=[34,39],B=[...V,91,62],U=[...V,60,93],q=[61,63,...o],Y=[...o,62,38,60];function W(w,k,S){switch(k){case"xml":S!==x&&w.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":S!==j&&w.fail(`xmlns prefix must be bound to ${j}.`)}switch(S){case j:w.fail(k===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${j}.`);break;case x:switch(k){case"xml":break;case"":w.fail(`the default namespace may not be set to ${S}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const R=w=>v.test(w),D=w=>a.test(w);m.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};m.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=b,this.nameCheck=f,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const S=this.opt.additionalNamespaces;S!=null&&((function(N,A){for(const P of Object.keys(A))W(N,P,A[P])})(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=n,this.nameCheck=l,this.isName=D,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(M),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,k){this[E[w]]=k}off(w){this[E[w]]=void 0}makeError(w){var k;let S=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+w)}fail(w){const k=this.makeError(w),S=this.errorHandler;if(S===void 0)throw k;return S(k),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;w===null?(k=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let S=w.length;const N=w.charCodeAt(S-1);!k&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=w[S-1],S--,w=w.slice(0,S));const{stateTable:A}=this;for(this.chunk=w,this.i=0;this.i<S;)A[this.state].call(this);return this.chunkPosition+=S,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:k}=this;if(this.prevI=k,this.i=k+1,k>=w.length)return-1;const S=w.charCodeAt(k);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const N=65536+1024*(S-55296)+(w.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:w,i:k}=this;if(this.prevI=k,this.i=k+1,k>=w.length)return-1;const S=w.charCodeAt(k);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const A=w.charCodeAt(k+1);A!==10&&A!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const N=65536+1024*(S-55296)+(w.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:k}=this;const{chunk:S}=this;for(;;){const N=this.getCode(),A=N===-2,P=A?10:N;if(P===-1||w.includes(P))return this.text+=S.slice(k,this.prevI),P;A&&(this.text+=S.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(w){let{i:k}=this;const{chunk:S}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=S.slice(k,this.prevI)+`
`,k=this.i,N=10;break;case-1:return this.text+=S.slice(k),!1}if(N===w)return this.text+=S.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:w,i:k}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=w.slice(k),-1;if(!l(S))return this.name+=w.slice(k,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!r(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=t,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,k=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const k=this.captureTo(B);switch(k){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:$(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(U);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:$(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=w;this.text+=w,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:S}=this,N=this.entity+k.slice(w,this.prevI);let A;this.state=S,N===""?(this.fail("empty entity name."),A="&;"):(A=this.parseEntity(N),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=A);break e}case-1:this.entity+=k.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(n(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const k=this.getCodeNorm();k===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const k=this.getCodeNorm();switch(k){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||r(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:k}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=w.slice(k));if(!this.nameCheck(S)){this.piTarget+=w.slice(k,this.prevI);const N=S===63;N||r(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:r(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const k=this.getCodeNorm();if(k===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(q);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");r(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");r(w)||($(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=k;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(r(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const k=this.captureNameChars();if(k===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:r(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(n(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:r(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():n(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();$(w)?(this.q=w,this.state=40):r(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:k}=this;let{i:S}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+k.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=k.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(S))}}sAttribValueClosed(){const w=this.getCodeNorm();r(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:n(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(Y);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():r(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:k}=this;const{chunk:S,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:A}=this,P=S.slice(w,this.prevI);A.length!==0?(N(A+P),this.text=""):P.length!==0&&N(P)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=S.slice(w,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:N!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i,k=0;break;case-1:N!==void 0&&(this.text+=S.slice(w));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:w}=this;const{chunk:k,textHandler:S}=this;let N=!1;e:for(;;){const A=this.getCode();switch(A){case 60:if(this.state=15,S!==void 0){const{text:P}=this,L=k.slice(w,this.prevI);P.length!==0?(S(P+L),this.text=""):L.length!==0&&S(L)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=k.slice(w,this.prevI)),N=!0;break e;case-2:S!==void 0&&(this.text+=k.slice(w,this.prevI)+`
`),w=this.i;break;case-1:S!==void 0&&(this.text+=k.slice(w));break e;default:r(A)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,k){var S;const{prefix:N,local:A}=this.qname(w),P={name:w,prefix:N,local:A,value:k};if(this.attribList.push(P),(S=this.attributeHandler)===null||S===void 0||S.call(this,P),N==="xmlns"){const L=k.trim();this.currentXMLVersion==="1.0"&&L===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[A]=L,W(this,A,L)}else if(w==="xmlns"){const L=k.trim();this.topNS[""]=L,W(this,"",L)}}pushAttribPlain(w,k){var S;const N={name:w,value:k};this.attribList.push(N),(S=this.attributeHandler)===null||S===void 0||S.call(this,N)}end(){var w,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const A=S.pop();this.fail("unclosed tag: "+A.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,N),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(w){var k,S;let N=this.topNS[w];if(N!==void 0)return N;const{tags:A}=this;for(let P=A.length-1;P>=0;P--)if(N=A[P].ns[w],N!==void 0)return N;return N=this.ns[w],N!==void 0?N:(S=(k=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(k,w)}qname(w){const k=w.indexOf(":");if(k===-1)return{prefix:"",local:w};const S=w.slice(k+1),N=w.slice(0,k);return(N===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:N,local:S}}processAttribsNS(){var w;const{attribList:k}=this,S=this.tag;{const{prefix:P,local:L}=this.qname(S.name);S.prefix=P,S.local=L;const X=S.uri=(w=this.resolve(P))!==null&&w!==void 0?w:"";P!==""&&(P==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),X===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(P)}.`),S.uri=P))}if(k.length===0)return;const{attributes:N}=S,A=new Set;for(const P of k){const{name:L,prefix:X,local:K}=P;let te,z;X===""?(te=L==="xmlns"?j:"",z=L):(te=this.resolve(X),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(X)}.`),te=X),z=`{${te}}${K}`),A.has(z)&&this.fail(`duplicate attribute: ${z}.`),A.add(z),P.uri=te,N[L]=P}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,k=this.tag.attributes;for(const{name:S,value:N}of w)k[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),k[S]=N;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:k}=this,S=this.tag;S.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,S),k.push(S),this.state=13,this.name=""}openSelfClosingTag(){var w,k,S;this.processAttribs();const{tags:N}=this,A=this.tag;A.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,A),(k=this.closeTagHandler)===null||k===void 0||k.call(this,A),(this.tag=(S=N[N.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let N=w.length;for(;N-- >0;){const A=this.tag=w.pop();if(this.topNS=A.ns,S?.(A),A.name===k)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(w){if(w[0]!=="#"){const S=this.ENTITIES[w];return S!==void 0?S:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let k=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?k=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(k=parseInt(w.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,h,m){var c=e("safe-buffer").Buffer;function s(i,r){this._block=c.alloc(i),this._finalSize=r,this._blockSize=i,this._len=0}s.prototype.update=function(i,r){typeof i=="string"&&(r=r||"utf8",i=c.from(i,r));for(var t=this._block,n=this._blockSize,l=i.length,o=this._len,a=0;a<l;){for(var g=o%n,b=Math.min(l-a,n-g),f=0;f<b;f++)t[g+f]=i[a+f];a+=b,(o+=b)%n==0&&this._update(t)}return this._len+=l,this},s.prototype.digest=function(i){var r=this._len%this._blockSize;this._block[r]=128,this._block.fill(0,r+1),r>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=8*this._len;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var n=(4294967295&t)>>>0,l=(t-n)/4294967296;this._block.writeUInt32BE(l,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return i?o.toString(i):o},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},h.exports=s},{"safe-buffer":494}],498:[function(e,h,m){var c=h.exports=function(s){s=s.toLowerCase();var i=c[s];if(!i)throw new Error(s+" is not supported (we accept pull requests)");return new i};c.sha=e("./sha"),c.sha1=e("./sha1"),c.sha224=e("./sha224"),c.sha256=e("./sha256"),c.sha384=e("./sha384"),c.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,h,m){var c=e("inherits"),s=e("./hash"),i=e("safe-buffer").Buffer,r=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function n(){this.init(),this._w=t,s.call(this,64,56)}function l(a){return a<<30|a>>>2}function o(a,g,b,f){return a===0?g&b|~g&f:a===2?g&b|g&f|b&f:g^b^f}c(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(a){for(var g,b=this._w,f=0|this._a,v=0|this._b,x=0|this._c,j=0|this._d,C=0|this._e,M=0;M<16;++M)b[M]=a.readInt32BE(4*M);for(;M<80;++M)b[M]=b[M-3]^b[M-8]^b[M-14]^b[M-16];for(var $=0;$<80;++$){var V=~~($/20),B=0|((g=f)<<5|g>>>27)+o(V,v,x,j)+C+b[$]+r[V];C=j,j=x,x=l(v),v=f,f=B}this._a=f+this._a|0,this._b=v+this._b|0,this._c=x+this._c|0,this._d=j+this._d|0,this._e=C+this._e|0},n.prototype._hash=function(){var a=i.allocUnsafe(20);return a.writeInt32BE(0|this._a,0),a.writeInt32BE(0|this._b,4),a.writeInt32BE(0|this._c,8),a.writeInt32BE(0|this._d,12),a.writeInt32BE(0|this._e,16),a},h.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,h,m){var c=e("inherits"),s=e("./hash"),i=e("safe-buffer").Buffer,r=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function n(){this.init(),this._w=t,s.call(this,64,56)}function l(g){return g<<5|g>>>27}function o(g){return g<<30|g>>>2}function a(g,b,f,v){return g===0?b&f|~b&v:g===2?b&f|b&v|f&v:b^f^v}c(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(g){for(var b,f=this._w,v=0|this._a,x=0|this._b,j=0|this._c,C=0|this._d,M=0|this._e,$=0;$<16;++$)f[$]=g.readInt32BE(4*$);for(;$<80;++$)f[$]=(b=f[$-3]^f[$-8]^f[$-14]^f[$-16])<<1|b>>>31;for(var V=0;V<80;++V){var B=~~(V/20),U=l(v)+a(B,x,j,C)+M+f[V]+r[B]|0;M=C,C=j,j=o(x),x=v,v=U}this._a=v+this._a|0,this._b=x+this._b|0,this._c=j+this._c|0,this._d=C+this._d|0,this._e=M+this._e|0},n.prototype._hash=function(){var g=i.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},h.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,h,m){var c=e("inherits"),s=e("./sha256"),i=e("./hash"),r=e("safe-buffer").Buffer,t=new Array(64);function n(){this.init(),this._w=t,i.call(this,64,56)}c(n,s),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var l=r.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},h.exports=n},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,h,m){var c=e("inherits"),s=e("./hash"),i=e("safe-buffer").Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=new Array(64);function n(){this.init(),this._w=t,s.call(this,64,56)}function l(f,v,x){return x^f&(v^x)}function o(f,v,x){return f&v|x&(f|v)}function a(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function g(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function b(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}c(n,s),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(f){for(var v,x=this._w,j=0|this._a,C=0|this._b,M=0|this._c,$=0|this._d,V=0|this._e,B=0|this._f,U=0|this._g,q=0|this._h,Y=0;Y<16;++Y)x[Y]=f.readInt32BE(4*Y);for(;Y<64;++Y)x[Y]=0|(((v=x[Y-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+x[Y-7]+b(x[Y-15])+x[Y-16];for(var W=0;W<64;++W){var R=q+g(V)+l(V,B,U)+r[W]+x[W]|0,D=a(j)+o(j,C,M)|0;q=U,U=B,B=V,V=$+R|0,$=M,M=C,C=j,j=R+D|0}this._a=j+this._a|0,this._b=C+this._b|0,this._c=M+this._c|0,this._d=$+this._d|0,this._e=V+this._e|0,this._f=B+this._f|0,this._g=U+this._g|0,this._h=q+this._h|0},n.prototype._hash=function(){var f=i.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},h.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,h,m){var c=e("inherits"),s=e("./sha512"),i=e("./hash"),r=e("safe-buffer").Buffer,t=new Array(160);function n(){this.init(),this._w=t,i.call(this,128,112)}c(n,s),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var l=r.allocUnsafe(48);function o(a,g,b){l.writeInt32BE(a,b),l.writeInt32BE(g,b+4)}return o(this._ah,this._al,0),o(this._bh,this._bl,8),o(this._ch,this._cl,16),o(this._dh,this._dl,24),o(this._eh,this._el,32),o(this._fh,this._fl,40),l},h.exports=n},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,h,m){var c=e("inherits"),s=e("./hash"),i=e("safe-buffer").Buffer,r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],t=new Array(160);function n(){this.init(),this._w=t,s.call(this,128,112)}function l(C,M,$){return $^C&(M^$)}function o(C,M,$){return C&M|$&(C|M)}function a(C,M){return(C>>>28|M<<4)^(M>>>2|C<<30)^(M>>>7|C<<25)}function g(C,M){return(C>>>14|M<<18)^(C>>>18|M<<14)^(M>>>9|C<<23)}function b(C,M){return(C>>>1|M<<31)^(C>>>8|M<<24)^C>>>7}function f(C,M){return(C>>>1|M<<31)^(C>>>8|M<<24)^(C>>>7|M<<25)}function v(C,M){return(C>>>19|M<<13)^(M>>>29|C<<3)^C>>>6}function x(C,M){return(C>>>19|M<<13)^(M>>>29|C<<3)^(C>>>6|M<<26)}function j(C,M){return C>>>0<M>>>0?1:0}c(n,s),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(C){for(var M=this._w,$=0|this._ah,V=0|this._bh,B=0|this._ch,U=0|this._dh,q=0|this._eh,Y=0|this._fh,W=0|this._gh,R=0|this._hh,D=0|this._al,E=0|this._bl,w=0|this._cl,k=0|this._dl,S=0|this._el,N=0|this._fl,A=0|this._gl,P=0|this._hl,L=0;L<32;L+=2)M[L]=C.readInt32BE(4*L),M[L+1]=C.readInt32BE(4*L+4);for(;L<160;L+=2){var X=M[L-30],K=M[L-30+1],te=b(X,K),z=f(K,X),Q=v(X=M[L-4],K=M[L-4+1]),O=x(K,X),I=M[L-14],H=M[L-14+1],ee=M[L-32],ne=M[L-32+1],re=z+H|0,oe=te+I+j(re,z)|0;oe=(oe=oe+Q+j(re=re+O|0,O)|0)+ee+j(re=re+ne|0,ne)|0,M[L]=oe,M[L+1]=re}for(var he=0;he<160;he+=2){oe=M[he],re=M[he+1];var pe=o($,V,B),ie=o(D,E,w),ue=a($,D),de=a(D,$),ve=g(q,S),le=g(S,q),ge=r[he],Ne=r[he+1],je=l(q,Y,W),Re=l(S,N,A),$e=P+le|0,He=R+ve+j($e,P)|0;He=(He=(He=He+je+j($e=$e+Re|0,Re)|0)+ge+j($e=$e+Ne|0,Ne)|0)+oe+j($e=$e+re|0,re)|0;var Le=de+ie|0,ot=ue+pe+j(Le,de)|0;R=W,P=A,W=Y,A=N,Y=q,N=S,q=U+He+j(S=k+$e|0,k)|0,U=B,k=w,B=V,w=E,V=$,E=D,$=He+ot+j(D=$e+Le|0,$e)|0}this._al=this._al+D|0,this._bl=this._bl+E|0,this._cl=this._cl+w|0,this._dl=this._dl+k|0,this._el=this._el+S|0,this._fl=this._fl+N|0,this._gl=this._gl+A|0,this._hl=this._hl+P|0,this._ah=this._ah+$+j(this._al,D)|0,this._bh=this._bh+V+j(this._bl,E)|0,this._ch=this._ch+B+j(this._cl,w)|0,this._dh=this._dh+U+j(this._dl,k)|0,this._eh=this._eh+q+j(this._el,S)|0,this._fh=this._fh+Y+j(this._fl,N)|0,this._gh=this._gh+W+j(this._gl,A)|0,this._hh=this._hh+R+j(this._hl,P)|0},n.prototype._hash=function(){var C=i.allocUnsafe(64);function M($,V,B){C.writeInt32BE($,B),C.writeInt32BE(V,B+4)}return M(this._ah,this._al,0),M(this._bh,this._bl,8),M(this._ch,this._cl,16),M(this._dh,this._dl,24),M(this._eh,this._el,32),M(this._fh,this._fl,40),M(this._gh,this._gl,48),M(this._hh,this._hl,56),C},h.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,h,m){h.exports=s;var c=e("events").EventEmitter;function s(){c.call(this)}e("inherits")(s,c),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(i,r){var t=this;function n(v){i.writable&&i.write(v)===!1&&t.pause&&t.pause()}function l(){t.readable&&t.resume&&t.resume()}t.on("data",n),i.on("drain",l),i._isStdio||r&&r.end===!1||(t.on("end",a),t.on("close",g));var o=!1;function a(){o||(o=!0,i.end())}function g(){o||(o=!0,typeof i.destroy=="function"&&i.destroy())}function b(v){if(f(),c.listenerCount(this,"error")===0)throw v}function f(){t.removeListener("data",n),i.removeListener("drain",l),t.removeListener("end",a),t.removeListener("close",g),t.removeListener("error",b),i.removeListener("error",b),t.removeListener("end",f),t.removeListener("close",f),i.removeListener("close",f)}return t.on("error",b),i.on("error",b),t.on("end",f),t.on("close",f),i.on("close",f),i.emit("pipe",t),i}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,h,m){var c={}.toString;h.exports=Array.isArray||function(s){return c.call(s)=="[object Array]"}},{}],507:[function(e,h,m){h.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,h,m){var c=e("process-nextick-args"),s=Object.keys||function(f){var v=[];for(var x in f)v.push(x);return v};h.exports=a;var i=Object.create(e("core-util-is"));i.inherits=e("inherits");var r=e("./_stream_readable"),t=e("./_stream_writable");i.inherits(a,r);for(var n=s(t.prototype),l=0;l<n.length;l++){var o=n[l];a.prototype[o]||(a.prototype[o]=t.prototype[o])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),t.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||c.nextTick(b,this)}function b(f){f.end()}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),a.prototype._destroy=function(f,v){this.push(null),this.end(),c.nextTick(v,f)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,h,m){h.exports=i;var c=e("./_stream_transform"),s=Object.create(e("core-util-is"));function i(r){if(!(this instanceof i))return new i(r);c.call(this,r)}s.inherits=e("inherits"),s.inherits(i,c),i.prototype._transform=function(r,t,n){n(null,r)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,h,m){(function(c,s){(function(){var i=e("process-nextick-args");h.exports=$;var r,t=e("isarray");$.ReadableState=M,e("events").EventEmitter;var n=function(P,L){return P.listeners(L).length},l=e("./internal/streams/stream"),o=e("safe-buffer").Buffer,a=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var b=e("util"),f=void 0;f=b&&b.debuglog?b.debuglog("stream"):function(){};var v,x=e("./internal/streams/BufferList"),j=e("./internal/streams/destroy");g.inherits($,l);var C=["error","close","destroy","pause","resume"];function M(P,L){P=P||{};var X=L instanceof(r=r||e("./_stream_duplex"));this.objectMode=!!P.objectMode,X&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var K=P.highWaterMark,te=P.readableHighWaterMark,z=this.objectMode?16:16384;this.highWaterMark=K||K===0?K:X&&(te||te===0)?te:z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(P.encoding),this.encoding=P.encoding)}function $(P){if(r=r||e("./_stream_duplex"),!(this instanceof $))return new $(P);this._readableState=new M(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),l.call(this)}function V(P,L,X,K,te){var z,Q=P._readableState;return L===null?(Q.reading=!1,(function(O,I){if(!I.ended){if(I.decoder){var H=I.decoder.end();H&&H.length&&(I.buffer.push(H),I.length+=I.objectMode?1:H.length)}I.ended=!0,q(O)}})(P,Q)):(te||(z=(function(O,I){var H;ee=I,o.isBuffer(ee)||ee instanceof a||typeof I=="string"||I===void 0||O.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var ee;return H})(Q,L)),z?P.emit("error",z):Q.objectMode||L&&L.length>0?(typeof L=="string"||Q.objectMode||Object.getPrototypeOf(L)===o.prototype||(L=(function(O){return o.from(O)})(L)),K?Q.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):B(P,Q,L,!0):Q.ended?P.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!X?(L=Q.decoder.write(L),Q.objectMode||L.length!==0?B(P,Q,L,!1):W(P,Q)):B(P,Q,L,!1))):K||(Q.reading=!1)),(function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)})(Q)}function B(P,L,X,K){L.flowing&&L.length===0&&!L.sync?(P.emit("data",X),P.read(0)):(L.length+=L.objectMode?1:X.length,K?L.buffer.unshift(X):L.buffer.push(X),L.needReadable&&q(P)),W(P,L)}Object.defineProperty($.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),$.prototype.destroy=j.destroy,$.prototype._undestroy=j.undestroy,$.prototype._destroy=function(P,L){this.push(null),L(P)},$.prototype.push=function(P,L){var X,K=this._readableState;return K.objectMode?X=!0:typeof P=="string"&&((L=L||K.defaultEncoding)!==K.encoding&&(P=o.from(P,L),L=""),X=!0),V(this,P,L,!1,X)},$.prototype.unshift=function(P){return V(this,P,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(P){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(P),this._readableState.encoding=P,this};function U(P,L){return P<=0||L.length===0&&L.ended?0:L.objectMode?1:P!=P?L.flowing&&L.length?L.buffer.head.data.length:L.length:(P>L.highWaterMark&&(L.highWaterMark=(function(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X})(P)),P<=L.length?P:L.ended?L.length:(L.needReadable=!0,0))}function q(P){var L=P._readableState;L.needReadable=!1,L.emittedReadable||(f("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?i.nextTick(Y,P):Y(P))}function Y(P){f("emit readable"),P.emit("readable"),w(P)}function W(P,L){L.readingMore||(L.readingMore=!0,i.nextTick(R,P,L))}function R(P,L){for(var X=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(f("maybeReadMore read 0"),P.read(0),X!==L.length);)X=L.length;L.readingMore=!1}function D(P){f("readable nexttick read 0"),P.read(0)}function E(P,L){L.reading||(f("resume read 0"),P.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,P.emit("resume"),w(P),L.flowing&&!L.reading&&P.read(0)}function w(P){var L=P._readableState;for(f("flow",L.flowing);L.flowing&&P.read()!==null;);}function k(P,L){return L.length===0?null:(L.objectMode?X=L.buffer.shift():!P||P>=L.length?(X=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.head.data:L.buffer.concat(L.length),L.buffer.clear()):X=(function(K,te,z){var Q;return K<te.head.data.length?(Q=te.head.data.slice(0,K),te.head.data=te.head.data.slice(K)):Q=K===te.head.data.length?te.shift():z?(function(O,I){var H=I.head,ee=1,ne=H.data;for(O-=ne.length;H=H.next;){var re=H.data,oe=O>re.length?re.length:O;if(oe===re.length?ne+=re:ne+=re.slice(0,O),(O-=oe)===0){oe===re.length?(++ee,H.next?I.head=H.next:I.head=I.tail=null):(I.head=H,H.data=re.slice(oe));break}++ee}return I.length-=ee,ne})(K,te):(function(O,I){var H=o.allocUnsafe(O),ee=I.head,ne=1;for(ee.data.copy(H),O-=ee.data.length;ee=ee.next;){var re=ee.data,oe=O>re.length?re.length:O;if(re.copy(H,H.length-O,0,oe),(O-=oe)===0){oe===re.length?(++ne,ee.next?I.head=ee.next:I.head=I.tail=null):(I.head=ee,ee.data=re.slice(oe));break}++ne}return I.length-=ne,H})(K,te),Q})(P,L.buffer,L.decoder),X);var X}function S(P){var L=P._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,i.nextTick(N,L,P))}function N(P,L){P.endEmitted||P.length!==0||(P.endEmitted=!0,L.readable=!1,L.emit("end"))}function A(P,L){for(var X=0,K=P.length;X<K;X++)if(P[X]===L)return X;return-1}$.prototype.read=function(P){f("read",P),P=parseInt(P,10);var L=this._readableState,X=P;if(P!==0&&(L.emittedReadable=!1),P===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return f("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?S(this):q(this),null;if((P=U(P,L))===0&&L.ended)return L.length===0&&S(this),null;var K,te=L.needReadable;return f("need readable",te),(L.length===0||L.length-P<L.highWaterMark)&&f("length less than watermark",te=!0),L.ended||L.reading?f("reading or ended",te=!1):te&&(f("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(P=U(X,L))),(K=P>0?k(P,L):null)===null?(L.needReadable=!0,P=0):L.length-=P,L.length===0&&(L.ended||(L.needReadable=!0),X!==P&&L.ended&&S(this)),K!==null&&this.emit("data",K),K},$.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},$.prototype.pipe=function(P,L){var X=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=P;break;case 1:K.pipes=[K.pipes,P];break;default:K.pipes.push(P)}K.pipesCount+=1,f("pipe count=%d opts=%j",K.pipesCount,L);var te=(!L||L.end!==!1)&&P!==c.stdout&&P!==c.stderr?Q:he;function z(pe,ie){f("onunpipe"),pe===X&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,f("cleanup"),P.removeListener("close",re),P.removeListener("finish",oe),P.removeListener("drain",O),P.removeListener("error",ne),P.removeListener("unpipe",z),X.removeListener("end",Q),X.removeListener("end",he),X.removeListener("data",ee),I=!0,!K.awaitDrain||P._writableState&&!P._writableState.needDrain||O())}function Q(){f("onend"),P.end()}K.endEmitted?i.nextTick(te):X.once("end",te),P.on("unpipe",z);var O=(function(pe){return function(){var ie=pe._readableState;f("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&n(pe,"data")&&(ie.flowing=!0,w(pe))}})(X);P.on("drain",O);var I=!1,H=!1;function ee(pe){f("ondata"),H=!1,P.write(pe)!==!1||H||((K.pipesCount===1&&K.pipes===P||K.pipesCount>1&&A(K.pipes,P)!==-1)&&!I&&(f("false write response, pause",K.awaitDrain),K.awaitDrain++,H=!0),X.pause())}function ne(pe){f("onerror",pe),he(),P.removeListener("error",ne),n(P,"error")===0&&P.emit("error",pe)}function re(){P.removeListener("finish",oe),he()}function oe(){f("onfinish"),P.removeListener("close",re),he()}function he(){f("unpipe"),X.unpipe(P)}return X.on("data",ee),(function(pe,ie,ue){if(typeof pe.prependListener=="function")return pe.prependListener(ie,ue);pe._events&&pe._events[ie]?t(pe._events[ie])?pe._events[ie].unshift(ue):pe._events[ie]=[ue,pe._events[ie]]:pe.on(ie,ue)})(P,"error",ne),P.once("close",re),P.once("finish",oe),P.emit("pipe",X),K.flowing||(f("pipe resume"),X.resume()),P},$.prototype.unpipe=function(P){var L=this._readableState,X={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return P&&P!==L.pipes||(P||(P=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,P&&P.emit("unpipe",this,X)),this;if(!P){var K=L.pipes,te=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var z=0;z<te;z++)K[z].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=A(L.pipes,P);return Q===-1||(L.pipes.splice(Q,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),P.emit("unpipe",this,X)),this},$.prototype.on=function(P,L){var X=l.prototype.on.call(this,P,L);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var K=this._readableState;K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&q(this):i.nextTick(D,this))}return X},$.prototype.addListener=$.prototype.on,$.prototype.resume=function(){var P=this._readableState;return P.flowing||(f("resume"),P.flowing=!0,(function(L,X){X.resumeScheduled||(X.resumeScheduled=!0,i.nextTick(E,L,X))})(this,P)),this},$.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},$.prototype.wrap=function(P){var L=this,X=this._readableState,K=!1;for(var te in P.on("end",(function(){if(f("wrapped end"),X.decoder&&!X.ended){var Q=X.decoder.end();Q&&Q.length&&L.push(Q)}L.push(null)})),P.on("data",(function(Q){f("wrapped data"),X.decoder&&(Q=X.decoder.write(Q)),X.objectMode&&Q==null||(X.objectMode||Q&&Q.length)&&(L.push(Q)||(K=!0,P.pause()))})),P)this[te]===void 0&&typeof P[te]=="function"&&(this[te]=(function(Q){return function(){return P[Q].apply(P,arguments)}})(te));for(var z=0;z<C.length;z++)P.on(C[z],this.emit.bind(this,C[z]));return this._read=function(Q){f("wrapped _read",Q),K&&(K=!1,P.resume())},this},Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),$._fromList=k}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,h,m){h.exports=r;var c=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function i(l,o){var a=this._transformState;a.transforming=!1;var g=a.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));a.writechunk=null,a.writecb=null,o!=null&&this.push(o),g(l);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function r(l){if(!(this instanceof r))return new r(l);c.call(this,l),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",t)}function t(){var l=this;typeof this._flush=="function"?this._flush((function(o,a){n(l,o,a)})):n(this,null,null)}function n(l,o,a){if(o)return l.emit("error",o);if(a!=null&&l.push(a),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}s.inherits=e("inherits"),s.inherits(r,c),r.prototype.push=function(l,o){return this._transformState.needTransform=!1,c.prototype.push.call(this,l,o)},r.prototype._transform=function(l,o,a){throw new Error("_transform() is not implemented")},r.prototype._write=function(l,o,a){var g=this._transformState;if(g.writecb=a,g.writechunk=l,g.writeencoding=o,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},r.prototype._read=function(l){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},r.prototype._destroy=function(l,o){var a=this;c.prototype._destroy.call(this,l,(function(g){o(g),a.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,h,m){(function(c,s,i){(function(){var r=e("process-nextick-args");function t(W){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(D,E,w){var k=D.entry;for(D.entry=null;k;){var S=k.callback;E.pendingcb--,S(w),k=k.next}E.corkedRequestsFree.next=D})(R,W)}}h.exports=M;var n,l=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?i:r.nextTick;M.WritableState=C;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var a={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,x=e("./internal/streams/destroy");function j(){}function C(W,R){n=n||e("./_stream_duplex"),W=W||{};var D=R instanceof n;this.objectMode=!!W.objectMode,D&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var E=W.highWaterMark,w=W.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:D&&(w||w===0)?w:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=W.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(A,P){var L=A._writableState,X=L.sync,K=L.writecb;if((function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0})(L),P)(function(z,Q,O,I,H){--Q.pendingcb,O?(r.nextTick(H,I),r.nextTick(Y,z,Q),z._writableState.errorEmitted=!0,z.emit("error",I)):(H(I),z._writableState.errorEmitted=!0,z.emit("error",I),Y(z,Q))})(A,L,X,P,K);else{var te=U(L);te||L.corked||L.bufferProcessing||!L.bufferedRequest||B(A,L),X?l(V,A,L,te,K):V(A,L,te,K)}})(R,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function M(W){if(n=n||e("./_stream_duplex"),!(v.call(M,this)||this instanceof n))return new M(W);this._writableState=new C(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),g.call(this)}function $(W,R,D,E,w,k,S){R.writelen=E,R.writecb=S,R.writing=!0,R.sync=!0,D?W._writev(w,R.onwrite):W._write(w,k,R.onwrite),R.sync=!1}function V(W,R,D,E){D||(function(w,k){k.length===0&&k.needDrain&&(k.needDrain=!1,w.emit("drain"))})(W,R),R.pendingcb--,E(),Y(W,R)}function B(W,R){R.bufferProcessing=!0;var D=R.bufferedRequest;if(W._writev&&D&&D.next){var E=R.bufferedRequestCount,w=new Array(E),k=R.corkedRequestsFree;k.entry=D;for(var S=0,N=!0;D;)w[S]=D,D.isBuf||(N=!1),D=D.next,S+=1;w.allBuffers=N,$(W,R,!0,R.length,w,"",k.finish),R.pendingcb++,R.lastBufferedRequest=null,k.next?(R.corkedRequestsFree=k.next,k.next=null):R.corkedRequestsFree=new t(R),R.bufferedRequestCount=0}else{for(;D;){var A=D.chunk,P=D.encoding,L=D.callback;if($(W,R,!1,R.objectMode?1:A.length,A,P,L),D=D.next,R.bufferedRequestCount--,R.writing)break}D===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=D,R.bufferProcessing=!1}function U(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function q(W,R){W._final((function(D){R.pendingcb--,D&&W.emit("error",D),R.prefinished=!0,W.emit("prefinish"),Y(W,R)}))}function Y(W,R){var D=U(R);return D&&((function(E,w){w.prefinished||w.finalCalled||(typeof E._final=="function"?(w.pendingcb++,w.finalCalled=!0,r.nextTick(q,E,w)):(w.prefinished=!0,E.emit("prefinish")))})(W,R),R.pendingcb===0&&(R.finished=!0,W.emit("finish"))),D}o.inherits(M,g),C.prototype.getBuffer=function(){for(var W=this.bufferedRequest,R=[];W;)R.push(W),W=W.next;return R},(function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(W){return!!v.call(this,W)||this===M&&W&&W._writableState instanceof C}})):v=function(W){return W instanceof this},M.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},M.prototype.write=function(W,R,D){var E,w=this._writableState,k=!1,S=!w.objectMode&&(E=W,b.isBuffer(E)||E instanceof f);return S&&!b.isBuffer(W)&&(W=(function(N){return b.from(N)})(W)),typeof R=="function"&&(D=R,R=null),S?R="buffer":R||(R=w.defaultEncoding),typeof D!="function"&&(D=j),w.ended?(function(N,A){var P=new Error("write after end");N.emit("error",P),r.nextTick(A,P)})(this,D):(S||(function(N,A,P,L){var X=!0,K=!1;return P===null?K=new TypeError("May not write null values to stream"):typeof P=="string"||P===void 0||A.objectMode||(K=new TypeError("Invalid non-string/buffer chunk")),K&&(N.emit("error",K),r.nextTick(L,K),X=!1),X})(this,w,W,D))&&(w.pendingcb++,k=(function(N,A,P,L,X,K){if(!P){var te=(function(I,H,ee){return I.objectMode||I.decodeStrings===!1||typeof H!="string"||(H=b.from(H,ee)),H})(A,L,X);L!==te&&(P=!0,X="buffer",L=te)}var z=A.objectMode?1:L.length;A.length+=z;var Q=A.length<A.highWaterMark;if(Q||(A.needDrain=!0),A.writing||A.corked){var O=A.lastBufferedRequest;A.lastBufferedRequest={chunk:L,encoding:X,isBuf:P,callback:K,next:null},O?O.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else $(N,A,!1,z,L,X,K);return Q})(this,w,S,W,R,D)),k},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||B(this,W))},M.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(W,R,D){D(new Error("_write() is not implemented"))},M.prototype._writev=null,M.prototype.end=function(W,R,D){var E=this._writableState;typeof W=="function"?(D=W,W=null,R=null):typeof R=="function"&&(D=R,R=null),W!=null&&this.write(W,R),E.corked&&(E.corked=1,this.uncork()),E.ending||(function(w,k,S){k.ending=!0,Y(w,k),S&&(k.finished?r.nextTick(S):w.once("finish",S)),k.ended=!0,w.writable=!1})(this,E,D)},Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),M.prototype.destroy=x.destroy,M.prototype._undestroy=x.undestroy,M.prototype._destroy=function(W,R){this.end(),R(W)}}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,h,m){var c=e("safe-buffer").Buffer,s=e("util");h.exports=(function(){function i(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(r){var t={data:r,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},i.prototype.unshift=function(r){var t={data:r,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},i.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(r){if(this.length===0)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=r+t.data;return n},i.prototype.concat=function(r){if(this.length===0)return c.alloc(0);for(var t,n,l,o=c.allocUnsafe(r>>>0),a=this.head,g=0;a;)t=a.data,n=o,l=g,t.copy(n,l),g+=a.data.length,a=a.next;return o},i})(),s&&s.inspect&&s.inspect.custom&&(h.exports.prototype[s.inspect.custom]=function(){var i=s.inspect({length:this.length});return this.constructor.name+" "+i})},{"safe-buffer":520,util:188}],514:[function(e,h,m){var c=e("process-nextick-args");function s(i,r){i.emit("error",r)}h.exports={destroy:function(i,r){var t=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(r?r(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(s,this,i)):c.nextTick(s,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,(function(o){!r&&o?t._writableState?t._writableState.errorEmitted||(t._writableState.errorEmitted=!0,c.nextTick(s,t,o)):c.nextTick(s,t,o):r&&r(o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,h,m){arguments[4][490][0].apply(m,arguments)},{dup:490,events:422}],516:[function(e,h,m){h.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,h,m){(m=h.exports=e("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=e("./lib/_stream_writable.js"),m.Duplex=e("./lib/_stream_duplex.js"),m.Transform=e("./lib/_stream_transform.js"),m.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,h,m){h.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,h,m){h.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,h,m){arguments[4][217][0].apply(m,arguments)},{buffer:220,dup:217}],521:[function(e,h,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,h,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,h,m){(function(c,s){(function(){var i=e("process/browser.js").nextTick,r=Function.prototype.apply,t=Array.prototype.slice,n={},l=0;function o(a,g){this._id=a,this._clearFn=g}m.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},m.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},m.clearTimeout=m.clearInterval=function(a){a.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},m.enroll=function(a,g){clearTimeout(a._idleTimeoutId),a._idleTimeout=g},m.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},m._unrefActive=m.active=function(a){clearTimeout(a._idleTimeoutId);var g=a._idleTimeout;g>=0&&(a._idleTimeoutId=setTimeout((function(){a._onTimeout&&a._onTimeout()}),g))},m.setImmediate=typeof c=="function"?c:function(a){var g=l++,b=!(arguments.length<2)&&t.call(arguments,1);return n[g]=!0,i((function(){n[g]&&(b?a.apply(null,b):a.call(null),m.clearImmediate(g))})),g},m.clearImmediate=typeof s=="function"?s:function(a){delete n[a]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,h,m){(function(c){(function(){function s(i){try{if(!c.localStorage)return!1}catch{return!1}var r=c.localStorage[i];return r!=null&&String(r).toLowerCase()==="true"}h.exports=function(i,r){if(s("noDeprecation"))return i;var t=!1;return function(){if(!t){if(s("throwDeprecation"))throw new Error(r);s("traceDeprecation")?console.trace(r):console.warn(r),t=!0}return i.apply(this,arguments)}}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,h,m){typeof Object.create=="function"?h.exports=function(c,s){c.super_=s,c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:h.exports=function(c,s){c.super_=s;var i=function(){};i.prototype=s.prototype,c.prototype=new i,c.prototype.constructor=c}},{}],526:[function(e,h,m){h.exports=function(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},{}],527:[function(e,h,m){(function(c,s){(function(){var i=/%[sdj%]/g;m.format=function(w){if(!C(w)){for(var k=[],S=0;S<arguments.length;S++)k.push(n(arguments[S]));return k.join(" ")}S=1;for(var N=arguments,A=N.length,P=String(w).replace(i,(function(X){if(X==="%%")return"%";if(S>=A)return X;switch(X){case"%s":return String(N[S++]);case"%d":return Number(N[S++]);case"%j":try{return JSON.stringify(N[S++])}catch{return"[Circular]"}default:return X}})),L=N[S];S<A;L=N[++S])x(L)||!V(L)?P+=" "+L:P+=" "+n(L);return P},m.deprecate=function(w,k){if(M(s.process))return function(){return m.deprecate(w,k).apply(this,arguments)};if(c.noDeprecation===!0)return w;var S=!1;return function(){if(!S){if(c.throwDeprecation)throw new Error(k);c.traceDeprecation?console.trace(k):console.error(k),S=!0}return w.apply(this,arguments)}};var r,t={};function n(w,k){var S={seen:[],stylize:o};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),v(k)?S.showHidden=k:k&&m._extend(S,k),M(S.showHidden)&&(S.showHidden=!1),M(S.depth)&&(S.depth=2),M(S.colors)&&(S.colors=!1),M(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=l),a(S,w,S.depth)}function l(w,k){var S=n.styles[k];return S?"\x1B["+n.colors[S][0]+"m"+w+"\x1B["+n.colors[S][1]+"m":w}function o(w,k){return w}function a(w,k,S){if(w.customInspect&&k&&q(k.inspect)&&k.inspect!==m.inspect&&(!k.constructor||k.constructor.prototype!==k)){var N=k.inspect(S,w);return C(N)||(N=a(w,N,S)),N}var A=(function(O,I){if(M(I))return O.stylize("undefined","undefined");if(C(I)){var H="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(H,"string")}if(j(I))return O.stylize(""+I,"number");if(v(I))return O.stylize(""+I,"boolean");if(x(I))return O.stylize("null","null")})(w,k);if(A)return A;var P=Object.keys(k),L=(function(O){var I={};return O.forEach((function(H,ee){I[H]=!0})),I})(P);if(w.showHidden&&(P=Object.getOwnPropertyNames(k)),U(k)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return g(k);if(P.length===0){if(q(k)){var X=k.name?": "+k.name:"";return w.stylize("[Function"+X+"]","special")}if($(k))return w.stylize(RegExp.prototype.toString.call(k),"regexp");if(B(k))return w.stylize(Date.prototype.toString.call(k),"date");if(U(k))return g(k)}var K,te="",z=!1,Q=["{","}"];return f(k)&&(z=!0,Q=["[","]"]),q(k)&&(te=" [Function"+(k.name?": "+k.name:"")+"]"),$(k)&&(te=" "+RegExp.prototype.toString.call(k)),B(k)&&(te=" "+Date.prototype.toUTCString.call(k)),U(k)&&(te=" "+g(k)),P.length!==0||z&&k.length!=0?S<0?$(k)?w.stylize(RegExp.prototype.toString.call(k),"regexp"):w.stylize("[Object]","special"):(w.seen.push(k),K=z?(function(O,I,H,ee,ne){for(var re=[],oe=0,he=I.length;oe<he;++oe)E(I,String(oe))?re.push(b(O,I,H,ee,String(oe),!0)):re.push("");return ne.forEach((function(pe){pe.match(/^\d+$/)||re.push(b(O,I,H,ee,pe,!0))})),re})(w,k,S,L,P):P.map((function(O){return b(w,k,S,L,O,z)})),w.seen.pop(),(function(O,I,H){return O.reduce((function(ee,ne){return ne.indexOf(`
`)>=0,ee+ne.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?H[0]+(I===""?"":I+`
 `)+" "+O.join(`,
  `)+" "+H[1]:H[0]+I+" "+O.join(", ")+" "+H[1]})(K,te,Q)):Q[0]+te+Q[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function b(w,k,S,N,A,P){var L,X,K;if((K=Object.getOwnPropertyDescriptor(k,A)||{value:k[A]}).get?X=K.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):K.set&&(X=w.stylize("[Setter]","special")),E(N,A)||(L="["+A+"]"),X||(w.seen.indexOf(K.value)<0?(X=x(S)?a(w,K.value,null):a(w,K.value,S-1)).indexOf(`
`)>-1&&(X=P?X.split(`
`).map((function(te){return"  "+te})).join(`
`).substr(2):`
`+X.split(`
`).map((function(te){return"   "+te})).join(`
`)):X=w.stylize("[Circular]","special")),M(L)){if(P&&A.match(/^\d+$/))return X;(L=JSON.stringify(""+A)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=w.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=w.stylize(L,"string"))}return L+": "+X}function f(w){return Array.isArray(w)}function v(w){return typeof w=="boolean"}function x(w){return w===null}function j(w){return typeof w=="number"}function C(w){return typeof w=="string"}function M(w){return w===void 0}function $(w){return V(w)&&Y(w)==="[object RegExp]"}function V(w){return typeof w=="object"&&w!==null}function B(w){return V(w)&&Y(w)==="[object Date]"}function U(w){return V(w)&&(Y(w)==="[object Error]"||w instanceof Error)}function q(w){return typeof w=="function"}function Y(w){return Object.prototype.toString.call(w)}function W(w){return w<10?"0"+w.toString(10):w.toString(10)}m.debuglog=function(w){if(M(r)&&(r=c.env.NODE_DEBUG||""),w=w.toUpperCase(),!t[w])if(new RegExp("\\b"+w+"\\b","i").test(r)){var k=c.pid;t[w]=function(){var S=m.format.apply(m,arguments);console.error("%s %d: %s",w,k,S)}}else t[w]=function(){};return t[w]},m.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},m.isArray=f,m.isBoolean=v,m.isNull=x,m.isNullOrUndefined=function(w){return w==null},m.isNumber=j,m.isString=C,m.isSymbol=function(w){return typeof w=="symbol"},m.isUndefined=M,m.isRegExp=$,m.isObject=V,m.isDate=B,m.isError=U,m.isFunction=q,m.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},m.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var w=new Date,k=[W(w.getHours()),W(w.getMinutes()),W(w.getSeconds())].join(":");return[w.getDate(),R[w.getMonth()],k].join(" ")}function E(w,k){return Object.prototype.hasOwnProperty.call(w,k)}m.log=function(){console.log("%s - %s",D(),m.format.apply(m,arguments))},m.inherits=e("inherits"),m._extend=function(w,k){if(!k||!V(k))return w;for(var S=Object.keys(k),N=S.length;N--;)w[S[N]]=k[S[N]];return w}}).call(this)}).call(this,e("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"v1",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(m,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(m,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(m,"v5",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(m,"NIL",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(m,"version",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(m,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(m,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return a.default}});var c=g(e("./v1.js")),s=g(e("./v3.js")),i=g(e("./v4.js")),r=g(e("./v5.js")),t=g(e("./nil.js")),n=g(e("./version.js")),l=g(e("./validate.js")),o=g(e("./stringify.js")),a=g(e("./parse.js"));function g(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,h,m){function c(a){return 14+(a+64>>>9<<4)+1}function s(a,g){const b=(65535&a)+(65535&g);return(a>>16)+(g>>16)+(b>>16)<<16|65535&b}function i(a,g,b,f,v,x){return s((j=s(s(g,a),s(f,x)))<<(C=v)|j>>>32-C,b);var j,C}function r(a,g,b,f,v,x,j){return i(g&b|~g&f,a,g,v,x,j)}function t(a,g,b,f,v,x,j){return i(g&f|b&~f,a,g,v,x,j)}function n(a,g,b,f,v,x,j){return i(g^b^f,a,g,v,x,j)}function l(a,g,b,f,v,x,j){return i(b^(g|~f),a,g,v,x,j)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var o=function(a){if(typeof a=="string"){const g=unescape(encodeURIComponent(a));a=new Uint8Array(g.length);for(let b=0;b<g.length;++b)a[b]=g.charCodeAt(b)}return(function(g){const b=[],f=32*g.length;for(let v=0;v<f;v+=8){const x=g[v>>5]>>>v%32&255,j=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);b.push(j)}return b})((function(g,b){g[b>>5]|=128<<b%32,g[c(b)-1]=b;let f=1732584193,v=-271733879,x=-1732584194,j=271733878;for(let C=0;C<g.length;C+=16){const M=f,$=v,V=x,B=j;f=r(f,v,x,j,g[C],7,-680876936),j=r(j,f,v,x,g[C+1],12,-389564586),x=r(x,j,f,v,g[C+2],17,606105819),v=r(v,x,j,f,g[C+3],22,-1044525330),f=r(f,v,x,j,g[C+4],7,-176418897),j=r(j,f,v,x,g[C+5],12,1200080426),x=r(x,j,f,v,g[C+6],17,-1473231341),v=r(v,x,j,f,g[C+7],22,-45705983),f=r(f,v,x,j,g[C+8],7,1770035416),j=r(j,f,v,x,g[C+9],12,-1958414417),x=r(x,j,f,v,g[C+10],17,-42063),v=r(v,x,j,f,g[C+11],22,-1990404162),f=r(f,v,x,j,g[C+12],7,1804603682),j=r(j,f,v,x,g[C+13],12,-40341101),x=r(x,j,f,v,g[C+14],17,-1502002290),v=r(v,x,j,f,g[C+15],22,1236535329),f=t(f,v,x,j,g[C+1],5,-165796510),j=t(j,f,v,x,g[C+6],9,-1069501632),x=t(x,j,f,v,g[C+11],14,643717713),v=t(v,x,j,f,g[C],20,-373897302),f=t(f,v,x,j,g[C+5],5,-701558691),j=t(j,f,v,x,g[C+10],9,38016083),x=t(x,j,f,v,g[C+15],14,-660478335),v=t(v,x,j,f,g[C+4],20,-405537848),f=t(f,v,x,j,g[C+9],5,568446438),j=t(j,f,v,x,g[C+14],9,-1019803690),x=t(x,j,f,v,g[C+3],14,-187363961),v=t(v,x,j,f,g[C+8],20,1163531501),f=t(f,v,x,j,g[C+13],5,-1444681467),j=t(j,f,v,x,g[C+2],9,-51403784),x=t(x,j,f,v,g[C+7],14,1735328473),v=t(v,x,j,f,g[C+12],20,-1926607734),f=n(f,v,x,j,g[C+5],4,-378558),j=n(j,f,v,x,g[C+8],11,-2022574463),x=n(x,j,f,v,g[C+11],16,1839030562),v=n(v,x,j,f,g[C+14],23,-35309556),f=n(f,v,x,j,g[C+1],4,-1530992060),j=n(j,f,v,x,g[C+4],11,1272893353),x=n(x,j,f,v,g[C+7],16,-155497632),v=n(v,x,j,f,g[C+10],23,-1094730640),f=n(f,v,x,j,g[C+13],4,681279174),j=n(j,f,v,x,g[C],11,-358537222),x=n(x,j,f,v,g[C+3],16,-722521979),v=n(v,x,j,f,g[C+6],23,76029189),f=n(f,v,x,j,g[C+9],4,-640364487),j=n(j,f,v,x,g[C+12],11,-421815835),x=n(x,j,f,v,g[C+15],16,530742520),v=n(v,x,j,f,g[C+2],23,-995338651),f=l(f,v,x,j,g[C],6,-198630844),j=l(j,f,v,x,g[C+7],10,1126891415),x=l(x,j,f,v,g[C+14],15,-1416354905),v=l(v,x,j,f,g[C+5],21,-57434055),f=l(f,v,x,j,g[C+12],6,1700485571),j=l(j,f,v,x,g[C+3],10,-1894986606),x=l(x,j,f,v,g[C+10],15,-1051523),v=l(v,x,j,f,g[C+1],21,-2054922799),f=l(f,v,x,j,g[C+8],6,1873313359),j=l(j,f,v,x,g[C+15],10,-30611744),x=l(x,j,f,v,g[C+6],15,-1560198380),v=l(v,x,j,f,g[C+13],21,1309151649),f=l(f,v,x,j,g[C+4],6,-145523070),j=l(j,f,v,x,g[C+11],10,-1120210379),x=l(x,j,f,v,g[C+2],15,718787259),v=l(v,x,j,f,g[C+9],21,-343485551),f=s(f,M),v=s(v,$),x=s(x,V),j=s(j,B)}return[f,v,x,j]})((function(g){if(g.length===0)return[];const b=8*g.length,f=new Uint32Array(c(b));for(let v=0;v<b;v+=8)f[v>>5]|=(255&g[v/8])<<v%32;return f})(a),8*a.length))};m.default=o},{}],530:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c,s=(c=e("./validate.js"))&&c.__esModule?c:{default:c},i=function(r){if(!(0,s.default)(r))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(r.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(r.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(r.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(r.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};m.default=i},{"./validate.js":541}],532:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,h,m){let c;Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(s)};const s=new Uint8Array(16)},{}],534:[function(e,h,m){function c(r,t,n,l){switch(r){case 0:return t&n^~t&l;case 1:return t^n^l;case 2:return t&n^t&l^n&l;case 3:return t^n^l}}function s(r,t){return r<<t|r>>>32-t}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var i=function(r){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){const g=unescape(encodeURIComponent(r));r=[];for(let b=0;b<g.length;++b)r.push(g.charCodeAt(b))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);const l=r.length/4+2,o=Math.ceil(l/16),a=new Array(o);for(let g=0;g<o;++g){const b=new Uint32Array(16);for(let f=0;f<16;++f)b[f]=r[64*g+4*f]<<24|r[64*g+4*f+1]<<16|r[64*g+4*f+2]<<8|r[64*g+4*f+3];a[g]=b}a[o-1][14]=8*(r.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(r.length-1)&4294967295;for(let g=0;g<o;++g){const b=new Uint32Array(80);for(let M=0;M<16;++M)b[M]=a[g][M];for(let M=16;M<80;++M)b[M]=s(b[M-3]^b[M-8]^b[M-14]^b[M-16],1);let f=n[0],v=n[1],x=n[2],j=n[3],C=n[4];for(let M=0;M<80;++M){const $=Math.floor(M/20),V=s(f,5)+c($,v,x,j)+C+t[$]+b[M]>>>0;C=j,j=x,x=s(v,30)>>>0,v=f,f=V}n[0]=n[0]+f>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+j>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};m.default=i},{}],535:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c,s=(c=e("./validate.js"))&&c.__esModule?c:{default:c};const i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).substr(1));var r=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const l=(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase();if(!(0,s.default)(l))throw TypeError("Stringified UUID is invalid");return l};m.default=r},{"./validate.js":541}],536:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c=i(e("./rng.js")),s=i(e("./stringify.js"));function i(a){return a&&a.__esModule?a:{default:a}}let r,t,n=0,l=0;var o=function(a,g,b){let f=g&&b||0;const v=g||new Array(16);let x=(a=a||{}).node||r,j=a.clockseq!==void 0?a.clockseq:t;if(x==null||j==null){const U=a.random||(a.rng||c.default)();x==null&&(x=r=[1|U[0],U[1],U[2],U[3],U[4],U[5]]),j==null&&(j=t=16383&(U[6]<<8|U[7]))}let C=a.msecs!==void 0?a.msecs:Date.now(),M=a.nsecs!==void 0?a.nsecs:l+1;const $=C-n+(M-l)/1e4;if($<0&&a.clockseq===void 0&&(j=j+1&16383),($<0||C>n)&&a.nsecs===void 0&&(M=0),M>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=C,l=M,t=j,C+=122192928e5;const V=(1e4*(268435455&C)+M)%4294967296;v[f++]=V>>>24&255,v[f++]=V>>>16&255,v[f++]=V>>>8&255,v[f++]=255&V;const B=C/4294967296*1e4&268435455;v[f++]=B>>>8&255,v[f++]=255&B,v[f++]=B>>>24&15|16,v[f++]=B>>>16&255,v[f++]=j>>>8|128,v[f++]=255&j;for(let U=0;U<6;++U)v[f+U]=x[U];return g||(0,s.default)(v)};m.default=o},{"./rng.js":533,"./stringify.js":535}],537:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c=i(e("./v35.js")),s=i(e("./md5.js"));function i(t){return t&&t.__esModule?t:{default:t}}var r=(0,c.default)("v3",48,s.default);m.default=r},{"./md5.js":529,"./v35.js":538}],538:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(n,l,o){function a(g,b,f,v){if(typeof g=="string"&&(g=(function(j){j=unescape(encodeURIComponent(j));const C=[];for(let M=0;M<j.length;++M)C.push(j.charCodeAt(M));return C})(g)),typeof b=="string"&&(b=(0,s.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+g.length);if(x.set(b),x.set(g,b.length),x=o(x),x[6]=15&x[6]|l,x[8]=63&x[8]|128,f){v=v||0;for(let j=0;j<16;++j)f[v+j]=x[j];return f}return(0,c.default)(x)}try{a.name=n}catch{}return a.DNS=r,a.URL=t,a},m.URL=m.DNS=void 0;var c=i(e("./stringify.js")),s=i(e("./parse.js"));function i(n){return n&&n.__esModule?n:{default:n}}const r="6ba7b810-9dad-11d1-80b4-00c04fd430c8";m.DNS=r;const t="6ba7b811-9dad-11d1-80b4-00c04fd430c8";m.URL=t},{"./parse.js":531,"./stringify.js":535}],539:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c=i(e("./rng.js")),s=i(e("./stringify.js"));function i(t){return t&&t.__esModule?t:{default:t}}var r=function(t,n,l){const o=(t=t||{}).random||(t.rng||c.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){l=l||0;for(let a=0;a<16;++a)n[l+a]=o[a];return n}return(0,s.default)(o)};m.default=r},{"./rng.js":533,"./stringify.js":535}],540:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c=i(e("./v35.js")),s=i(e("./sha1.js"));function i(t){return t&&t.__esModule?t:{default:t}}var r=(0,c.default)("v5",80,s.default);m.default=r},{"./sha1.js":534,"./v35.js":538}],541:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c,s=(c=e("./regex.js"))&&c.__esModule?c:{default:c},i=function(r){return typeof r=="string"&&s.default.test(r)};m.default=i},{"./regex.js":532}],542:[function(e,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var c,s=(c=e("./validate.js"))&&c.__esModule?c:{default:c},i=function(r){if(!(0,s.default)(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)};m.default=i},{"./validate.js":541}],543:[function(e,h,m){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR=`	
\r -퟿-�𐀀-􏿿`,m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function c(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isS=function(s){return s===32||s===10||s===13||s===9},m.isNameStartChar=c,m.isNameChar=function(s){return c(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,h,m){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR="-퟿-�𐀀-􏿿",m.RESTRICTED_CHAR="-\b\v\f---",m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.RESTRICTED_CHAR_RE=new RegExp("^["+m.RESTRICTED_CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function c(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},m.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isS=function(s){return s===32||s===10||s===13||s===9},m.isNameStartChar=c,m.isNameChar=function(s){return c(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,h,m){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function c(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(m,"__esModule",{value:!0}),m.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NC_NAME_CHAR="-"+m.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.NC_NAME_START_CHAR_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]$","u"),m.NC_NAME_CHAR_RE=new RegExp("^["+m.NC_NAME_CHAR+"]$","u"),m.NC_NAME_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]["+m.NC_NAME_CHAR+"]*$","u"),m.isNCNameStartChar=c,m.isNCNameChar=function(s){return c(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(_d)),_d.exports}var Wm=Q8();class eS{async parseExcelFile(d){return new Promise((e,h)=>{const m=new FileReader;m.onload=async c=>{try{const s=c.target?.result,i=new Wm.Workbook;await i.xlsx.load(s);const r=i.worksheets[0];if(!r)throw new Error("Excel file has no worksheets");const t=[];if(r.eachRow((g,b)=>{const f=[];g.eachCell((v,x)=>{f[x-1]=v.value}),t.push(f)}),t.length===0)throw new Error("Excel file is empty");const n=t[0].map(g=>String(g||"")),o=t.slice(1).map(g=>{const b={};return n.forEach((f,v)=>{b[f]=g[v]||""}),b}),a={headers:n,data:o,fileName:d.name,fileSize:d.size,uploadedAt:new Date};e(a)}catch(s){h(new Error(`Failed to parse Excel file: ${s instanceof Error?s.message:"Unknown error"}`))}},m.onerror=()=>{h(new Error("Failed to read file"))},m.readAsArrayBuffer(d)})}async uploadExcelFile(d,e){try{console.log("🚀 [EXCEL-SERVICE] Starting Excel upload process"),console.log("📋 [EXCEL-SERVICE] Upload details:",{tabId:e,hasFile:d.has("file"),file:d.get("file"),description:d.get("description"),metadata:d.get("metadata")}),console.log("🔄 [EXCEL-SERVICE] Calling API service uploadExcelFile...");const h=await Nt.uploadExcelFile(d,e);if(console.log("📊 [EXCEL-SERVICE] Excel upload response received:",h),console.log("🔍 [EXCEL-SERVICE] Response structure analysis:",{hasSuccess:"success"in h,hasSuccessCapital:"Success"in h,successValue:h.success||h.Success,hasData:"data"in h,hasDataCapital:"Data"in h,dataKeys:h.data?Object.keys(h.data):h.Data?Object.keys(h.Data):"No data"}),h.success||h.Success){console.log("✅ [EXCEL-SERVICE] Upload successful, processing response data...");const m=h.data||h.Data;console.log("📦 [EXCEL-SERVICE] Backend data structure:",m);const c=m.headers?.$values||m.headers||[],s=m.data?.$values||m.data||[];console.log("📊 [EXCEL-SERVICE] Processed data:",{headers:c,dataLength:s?.length,dataSample:s?.slice(0,2)});const i={headers:Array.isArray(c)?c:[],data:Array.isArray(s)?s:[],fileName:m.fileName||"Unknown file",fileSize:m.fileSize||0,uploadedAt:m.uploadedAt?new Date(m.uploadedAt):new Date};return console.log("✅ [EXCEL-SERVICE] Excel data processed successfully:",i),{success:!0,data:i}}else return console.log("❌ [EXCEL-SERVICE] Upload failed:",{error:h.error?.message||h.Error?.Message,fullResponse:h}),{success:!1,error:h.error?.message||h.Error?.Message||"Upload failed"}}catch(h){return console.error("❌ [EXCEL-SERVICE] Excel upload error:",h),console.error("❌ [EXCEL-SERVICE] Error details:",{message:h instanceof Error?h.message:"Unknown error",stack:h instanceof Error?h.stack:void 0}),{success:!1,error:h instanceof Error?h.message:"Unknown error occurred"}}}async getExcelDataForTab(d){try{const e=await Nt.getExcelDataForTab(d);if(console.log("Get Excel data response:",e),console.log("Response Data structure:",JSON.stringify(e.data||e.Data,null,2)),(e.success||e.Success)&&(e.data||e.Data)){const h=e.data||e.Data;console.log("Backend data keys:",Object.keys(h)),console.log("Backend data values:",h);const m=h.headers?.$values||h.headers||[],c=h.data?.$values||h.data||[];console.log("Extracted headers:",m),console.log("Extracted data length:",c.length),console.log("First data row:",c[0]);const s={headers:Array.isArray(m)?m:[],data:Array.isArray(c)?c:[],fileName:h.fileName||"Unknown file",fileSize:h.fileSize||0,uploadedAt:h.uploadedAt?new Date(h.uploadedAt):new Date};return console.log("Transformed Excel data:",s),s}return null}catch(e){return console.error("Failed to get Excel data for tab:",e),null}}async deleteExcelDataForTab(d){try{return(await Nt.deleteExcelDataForTab(d)).Success}catch(e){return console.error("Failed to delete Excel data for tab:",e),!1}}validateExcelFile(d){const e=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"],h=[".xlsx",".xls",".csv"],m=d.name.toLowerCase().substring(d.name.lastIndexOf("."));return!e.includes(d.type)&&!h.includes(m)?{valid:!1,error:"Invalid file type. Please upload an Excel file (.xlsx, .xls) or CSV file."}:d.size>10*1024*1024?{valid:!1,error:"File size too large. Please upload a file smaller than 10MB."}:{valid:!0}}async exportToExcel(d,e,h="export.xlsx"){const m=new Wm.Workbook,c=m.addWorksheet("Sheet1");c.addRow(e),d.forEach(l=>{const o=e.map(a=>l[a]||"");c.addRow(o)});const s=c.getRow(1);s.font={bold:!0},s.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},c.columns.forEach(l=>{l.width=15});const i=await m.xlsx.writeBuffer(),r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=h,n.click(),window.URL.revokeObjectURL(t)}}const bo=new eS;function tS({open:_,onOpenChange:d,tabId:e,tabName:h,onUploadSuccess:m}){const{hasPermission:c}=Cn();if(!c("canAccessER"))return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsx(jn,{className:"max-w-2xl",children:p.jsx(vo,{module:"Excel Upload"})})});const[s,i]=Z.useState(null),[r,t]=Z.useState(""),[n,l]=Z.useState(!1),[o,a]=Z.useState(0),[g,b]=Z.useState(null),[f,v]=Z.useState(null),x=Z.useRef(null),j=async B=>{const U=B.target.files?.[0];if(!U)return;v(null),b(null);const q=bo.validateExcelFile(U);if(!q.valid){v(q.error||"Invalid file");return}i(U);try{const Y=await bo.parseExcelFile(U);b(Y)}catch(Y){v(Y instanceof Error?Y.message:"Failed to parse file")}},C=async()=>{if(!(!s||!g)){l(!0),a(0),v(null);try{const B=setInterval(()=>{a(Y=>Y>=90?(clearInterval(B),Y):Y+10)},200),U=new FormData;U.append("file",s),U.append("description",r||""),U.append("metadata",JSON.stringify({headers:g.headers,rowCount:g.data.length,fileName:g.fileName})),console.log("🔄 [EXCEL-DIALOG] Starting upload to backend..."),console.log("📤 [EXCEL-DIALOG] FormData contents:",{hasFile:U.has("file"),file:U.get("file"),description:U.get("description"),metadata:U.get("metadata")});const q=await bo.uploadExcelFile(U,e);clearInterval(B),a(100),console.log("📊 [EXCEL-DIALOG] Upload response received:",q),console.log("🔍 [EXCEL-DIALOG] Response analysis:",{success:q.success,hasData:!!q.data,error:q.error}),q.success?(console.log("✅ [EXCEL-DIALOG] Upload successful!"),di.success(`Excel file uploaded successfully! ${g.data.length} rows processed.`),m(g),M()):(console.error("❌ [EXCEL-DIALOG] Upload failed:",q.error),v(q.error||"Upload failed"))}catch(B){v(B instanceof Error?B.message:"Upload failed")}finally{l(!1)}}},M=()=>{i(null),t(""),b(null),v(null),a(0),x.current&&(x.current.value=""),d(!1)},$=B=>{B.preventDefault();const U=B.dataTransfer.files[0];if(U){const q=bo.validateExcelFile(U);q.valid?(i(U),bo.parseExcelFile(U).then(Y=>b(Y)).catch(Y=>v(Y instanceof Error?Y.message:"Failed to parse file"))):v(q.error||"Invalid file")}},V=B=>{B.preventDefault()};return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"dialog-panel max-h-[70vh] flex flex-col",style:{width:"calc(100vw - 3rem) !important",maxWidth:"calc(100vw - 3rem) !important",minWidth:"calc(100vw - 3rem) !important"},children:[p.jsxs(os,{className:"flex-shrink-0",children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(Zv,{className:"h-5 w-5 text-green-500"}),"Upload Excel Data for ",h]}),p.jsx(Ss,{children:"Upload an Excel file (.xlsx, .xls) or CSV file to populate this tab with data"})]}),p.jsxs("div",{className:"flex-1 space-y-6 overflow-y-auto min-h-0",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(qt,{children:"Select Excel File"}),p.jsx("div",{className:`relative border-2 border-dashed rounded-lg transition-colors ${s?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDrop:$,onDragOver:V,children:s?p.jsx("div",{className:"p-6 text-center",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx(en,{className:"h-12 w-12 text-green-500 mx-auto"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-medium text-green-700",children:s.name}),p.jsxs("p",{className:"text-sm text-gray-500",children:[(s.size/1024/1024).toFixed(2)," MB"]})]}),p.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>{i(null),b(null),v(null),x.current&&(x.current.value="")},className:"mt-2",children:[p.jsx(ws,{className:"h-4 w-4 mr-2"}),"Remove"]})]})}):p.jsx("div",{className:"p-8 text-center",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(es,{className:"h-12 w-12 text-gray-400 mx-auto"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-medium",children:"Drop your Excel file here"}),p.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"})]}),p.jsxs(Ve,{variant:"outline",onClick:()=>x.current?.click(),children:[p.jsx(es,{className:"h-4 w-4 mr-2"}),"Choose File"]})]})})}),p.jsx("input",{ref:x,type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qt,{htmlFor:"description",children:"Description (Optional)"}),p.jsx(Ta,{id:"description",placeholder:"Describe this data set...",value:r,onChange:B=>t(B.target.value),rows:3})]}),f&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[p.jsx(sn,{className:"h-5 w-5 text-red-500"}),p.jsx("p",{className:"text-sm text-red-700",children:f})]}),g&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Data Preview"}),p.jsxs("div",{className:"text-sm text-gray-500",children:[g.data.length," rows, ",g.headers.length," columns"]})]}),p.jsxs("div",{className:"border rounded-lg overflow-hidden max-h-48 overflow-y-auto",children:[p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-gray-50 sticky top-0",children:p.jsx("tr",{children:g.headers.map((B,U)=>p.jsx("th",{className:"px-3 py-2 text-left font-medium border-b",children:B},U))})}),p.jsx("tbody",{children:g.data.slice(0,5).map((B,U)=>p.jsx("tr",{className:"hover:bg-gray-50",children:g.headers.map((q,Y)=>p.jsx("td",{className:"px-3 py-2 border-b",children:B[q]||""},Y))},U))})]}),g.data.length>5&&p.jsxs("div",{className:"px-3 py-2 bg-gray-50 text-sm text-gray-500 text-center",children:["Showing first 5 rows of ",g.data.length," total rows"]})]})]}),n&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{children:"Uploading..."}),p.jsxs("span",{children:[o,"%"]})]}),p.jsx(_f,{value:o,className:"w-full"})]})]}),p.jsxs("div",{className:"flex-shrink-0 flex justify-end gap-3 pt-4 border-t",children:[p.jsx(Ve,{variant:"outline",onClick:M,disabled:n,className:"text-gray-900 border-gray-300 hover:bg-gray-100",children:"Cancel"}),p.jsx(Ve,{onClick:C,disabled:!s||!g||n,className:"bg-green-600 hover:bg-green-700 text-white",children:n?"Uploading...":"Upload Excel Data"})]})]})})}const rS=(_,d=80,e=400)=>{const[h,m]=Z.useState(0),c=Math.floor(h/d),s=Math.min(c+Math.ceil(e/d)+1,_.length),i=_.slice(c,s),r=_.length*d,t=c*d;return{visibleItems:i,totalHeight:r,offsetY:t,setScrollTop:m}};function nS({open:_,onOpenChange:d,tabId:e,tabName:h,highlightedEmailJobId:m}){const[c,s]=Z.useState([]),[i,r]=Z.useState(!1),[t,n]=Z.useState(0),[l,o]=Z.useState(1),[a,g]=Z.useState(20),[b,f]=Z.useState(1);console.log("📧 [EMAIL-HISTORY] EmailHistoryDialog rendered with highlightedEmailJobId:",m);const[v,x]=Z.useState({status:"all",employee:"",dateRange:"all",searchTerm:""}),[j,C]=Z.useState([]),[M,$]=Z.useState(!0),[V,B]=Z.useState(null),[U,q]=Z.useState("createdAt"),[Y,W]=Z.useState("desc"),[R,D]=Z.useState(!1),{visibleItems:E,totalHeight:w,offsetY:k,setScrollTop:S}=rS(c,80,400),N=Z.useMemo(()=>{let I=c.filter(H=>!(v.status!=="all"&&H.status!==v.status||v.employee&&!H.employeeName.toLowerCase().includes(v.employee.toLowerCase())||v.searchTerm&&!H.subject.toLowerCase().includes(v.searchTerm.toLowerCase())&&!H.employeeName.toLowerCase().includes(v.searchTerm.toLowerCase())));return I.sort((H,ee)=>{let ne=H[U],re=ee[U];return(U==="createdAt"||U==="sentAt"||U==="deliveredAt")&&(ne=new Date(ne).getTime(),re=new Date(re).getTime()),Y==="asc"?ne>re?1:-1:ne<re?1:-1}),I},[c,v,U,Y]);Z.useEffect(()=>(_&&(br.invalidatePattern(`email_history_${e}_`),P(),A()),()=>{V&&(ur.offEmailStatusUpdated(V),B(null))}),[_,l,v,V]);const A=async()=>{try{await ur.start();const I=ee=>{console.log("📧 [EMAIL-HISTORY] Received email status update:",ee),C(ne=>[ee,...ne].slice(0,10)),s(ne=>ne.map(re=>re.id===ee.emailJobId?{...re,status:ee.status}:re)),br.invalidatePattern(`email_history_${e}_`)};ur.onEmailStatusUpdated(I),B(I);const{user:H}=Cn();H?.id&&await ur.joinUserGroup(H.id)}catch(I){console.error("Failed to initialize SignalR for email history:",I)}},P=async(I=!1)=>{console.log("📧 [EMAIL_HISTORY] Loading email history for tab:",e,"page:",l,"forceRefresh:",I);const H=`email_history_${e}_${l}_${a}_${v.status}_${v.employee}_${v.searchTerm}`;if(!I){const ee=br.get(H);if(ee){console.log("📦 [EMAIL_HISTORY] Returning cached email history:",ee.emailJobs.length),s(ee.emailJobs),n(ee.totalCount),f(ee.totalPages);return}}r(!0);try{const ee=await Nt.getEmailHistory(e,{page:l,pageSize:a,status:v.status!=="all"?v.status:void 0,searchTerm:v.searchTerm||v.employee,sortBy:U,sortDirection:Y});console.log("📊 [EMAIL_HISTORY] API response:",ee),ee.success&&ee.data?(console.log("✅ [EMAIL_HISTORY] Successfully loaded",ee.data.items.length,"email jobs"),s(ee.data.items),n(ee.data.totalCount),f(ee.data.totalPages),br.set(H,{emailJobs:ee.data.items,totalCount:ee.data.totalCount,totalPages:ee.data.totalPages},300*1e3,900*1e3)):console.log("⚠️ [EMAIL_HISTORY] No data received from API")}catch(ee){console.error("❌ [EMAIL_HISTORY] Error loading email history:",ee)}finally{r(!1),console.log("🏁 [EMAIL_HISTORY] Loading completed")}},L=Z.useCallback(()=>{console.log("🔄 [EMAIL_HISTORY] Manual refresh triggered"),br.invalidatePattern(`email_history_${e}_`),P(!0)},[e,l,a,v,U,Y]),X=Z.useCallback(I=>{o(I)},[]),K=Z.useCallback(I=>{g(I),o(1)},[]);Z.useCallback(I=>{U===I?W(H=>H==="asc"?"desc":"asc"):(q(I),W("desc"))},[U]);const te=async()=>{D(!0);try{const I=await Nt.request(`/api/email-history/${e}/export`,{method:"GET",headers:{Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(I.ok){const H=await I.blob(),ee=window.URL.createObjectURL(H),ne=document.createElement("a");ne.href=ee,ne.download=`email-history-${h}-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(ee)}}catch(I){console.error("Export failed:",I)}finally{D(!1)}},z=I=>{switch(I){case"sent":return p.jsx(en,{className:"h-4 w-4 text-green-500"});case"delivered":return p.jsx(en,{className:"h-4 w-4 text-green-600"});case"opened":return p.jsx(Un,{className:"h-4 w-4 text-blue-500"});case"clicked":return p.jsx(en,{className:"h-4 w-4 text-purple-500"});case"bounced":return p.jsx(sn,{className:"h-4 w-4 text-red-500"});case"dropped":return p.jsx(sn,{className:"h-4 w-4 text-orange-500"});case"failed":return p.jsx(sn,{className:"h-4 w-4 text-red-600"});case"pending":return p.jsx(gn,{className:"h-4 w-4 text-yellow-500"});case"sending":return p.jsx(nn,{className:"h-4 w-4 animate-spin text-blue-500"});default:return p.jsx(Ur,{className:"h-4 w-4 text-gray-500"})}},Q=I=>{const H={sent:"bg-green-100 text-green-800",delivered:"bg-green-100 text-green-800",opened:"bg-blue-100 text-blue-800",clicked:"bg-purple-100 text-purple-800",bounced:"bg-red-100 text-red-800",dropped:"bg-orange-100 text-orange-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",sending:"bg-blue-100 text-blue-800"};return p.jsx(Jt,{className:`${H[I]||"bg-gray-100 text-gray-800"} text-xs`,children:I.charAt(0).toUpperCase()+I.slice(1)})},O=I=>new Date(I).toLocaleString();return p.jsx(Hn,{open:_,onOpenChange:d,children:p.jsxs(jn,{className:"max-w-7xl max-h-[90vh] overflow-hidden",children:[p.jsx(os,{children:p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(Ur,{className:"h-5 w-5"}),"Email History - ",h]})}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsxs(Li,{defaultValue:"history",className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs(Fi,{children:[p.jsx(Hr,{value:"history",children:"Email History"}),p.jsx(Hr,{value:"live",children:"Live Updates"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs(Ve,{variant:"outline",size:"sm",onClick:te,disabled:R||c.length===0,children:[p.jsx(No,{className:"h-4 w-4 mr-2"}),R?"Exporting...":"Export"]}),p.jsxs(Ve,{variant:"outline",size:"sm",onClick:L,disabled:i,children:[p.jsx(ql,{className:`h-4 w-4 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),p.jsxs(Vr,{value:"history",className:"flex-1 overflow-hidden",children:[p.jsx(et,{className:"mb-4",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(yx,{className:"h-4 w-4 text-gray-500"}),p.jsx(Ir,{placeholder:"Search emails...",value:v.searchTerm,onChange:I=>x(H=>({...H,searchTerm:I.target.value})),className:"flex-1"})]}),p.jsxs(rs,{value:v.status,onValueChange:I=>x(H=>({...H,status:I})),children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"All Statuses"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Statuses"}),p.jsx(Ft,{value:"pending",children:"Pending"}),p.jsx(Ft,{value:"sending",children:"Sending"}),p.jsx(Ft,{value:"sent",children:"Sent"}),p.jsx(Ft,{value:"delivered",children:"Delivered"}),p.jsx(Ft,{value:"opened",children:"Opened"}),p.jsx(Ft,{value:"clicked",children:"Clicked"}),p.jsx(Ft,{value:"bounced",children:"Bounced"}),p.jsx(Ft,{value:"dropped",children:"Dropped"}),p.jsx(Ft,{value:"failed",children:"Failed"})]})]}),p.jsx(Ir,{placeholder:"Search employee...",value:v.employee,onChange:I=>x(H=>({...H,employee:I.target.value}))}),p.jsxs(rs,{value:v.dateRange,onValueChange:I=>x(H=>({...H,dateRange:I})),children:[p.jsx(zn,{children:p.jsx(ns,{placeholder:"All Time"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Time"}),p.jsx(Ft,{value:"today",children:"Today"}),p.jsx(Ft,{value:"week",children:"This Week"}),p.jsx(Ft,{value:"month",children:"This Month"})]})]})]})})}),p.jsx(et,{className:"flex-1 overflow-hidden",children:p.jsx(tt,{className:"p-0 h-full",children:i?p.jsx("div",{className:"flex items-center justify-center h-32",children:p.jsx(ub,{})}):N.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Ur,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Email History"}),p.jsx("p",{className:"text-muted-foreground",children:"No emails have been sent from this tab yet."})]}):p.jsx("div",{className:"h-96 overflow-auto",onScroll:I=>S(I.currentTarget.scrollTop),children:p.jsx("div",{style:{height:w,position:"relative"},children:p.jsx("div",{style:{transform:`translateY(${k}px)`},children:E.map(I=>p.jsxs("div",{className:`flex items-center gap-4 p-4 glass-panel rounded-lg border-glass-border hover:bg-muted/50 transition-colors ${m===I.id?"ring-2 ring-blue-500 bg-blue-50/50 dark:bg-blue-950/50":""}`,style:{height:80},children:[p.jsx("div",{className:"flex-shrink-0",children:z(I.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h4",{className:"font-medium truncate",children:I.employeeName}),p.jsx("span",{className:"text-sm text-muted-foreground",children:I.employeeEmail})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[Q(I.status),p.jsx("span",{className:"text-xs text-muted-foreground",children:O(I.createdAt)})]})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[p.jsx("p",{className:"truncate",children:I.subject}),I.errorMessage&&p.jsxs("p",{className:"text-red-500 text-xs mt-1",children:["Error: ",I.errorMessage]})]}),p.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[I.sentAt&&p.jsxs("span",{children:["Sent: ",O(I.sentAt)]}),I.deliveredAt&&p.jsxs("span",{children:["Delivered: ",O(I.deliveredAt)]}),I.openedAt&&p.jsxs("span",{children:["Opened: ",O(I.openedAt)]}),I.clickedAt&&p.jsxs("span",{children:["Clicked: ",O(I.clickedAt)]})]})]})]},I.id))})})})})}),b>1&&p.jsx(et,{className:"mt-4",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",(l-1)*a+1," to ",Math.min(l*a,t)," of ",t," emails"]}),p.jsxs(rs,{value:a.toString(),onValueChange:I=>K(parseInt(I)),children:[p.jsx(zn,{className:"w-20",children:p.jsx(ns,{})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"10",children:"10"}),p.jsx(Ft,{value:"20",children:"20"}),p.jsx(Ft,{value:"50",children:"50"}),p.jsx(Ft,{value:"100",children:"100"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>X(1),disabled:l===1,children:p.jsx(Pv,{className:"h-4 w-4"})}),p.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>X(l-1),disabled:l===1,children:p.jsx(Cv,{className:"h-4 w-4"})}),p.jsxs("span",{className:"text-sm",children:["Page ",l," of ",b]}),p.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>X(l+1),disabled:l===b,children:p.jsx(Av,{className:"h-4 w-4"})}),p.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>X(b),disabled:l===b,children:p.jsx(Ov,{className:"h-4 w-4"})})]})]})})})]}),p.jsx(Vr,{value:"live",className:"flex-1 overflow-hidden",children:p.jsxs(et,{className:"h-full",children:[p.jsxs(er,{children:[p.jsxs(Yt,{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),"Live Email Updates"]}),p.jsx(Nr,{children:"Real-time email status updates for this tab"})]}),p.jsx(tt,{children:p.jsx(mn,{className:"h-96",children:j.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(gn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Recent Updates"}),p.jsx("p",{className:"text-muted-foreground",children:"Live email status updates will appear here."})]}):p.jsx("div",{className:"space-y-3",children:j.map((I,H)=>p.jsxs("div",{className:"flex items-center gap-4 p-3 glass-panel rounded-lg border-glass-border animate-pulse",children:[p.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-500/20",children:z(I.status)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium",children:I.employeeName||"Unknown"}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx("span",{children:"Status updated to:"}),Q(I.status),p.jsx("span",{children:"•"}),p.jsx("span",{children:O(I.timestamp)})]})]})]},`${I.emailJobId}-${H}`))})})})]})})]})})]})})}function sS({tab:_}){const{user:d}=Cn(),[e,h]=Z.useState([]),[m,c]=Z.useState(!0),[s,i]=Z.useState([]),[r,t]=Z.useState({}),[n,l]=Z.useState(!1),[o,a]=Z.useState(null),[g,b]=Z.useState(null),[f,v]=Z.useState(!1),[x,j]=Z.useState(!1),[C,M]=Z.useState([]),[$,V]=Z.useState(null),[B,U]=Z.useState(null),[q,Y]=Z.useState(!1),[W,R]=Z.useState(!1),[D,E]=Z.useState(!1),[w,k]=Z.useState([]),[S,N]=Z.useState("employees"),[A,P]=Z.useState(null);Z.useEffect(()=>{console.log("📋 [DYNAMIC-TAB] activeTab changed to:",S)},[S]);const[L,X]=Z.useState(!1),[K,te]=Z.useState(0),[z,Q]=Z.useState(!1),[O,I]=Z.useState(null),[H,ee]=Z.useState(""),[ne,re]=Z.useState(!1),[oe,he]=Z.useState(""),[pe,ie]=Z.useState({totalEmployees:0,totalMailSent:0,pending:0,notDelivered:0}),[ue,de]=Z.useState(""),[ve,le]=Z.useState("all"),[ge,Ne]=Z.useState("all"),[je,Re]=Z.useState(!1),[$e,He]=Z.useState(""),[Le,ot]=Z.useState(""),[Ze,Je]=Z.useState(!1),{data:rt}=J8(_.id),qe=ae=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ae),Fe=async(ae,ye,we)=>{try{re(!0);const Ae=s.find(bt=>bt.fieldKey===ye)?.fieldName||ye;console.log("Updating employee data:",{employeeId:ae,fieldKey:ye,fieldName:Ae,newValue:we,tabId:_.id});const lt=await Nt.request(`/Tab/employee-data/${_.id}`,{method:"PUT",body:JSON.stringify({EmployeeId:ae,Field:Ae,Value:we})});lt.success?(It.success("Employee data updated successfully"),await gt()):(console.error("Update failed:",lt),It.error(`Failed to update employee data: ${lt.message||"Unknown error"}`))}catch(Me){if(console.error("Error updating employee data:",Me),Me.response&&(console.error("Response status:",Me.response.status),console.error("Response data:",Me.response.data),console.error("Response headers:",Me.response.headers)),Me.message&&Me.message.includes("400"))try{const lt=s.find(jt=>jt.fieldKey===ye)?.fieldName||ye,it=await(await fetch(`http://localhost:5120/api/Tab/employee-data/${_.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({EmployeeId:ae,Field:lt,Value:we})})).text();console.error("Detailed 400 error response:",it),It.error(`400 Error: ${it}`)}catch(Ae){console.error("Could not fetch detailed error:",Ae),It.error(`Error updating employee data: ${Me.message||"Unknown error"}`)}else It.error(`Error updating employee data: ${Me.message||"Unknown error"}`)}finally{re(!1)}},Xe=(ae,ye,we)=>{z&&(I({rowIndex:ae,fieldKey:ye}),ee(we),he(""))},nt=async(ae,ye)=>{if(H!==""){if(ye==="EMAIL"&&!qe(H)){he("Please enter a valid email address"),It.error("Please enter a valid email address");return}he("");const Me=_t.find(Ae=>Ae.id===ae)?.employeeId||ae;console.log("Using actual EMP ID:",Me,"for employee:",ae),await Fe(Me,ye,H)}I(null),ee(""),he("")},Ke=(ae,ye,we)=>{ae.key==="Enter"?(ae.preventDefault(),nt(ye,we)):ae.key==="Escape"&&(ae.preventDefault(),I(null),ee(""))},_t=Z.useMemo(()=>{if(console.log("🔍 [DYNAMIC-TAB] Mapping employees - Excel data:",o?.length||0,"Tab data:",rt?.length||0),o&&o.length>0){console.log("🔍 [DYNAMIC-TAB] Mapping Excel data to employees:",o.length,"rows");const ae=o.map((ye,we)=>({id:`excel_${we}`,name:ye["EMP NAME"]||`Employee ${we+1}`,firstName:ye["EMP NAME"]||`Employee ${we+1}`,lastName:"",email:ye.EMAIL||"",phone:"",employeeId:ye["EMP ID"]||`excel_${we}`,department:ye.DESIGNATION||"",position:ye.DESIGNATION||"",designation:ye.DESIGNATION||"",hireDate:ye.DOJ||"",joiningDate:ye.DOJ||"",salary:ye.CTC||0,status:"active",manager:"",location:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),client:ye.CLIENT||"",lastWorkingDay:ye.LWD||"",ctc:ye.CTC||0,data:ye}));return console.log("🔍 [DYNAMIC-TAB] Mapped employees:",ae.length,"employees"),console.log("🔍 [DYNAMIC-TAB] First employee sample:",ae[0]),ae}return console.log("🔍 [DYNAMIC-TAB] Using tabData fallback, records:",rt.length),rt.map((ae,ye)=>{try{console.log("🔍 [DYNAMIC-TAB] Processing record:",ye,ae);const we=JSON.parse(ae.data);return{id:ae.id,name:we["EMP NAME"]||we.firstName||`Employee ${ye+1}`,firstName:we["EMP NAME"]||we.firstName||`Employee ${ye+1}`,lastName:"",email:we.EMAIL||we.email||"",phone:"",employeeId:we["EMP ID"]||we.employeeId||ae.id,department:we.DESIGNATION||we.department||"",position:we.DESIGNATION||we.position||"",designation:we.DESIGNATION||we.designation||"",hireDate:we.DOJ||we.hireDate||"",joiningDate:we.DOJ||we.joiningDate||"",salary:we.CTC||we.salary||0,status:"active",manager:"",location:"",isActive:!0,createdAt:ae.createdAt,updatedAt:ae.updatedAt,client:we.CLIENT||we.client||"",lastWorkingDay:we.LWD||we.lastWorkingDay||"",ctc:we.CTC||we.ctc||0,data:we}}catch(we){return console.error("Error parsing employee data:",we),{id:ae.id,name:`Employee ${ye+1}`,firstName:`Employee ${ye+1}`,lastName:"",email:"",phone:"",employeeId:ae.id,department:"",position:"",designation:"",hireDate:"",joiningDate:"",salary:0,status:"active",manager:"",location:"",isActive:!0,createdAt:ae.createdAt,updatedAt:ae.updatedAt,client:"",lastWorkingDay:"",ctc:0,data:{}}}})},[o,rt]),Rt=Z.useMemo(()=>_t.filter(ae=>{const ye=!ue||ae.name.toLowerCase().includes(ue.toLowerCase())||ae.employeeId.toLowerCase().includes(ue.toLowerCase())||ae.department.toLowerCase().includes(ue.toLowerCase())||ae.designation.toLowerCase().includes(ue.toLowerCase())||ae.email.toLowerCase().includes(ue.toLowerCase()),we=ve==="all"||ae.department===ve,Me=ge==="all"||ae.status===ge;return ye&&we&&Me}),[_t,ue,ve,ge]),ht=Z.useMemo(()=>{const ae=new Set(_t.map(ye=>ye.department).filter(Boolean));return Array.from(ae).sort()},[_t]),Lt=async()=>{try{console.log("📈 [DYNAMIC-TAB][INSIGHTS] Loading statistics for tab:",_.id);const ae=`tab_statistics_${_.id}`,ye=br.get(ae);if(ye){console.log("📦 [DYNAMIC-TAB][INSIGHTS] Using cached statistics"),ie(ye);return}const we=await Nt.getTabStatistics(_.id);console.log("📈 [DYNAMIC-TAB][INSIGHTS] API response:",we),we.success&&we.data&&(ie(we.data),console.log("📈 [DYNAMIC-TAB][INSIGHTS] Statistics set:",we.data),br.set(ae,we.data,300*1e3))}catch(ae){console.error("❌ [DYNAMIC-TAB][INSIGHTS] Error loading statistics:",ae)}},Mt=async()=>{try{const ae=await Nt.getEmailTemplate(_.id);ae.success&&ae.data&&(He(ae.data.content),ot(ae.data.subject))}catch(ae){console.error("Error loading email template:",ae)}},yt=async()=>{try{(await Nt.saveEmailTemplate(_.id,{subject:Le,content:$e})).success?(It.success("Email template saved successfully"),Je(!1)):It.error("Failed to save email template")}catch(ae){console.error("Error saving email template:",ae),It.error("Failed to save email template")}};Z.useEffect(()=>{console.log("DynamicLetterTab received tab:",_),console.log("DynamicLetterTab current activeTab:",S),console.log("DynamicLetterTab current highlightedEmailJobId:",A),gt(),Lt(),Mt();let ae=null;return Ge(d).then(ye=>{ae=ye}),()=>{ae&&ur.offEmailStatusUpdated(ae)}},[_.id,d]),Z.useEffect(()=>{const ae=sessionStorage.getItem("highlightEmailJobId");console.log("🔍 [DYNAMIC-TAB] Checking for highlighted email job ID:",ae),ae?(console.log("🔍 [DYNAMIC-TAB] Found highlighted email job ID, switching to history tab:",ae),P(ae),N("history"),E(!0),sessionStorage.removeItem("highlightEmailJobId"),console.log("🔍 [DYNAMIC-TAB] Switched to history tab, opened dialog and cleared session storage")):console.log("🔍 [DYNAMIC-TAB] No highlighted email job ID found")},[]),Z.useEffect(()=>{const ae=we=>{we.key==="highlightEmailJobId"&&we.newValue&&(console.log("🔍 [DYNAMIC-TAB] Storage change detected, highlighted email job ID:",we.newValue),P(we.newValue),N("history"),sessionStorage.removeItem("highlightEmailJobId"),console.log("🔍 [DYNAMIC-TAB] Switched to history tab via storage change"))},ye=we=>{we.detail?.emailJobId&&(console.log("🔍 [DYNAMIC-TAB] Custom navigation event detected, email job ID:",we.detail.emailJobId),P(we.detail.emailJobId),N("history"),E(!0),console.log("🔍 [DYNAMIC-TAB] Switched to history tab and opened dialog via custom event"))};return window.addEventListener("storage",ae),window.addEventListener("navigateToEmailHistory",ye),()=>{window.removeEventListener("storage",ae),window.removeEventListener("navigateToEmailHistory",ye)}},[]);const Ge=async ae=>{try{await ur.start();const ye=we=>{console.log("📧 [DYNAMIC-TAB] Received email status update:",we),S==="history"&&k(Me=>Me.map(Ae=>Ae.id===we.emailJobId?{...Ae,status:we.status}:Ae))};return ur.onEmailStatusUpdated(ye),ae?.id&&await ur.joinUserGroup(ae.id),ye}catch(ye){return console.error("Failed to initialize SignalR for email status updates:",ye),null}},gt=async()=>{try{if(c(!0),_.fieldConfiguration)try{console.log("Tab field configuration:",_.fieldConfiguration);const ae=typeof _.fieldConfiguration=="string"?JSON.parse(_.fieldConfiguration):_.fieldConfiguration;if(ae.fields&&Array.isArray(ae.fields)){const ye=ae.fields.map((we,Me)=>({id:we.id||`field_${Me}`,fieldKey:we.fieldKey||we.fieldName,fieldName:we.fieldName||we.fieldKey,displayName:we.displayName||we.fieldName,fieldType:we.fieldType||Km.Text,isRequired:we.isRequired||!1,defaultValue:we.defaultValue||"",validationRules:we.validationRules||"",orderIndex:we.order||Me}));i(ye),console.log("Loaded dynamic fields:",ye)}}catch(ae){console.error("Error parsing field configuration:",ae)}else console.log("No field configuration found for tab:",_);try{console.log("Loading Excel data for tab ID:",_.id);const ae=await bo.getExcelDataForTab(_.id);console.log("Loaded Excel data for tab:",ae),ae&&ae.data&&ae.data.length>0?(a(ae.data),b("excel")):b("database")}catch(ae){console.error("Error loading Excel data:",ae),b("database")}}catch(ae){console.error("Error loading tab data:",ae)}finally{c(!1)}},Ye=async ae=>{if(ae.length===0){It.error("Please select at least one employee");return}if(!_.letterTypeDefinition?.id){It.error("Letter type definition not found");return}h(ae),R(!0)},xt=async()=>{console.log("📋 [DYNAMIC-TAB] History tab clicked, current highlightedEmailJobId:",A);try{N("history"),await Vt()}catch(ae){console.error("Error loading email history:",ae),It.error("Failed to load email history")}},Vt=async()=>{try{c(!0),console.log("📧 [DYNAMIC-TAB] Loading email history for tab:",_.id);const ae=await Nt.getTabEmailHistory(_.id);console.log("📊 [DYNAMIC-TAB] Email history response:",ae),ae.success&&ae.data?(console.log("✅ [DYNAMIC-TAB] Successfully loaded",ae.data.length,"email jobs"),k(ae.data)):(console.log("⚠️ [DYNAMIC-TAB] No email history data received"),k([]))}catch(ae){console.error("❌ [DYNAMIC-TAB] Error loading email history:",ae),It.error("Failed to load email history"),k([])}finally{c(!1)}},Qe=async ae=>{a(ae),b("excel"),It.success(`Excel file uploaded successfully! ${ae.data?.length||0} rows loaded.`),await gt()},wt=async ae=>{console.log("🔍 [DynamicLetterTab] Template selected in dialog:",ae),V(ae)},Wt=async(ae,ye)=>{if(console.log("🔍 [DynamicLetterTab] Template and signature complete"),console.log("🔍 [DynamicLetterTab] Template:",ae),console.log("🔍 [DynamicLetterTab] Signature:",ye),console.log("🔍 [DynamicLetterTab] Selected employees count:",e.length),console.log("🔍 [DynamicLetterTab] Selected employees:",e),V(ae),U(ye),v(!1),e.length===0){console.warn("⚠️ [DynamicLetterTab] No employees selected for letter generation"),It.warning("Please select employees before generating letters");return}console.log("🔍 [DynamicLetterTab] Opening preview dialog"),j(!0)},ut=async()=>{if(console.log("🔍 [DynamicLetterTab] Generate Letters button clicked"),console.log("🔍 [DynamicLetterTab] Current template:",$),console.log("🔍 [DynamicLetterTab] Current signature:",B),console.log("🔍 [DynamicLetterTab] Selected employees:",e),e.length===0){console.warn("⚠️ [DynamicLetterTab] No employees selected"),It.warning("Please select employees before generating letters");return}console.log("🔍 [DynamicLetterTab] Opening template selection dialog"),v(!0)},me=async()=>{if(console.log("🔍 [DynamicLetterTab] Starting actual letter generation"),console.log("🔍 [DynamicLetterTab] Template:",$),console.log("🔍 [DynamicLetterTab] Signature:",B),console.log("🔍 [DynamicLetterTab] Selected employees:",e),!$||!B){console.error("❌ [DynamicLetterTab] Missing template or signature for generation"),It.error("Template and signature are required for letter generation");return}try{X(!0),te(0),console.log("🔍 [DynamicLetterTab] Calling API to generate letters"),console.log("🔍 [DynamicLetterTab] API endpoint:",`/Tab/${_.id}/generate-letters`),console.log("🔍 [DynamicLetterTab] Request body:",{employeeIds:e.map(Ae=>Ae.employeeId),templateId:$.id,signaturePath:B?.id});const ae=setInterval(()=>{te(Ae=>Ae>=90?(clearInterval(ae),Ae):Ae+10)},200),ye=await Nt.requestBinary(`/Tab/${_.id}/generate-letters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeIds:e.map(Ae=>Ae.employeeId),templateId:$.id,signaturePath:B?.id})});console.log("✅ [DynamicLetterTab] Letters generated successfully"),console.log("🔍 [DynamicLetterTab] Blob size:",ye.size),console.log("🔍 [DynamicLetterTab] Blob type:",ye.type),clearInterval(ae),te(100);const we=window.URL.createObjectURL(ye),Me=document.createElement("a");Me.href=we,Me.download=`generated-letters-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),window.URL.revokeObjectURL(we),setTimeout(()=>{X(!1),te(0)},500),It.success(`Generated letters for ${e.length} employees successfully`)}catch(ae){console.error("❌ [DynamicLetterTab] Error generating letters:",ae),It.error("Failed to generate letters. Please try again."),X(!1),te(0)}};return m?p.jsx("div",{className:"flex items-center justify-center min-h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neon-blue"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:_.name}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:_.description})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:_.isActive?"Active":"Inactive"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Employees"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:pe.totalEmployees})]}),p.jsx(ga,{className:"h-8 w-8 text-blue-500"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Pending"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:pe.pending})]}),p.jsx(gn,{className:"h-8 w-8 text-orange-500"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Mail Sent"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:pe.totalMailSent})]}),p.jsx($d,{className:"h-8 w-8 text-green-500"})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Not Delivered"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:pe.notDelivered})]}),p.jsx(ma,{className:"h-8 w-8 text-red-500"})]})})})]}),p.jsxs("div",{className:"flex border-b border-gray-300 dark:border-gray-700",children:[p.jsxs("button",{onClick:()=>N("employees"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${S==="employees"?"text-gray-900 dark:text-white border-blue-500 bg-gray-50 dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white border-transparent hover:border-gray-400 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[p.jsx(Sd,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:"Employees"})]}),p.jsxs("button",{onClick:xt,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${S==="history"?"text-gray-900 dark:text-white border-blue-500 bg-gray-50 dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white border-transparent hover:border-gray-400 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[p.jsx(lr,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:"History"})]})]}),S==="employees"&&p.jsxs(p.Fragment,{children:[p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsx(tt,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Sd,{className:"h-6 w-6 text-blue-500"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Employee Data"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g==="excel"&&o&&o.data?`Loaded ${o.data.length} rows from ${o.fileName}`:"Upload Excel file to populate employee data for this tab"})]})]}),e.length>0?p.jsxs("div",{className:"flex gap-3",children:[p.jsxs(Ve,{onClick:ut,className:"bg-green-600 hover:bg-green-700 text-white",style:{color:"white",backgroundColor:"#059669"},children:[p.jsx(lr,{className:"h-4 w-4 mr-2",style:{color:"white"}}),p.jsxs("span",{style:{color:"white",fontWeight:"500"},children:["Generate Letters (",e.length,")"]})]}),p.jsxs(Ve,{onClick:()=>Ye(e),className:"bg-purple-600 hover:bg-purple-700 text-white",style:{color:"white",backgroundColor:"#7c3aed"},children:[p.jsx(Ur,{className:"h-4 w-4 mr-2",style:{color:"white"}}),p.jsxs("span",{style:{color:"white",fontWeight:"500"},children:["Send Email (",e.length,")"]})]}),p.jsxs(Ve,{onClick:()=>l(!0),variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",style:{color:"#374151",borderColor:"#d1d5db",backgroundColor:"transparent"},children:[p.jsx(es,{className:"h-4 w-4 mr-2",style:{color:"#374151"}}),p.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:"Upload New File"})]})]}):p.jsxs(Ve,{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white border-blue-600",style:{color:"white",backgroundColor:"#2563eb"},children:[p.jsx(es,{className:"h-4 w-4 mr-2",style:{color:"white"}}),p.jsx("span",{style:{color:"white",fontWeight:"500"},children:o?"Upload New File":"Upload Excel File"})]})]})})}),p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsxs(tt,{className:"p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Employees"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose employees to generate letters for"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(Ve,{onClick:()=>Je(!0),variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[p.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Set Email Template"]}),p.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",style:{color:"#374151"},children:z?"View Mode":"Edit Mode"}),p.jsx("button",{onClick:()=>Q(!z),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${z?"bg-blue-500":"bg-gray-300"}`,style:{backgroundColor:z?"#3b82f6":"#d1d5db"},children:p.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white shadow-sm transition-all duration-200 ease-in-out ${z?"translate-x-4":"translate-x-0.5"}`,style:{transform:z?"translateX(1rem)":"translateX(0.125rem)",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.1)"}})})]})]}),p.jsxs("div",{className:"flex gap-4 mb-4",children:[p.jsx("div",{className:"flex-1",children:p.jsx(Ir,{placeholder:"Search employees by name, ID, or department...",value:ue,onChange:ae=>de(ae.target.value),className:"bg-white border-gray-300 text-gray-900 placeholder-gray-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400",style:{color:"#111827","--tw-text-opacity":"1"}})}),p.jsx(Ve,{onClick:()=>Re(!je),variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Filters"})]}),je&&p.jsxs("div",{className:"flex gap-4 mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(qt,{htmlFor:"department-filter",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Department"}),p.jsxs(rs,{value:ve,onValueChange:le,children:[p.jsx(zn,{className:"mt-1",children:p.jsx(ns,{placeholder:"All Departments"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Departments"}),ht.map(ae=>p.jsx(Ft,{value:ae,children:ae},ae))]})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx(qt,{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),p.jsxs(rs,{value:ge,onValueChange:Ne,children:[p.jsx(zn,{className:"mt-1",children:p.jsx(ns,{placeholder:"All Status"})}),p.jsxs($n,{children:[p.jsx(Ft,{value:"all",children:"All Status"}),p.jsx(Ft,{value:"active",children:"Active"}),p.jsx(Ft,{value:"inactive",children:"Inactive"})]})]})]}),p.jsx("div",{className:"flex items-end",children:p.jsx(Ve,{onClick:()=>{de(""),le("all"),Ne("all")},variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:"Clear Filters"})})]})]}),p.jsxs("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:["Showing ",Rt.length," of ",_t.length," employees",(ue||ve!=="all"||ge!=="all")&&p.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-400",children:"(filtered)"})]}),s.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`w-full border-collapse ${z?"neon-border-blue rounded-lg":""}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-gray-700",children:[p.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-300",children:"Select"}),s.sort((ae,ye)=>(ae.orderIndex||0)-(ye.orderIndex||0)).map(ae=>p.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-300",children:ae.displayName},ae.id))]})}),p.jsx("tbody",{children:Rt.length>0?Rt.map((ae,ye)=>p.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[p.jsx("td",{className:"p-3",children:p.jsx("input",{type:"checkbox",className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500",onChange:we=>{console.log("🔍 [DYNAMIC-TAB] Checkbox changed:",we.target.checked,"for employee:",ae.name),we.target.checked?h(Me=>{const Ae=[...Me,ae];return console.log("🔍 [DYNAMIC-TAB] Added employee, new selection:",Ae.length),Ae}):h(Me=>{const Ae=Me.filter(lt=>lt.id!==ae.id);return console.log("🔍 [DYNAMIC-TAB] Removed employee, new selection:",Ae.length),Ae})},checked:e.some(we=>we.id===ae.id)})}),s.sort((we,Me)=>(we.orderIndex||0)-(Me.orderIndex||0)).map(we=>{let Me="-";if(ae.data&&ae.data[we.fieldKey])Me=ae.data[we.fieldKey];else switch(we.fieldKey){case"EMP ID":Me=ae.employeeId||"-";break;case"EMP NAME":Me=ae.name||"-";break;case"CLIENT":Me=ae.client||"-";break;case"DOJ":Me=ae.hireDate||ae.joiningDate||"-";break;case"LWD":Me=ae.lastWorkingDay||"-";break;case"DESIGNATION":Me=ae.designation||ae.department||ae.position||"-";break;case"CTC":Me=ae.ctc||ae.salary||"-";break;case"EMAIL":Me=ae.email||"-";break;default:const lt=we.fieldKey.toLowerCase().replace(/\s+/g,"");Me=ae[lt]||"-"}if(we.fieldType==="Date"&&Me&&Me!=="-")try{Me=new Date(Me).toLocaleDateString()}catch{}const Ae=O?.rowIndex===ye&&O?.fieldKey===we.fieldKey;return p.jsx("td",{className:`p-3 text-sm text-gray-300 ${z?"cursor-pointer hover:bg-gray-800/30 group":""} ${Ae?"bg-blue-900/20":""}`,onDoubleClick:()=>Xe(ye,we.fieldKey,Me),children:Ae?p.jsxs("div",{children:[p.jsx("input",{type:we.fieldType==="Email"?"email":"text",value:H,onChange:lt=>ee(lt.target.value),onKeyDown:lt=>Ke(lt,ae.id,we.fieldKey),onBlur:()=>nt(ae.id,we.fieldKey),className:`w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 ${oe&&we.fieldType==="Email"?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}`,style:{color:"#111827",backgroundColor:"#ffffff"},autoFocus:!0,disabled:ne}),oe&&we.fieldType==="Email"&&p.jsx("div",{className:"text-red-500 text-xs mt-1",children:oe})]}):p.jsx("span",{className:z?"group-hover:text-blue-400 transition-colors duration-200":"",children:Me})},we.id)})]},ae.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:s.length+1,className:"p-8 text-center text-gray-400",children:p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:p.jsx("div",{className:"h-8 w-8 text-gray-600",children:"👥"})}),p.jsxs("p",{className:"text-lg font-medium mb-2",children:[Rt.length," employees found"]}),p.jsx("p",{className:"text-sm",children:ue||ve!=="all"||ge!=="all"?"No employees found matching your criteria":"No employees available"})]})})})})]})}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[p.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:p.jsx("div",{className:"h-8 w-8 text-gray-600",children:"👥"})}),p.jsxs("p",{className:"text-lg font-medium mb-2",children:[Rt.length," employees found"]}),p.jsx("p",{className:"text-sm",children:ue||ve!=="all"||ge!=="all"?"No employees found matching your criteria":"No employees available"})]})]})})]}),S==="history"&&p.jsx(et,{className:"glass-panel border-glass-border",children:p.jsxs(tt,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(lr,{className:"h-6 w-6 text-blue-500"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Email History"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View all email communications for this tab"})]})]}),p.jsxs(Ve,{onClick:()=>E(!0),variant:"outline",className:"flex items-center gap-2",children:[p.jsx(lr,{className:"h-4 w-4"}),"View Full History"]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[p.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:pe.totalMailSent}),p.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sent"})]}),p.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[p.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:pe.pending}),p.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"})]}),p.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:pe.notDelivered}),p.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed"})]}),p.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:pe.totalEmployees}),p.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Employees"})]})]}),m?p.jsxs("div",{className:"flex items-center justify-center py-12",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),p.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading email history..."})]}):w.length>0?p.jsxs("div",{className:"space-y-3",children:[p.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Emails"}),w.slice(0,5).map(ae=>p.jsxs("div",{className:"flex items-center gap-4 p-3 glass-panel rounded-lg border-glass-border hover:bg-muted/50 transition-colors",children:[p.jsxs("div",{className:"flex-shrink-0",children:[ae.status==="sent"&&p.jsx(en,{className:"h-4 w-4 text-green-500"}),ae.status==="delivered"&&p.jsx(en,{className:"h-4 w-4 text-blue-500"}),ae.status==="opened"&&p.jsx(Un,{className:"h-4 w-4 text-purple-500"}),ae.status==="clicked"&&p.jsx(hx,{className:"h-4 w-4 text-indigo-500"}),ae.status==="bounced"&&p.jsx(sn,{className:"h-4 w-4 text-red-500"}),ae.status==="dropped"&&p.jsx(ws,{className:"h-4 w-4 text-red-500"}),ae.status==="pending"&&p.jsx(gn,{className:"h-4 w-4 text-yellow-500"}),ae.status==="failed"&&p.jsx(ws,{className:"h-4 w-4 text-red-500"})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h5",{className:"font-medium truncate text-sm",children:ae.employeeName||"Unknown Employee"}),p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ae.status==="sent"?"bg-green-100 text-green-800":ae.status==="delivered"?"bg-blue-100 text-blue-800":ae.status==="opened"?"bg-purple-100 text-purple-800":ae.status==="clicked"?"bg-indigo-100 text-indigo-800":ae.status==="bounced"||ae.status==="dropped"?"bg-red-100 text-red-800":ae.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:ae.status})]}),p.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(ae.createdAt).toLocaleDateString()})]}),p.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:ae.subject})]})]},ae.id)),w.length>5&&p.jsx("div",{className:"text-center pt-2",children:p.jsxs(Ve,{onClick:()=>E(!0),variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:["View All ",w.length," Emails"]})})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[p.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:p.jsx(Ur,{className:"h-8 w-8 text-gray-600"})}),p.jsx("p",{className:"text-lg font-medium mb-2",children:"No email history found"}),p.jsx("p",{className:"text-sm",children:"No emails have been sent for this tab yet"})]})]})}),n&&p.jsx(tS,{open:n,onOpenChange:l,tabId:_.id,tabName:_.name,onUploadSuccess:Qe}),f&&p.jsx(O8,{open:f,onOpenChange:v,letterType:_.letterType||"confirmation_letter",onTemplateSelect:wt,onComplete:Wt,initialTemplate:$,initialSignature:B}),x&&$&&p.jsx(L8,{open:x,onOpenChange:j,template:$,signature:B,employees:e,tabId:_.id,onGenerate:me,onDownload:me}),q&&p.jsx(Y8,{open:q,onOpenChange:Y,employees:e||[],onEmailsSent:()=>{}}),W&&p.jsx(Z8,{open:W,onOpenChange:R,employees:e||[],tabId:_.id,emailTemplate:$e,emailTemplateSubject:Le,onEmailsSent:ae=>{k(ae),It.success(`Successfully sent ${ae.length} emails`)}}),L&&p.jsx(Hn,{open:L,onOpenChange:()=>{},children:p.jsxs(jn,{className:"sm:max-w-md",children:[p.jsxs(os,{children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"Generating Documents"]}),p.jsx(Ss,{children:"Please wait while we generate your documents..."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-2xl font-bold text-blue-500 mb-2",children:[K,"%"]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${K}%`}})})]}),p.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Generating documents for ",e.length," employee",e.length!==1?"s":"","..."]})]})]})}),p.jsx(Hn,{open:Ze,onOpenChange:Je,children:p.jsxs(jn,{className:"sm:max-w-2xl",children:[p.jsxs(os,{children:[p.jsxs(as,{className:"flex items-center gap-2",children:[p.jsx(Ur,{className:"h-5 w-5 text-blue-500"}),"Set Email Template for ",_.name]}),p.jsxs(Ss,{children:["Set the default email content that will be prefilled for all employees in this tab. You can use placeholders like ","{employeeName}",", ","{employeeEmail}",", etc."]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"email-template-subject",className:"text-sm font-medium",children:"Email Subject Template"}),p.jsx(Ir,{id:"email-template-subject",value:Le,onChange:ae=>ot(ae.target.value),placeholder:"Document Request - {employeeName}",className:"mt-2"})]}),p.jsxs("div",{children:[p.jsx(qt,{htmlFor:"email-template",className:"text-sm font-medium",children:"Email Template Content"}),p.jsx(Ta,{id:"email-template",rows:12,value:$e,onChange:ae=>He(ae.target.value),placeholder:`Dear {employeeName},

Please find attached your requested document.

Best regards,
HR Department`,className:"mt-2 resize-none"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available placeholders: ","{employeeName}",", ","{employeeEmail}",", ","{employeeId}",", ","{department}"]})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ve,{variant:"outline",onClick:()=>Je(!1),children:"Cancel"}),p.jsx(Ve,{onClick:yt,children:"Save Template"})]})]})]})}),p.jsx(nS,{open:D,onOpenChange:E,tabId:_.id,tabName:_.name,highlightedEmailJobId:A})]})}const iS=({tabId:_})=>{const[d,e]=Be.useState(null),[h,m]=Be.useState(!0);return Be.useEffect(()=>{(async()=>{try{console.log("🔍 [DYNAMIC-TAB-RENDERER] Loading tab with ID:",_);const s=await ko.getActiveTabById(_);console.log("📊 [DYNAMIC-TAB-RENDERER] Tab data received:",s),s?console.log("✅ [DYNAMIC-TAB-RENDERER] Tab found successfully:",{id:s.id,name:s.name,isActive:s.isActive,department:s.department}):console.log("❌ [DYNAMIC-TAB-RENDERER] No tab data returned"),e(s)}catch(s){console.error("❌ [DYNAMIC-TAB-RENDERER] Failed to load tab:",s)}finally{m(!1)}})()},[_]),h?p.jsx("div",{className:"flex items-center justify-center min-h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neon-blue"})}):d?p.jsx(sS,{tab:d}):p.jsx(db,{title:"Tab Not Found"})};function oS({activeModule:_,activePage:d,isAdmin:e,canAccessModule:h,onNavigate:m}){if(d==="welcome")return p.jsx(D8,{onNavigate:m});if(!h(_))return p.jsx(vo,{module:_==="er"?"Employee Relations":"Billing & Timesheet"});if(_==="er")switch(d){case"dashboard":return p.jsx(Lm,{});case"dynamic-letters":return e()?p.jsx(R8,{}):p.jsx(vo,{module:"Dynamic Letters"});case"user-management":return e()?p.jsx(M8,{}):p.jsx(vo,{module:"User Management"});case"session-management":return e()?p.jsx(I8,{}):p.jsx(vo,{module:"Session Management"});default:return p.jsx(iS,{tabId:d})}return _==="billing"?p.jsx(db,{title:"Billing Module",description:"Billing module is coming soon!"}):p.jsx(Lm,{})}function aS(){const{user:_,isAuthenticated:d,canAccessModule:e,isAdmin:h,isLoading:m}=Cn(),[c,s]=Z.useState("er"),[i,r]=Z.useState("welcome"),{isMobile:t}=Bg(),n=b=>{_&&e(b)&&(s(b),r("dashboard"))},l=(b,f)=>{s(b),r(f)},o=()=>{r("welcome")},a=(b,f)=>{console.log("🚀 [APP] handleNavigateToTab called with:",{tabId:b,emailJobId:f}),console.log("🚀 [APP] Current activeModule:",c,"activePage:",i),s("er"),r(b),f&&(console.log("🚀 [APP] Storing highlightEmailJobId in sessionStorage:",f),sessionStorage.setItem("highlightEmailJobId",f),console.log("🚀 [APP] Dispatching custom navigation event"),window.dispatchEvent(new CustomEvent("navigateToEmailHistory",{detail:{emailJobId:f,tabId:b}}))),console.log("🚀 [APP] Navigation completed - activeModule: er, activePage:",b)},g=()=>_?oS({activeModule:c,activePage:i,isAdmin:h,canAccessModule:e,onNavigate:l}):null;return m?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):d?p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(Q_,{activeModule:c,onModuleChange:n,currentUser:_,onNavigateToWelcome:o,onNavigateToTab:a}),p.jsxs("div",{className:"flex",children:[!t&&p.jsx(t5,{activeModule:c,activePage:i,onPageChange:r,currentUser:_}),p.jsx("main",{className:`flex-1 mt-16 p-4 sm:p-6 ${t?"":"ml-64"}`,children:p.jsx("div",{className:"max-w-7xl mx-auto",children:g()})})]}),p.jsx(Om,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(s5,{}),p.jsx(Om,{})]})}function lS(){return p.jsx(c5,{children:p.jsx(cv,{children:p.jsx(dv,{children:p.jsx(aS,{})})})})}sv.createRoot(document.getElementById("root")).render(p.jsx(lS,{}));
